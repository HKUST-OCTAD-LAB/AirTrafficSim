/*! For license information please see main.d8b5a839.js.LICENSE.txt */
!function(){var t={9:function(t){function e(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}e.keys=function(){return[]},e.resolve=e,e.id=9,t.exports=e},4494:function(t){function e(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}e.keys=function(){return[]},e.resolve=e,e.id=4494,t.exports=e},5883:function(t,e,n){"use strict";n.d(e,{c:function(){return b}});var r,i=n(4942),o=n(7762),a=n(2982),s=n(1811),l=n(1437),c=function(t){return t.forEach((function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("easing"===e){t["animation-timing-function"]=n,delete t[e]}else{var r=u(e);r!==e&&(t[r]=n,delete t[e])}}})),t},u=function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},d=function(t){if(void 0===r){var e=void 0!==t.style.animationName,n=void 0!==t.style.webkitAnimationName;r=!e&&n?"-webkit-":""}return r},f=function(t,e,n){var r=e.startsWith("animation")?d(t):"";t.style.setProperty(r+e,n)},h=function(t,e){var n=e.startsWith("animation")?d(t):"";t.style.removeProperty(n+e)},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){var e=t.offset,n=[];for(var r in t)t.hasOwnProperty(r)&&"offset"!==r&&n.push("".concat(r,": ").concat(t[r],";"));return"".concat(100*e,"% { ").concat(n.join(" ")," }")})).join(" ")},g=[],m=function(t){var e=g.indexOf(t);return e<0&&(e=g.push(t)-1),"ion-animation-".concat(e)},v=function(t,e,n){var r=function(t){var e=void 0!==t.getRootNode?t.getRootNode():t;return e.head||e}(n),i=d(n),o=r.querySelector("#"+t);if(o)return o;var a=(n.ownerDocument||document).createElement("style");return a.id=t,a.textContent="@".concat(i,"keyframes ").concat(t," { ").concat(e," } @").concat(i,"keyframes ").concat(t,"-alt { ").concat(e," }"),r.appendChild(a),a},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(void 0!==e){var n=Array.isArray(e)?e:[e];return[].concat((0,a.Z)(t),(0,a.Z)(n))}return t},b=function(t){var e,n,r,u,d,g,b,x,w,k,_,A,T,M=[],E=[],C=[],S=!1,O={},L=[],P=[],D={},R=0,I=!1,z=!1,N=!0,B=!1,F=!0,j=!1,$=t,Z=[],U=[],H=[],V=[],W=[],Y=[],G=[],q=[],X=[],J=[],K="function"===typeof AnimationEffect||void 0!==l.w&&"function"===typeof l.w.AnimationEffect,Q="function"===typeof Element&&"function"===typeof Element.prototype.animate&&K,tt=function(){return J},et=function(t){it(),t&&ot()},nt=function(t,e){return((null===e||void 0===e?void 0:e.oneTimeCallback)?U:Z).push({c:t,o:e}),T},rt=function(){return Z.length=0,U.length=0,T},it=function(){if(Q)J.forEach((function(t){t.cancel()})),J.length=0;else{var t=H.slice();(0,s.r)((function(){t.forEach((function(t){h(t,"animation-name"),h(t,"animation-duration"),h(t,"animation-timing-function"),h(t,"animation-iteration-count"),h(t,"animation-delay"),h(t,"animation-play-state"),h(t,"animation-fill-mode"),h(t,"animation-direction")}))}))}},ot=function(){W.forEach((function(t){(null===t||void 0===t?void 0:t.parentNode)&&t.parentNode.removeChild(t)})),W.length=0},at=function(){return void 0!==d?d:b?b.getFill():"both"},st=function(){return void 0!==w?w:void 0!==g?g:b?b.getDirection():"normal"},lt=function(){return I?"linear":void 0!==r?r:b?b.getEasing():"linear"},ct=function(){return z?0:void 0!==k?k:void 0!==n?n:b?b.getDuration():0},ut=function(){return void 0!==u?u:b?b.getIterations():1},dt=function(){return void 0!==_?_:void 0!==e?e:b?b.getDelay():0},ft=function(t){Q?tt().forEach((function(e){if(e.effect.setKeyframes)e.effect.setKeyframes(t);else{var n=new KeyframeEffect(e.effect.target,t,e.effect.getTiming());e.effect=n}})):gt()},ht=function(){Y.forEach((function(t){return t()})),G.forEach((function(t){return t()}));var t=E,e=C,n=O;H.forEach((function(r){var i=r.classList;for(var o in t.forEach((function(t){return i.add(t)})),e.forEach((function(t){return i.remove(t)})),n)n.hasOwnProperty(o)&&f(r,o,n[o])}))},pt=function(){0!==R&&0===--R&&(!function(){At(),q.forEach((function(t){return t()})),X.forEach((function(t){return t()}));var t=N?1:0,e=L,n=P,r=D;H.forEach((function(t){var i=t.classList;for(var o in e.forEach((function(t){return i.add(t)})),n.forEach((function(t){return i.remove(t)})),r)r.hasOwnProperty(o)&&f(t,o,r[o])})),Z.forEach((function(e){return e.c(t,T)})),U.forEach((function(e){return e.c(t,T)})),U.length=0,F=!0,N&&(B=!0),N=!0}(),b&&b.animationFinish())},gt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ot();var n=c(M);H.forEach((function(r){if(n.length>0){var i=p(n);A=void 0!==t?t:m(i);var o=v(A,i,r);W.push(o),f(r,"animation-duration","".concat(ct(),"ms")),f(r,"animation-timing-function",lt()),f(r,"animation-delay","".concat(dt(),"ms")),f(r,"animation-fill-mode",at()),f(r,"animation-direction",st());var a=ut()===1/0?"infinite":ut().toString();f(r,"animation-iteration-count",a),f(r,"animation-play-state","paused"),e&&f(r,"animation-name","".concat(o.id,"-alt")),(0,s.r)((function(){f(r,"animation-name",o.id||null)}))}}))},mt=function(){H.forEach((function(t){var e=t.animate(M,{id:$,delay:dt(),duration:ct(),easing:lt(),iterations:ut(),fill:at(),direction:st()});e.pause(),J.push(e)})),J.length>0&&(J[0].onfinish=function(){pt()})},vt=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ht(),M.length>0&&(Q?mt():gt(t)),S=!0},yt=function(t){if(t=Math.min(Math.max(t,0),.9999),Q)J.forEach((function(e){e.currentTime=e.effect.getComputedTiming().delay+ct()*t,e.pause()}));else{var e="-".concat(ct()*t,"ms");H.forEach((function(t){M.length>0&&(f(t,"animation-delay",e),f(t,"animation-play-state","paused"))}))}},bt=function(t){J.forEach((function(t){t.effect.updateTiming({delay:dt(),duration:ct(),easing:lt(),iterations:ut(),fill:at(),direction:st()})})),void 0!==t&&yt(t)},xt=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;(0,s.r)((function(){H.forEach((function(n){f(n,"animation-name",A||null),f(n,"animation-duration","".concat(ct(),"ms")),f(n,"animation-timing-function",lt()),f(n,"animation-delay",void 0!==e?"-".concat(e*ct(),"ms"):"".concat(dt(),"ms")),f(n,"animation-fill-mode",at()||null),f(n,"animation-direction",st()||null);var r=ut()===1/0?"infinite":ut().toString();f(n,"animation-iteration-count",r),t&&f(n,"animation-name","".concat(A,"-alt")),(0,s.r)((function(){f(n,"animation-name",A||null)}))}))}))},wt=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return t&&V.forEach((function(r){r.update(t,e,n)})),Q?bt(n):xt(e,n),T},kt=function(){S&&(Q?J.forEach((function(t){t.pause()})):H.forEach((function(t){f(t,"animation-play-state","paused")})),j=!0)},_t=function(){x=void 0,pt()},At=function(){x&&clearTimeout(x)},Tt=function(){H.forEach((function(t){h(t,"animation-duration"),h(t,"animation-delay"),h(t,"animation-play-state")}))},Mt=function(t){return new Promise((function(e){(null===t||void 0===t?void 0:t.sync)&&(z=!0,nt((function(){return z=!1}),{oneTimeCallback:!0})),S||vt(),B&&(Q?(yt(0),bt()):xt(),B=!1),F&&(R=V.length+1,F=!1),nt((function(){return e()}),{oneTimeCallback:!0}),V.forEach((function(t){t.play()})),Q?(J.forEach((function(t){t.play()})),0!==M.length&&0!==H.length||pt()):function(){if(At(),(0,s.r)((function(){H.forEach((function(t){M.length>0&&f(t,"animation-play-state","running")}))})),0===M.length||0===H.length)pt();else{var t=dt()||0,e=ct()||0,n=ut()||1;isFinite(n)&&(x=setTimeout(_t,t+e*n+100)),function(t,e){var n,r={passive:!0},i=function(){n&&n()},o=function(n){t===n.target&&(i(),e(n))};t&&(t.addEventListener("webkitAnimationEnd",o,r),t.addEventListener("animationend",o,r),n=function(){t.removeEventListener("webkitAnimationEnd",o,r),t.removeEventListener("animationend",o,r)})}(H[0],(function(){At(),(0,s.r)((function(){Tt(),(0,s.r)(pt)}))}))}}(),j=!1}))},Et=function(t,e){var n=M[0];return void 0===n||void 0!==n.offset&&0!==n.offset?M=[(0,i.Z)({offset:0},t,e)].concat((0,a.Z)(M)):n[t]=e,T};return T={parentAnimation:b,elements:H,childAnimations:V,id:$,animationFinish:pt,from:Et,to:function(t,e){var n=M[M.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?M=[].concat((0,a.Z)(M),[(0,i.Z)({offset:1},t,e)]):n[t]=e,T},fromTo:function(t,e,n){return Et(t,e).to(t,n)},parent:function(t){return b=t,T},play:Mt,pause:function(){return V.forEach((function(t){t.pause()})),kt(),T},stop:function(){V.forEach((function(t){t.stop()})),S&&(it(),S=!1),I=!1,z=!1,F=!0,w=void 0,k=void 0,_=void 0,R=0,B=!1,N=!0,j=!1},destroy:function(t){return V.forEach((function(e){e.destroy(t)})),et(t),H.length=0,V.length=0,M.length=0,rt(),S=!1,F=!0,T},keyframes:function(t){var e=M!==t;return M=t,e&&ft(M),T},addAnimation:function(t){if(null!=t)if(Array.isArray(t)){var e,n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.parent(T),V.push(r)}}catch(i){n.e(i)}finally{n.f()}}else t.parent(T),V.push(t);return T},addElement:function(t){if(null!=t)if(1===t.nodeType)H.push(t);else if(t.length>=0)for(var e=0;e<t.length;e++)H.push(t[e]);else console.error("Invalid addElement value");return T},update:wt,fill:function(t){return d=t,wt(!0),T},direction:function(t){return g=t,wt(!0),T},iterations:function(t){return u=t,wt(!0),T},duration:function(t){return Q||0!==t||(t=1),n=t,wt(!0),T},easing:function(t){return r=t,wt(!0),T},delay:function(t){return e=t,wt(!0),T},getWebAnimations:tt,getKeyframes:function(){return M},getFill:at,getDirection:st,getDelay:dt,getIterations:ut,getEasing:lt,getDuration:ct,afterAddRead:function(t){return q.push(t),T},afterAddWrite:function(t){return X.push(t),T},afterClearStyles:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;D[r]=""}}catch(i){n.e(i)}finally{n.f()}return T},afterStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D=t,T},afterRemoveClass:function(t){return P=y(P,t),T},afterAddClass:function(t){return L=y(L,t),T},beforeAddRead:function(t){return Y.push(t),T},beforeAddWrite:function(t){return G.push(t),T},beforeClearStyles:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;O[r]=""}}catch(i){n.e(i)}finally{n.f()}return T},beforeStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O=t,T},beforeRemoveClass:function(t){return C=y(C,t),T},beforeAddClass:function(t){return E=y(E,t),T},onFinish:nt,isRunning:function(){return 0!==R&&!j},progressStart:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;return V.forEach((function(n){n.progressStart(t,e)})),kt(),I=t,S||vt(),wt(!1,!0,e),T},progressStep:function(t){return V.forEach((function(e){e.progressStep(t)})),yt(t),T},progressEnd:function(t,e,n){return I=!1,V.forEach((function(r){r.progressEnd(t,e,n)})),void 0!==n&&(k=n),B=!1,N=!0,0===t?("reverse"===(w="reverse"===st()?"normal":"reverse")&&(N=!1),Q?(wt(),yt(1-e)):(_=(1-e)*ct()*-1,wt(!1,!1))):1===t&&(Q?(wt(),yt(e)):(_=e*ct()*-1,wt(!1,!1))),void 0!==t&&(nt((function(){k=void 0,w=void 0,_=void 0}),{oneTimeCallback:!0}),b||Mt()),T}}}},9507:function(t,e,n){"use strict";n.d(e,{i:function(){return r}});var r=function(t){return t&&""!==t.dir?"rtl"===t.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase())}},7225:function(t,e,n){"use strict";n.r(e),n.d(e,{startFocusVisible:function(){return o}});var r="ion-focused",i=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],o=function(t){var e=[],n=!0,o=t?t.shadowRoot:document,a=t||document.body,s=function(t){e.forEach((function(t){return t.classList.remove(r)})),t.forEach((function(t){return t.classList.add(r)})),e=t},l=function(){n=!1,s([])},c=function(t){(n=i.includes(t.key))||s([])},u=function(t){if(n&&t.composedPath){var e=t.composedPath().filter((function(t){return!!t.classList&&t.classList.contains("ion-focusable")}));s(e)}},d=function(){o.activeElement===a&&s([])};o.addEventListener("keydown",c),o.addEventListener("focusin",u),o.addEventListener("focusout",d),o.addEventListener("touchstart",l),o.addEventListener("mousedown",l);return{destroy:function(){o.removeEventListener("keydown",c),o.removeEventListener("focusin",u),o.removeEventListener("focusout",d),o.removeEventListener("touchstart",l),o.removeEventListener("mousedown",l)},setFocus:s}}},2503:function(t,e,n){"use strict";n.d(e,{G:function(){return u}});var r=n(7762),i=n(5671),o=n(3144),a=function(){function t(){(0,i.Z)(this,t),this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}return(0,o.Z)(t,[{key:"createGesture",value:function(t){return new s(this,this.newID(),t.name,t.priority||0,!!t.disableScroll)}},{key:"createBlocker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new l(this,this.newID(),t.disable,!!t.disableScroll)}},{key:"start",value:function(t,e,n){return this.canStart(t)?(this.requestedStart.set(e,n),!0):(this.requestedStart.delete(e),!1)}},{key:"capture",value:function(t,e,n){if(!this.start(t,e,n))return!1;var r=this.requestedStart,i=-1e4;if(r.forEach((function(t){i=Math.max(i,t)})),i===n){this.capturedId=e,r.clear();var o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(o),!0}return r.delete(e),!1}},{key:"release",value:function(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}},{key:"disableGesture",value:function(t,e){var n=this.disabledGestures.get(t);void 0===n&&(n=new Set,this.disabledGestures.set(t,n)),n.add(e)}},{key:"enableGesture",value:function(t,e){var n=this.disabledGestures.get(t);void 0!==n&&n.delete(e)}},{key:"disableScroll",value:function(t){this.disabledScroll.add(t),1===this.disabledScroll.size&&document.body.classList.add(c)}},{key:"enableScroll",value:function(t){this.disabledScroll.delete(t),0===this.disabledScroll.size&&document.body.classList.remove(c)}},{key:"canStart",value:function(t){return void 0===this.capturedId&&!this.isDisabled(t)}},{key:"isCaptured",value:function(){return void 0!==this.capturedId}},{key:"isScrollDisabled",value:function(){return this.disabledScroll.size>0}},{key:"isDisabled",value:function(t){var e=this.disabledGestures.get(t);return!!(e&&e.size>0)}},{key:"newID",value:function(){return this.gestureId++,this.gestureId}}]),t}(),s=function(){function t(e,n,r,o,a){(0,i.Z)(this,t),this.id=n,this.name=r,this.disableScroll=a,this.priority=1e6*o+n,this.ctrl=e}return(0,o.Z)(t,[{key:"canStart",value:function(){return!!this.ctrl&&this.ctrl.canStart(this.name)}},{key:"start",value:function(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}},{key:"capture",value:function(){if(!this.ctrl)return!1;var t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}},{key:"release",value:function(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}},{key:"destroy",value:function(){this.release(),this.ctrl=void 0}}]),t}(),l=function(){function t(e,n,r,o){(0,i.Z)(this,t),this.id=n,this.disable=r,this.disableScroll=o,this.ctrl=e}return(0,o.Z)(t,[{key:"block",value:function(){if(this.ctrl){if(this.disable){var t,e=(0,r.Z)(this.disable);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.ctrl.disableGesture(n,this.id)}}catch(i){e.e(i)}finally{e.f()}}this.disableScroll&&this.ctrl.disableScroll(this.id)}}},{key:"unblock",value:function(){if(this.ctrl){if(this.disable){var t,e=(0,r.Z)(this.disable);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.ctrl.enableGesture(n,this.id)}}catch(i){e.e(i)}finally{e.f()}}this.disableScroll&&this.ctrl.enableScroll(this.id)}}},{key:"destroy",value:function(){this.unblock(),this.ctrl=void 0}}]),t}(),c="backdrop-no-scroll",u=new a},8862:function(t,e,n){"use strict";n.r(e),n.d(e,{MENU_BACK_BUTTON_PRIORITY:function(){return l},OVERLAY_BACK_BUTTON_PRIORITY:function(){return s},blockHardwareBackButton:function(){return o},startHardwareBackButton:function(){return a}});var r=n(4165),i=n(5861),o=function(){document.addEventListener("backbutton",(function(){}))},a=function(){var t=document,e=!1;t.addEventListener("backbutton",(function(){if(!e){var n=0,o=[],a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register:function(t,e){o.push({priority:t,handler:e,id:n++})}}});t.dispatchEvent(a);var s=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(null===e||void 0===e?void 0:e.handler)){t.next=6;break}if(null==(n=e.handler(l))){t.next=6;break}return t.next=6,n;case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){if(o.length>0){var t={priority:Number.MIN_SAFE_INTEGER,handler:function(){},id:-1};o.forEach((function(e){e.priority>=t.priority&&(t=e)})),e=!0,o=o.filter((function(e){return e.id!==t.id})),s(t).then((function(){return e=!1}))}};l()}}))},s=100,l=99},1811:function(t,e,n){"use strict";n.d(e,{a:function(){return c},b:function(){return u},c:function(){return o},d:function(){return v},e:function(){return y},f:function(){return g},g:function(){return d},h:function(){return a},i:function(){return l},j:function(){return _},k:function(){return p},l:function(){return k},m:function(){return b},n:function(){return m},p:function(){return w},q:function(){return h},r:function(){return f},s:function(){return T},t:function(){return r},u:function(){return x}});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(n){i(t,e,n)}))},i=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,o={passive:!0},a=500,s=function(){e&&e()},l=function(e){void 0!==e&&t!==e.target||(s(),i(e))};return t&&(t.addEventListener("webkitTransitionEnd",l,o),t.addEventListener("transitionend",l,o),n=setTimeout(l,r+a),e=function(){n&&(clearTimeout(n),n=void 0),t.removeEventListener("webkitTransitionEnd",l,o),t.removeEventListener("transitionend",l,o)}),s},o=function(t,e){t.componentOnReady?t.componentOnReady().then((function(t){return e(t)})):f((function(){return e(t)}))},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach((function(e){t.hasAttribute(e)&&(null!==t.getAttribute(e)&&(n[e]=t.getAttribute(e)),t.removeAttribute(e))})),n},s=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],l=function(t){return a(t,s)},c=function(t,e,n,r){var i;if("undefined"!==typeof window){var o=window,a=null===(i=null===o||void 0===o?void 0:o.Ionic)||void 0===i?void 0:i.config;if(a){var s=a.get("_ael");if(s)return s(t,e,n,r);if(a._ael)return a._ael(t,e,n,r)}}return t.addEventListener(e,n,r)},u=function(t,e,n,r){var i;if("undefined"!==typeof window){var o=window,a=null===(i=null===o||void 0===o?void 0:o.Ionic)||void 0===i?void 0:i.config;if(a){var s=a.get("_rel");if(s)return s(t,e,n,r);if(a._rel)return a._rel(t,e,n,r)}}return t.removeEventListener(e,n,r)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t.shadowRoot||e},f=function(t){return"function"===typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"===typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t)},h=function(t){return!!t.shadowRoot&&!!t.attachShadow},p=function(t){var e=t.closest("ion-item");return e?e.querySelector("ion-label"):null},g=function(t){if(t.focus(),t.classList.contains("ion-focusable")){var e=t.closest("ion-app");e&&e.setFocus([t])}},m=function(t,e){var n,r=t.getAttribute("aria-labelledby"),i=t.id,o=null!==r&&""!==r.trim()?r:e+"-lbl",a=null!==r&&""!==r.trim()?document.getElementById(r):p(t);return a?(null===r&&(a.id=o),n=a.textContent,a.setAttribute("aria-hidden","true")):""!==i.trim()&&(a=document.querySelector('label[for="'.concat(i,'"]')))&&(""!==a.id?o=a.id:a.id=o="".concat(i,"-lbl"),n=a.textContent),{label:a,labelId:o,labelText:n}},v=function(t,e,n,r,i){if(t||h(e)){var o=e.querySelector("input.aux-input");o||((o=e.ownerDocument.createElement("input")).type="hidden",o.classList.add("aux-input"),e.appendChild(o)),o.disabled=i,o.name=n,o.value=r||""}},y=function(t,e,n){return Math.max(t,Math.min(e,n))},b=function(t,e){if(!t){var n="ASSERT: "+e;throw console.error(n),new Error(n)}},x=function(t){return t.timeStamp||Date.now()},w=function(t){if(t){var e=t.changedTouches;if(e&&e.length>0){var n=e[0];return{x:n.clientX,y:n.clientY}}if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},k=function(t){var e="rtl"===document.dir;switch(t){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(t,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},_=function(t,e){var n=t._original||t;return{_original:t,emit:A(n.emit.bind(n),e)}},A=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){clearTimeout(e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e=setTimeout.apply(void 0,[t,n].concat(i))}},T=function(t,e){if(null!==t&&void 0!==t||(t={}),null!==e&&void 0!==e||(e={}),t===e)return!0;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!(o in e))return!1;if(t[o]!==e[o])return!1}return!0}},7909:function(t,e,n){"use strict";n.r(e),n.d(e,{GESTURE_CONTROLLER:function(){return i.G},createGesture:function(){return l}});var r,i=n(2503),o=function(t,e,n,r){var i,o,s=a(t)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;return t.__zone_symbol__addEventListener?(i="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(i="addEventListener",o="removeEventListener"),t[i](e,n,s),function(){t[o](e,n,s)}},a=function(t){if(void 0===r)try{var e=Object.defineProperty({},"passive",{get:function(){r=!0}});t.addEventListener("optsTest",(function(){}),e)}catch(n){r=!1}return!!r},s=function(t){return t instanceof Document?t:t.ownerDocument},l=function(t){var e=!1,n=!1,r=!0,a=!1,l=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),f=l.canStart,h=l.onWillStart,p=l.onStart,g=l.onEnd,m=l.notCaptured,v=l.onMove,y=l.threshold,b=l.passive,x=l.blurOnStart,w={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},k=function(t,e,n){var r=n*(Math.PI/180),i="x"===t,o=Math.cos(r),a=e*e,s=0,l=0,c=!1,u=0;return{start:function(t,e){s=t,l=e,u=0,c=!0},detect:function(t,e){if(!c)return!1;var n=t-s,r=e-l,d=n*n+r*r;if(d<a)return!1;var f=Math.sqrt(d),h=(i?n:r)/f;return u=h>o?1:h<-o?-1:0,c=!1,!0},isGesture:function(){return 0!==u},getDirection:function(){return u}}}(l.direction,l.threshold,l.maxAngle),_=i.G.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),A=function(){e&&(a=!1,v&&v(w))},T=function(){return!(_&&!_.capture())&&(e=!0,r=!1,w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime,h?h(w).then(M):M(),!0)},M=function(){x&&function(){if("undefined"!==typeof document){var t=document.activeElement;(null===t||void 0===t?void 0:t.blur)&&t.blur()}}(),p&&p(w),r=!0},E=function(){e=!1,n=!1,a=!1,r=!0,_.release()},C=function(t){var n=e,i=r;E(),i&&(c(w,t),n?g&&g(w):m&&m(w))},S=function(t,e,n,r,i){var a,l,c,u,d,f,h,p=0,g=function(r){p=Date.now()+2e3,e(r)&&(!l&&n&&(l=o(t,"touchmove",n,i)),c||(c=o(r.target,"touchend",v,i)),u||(u=o(r.target,"touchcancel",v,i)))},m=function(r){p>Date.now()||e(r)&&(!f&&n&&(f=o(s(t),"mousemove",n,i)),h||(h=o(s(t),"mouseup",y,i)))},v=function(t){b(),r&&r(t)},y=function(t){x(),r&&r(t)},b=function(){l&&l(),c&&c(),u&&u(),l=c=u=void 0},x=function(){f&&f(),h&&h(),f=h=void 0},w=function(){b(),x()},k=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(a||(a=o(t,"touchstart",g,i)),d||(d=o(t,"mousedown",m,i))):(a&&a(),d&&d(),a=d=void 0,w())};return{enable:k,stop:w,destroy:function(){k(!1),r=n=e=void 0}}}(l.el,(function(t){var e=d(t);return!(n||!r)&&(u(t,w),w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime=e,w.velocityX=w.velocityY=w.deltaX=w.deltaY=0,w.event=t,(!f||!1!==f(w))&&(_.release(),!!_.start()&&(n=!0,0===y?T():(k.start(w.startX,w.startY),!0))))}),(function(t){e?!a&&r&&(a=!0,c(w,t),requestAnimationFrame(A)):(c(w,t),k.detect(w.currentX,w.currentY)&&(k.isGesture()&&T()||O()))}),C,{capture:!1,passive:b}),O=function(){E(),S.stop(),m&&m(w)};return{enable:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t||(e&&C(void 0),E()),S.enable(t)},destroy:function(){_.destroy(),S.destroy()}}},c=function(t,e){if(e){var n=t.currentX,r=t.currentY,i=t.currentTime;u(e,t);var o=t.currentX,a=t.currentY,s=(t.currentTime=d(e))-i;if(s>0&&s<100){var l=(o-n)/s,c=(a-r)/s;t.velocityX=.7*l+.3*t.velocityX,t.velocityY=.7*c+.3*t.velocityY}t.deltaX=o-t.startX,t.deltaY=a-t.startY,t.event=e}},u=function(t,e){var n=0,r=0;if(t){var i=t.changedTouches;if(i&&i.length>0){var o=i[0];n=o.clientX,r=o.clientY}else void 0!==t.pageX&&(n=t.pageX,r=t.pageY)}e.currentX=n,e.currentY=r},d=function(t){return t.timeStamp||Date.now()}},6313:function(t,e,n){"use strict";n.d(e,{b:function(){return s},c:function(){return l},d:function(){return c},e:function(){return A},g:function(){return E},l:function(){return k},s:function(){return T},t:function(){return u}});var r=n(4165),i=n(5861),o=n(3196),a=n(1811),s="ionViewWillLeave",l="ionViewDidLeave",c="ionViewWillUnload",u=function(t){return new Promise((function(e,n){(0,o.Iu)((function(){d(t),f(t).then((function(n){n.animation&&n.animation.destroy(),h(t),e(n)}),(function(e){h(t),n(e)}))}))}))},d=function(t){var e=t.enteringEl,n=t.leavingEl;M(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),T(e,!1),e.style.setProperty("pointer-events","none"),n&&(T(n,!1),n.style.setProperty("pointer-events","none"))},f=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:return n=t.sent,i=n&&o.Z5.isBrowser?g(n,e):m(e),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(t){var e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},p=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.leavingEl&&e.animated&&0!==e.duration){t.next=2;break}return t.abrupt("return",void 0);case 2:if(!e.animationBuilder){t.next=4;break}return t.abrupt("return",e.animationBuilder);case 4:if("ios"!==e.mode){t.next=10;break}return t.next=7,n.e(372).then(n.bind(n,7372));case 7:t.t0=t.sent.iosTransitionAnimation,t.next=13;break;case 10:return t.next=12,n.e(856).then(n.bind(n,5856));case 12:t.t0=t.sent.mdTransitionAnimation;case 13:return i=t.t0,t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n){var i,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(n,!0);case 2:return i=e(n.baseEl,n),x(n.enteringEl,n.leavingEl),t.next=6,b(i,n);case 6:return o=t.sent,n.progressCallback&&n.progressCallback(void 0),o&&w(n.enteringEl,n.leavingEl),t.abrupt("return",{hasCompleted:o,animation:i});case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.enteringEl,i=e.leavingEl,t.next=4,v(e,!1);case 4:return x(n,i),w(n,i),t.abrupt("return",{hasCompleted:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n){var i,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=void 0!==e.deepWait?e.deepWait:n,o=i?[A(e.enteringEl),A(e.leavingEl)]:[_(e.enteringEl),_(e.leavingEl)],t.next=4,Promise.all(o);case 4:return t.next=6,y(e.viewIsReady,e.enteringEl);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,e(n);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),b=function(t,e){var n=e.progressCallback,r=new Promise((function(e){t.onFinish((function(t){return e(1===t)}))}));return n?(t.progressStart(!0),n(t)):t.play(),r},x=function(t,e){k(e,s),k(t,"ionViewWillEnter")},w=function(t,e){k(t,"ionViewDidEnter"),k(e,l)},k=function(t,e){if(t){var n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},_=function(t){return t?new Promise((function(e){return(0,a.c)(t,e)})):Promise.resolve()},A=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e)){t.next=17;break}if(null==n.componentOnReady){t.next=10;break}return t.next=5,n.componentOnReady();case 5:if(null==t.sent){t.next=8;break}return t.abrupt("return");case 8:t.next=15;break;case 10:if(null==n.__registerHost){t.next=15;break}return i=new Promise((function(t){return(0,a.r)(t)})),t.next=14,i;case 14:return t.abrupt("return");case 15:return t.next=17,Promise.all(Array.from(n.children).map(A));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(t,e){e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},M=function(t,e,n){void 0!==t&&(t.style.zIndex="back"===n?"99":"101"),void 0!==e&&(e.style.zIndex="100")},E=function(t){if(t.classList.contains("ion-page"))return t;var e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t}},1437:function(t,e,n){"use strict";n.d(e,{w:function(){return r}});var r="undefined"!==typeof window?window:void 0},3743:function(t,e,n){"use strict";n.d(e,{a:function(){return i},b:function(){return o},p:function(){return r}});var r=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=console).warn.apply(e,["[Ionic Warning]: ".concat(t)].concat(r))},i=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=console).error.apply(e,["[Ionic Error]: ".concat(t)].concat(r))},o=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return console.error("<".concat(t.tagName.toLowerCase(),"> must be used inside ").concat(n.join(" or "),"."))}},9344:function(t,e,n){"use strict";n.d(e,{I:function(){return s},a:function(){return h},b:function(){return l},c:function(){return g},d:function(){return v},f:function(){return f},g:function(){return d},i:function(){return u},p:function(){return m},r:function(){return y},s:function(){return p}});var r=n(4165),i=n(5861),o=n(1811),a=n(3743),s="ion-content",l=".ion-content-scroll-host",c="".concat(s,", ").concat(l),u=function(t){return t&&"ION-CONTENT"===t.tagName},d=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u(e)){t.next=4;break}return t.next=3,new Promise((function(t){return(0,o.c)(e,t)}));case 3:return t.abrupt("return",e.getScrollElement());case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(t){var e=t.querySelector(l);return e||t.querySelector(c)},h=function(t){return t.closest(c)},p=function(t,e){return u(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:e>0?"smooth":"auto"}))},g=function(t,e,n,r){return u(t)?t.scrollByPoint(e,n,r):Promise.resolve(t.scrollBy({top:n,left:e,behavior:r>0?"smooth":"auto"}))},m=function(t){return(0,a.b)(t,s)},v=function(t){if(u(t)){var e=t,n=e.scrollY;return e.scrollY=!1,n}return t.style.setProperty("overflow","hidden"),!0},y=function(t,e){u(t)?t.scrollY=e:t.style.removeProperty("overflow")}},5573:function(t,e,n){"use strict";n.r(e),n.d(e,{KEYBOARD_DID_CLOSE:function(){return i},KEYBOARD_DID_OPEN:function(){return r},copyVisualViewport:function(){return b},keyboardDidClose:function(){return g},keyboardDidOpen:function(){return h},keyboardDidResize:function(){return p},resetKeyboardAssist:function(){return l},setKeyboardClose:function(){return f},setKeyboardOpen:function(){return d},startKeyboardAssist:function(){return c},trackViewportChanges:function(){return y}});var r="ionKeyboardDidShow",i="ionKeyboardDidHide",o={},a={},s=!1,l=function(){o={},a={},s=!1},c=function(t){u(t),t.visualViewport&&(a=b(t.visualViewport),t.visualViewport.onresize=function(){y(t),h()||p(t)?d(t):g(t)&&f(t)})},u=function(t){t.addEventListener("keyboardDidShow",(function(e){return d(t,e)})),t.addEventListener("keyboardDidHide",(function(){return f(t)}))},d=function(t,e){m(t,e),s=!0},f=function(t){v(t),s=!1},h=function(){var t=(o.height-a.height)*a.scale;return!s&&o.width===a.width&&t>150},p=function(t){return s&&!g(t)},g=function(t){return s&&a.height===t.innerHeight},m=function(t,e){var n=e?e.keyboardHeight:t.innerHeight-a.height,i=new CustomEvent(r,{detail:{keyboardHeight:n}});t.dispatchEvent(i)},v=function(t){var e=new CustomEvent(i);t.dispatchEvent(e)},y=function(t){o=Object.assign({},a),a=b(t.visualViewport)},b=function(t){return{width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale}}},3196:function(t,e,n){"use strict";n.d(e,{Z5:function(){return Rn},_y:function(){return Ut},mv:function(){return Nt},AA:function(){return fe},yM:function(){return Fe},xE:function(){return Ye},K3:function(){return dn},iJ:function(){return se},h:function(){return ue},GH:function(){return un},wj:function(){return Pn},PM:function(){return ae},TX:function(){return Ft},Iu:function(){return Dn}});var r,i,o,a,s=n(4165),l=n(5861),c=n(2982),u=n(885),d=n(3144),f=n(5671),h=!1,p=!0,g=!1,m=!0,v=!0,y=!0,b=!0,x=!0,w=!0,k=!0,_=!0,A=!0,T=!0,M=!0,E=!0,C=!1,S=!0,O=!0,L=!0,P=!0,D=!0,R=!0,I=!0,z=!0,N=!0,B=!0,F=!0,j=!0,$=!0,Z=!0,U=!0,H=!0,V=!0,W=!0,Y=!0,G=!0,q=!0,X=!0,J=!0,K=!0,Q=!0,tt=!0,et=!0,nt=!0,rt=!1,it=!1,ot=!1,at=!1,st=!1,lt=!1,ct=!1,ut=!1,dt=!1,ft=!0,ht=!1,pt=!0,gt=!1,mt=!0,vt=!0,yt=!0,bt=!1,xt=!0,wt=!0,kt=!0,_t=!1,At=!1,Tt=!1,Mt=!0,Et="app",Ct=0,St=!1,Ot=!1,Lt=!1,Pt=!1,Dt=0,Rt=!1,It="undefined"!==typeof window?window:{},zt=(bt&&It.CSS,It.document||{head:{}}),Nt=It.HTMLElement||function(){return(0,d.Z)((function t(){(0,f.Z)(this,t)}))}(),Bt={$flags$:0,$resourcesUrl$:"",jmp:function(t){return t()},raf:function(t){return requestAnimationFrame(t)},ael:function(t,e,n,r){return t.addEventListener(e,n,r)},rel:function(t,e,n,r){return t.removeEventListener(e,n,r)},ce:function(t,e){return new CustomEvent(t,e)}},Ft=function(t){Object.assign(Bt,t)},jt=!gt||!N||function(){return(zt.head.attachShadow+"").indexOf("[native")>-1}(),$t=function(){var t=!1;try{zt.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t}(),Zt=!!xt&&function(){try{return new CSSStyleSheet,"function"===typeof(new CSSStyleSheet).replaceSync}catch(t){}return!1}(),Ut={},Ht=function(t,e,n,r){A&&n&&(C&&(n=r?n.filter((function(t){return 32&(0,u.Z)(t,1)[0]})):n.filter((function(t){return!(32&(0,u.Z)(t,1)[0])}))),n.map((function(n){var r=(0,u.Z)(n,3),i=r[0],o=r[1],a=r[2],s=S?Wt(t,i):t,l=Vt(e,a),c=Yt(i);Bt.ael(s,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push((function(){return Bt.rel(s,o,l,c)}))})))},Vt=function(t,e){return function(n){try{ut?256&t.$flags$?t.$lazyInstance$[e](n):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,n]):t.$hostElement$[e](n)}catch(r){mn(r)}}},Wt=function(t,e){return M&&4&e?zt:T&&8&e?It:E&&16&e?zt.body:C&&32&e?t.parentElement:t},Yt=function(t){return $t?{passive:0!==(1&t),capture:0!==(2&t)}:0!==(2&t)},Gt="s-id",qt="sty-id",Xt="c-id",Jt="http://www.w3.org/1999/xlink",Kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(dt&&performance.mark){var n="st:".concat(t,":").concat(e,":").concat(Ct++);return performance.mark(n),function(){return performance.measure("[Stencil] ".concat(t,"() <").concat(e,">"),n)}}return function(){}},Qt=function(t,e){return dt&&performance.mark?(0===performance.getEntriesByName(t).length&&performance.mark(t),function(){0===performance.getEntriesByName(e).length&&performance.measure(e,t)}):function(){}},te=new WeakMap,ee=function(t,e,n){var r=kn.get(t);Zt&&n?"string"===typeof(r=r||new CSSStyleSheet)?r=e:r.replaceSync(e):r=e,kn.set(t,r)},ne=function(t,e,n,r){var i=ie(e,n),o=kn.get(i);if(!Mt)return i;if(t=11===t.nodeType?t:zt,o)if("string"===typeof o){t=t.head||t;var a,s=te.get(t);if(s||te.set(t,s=new Set),!s.has(i)){if(lt&&t.host&&(a=t.querySelector("[".concat(qt,'="').concat(i,'"]'))))a.innerHTML=o;else{if(bt&&Bt.$cssShim$){var l=(a=Bt.$cssShim$.createHostStyle(r,i,o,!!(10&e.$flags$)))["s-sc"];l&&(i=l,s=null)}else(a=zt.createElement("style")).innerHTML=o;(st||rt)&&a.setAttribute(qt,i),t.insertBefore(a,t.querySelector("link"))}s&&s.add(i)}}else xt&&!t.adoptedStyleSheets.includes(o)&&(t.adoptedStyleSheets=[].concat((0,c.Z)(t.adoptedStyleSheets),[o]));return i},re=function(t){var e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=Kt("attachStyles",e.$tagName$),o=ne(N&&jt&&n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$,n);(N||z)&&F&&10&r&&(n["s-sc"]=o,n.classList.add(o+"-h"),z&&2&r&&n.classList.add(o+"-s")),i()},ie=function(t,e){return"sc-"+(P&&e&&32&t.$flags$?t.$tagName$+"-"+e:t.$tagName$)},oe=function(t){return _n.map((function(e){return e(t)})).find((function(t){return!!t}))},ae=function(t){return _n.push(t)},se=function(t){return hn(t).$modeName$},le={},ce=function(t){return"object"===(t=typeof t)||"function"===t},ue=function(t,e){for(var n=null,r=null,i=null,o=!1,a=!1,s=[],l=function e(r){for(var i=0;i<r.length;i++)n=r[i],Array.isArray(n)?e(n):null!=n&&"boolean"!==typeof n&&((o="function"!==typeof t&&!ce(n))?n=String(n):ot&&"function"!==typeof t&&void 0===n.$flags$&&yn("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),o&&a?s[s.length-1].$text$+=n:s.push(o?de(null,n):n),a=o)},c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];if(l(u),e&&(ot&&"input"===t&&ve(e),G&&e.key&&(r=e.key),ft&&e.name&&(i=e.name),W)){var f=e.className||e.class;f&&(e.class="object"!==typeof f?f:Object.keys(f).filter((function(t){return f[t]})).join(" "))}if(ot&&s.some(he)&&yn("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),Y&&"function"===typeof t)return t(null===e?{}:e,s,pe);var h=de(t,null);return h.$attrs$=e,s.length>0&&(h.$children$=s),G&&(h.$key$=r),ft&&(h.$name$=i),h},de=function(t,e){var n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return H&&(n.$attrs$=null),G&&(n.$key$=null),ft&&(n.$name$=null),n},fe={},he=function(t){return t&&t.$tag$===fe},pe={forEach:function(t,e){return t.map(ge).forEach(e)},map:function(t,e){return t.map(ge).map(e).map(me)}},ge=function(t){return{vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}},me=function(t){if("function"===typeof t.vtag){var e=Object.assign({},t.vattrs);return t.vkey&&(e.key=t.vkey),t.vname&&(e.name=t.vname),ue.apply(void 0,[t.vtag,e].concat((0,c.Z)(t.vchildren||[])))}var n=de(t.vtag,t.vtext);return n.$attrs$=t.vattrs,n.$children$=t.vchildren,n.$key$=t.vkey,n.$name$=t.vname,n},ve=function(t){var e=Object.keys(t),n=e.indexOf("value");if(-1!==n){var r=e.indexOf("type"),i=e.indexOf("min"),o=e.indexOf("max"),a=e.indexOf("step");(n<r||n<i||n<o||n<a)&&bn('The "value" prop of <input> should be set after "min", "max", "type" and "step"')}},ye=function(t,e,n,r,i,o){if(n!==r){var a=gn(t,e),s=e.toLowerCase();if(W&&"class"===e){var l=t.classList,u=xe(n),d=xe(r);l.remove.apply(l,(0,c.Z)(u.filter((function(t){return t&&!d.includes(t)})))),l.add.apply(l,(0,c.Z)(d.filter((function(t){return t&&!u.includes(t)}))))}else if(Q&&"style"===e){if(U)for(var f in n)r&&null!=r[f]||(!st&&f.includes("-")?t.style.removeProperty(f):t.style[f]="");for(var h in r)n&&r[h]===n[h]||(!st&&h.includes("-")?t.style.setProperty(h,r[h]):t.style[h]=r[h])}else if(G&&"key"===e);else if(X&&"ref"===e)r&&r(t);else if(!q||(ut?a:t.__lookupSetter__(e))||"o"!==e[0]||"n"!==e[1]){if(J){var p=ce(r);if((a||p&&null!==r)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{var g=null==r?"":r;"list"===e?a=!1:null!=n&&t[e]==g||(t[e]=g)}}catch(v){}var m=!1;V&&s!==(s=s.replace(/^xlink\:?/,""))&&(e=s,m=!0),null==r||!1===r?!1===r&&""!==t.getAttribute(e)||(V&&m?t.removeAttributeNS(Jt,e):t.removeAttribute(e)):(!a||4&o||i)&&!p&&(r=!0===r?"":r,V&&m?t.setAttributeNS(Jt,e,r):t.setAttribute(e,r))}}else e="-"===e[2]?e.slice(3):gn(It,s)?s.slice(2):s[2]+e.slice(3),n&&Bt.rel(t,e,n,!1),r&&Bt.ael(t,e,r,!1)}},be=/\s/,xe=function(t){return t?t.split(be):[]},we=function(t,e,n,r){var i=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||le,a=e.$attrs$||le;if(U)for(r in o)r in a||ye(i,r,o[r],void 0,n,e.$flags$);for(r in a)ye(i,r,o[r],a[r],n,e.$flags$)},ke=function t(e,n,a,s){var l,c,u,d=n.$children$[a],f=0;if(ft&&!St&&(Lt=!0,"slot"===d.$tag$&&(r&&s.classList.add(r+"-s"),d.$flags$|=d.$children$?2:1)),ot&&d.$elm$&&yn("The JSX ".concat(null!==d.$text$?'"'.concat(d.$text$,'" text'):'"'.concat(d.$tag$,'" element')," node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes")),tt&&null!==d.$text$)l=d.$elm$=zt.createTextNode(d.$text$);else if(ft&&1&d.$flags$)l=d.$elm$=it||st?Ne(d):zt.createTextNode("");else{if(Z&&!Pt&&(Pt="svg"===d.$tag$),l=d.$elm$=Z?zt.createElementNS(Pt?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ft&&2&d.$flags$?"slot-fb":d.$tag$):zt.createElement(ft&&2&d.$flags$?"slot-fb":d.$tag$),Z&&Pt&&"foreignObject"===d.$tag$&&(Pt=!1),H&&we(null,d,Pt),(N||z)&&null!=r&&l["s-si"]!==r&&l.classList.add(l["s-si"]=r),d.$children$)for(f=0;f<d.$children$.length;++f)(c=t(e,d,f,l))&&l.appendChild(c);Z&&("svg"===d.$tag$?Pt=!1:"foreignObject"===l.tagName&&(Pt=!0))}return ft&&(l["s-hn"]=o,3&d.$flags$&&(l["s-sr"]=!0,l["s-cr"]=i,l["s-sn"]=d.$name$||"",(u=e&&e.$children$&&e.$children$[a])&&u.$tag$===d.$tag$&&e.$elm$&&_e(e.$elm$,!1))),l},_e=function t(e,n){Bt.$flags$|=1;for(var r=e.childNodes,i=r.length-1;i>=0;i--){var a=r[i];a["s-hn"]!==o&&a["s-ol"]&&(Se(a).insertBefore(a,Ce(a)),a["s-ol"].remove(),a["s-ol"]=void 0,Lt=!0),n&&t(a,n)}Bt.$flags$&=-2},Ae=function(t,e,n,r,i,a){var s,l=ft&&t["s-cr"]&&t["s-cr"].parentNode||t;for(N&&l.shadowRoot&&l.tagName===o&&(l=l.shadowRoot);i<=a;++i)r[i]&&(s=ke(null,n,i,t))&&(r[i].$elm$=s,l.insertBefore(s,ft?Ce(e):e))},Te=function(t,e,n,r,i){for(;e<=n;++e)(r=t[e])&&(i=r.$elm$,Ie(r),ft&&(Ot=!0,i["s-ol"]?i["s-ol"].remove():_e(i,!0)),i.remove())},Me=function(t,e,n,r){for(var i,o,a=0,s=0,l=0,c=0,u=e.length-1,d=e[0],f=e[u],h=r.length-1,p=r[0],g=r[h];a<=u&&s<=h;)if(null==d)d=e[++a];else if(null==f)f=e[--u];else if(null==p)p=r[++s];else if(null==g)g=r[--h];else if(Ee(d,p))Oe(d,p),d=e[++a],p=r[++s];else if(Ee(f,g))Oe(f,g),f=e[--u],g=r[--h];else if(Ee(d,g))!ft||"slot"!==d.$tag$&&"slot"!==g.$tag$||_e(d.$elm$.parentNode,!1),Oe(d,g),t.insertBefore(d.$elm$,f.$elm$.nextSibling),d=e[++a],g=r[--h];else if(Ee(f,p))!ft||"slot"!==d.$tag$&&"slot"!==g.$tag$||_e(f.$elm$.parentNode,!1),Oe(f,p),t.insertBefore(f.$elm$,d.$elm$),f=e[--u],p=r[++s];else{if(l=-1,G)for(c=a;c<=u;++c)if(e[c]&&null!==e[c].$key$&&e[c].$key$===p.$key$){l=c;break}G&&l>=0?((o=e[l]).$tag$!==p.$tag$?i=ke(e&&e[s],n,l,t):(Oe(o,p),e[l]=void 0,i=o.$elm$),p=r[++s]):(i=ke(e&&e[s],n,s,t),p=r[++s]),i&&(ft?Se(d.$elm$).insertBefore(i,Ce(d.$elm$)):d.$elm$.parentNode.insertBefore(i,d.$elm$))}a>u?Ae(t,null==r[h+1]?null:r[h+1].$elm$,n,r,s,h):U&&s>h&&Te(e,a,u)},Ee=function(t,e){return t.$tag$===e.$tag$&&(ft&&"slot"===t.$tag$?t.$name$===e.$name$:!G||t.$key$===e.$key$)},Ce=function(t){return t&&t["s-ol"]||t},Se=function(t){return(t["s-ol"]?t["s-ol"]:t).parentNode},Oe=function(t,e){var n,r=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,a=e.$tag$,s=e.$text$;tt&&null!==s?tt&&ft&&(n=r["s-cr"])?n.parentNode.textContent=s:tt&&t.$text$!==s&&(r.data=s):(Z&&(Pt="svg"===a||"foreignObject"!==a&&Pt),(H||I)&&(B&&"slot"===a||we(t,e,Pt)),U&&null!==i&&null!==o?Me(r,i,e,o):null!==o?(U&&tt&&null!==t.$text$&&(r.textContent=""),Ae(r,null,e,o,0,o.length-1)):U&&null!==i&&Te(i,0,i.length-1),Z&&Pt&&"svg"===a&&(Pt=!1))},Le=function t(e){var n,r,i,o,a,s,l=e.childNodes;for(r=0,i=l.length;r<i;r++)if(1===(n=l[r]).nodeType){if(n["s-sr"])for(a=n["s-sn"],n.hidden=!1,o=0;o<i;o++)if(s=l[o].nodeType,l[o]["s-hn"]!==n["s-hn"]||""!==a){if(1===s&&a===l[o].getAttribute("slot")){n.hidden=!0;break}}else if(1===s||3===s&&""!==l[o].textContent.trim()){n.hidden=!0;break}t(n)}},Pe=[],De=function t(e){for(var n,r,i,o,a,s,l=0,c=e.childNodes,u=c.length;l<u;l++){if((n=c[l])["s-sr"]&&(r=n["s-cr"])&&r.parentNode)for(i=r.parentNode.childNodes,o=n["s-sn"],s=i.length-1;s>=0;s--)(r=i[s])["s-cn"]||r["s-nr"]||r["s-hn"]===n["s-hn"]||(Re(r,o)?(a=Pe.find((function(t){return t.$nodeToRelocate$===r})),Ot=!0,r["s-sn"]=r["s-sn"]||o,a?a.$slotRefNode$=n:Pe.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&Pe.map((function(t){Re(t.$nodeToRelocate$,r["s-sn"])&&(a=Pe.find((function(t){return t.$nodeToRelocate$===r})))&&!t.$slotRefNode$&&(t.$slotRefNode$=a.$slotRefNode$)}))):Pe.some((function(t){return t.$nodeToRelocate$===r}))||Pe.push({$nodeToRelocate$:r}));1===n.nodeType&&t(n)}},Re=function(t,e){return 1===t.nodeType?null===t.getAttribute("slot")&&""===e||t.getAttribute("slot")===e:t["s-sn"]===e||""===e},Ie=function t(e){X&&(e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(t))},ze=function(t,e){var n=t.$hostElement$,a=t.$cmpMeta$,s=t.$vnode$||de(null,null),l=he(e)?e:ue(null,null,e);if(o=n.tagName,ot&&Array.isArray(e)&&e.some(he))throw new Error('The <Host> must be the single root component.\nLooks like the render() function of "'.concat(o.toLowerCase(),'" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  '));if(I&&a.$attrsToReflect$&&(l.$attrs$=l.$attrs$||{},a.$attrsToReflect$.map((function(t){var e=(0,u.Z)(t,2),r=e[0],i=e[1];return l.$attrs$[i]=n[r]}))),l.$tag$=null,l.$flags$|=4,t.$vnode$=l,l.$elm$=s.$elm$=N&&n.shadowRoot||n,(z||N)&&(r=n["s-sc"]),ft&&(i=n["s-cr"],St=jt&&0!==(1&a.$flags$),Ot=!1),Oe(s,l),ft){if(Bt.$flags$|=1,Lt){var c,d,f,h,p,g;De(l.$elm$);for(var m=0;m<Pe.length;m++)(d=(c=Pe[m]).$nodeToRelocate$)["s-ol"]||((f=it||st?Be(d):zt.createTextNode(""))["s-nr"]=d,d.parentNode.insertBefore(d["s-ol"]=f,d));for(m=0;m<Pe.length;m++)if(d=(c=Pe[m]).$nodeToRelocate$,c.$slotRefNode$){for(h=c.$slotRefNode$.parentNode,p=c.$slotRefNode$.nextSibling,f=d["s-ol"];f=f.previousSibling;)if((g=f["s-nr"])&&g["s-sn"]===d["s-sn"]&&h===g.parentNode&&(!(g=g.nextSibling)||!g["s-nr"])){p=g;break}(!p&&h!==d.parentNode||d.nextSibling!==p)&&d!==p&&(!d["s-hn"]&&d["s-ol"]&&(d["s-hn"]=d["s-ol"].parentNode.nodeName),h.insertBefore(d,p))}else 1===d.nodeType&&(d.hidden=!0)}Ot&&Le(l.$elm$),Bt.$flags$&=-2,Pe.length=0}},Ne=function(t){return zt.createComment("<slot".concat(t.$name$?' name="'+t.$name$+'"':"","> (host=").concat(o.toLowerCase(),")"))},Be=function(t){return zt.createComment("org-location for "+(t.localName?"<".concat(t.localName,"> (host=").concat(t["s-hn"],")"):"[".concat(t.textContent,"]")))},Fe=function(t,e,n){var r=function(t){return ut?hn(t).$hostElement$:t}(t);return{emit:function(t){return ot&&!r.isConnected&&bn('The "'.concat(e,'" event was emitted, but the dispatcher node is no longer connected to the dom.')),je(r,e,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:t})}}},je=function(t,e,n){var r=Bt.ce(e,n);return t.dispatchEvent(r),r},$e=function(t,e){At&&e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((function(e){return t.$onRenderResolve$=e})))},Ze=function(t,e){if(nt&&U&&(t.$flags$|=16),!(At&&4&t.$flags$)){$e(t,t.$ancestorComponent$);var n=function(){return Ue(t,e)};return nt?Dn(n):n()}t.$flags$|=512},Ue=function(t,e){var n,r=t.$hostElement$,i=Kt("scheduleUpdate",t.$cmpMeta$.$tagName$),o=ut?t.$lazyInstance$:r;return e?(ut&&A&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map((function(t){var e=(0,u.Z)(t,2),n=e[0],r=e[1];return qe(o,n,r)})),t.$queuedListeners$=null)),Je(r,"componentWillLoad"),y&&(n=qe(o,"componentWillLoad"))):(Je(r,"componentWillUpdate"),b&&(n=qe(o,"componentWillUpdate"))),Je(r,"componentWillRender"),x&&(n=Xe(n,(function(){return qe(o,"componentWillRender")}))),i(),Xe(n,(function(){return He(t,o,e)}))},He=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(e,n,r){var i,o,a,l,c,u;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.$hostElement$,o=Kt("update",e.$cmpMeta$.$tagName$),a=i["s-rc"],$&&r&&re(e),l=Kt("render",e.$cmpMeta$.$tagName$),ot&&(e.$flags$|=1024),!st){t.next=11;break}return t.next=9,Ve(e,n,i);case 9:t.next=12;break;case 11:Ve(e,n,i);case 12:if(bt&&Bt.$cssShim$&&Bt.$cssShim$.updateHost(i),ot&&(e.$renderCount$++,e.$flags$&=-1025),st)try{Qe(i),r&&(1&e.$cmpMeta$.$flags$?i["s-en"]="":2&e.$cmpMeta$.$flags$&&(i["s-en"]="c"))}catch(s){mn(s,i)}At&&a&&(a.map((function(t){return t()})),i["s-rc"]=void 0),l(),o(),At?(c=i["s-p"],u=function(){return We(e)},0===c.length?u():(Promise.all(c).then(u),e.$flags$|=4,c.length=0)):We(e);case 19:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Ve=function(t,e,n){var r=!!h,i=!!ut,o=!!nt,a=!!U;try{if(e,e=(r||e.render)&&e.render(),a&&o&&(t.$flags$&=-17),(a||i)&&(t.$flags$|=2),_||I)if(K||I){if(st)return Promise.resolve(e).then((function(e){return ze(t,e)}));ze(t,e)}else n.textContent=e}catch(s){mn(s,t.$hostElement$)}return null,null},We=function(t){var e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=Kt("postUpdate",e),i=ut?t.$lazyInstance$:n,o=t.$ancestorComponent$;v&&(ot&&(t.$flags$|=1024),qe(i,"componentDidRender"),ot&&(t.$flags$&=-1025)),Je(n,"componentDidRender"),64&t.$flags$?(m&&(ot&&(t.$flags$|=1024),qe(i,"componentDidUpdate"),ot&&(t.$flags$&=-1025)),Je(n,"componentDidUpdate"),r()):(t.$flags$|=64,At&&F&&Ke(n),p&&(ot&&(t.$flags$|=2048),qe(i,"componentDidLoad"),ot&&(t.$flags$&=-2049)),Je(n,"componentDidLoad"),r(),At&&(t.$onReadyResolve$(n),o||Ge(e))),rt&&n["s-hmr-load"]&&n["s-hmr-load"](),L&&ut&&t.$onInstanceResolve$(n),At&&(t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&Ln((function(){return Ze(t,!1)})),t.$flags$&=-517)},Ye=function(t){if(U){var e=hn(t),n=e.$hostElement$.isConnected;return n&&2===(18&e.$flags$)&&Ze(e,!1),n}return!1},Ge=function(t){F&&Ke(zt.documentElement),Tt&&(Bt.$flags$|=2),Ln((function(){return je(It,"appload",{detail:{namespace:Et}})})),dt&&performance.measure&&performance.measure("[Stencil] ".concat(Et," initial load (by ").concat(t,")"),"st:app:start")},qe=function(t,e,n){if(t&&t[e])try{return t[e](n)}catch(r){mn(r)}},Xe=function(t,e){return t&&t.then?t.then(e):e()},Je=function(t,e){ct&&je(t,"stencil_"+e,{bubbles:!0,composed:!0,detail:{namespace:Et}})},Ke=function(t){return pt?t.classList.add("hydrated"):ht?t.setAttribute("hydrated",""):void 0},Qe=function t(e){var n=e.children;if(null!=n)for(var r=0,i=n.length;r<i;r++){var o=n[r];"function"===typeof o.connectedCallback&&o.connectedCallback(),t(o)}},tn=function t(e,n,r,i,o,a,s){var l,c,u,d;if(1===a.nodeType){for((l=a.getAttribute(Xt))&&((c=l.split("."))[0]!==s&&"0"!==c[0]||(u={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:a.tagName.toLowerCase(),$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},n.push(u),a.removeAttribute(Xt),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,e=u,i&&"0"===u.$depth$&&(i[u.$index$]=u.$elm$))),d=a.childNodes.length-1;d>=0;d--)t(e,n,r,i,o,a.childNodes[d],s);if(a.shadowRoot)for(d=a.shadowRoot.childNodes.length-1;d>=0;d--)t(e,n,r,i,o,a.shadowRoot.childNodes[d],s)}else if(8===a.nodeType)(c=a.nodeValue.split("."))[1]!==s&&"0"!==c[1]||(l=c[0],u={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===l?(u.$elm$=a.nextSibling,u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,n.push(u),a.remove(),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,i&&"0"===u.$depth$&&(i[u.$index$]=u.$elm$))):u.$hostId$===s&&("s"===l?(u.$tag$="slot",c[5]?a["s-sn"]=u.$name$=c[5]:a["s-sn"]="",a["s-sr"]=!0,N&&i&&(u.$elm$=zt.createElement(u.$tag$),u.$name$&&u.$elm$.setAttribute("name",u.$name$),a.parentNode.insertBefore(u.$elm$,a),a.remove(),"0"===u.$depth$&&(i[u.$index$]=u.$elm$)),r.push(u),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u):"r"===l&&(N&&i?a.remove():ft&&(o["s-cr"]=a,a["s-cn"]=!0))));else if(e&&"style"===e.$tag$){var f=de(null,a.textContent);f.$elm$=a,f.$index$="0",e.$children$=[f]}},en=function t(e,n){if(1===e.nodeType){for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r],n);if(e.shadowRoot)for(r=0;r<e.shadowRoot.childNodes.length;r++)t(e.shadowRoot.childNodes[r],n)}else if(8===e.nodeType){var i=e.nodeValue.split(".");"o"===i[0]&&(n.set(i[1]+"."+i[2],e),e.nodeValue="",e["s-en"]=i[3])}},nn=function(t,e,n,r){var i,o,a=hn(t),s=ut?a.$hostElement$:t,l=a.$instanceValues$.get(e),c=a.$flags$,u=ut?a.$lazyInstance$:s;i=n,o=r.$members$[e][0],n=null==i||ce(i)?i:mt&&4&o?"false"!==i&&(""===i||!!i):vt&&2&o?parseFloat(i):yt&&1&o?String(i):i;var d=Number.isNaN(l)&&Number.isNaN(n);if((!ut||!(8&c)||void 0===l)&&(n!==l&&!d)&&(a.$instanceValues$.set(e,n),ot&&(1024&a.$flags$?bn('The state/prop "'.concat(e,'" changed during rendering. This can potentially lead to infinite-loops and other bugs.'),"\nElement",s,"\nNew value",n,"\nOld value",l):2048&a.$flags$&&bn('The state/prop "'.concat(e,'" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"'),"\nElement",s,"\nNew value",n,"\nOld value",l)),!ut||u)){if(et&&r.$watchers$&&128&c){var f=r.$watchers$[e];f&&f.map((function(t){try{u[t](n,l,e)}catch(r){mn(r,s)}}))}if(U&&2===(18&c)){if(wt&&u.componentShouldUpdate&&!1===u.componentShouldUpdate(n,l,e))return;Ze(a,!1)}}},rn=function(t,e,n){if(O&&e.$members$){et&&t.watchers&&(e.$watchers$=t.watchers);var r=Object.entries(e.$members$),i=t.prototype;if(r.map((function(t){var r=(0,u.Z)(t,2),o=r[0],a=(0,u.Z)(r[1],1)[0];(R||j)&&(31&a||(!ut||2&n)&&32&a)?Object.defineProperty(i,o,{get:function(){return t=o,hn(this).$instanceValues$.get(t);var t},set:function(t){if(ot){var r=hn(this);0===(1&n)&&0===(8&r.$flags$)&&0!==(31&a)&&0===(1024&a)&&bn('@Prop() "'.concat(o,'" on <').concat(e.$tagName$,"> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability"))}nn(this,o,t,e)},configurable:!0,enumerable:!0}):ut&&L&&1&n&&64&a&&Object.defineProperty(i,o,{value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=hn(this);return r.$onInstancePromise$.then((function(){var t;return(t=r.$lazyInstance$)[o].apply(t,e)}))}})})),D&&(!ut||1&n)){var o=new Map;i.attributeChangedCallback=function(t,e,n){var r=this;Bt.jmp((function(){var e=o.get(t);if(r.hasOwnProperty(e))n=r[e],delete r[e];else if(i.hasOwnProperty(e)&&"number"===typeof r[e]&&r[e]==n)return;r[e]=(null!==n||"boolean"!==typeof r[e])&&n}))},t.observedAttributes=r.filter((function(t){var e=(0,u.Z)(t,2);e[0];return 15&e[1][0]})).map((function(t){var n=(0,u.Z)(t,2),r=n[0],i=n[1],a=i[1]||r;return o.set(a,r),I&&512&i[0]&&e.$attrsToReflect$.push([r,a]),a}))}}return t},on=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(e,r,i,o,a){var l,c,u,d,f,h,p;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(ut||st||$)||0!==(32&r.$flags$)){t.next=37;break}if(!ut&&!lt){t.next=22;break}if(r.$flags$|=32,!(a=wn(i,r,o)).then){t.next=10;break}return l=Qt("st:load:".concat(i.$tagName$,":").concat(r.$modeName$),"[Stencil] Load module for <".concat(i.$tagName$,">")),t.next=8,a;case 8:a=t.sent,l();case 10:if(!ot&&!it||a){t.next=12;break}throw new Error('Constructor for "'.concat(i.$tagName$,"#").concat(r.$modeName$,'" was not found'));case 12:O&&!a.isProxied&&(et&&(i.$watchers$=a.watchers),rn(a,i,2),a.isProxied=!0),c=Kt("createInstance",i.$tagName$),O&&(r.$flags$|=8);try{new a(r)}catch(s){mn(s)}O&&(r.$flags$&=-9),et&&(r.$flags$|=128),c(),an(r.$lazyInstance$),t.next=25;break;case 22:a=e.constructor,r.$flags$|=32,customElements.whenDefined(i.$tagName$).then((function(){return r.$flags$|=128}));case 25:if(!$||!a.style){t.next=37;break}if(u=a.style,P&&"string"!==typeof u&&(u=u[r.$modeName$=oe(e)],st&&r.$modeName$&&e.setAttribute("s-mode",r.$modeName$)),d=ie(i,r.$modeName$),kn.has(d)){t.next=37;break}if(f=Kt("registerStyles",i.$tagName$),!(!st&&N&&gt&&8&i.$flags$)){t.next=35;break}return t.next=34,n.e(858).then(n.bind(n,1858)).then((function(t){return t.scopeCss(u,d,!1)}));case 34:u=t.sent;case 35:ee(d,u,!!(1&i.$flags$)),f();case 37:h=r.$ancestorComponent$,p=function(){return Ze(r,!0)},At&&h&&h["s-rc"]?h["s-rc"].push(p):p();case 40:case"end":return t.stop()}}),t)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),an=function(t){ut&&w&&qe(t,"connectedCallback")},sn=function(t){if(0===(1&Bt.$flags$)){var e=hn(t),n=e.$cmpMeta$,r=Kt("connectedCallback",n.$tagName$);if(C&&Ht(t,e,n.$listeners$,!0),1&e.$flags$)Ht(t,e,n.$listeners$,!1),an(e.$lazyInstance$);else{var i;if(e.$flags$|=1,lt&&(i=t.getAttribute(Gt))){if(N&&jt&&1&n.$flags$){var o=P?ne(t.shadowRoot,n,t.getAttribute("s-mode")):ne(t.shadowRoot,n);t.classList.remove(o+"-h",o+"-s")}!function(t,e,n,r){var i=Kt("hydrateClient",e),o=t.shadowRoot,a=[],s=N&&o?[]:null,l=r.$vnode$=de(e,null);Bt.$orgLocNodes$||en(zt.body,Bt.$orgLocNodes$=new Map),t["s-id"]=n,t.removeAttribute(Gt),tn(l,a,[],s,t,t,n),a.map((function(t){var n=t.$hostId$+"."+t.$nodeId$,r=Bt.$orgLocNodes$.get(n),i=t.$elm$;r&&jt&&""===r["s-en"]&&r.parentNode.insertBefore(i,r.nextSibling),o||(i["s-hn"]=e,r&&(i["s-ol"]=r,i["s-ol"]["s-nr"]=i)),Bt.$orgLocNodes$.delete(n)})),N&&o&&s.map((function(t){t&&o.appendChild(t)})),i()}(t,n.$tagName$,i,e)}if(ft&&!i&&(st||(B||N)&&12&n.$flags$)&&ln(t),At)for(var a=t;a=a.parentNode||a.host;)if(lt&&1===a.nodeType&&a.hasAttribute("s-id")&&a["s-p"]||a["s-p"]){$e(e,e.$ancestorComponent$=a);break}R&&!st&&n.$members$&&Object.entries(n.$members$).map((function(e){var n=(0,u.Z)(e,2),r=n[0];if(31&(0,u.Z)(n[1],1)[0]&&t.hasOwnProperty(r)){var i=t[r];delete t[r],t[r]=i}})),_t?Ln((function(){return on(t,e,n)})):on(t,e,n)}r()}},ln=function(t){var e=t["s-cr"]=zt.createComment(it?"content-ref (host=".concat(t.localName,")"):"");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},cn=function(t){if(0===(1&Bt.$flags$)){var e=hn(t),n=ut?e.$lazyInstance$:t;A&&e.$rmListeners$&&(e.$rmListeners$.map((function(t){return t()})),e.$rmListeners$=void 0),bt&&Bt.$cssShim$&&Bt.$cssShim$.removeHost(t),ut&&k&&qe(n,"disconnectedCallback"),g&&qe(n,"componentDidUnload")}},un=function(t,e){var n={$flags$:e[0],$tagName$:e[1]};O&&(n.$members$=e[2]),A&&(n.$listeners$=e[3]),et&&(n.$watchers$=t.$watchers$),I&&(n.$attrsToReflect$=[]),N&&!jt&&1&n.$flags$&&(n.$flags$|=8);var r=t.prototype.connectedCallback,i=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost:function(){pn(this,n)},connectedCallback:function(){sn(this),w&&r&&r.call(this)},disconnectedCallback:function(){cn(this),k&&i&&i.call(this)},__attachShadow:function(){jt?kt?this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),t.is=n.$tagName$,rn(t,n,3)},dn=function(t){var e=new URL(t,Bt.$resourcesUrl$);return e.origin!==It.location.origin?e.href:e.pathname},fn=new WeakMap,hn=function(t){return fn.get(t)},pn=function(t,e){var n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return ot&&(n.$renderCount$=0),L&&ut&&(n.$onInstancePromise$=new Promise((function(t){return n.$onInstanceResolve$=t}))),At&&(n.$onReadyPromise$=new Promise((function(t){return n.$onReadyResolve$=t})),t["s-p"]=[],t["s-rc"]=[]),Ht(t,n,e.$listeners$,!1),fn.set(t,n)},gn=function(t,e){return e in t},mn=function(t,e){return(a||console.error)(t,e)},vn=at?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],yn=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).error.apply(t,vn.concat(n))},bn=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).warn.apply(t,vn.concat(n))},xn=new Map,wn=function(t,e,r){var i=t.$tagName$.replace(/-/g,"_"),o=t.$lazyBundleId$;if(!ot||"string"===typeof o){var a=!rt&&xn.get(o);return a?a[i]:n(9)("./".concat(o,".entry.js").concat(rt&&r?"?s-hmr="+r:"")).then((function(t){return rt||xn.set(o,t),t[i]}),mn)}yn("Trying to lazily load component <".concat(t.$tagName$,'> with style mode "').concat(e.$modeName$,'", but it does not exist.'))},kn=new Map,_n=[],An=[],Tn=[],Mn=[],En=function(t,e){return function(n){t.push(n),Rt||(Rt=!0,e&&4&Bt.$flags$?Ln(On):Bt.raf(On))}},Cn=function(t){for(var e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){mn(n)}t.length=0},Sn=function(t,e){for(var n=0,r=0;n<t.length&&(r=performance.now())<e;)try{t[n++](r)}catch(i){mn(i)}n===t.length?t.length=0:0!==n&&t.splice(0,n)},On=function t(){if(Tt&&Dt++,Cn(An),Tt){var e=2===(6&Bt.$flags$)?performance.now()+14*Math.ceil(.1*Dt):1/0;Sn(Tn,e),Sn(Mn,e),Tn.length>0&&(Mn.push.apply(Mn,Tn),Tn.length=0),(Rt=An.length+Tn.length+Mn.length>0)?Bt.raf(t):Dt=0}else Cn(Tn),(Rt=An.length>0)&&Bt.raf(t)},Ln=function(t){return Promise.resolve(e).then(t);var e},Pn=En(An,!1),Dn=En(Tn,!0),Rn={isDev:!!ot,isBrowser:!0,isServer:!1,isTesting:!!at}},2110:function(t,e,n){"use strict";var r=n(7441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&t(e,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(e),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(n,v);try{c(e,v,y)}catch(b){}}}}return e}},1725:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,o){for(var a,s,l=i(t),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))n.call(a,u)&&(l[u]=a[u]);if(e){s=e(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},6151:function(t,e,n){var r=n(2878);t.exports=h,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",u=e&&e.delimiter||"/";null!=(n=i.exec(t));){var d=n[0],f=n[1],h=n.index;if(s+=t.slice(a,h),a=h+d.length,f)s+=f[1];else{var p=t[a],g=n[2],m=n[3],v=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=p&&p!==g,k="+"===b||"*"===b,_="?"===b||"*"===b,A=n[2]||u,T=v||y;r.push({name:m||o++,prefix:g||"",delimiter:A,optional:_,repeat:k,partial:w,asterisk:!!x,pattern:T?c(T):x?".*":"[^"+l(A)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",d(e)));return function(e,i){for(var o="",s=e||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var u=t[c];if("string"!==typeof u){var d,f=s[u.name];if(null==f){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(d=l(f[h]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===h?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):l(f),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function d(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=l(c);else{var f=l(c.prefix),h="(?:"+c.pattern+")";e.push(c),c.repeat&&(h+="(?:"+f+h+")*"),a+=h=c.optional?c.partial?f+"("+h+")?":"(?:"+f+"("+h+"))?":f+"("+h+")"}}var p=l(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",u(new RegExp("^"+a,d(n)),e)}function h(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(h(t[i],e,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},2878:function(t){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},3034:function(t,e,n){t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";var r=t("../src/lib"),i={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in i){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(a,i[o])}},{"../src/lib":400}],2:[function(t,e,n){"use strict";e.exports=t("../src/transforms/aggregate")},{"../src/transforms/aggregate":594}],3:[function(t,e,n){"use strict";e.exports=t("../src/components/calendars")},{"../src/components/calendars":255}],4:[function(t,e,n){"use strict";e.exports=t("../src/core")},{"../src/core":380}],5:[function(t,e,n){"use strict";e.exports=t("../src/transforms/filter")},{"../src/transforms/filter":595}],6:[function(t,e,n){"use strict";e.exports=t("../src/transforms/groupby")},{"../src/transforms/groupby":596}],7:[function(t,e,n){"use strict";e.exports=t("../src/traces/heatmapgl")},{"../src/traces/heatmapgl":512}],8:[function(t,e,n){"use strict";var r=t("./core");r.register([t("./scattergl"),t("./splom"),t("./pointcloud"),t("./heatmapgl"),t("./parcoords"),t("./aggregate"),t("./filter"),t("./groupby"),t("./sort"),t("./calendars")]),e.exports=r},{"./aggregate":2,"./calendars":3,"./core":4,"./filter":5,"./groupby":6,"./heatmapgl":7,"./parcoords":9,"./pointcloud":10,"./scattergl":11,"./sort":12,"./splom":13}],9:[function(t,e,n){"use strict";e.exports=t("../src/traces/parcoords")},{"../src/traces/parcoords":527}],10:[function(t,e,n){"use strict";e.exports=t("../src/traces/pointcloud")},{"../src/traces/pointcloud":537}],11:[function(t,e,n){"use strict";e.exports=t("../src/traces/scattergl")},{"../src/traces/scattergl":578}],12:[function(t,e,n){"use strict";e.exports=t("../src/transforms/sort")},{"../src/transforms/sort":598}],13:[function(t,e,n){"use strict";e.exports=t("../src/traces/splom")},{"../src/traces/splom":590}],14:[function(t,e,n){(function(){var t={version:"3.8.0"},n=[].slice,r=function(t){return n.call(t)},i=self.document;function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(i)try{r(i.documentElement.childNodes)[0].nodeType}catch(t){r=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var s=this.Element.prototype,l=s.setAttribute,c=s.setAttributeNS,u=this.CSSStyleDeclaration.prototype,d=u.setProperty;s.setAttribute=function(t,e){l.call(this,t,e+"")},s.setAttributeNS=function(t,e,n){c.call(this,t,e,n+"")},u.setProperty=function(t,e,n){d.call(this,t,e+"",n)}}function f(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function h(t){return null===t?NaN:+t}function p(t){return!isNaN(t)}function g(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}t.ascending=f,t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},t.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},t.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},t.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)p(n=+t[o])&&(r+=n);else for(;++o<i;)p(n=+e.call(t,t[o],o))&&(r+=n);return r},t.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)p(n=h(t[o]))?r+=n:--a;else for(;++o<i;)p(n=h(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},t.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},t.median=function(e,n){var r,i=[],o=e.length,a=-1;if(1===arguments.length)for(;++a<o;)p(r=h(e[a]))&&i.push(r);else for(;++a<o;)p(r=h(n.call(e,e[a],a)))&&i.push(r);if(i.length)return t.quantile(i.sort(f),.5)},t.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)p(n=h(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++l)));else for(;++s<i;)p(n=h(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++l)));if(l>1)return a/(l-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e?Math.sqrt(e):e};var m=g(f);function v(t){return t.length}t.bisectLeft=m.left,t.bisect=t.bisectRight=m.right,t.bisector=function(t){return g(1===t.length?function(e,n){return f(t(e),n)}:t)},t.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},t.transpose=function(e){if(!(o=e.length))return[];for(var n=-1,r=t.min(e,v),i=new Array(r);++n<r;)for(var o,a=-1,s=i[n]=new Array(o);++a<o;)s[a]=e[a][n];return i},t.zip=function(){return t.transpose(arguments)},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},t.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var y=Math.abs;function b(t){for(var e=1;t*e%1;)e*=10;return e}function x(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function w(){this._=Object.create(null)}function k(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function _(t){return"\0"===(t+="")[0]?t.slice(1):t}function A(t){return k(t)in this._}function T(t){return(t=k(t))in this._&&delete this._[t]}function M(){var t=[];for(var e in this._)t.push(_(e));return t}function E(){var t=0;for(var e in this._)++t;return t}function C(){for(var t in this._)return!1;return!0}function S(){this._=Object.create(null)}function O(t){return t}function L(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function P(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=D.length;n<r;++n){var i=D[n]+e;if(i in t)return i}}t.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=b(y(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},t.map=function(t,e){var n=new w;if(t instanceof w)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n},x(w,{has:A,get:function(t){return this._[k(t)]},set:function(t,e){return this._[k(t)]=e},remove:T,keys:M,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:_(e),value:this._[e]});return t},size:E,empty:C,forEach:function(t){for(var e in this._)t.call(this,_(e),this._[e])}}),t.nest=function(){var e,n,r={},i=[],o=[];function a(t,o,s){if(s>=i.length)return n?n.call(r,o):e?o.sort(e):o;for(var l,c,u,d,f=-1,h=o.length,p=i[s++],g=new w;++f<h;)(d=g.get(l=p(c=o[f])))?d.push(c):g.set(l,[c]);return t?(c=t(),u=function(e,n){c.set(e,a(t,n,s))}):(c={},u=function(e,n){c[e]=a(t,n,s)}),g.forEach(u),c}return r.map=function(t,e){return a(e,t,0)},r.entries=function(e){return function t(e,n){if(n>=i.length)return e;var r=[],a=o[n++];return e.forEach((function(e,i){r.push({key:e,values:t(i,n)})})),a?r.sort((function(t,e){return a(t.key,e.key)})):r}(a(t.map,e,0),0)},r.key=function(t){return i.push(t),r},r.sortKeys=function(t){return o[i.length-1]=t,r},r.sortValues=function(t){return e=t,r},r.rollup=function(t){return n=t,r},r},t.set=function(t){var e=new S;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},x(S,{has:A,add:function(t){return this._[k(t+="")]=!0,t},remove:T,values:M,size:E,empty:C,forEach:function(t){for(var e in this._)t.call(this,_(e))}}),t.behavior={},t.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=L(t,e,e[n]);return t};var D=["webkit","ms","moz","Moz","o","O"];function R(){}function I(){}function z(t){var e=[],n=new w;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function N(){t.event.preventDefault()}function B(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function F(e){for(var n=new I,r=0,i=arguments.length;++r<i;)n[arguments[r]]=z(n);return n.of=function(r,i){return function(o){try{var a=o.sourceEvent=t.event;o.target=e,t.event=o,n[o.type].apply(r,i)}finally{t.event=a}}},n}t.dispatch=function(){for(var t=new I,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=z(t);return t},I.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},t.event=null,t.requote=function(t){return t.replace(j,"\\$&")};var j=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Z(t){return $(t,W),t}var U=function(t,e){return e.querySelector(t)},H=function(t,e){return e.querySelectorAll(t)},V=function(t,e){var n=t.matches||t[P(t,"matchesSelector")];return(V=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(U=function(t,e){return Sizzle(t,e)[0]||null},H=Sizzle,V=Sizzle.matchesSelector),t.selection=function(){return t.select(i.documentElement)};var W=t.selection.prototype=[];function Y(t){return"function"==typeof t?t:function(){return U(t,this)}}function G(t){return"function"==typeof t?t:function(){return H(t,this)}}W.select=function(t){var e,n,r,i,o=[];t=Y(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return Z(o)},W.selectAll=function(t){var e,n,i=[];t=G(t);for(var o=-1,a=this.length;++o<a;)for(var s=this[o],l=-1,c=s.length;++l<c;)(n=s[l])&&(i.push(e=r(t.call(n,n.__data__,l,o))),e.parentNode=n);return Z(i)};var q="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function J(e,n){return e=t.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function K(t){return t.trim().replace(/\s+/g," ")}function Q(e){return new RegExp("(?:^|\\s+)"+t.requote(e)+"(?:\\s+|$)","g")}function tt(t){return(t+"").trim().split(/^|\s+/)}function et(t,e){var n=(t=tt(t).map(nt)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function nt(t){var e=Q(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",K(i+" "+t))):n.setAttribute("class",K(i.replace(e," ")))}}function rt(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function it(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ot(e){return"function"==typeof e?e:(e=t.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===q&&t.documentElement.namespaceURI===q?t.createElement(e):t.createElementNS(n,e)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function lt(t){return function(){return V(this,t)}}function ct(t){return arguments.length||(t=f),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function ut(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function dt(t){return $(t,ft),t}t.ns={prefix:X,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),X.hasOwnProperty(n)?{space:X[n],local:t}:t}},W.attr=function(e,n){if(arguments.length<2){if("string"==typeof e){var r=this.node();return(e=t.ns.qualify(e)).local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(n in e)this.each(J(n,e[n]));return this}return this.each(J(e,n))},W.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=tt(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!Q(t[i]).test(e))return!1;return!0}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},W.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(rt(n,t[n],e));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(rt(t,e,n))},W.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))},W.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},W.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},W.append=function(t){return t=ot(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},W.insert=function(t,e){return t=ot(t),e=Y(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},W.remove=function(){return this.each(at)},W.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,u=n.length,d=Math.min(a,u),f=new Array(u),h=new Array(u),p=new Array(a);if(e){var g,m=new w,v=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(m.has(g=e.call(i,i.__data__,r))?p[r]=i:m.set(g,i),v[r]=g);for(r=-1;++r<u;)(i=m.get(g=e.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):h[r]=st(o),m.set(g,!0);for(r=-1;++r<a;)r in v&&!0!==m.get(v[r])&&(p[r]=t[r])}else{for(r=-1;++r<d;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):h[r]=st(o);for(;r<u;++r)h[r]=st(n[r]);for(;r<a;++r)p[r]=t[r]}h.update=f,h.parentNode=f.parentNode=p.parentNode=t.parentNode,s.push(h),l.push(f),c.push(p)}var s=dt([]),l=Z([]),c=Z([]);if("function"==typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return l.enter=function(){return s},l.exit=function(){return c},l},W.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},W.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=lt(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Z(i)},W.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},W.sort=function(t){t=ct.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},W.each=function(t){return ut(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},W.call=function(t){var e=r(arguments);return t.apply(e[0]=this,e),this},W.empty=function(){return!this.node()},W.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},W.size=function(){var t=0;return ut(this,(function(){++t})),t};var ft=[];function ht(t){var e,n;return function(r,i,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<l;);return a}}function pt(e,n,i){var o="__on"+e,a=e.indexOf("."),s=mt;a>0&&(e=e.slice(0,a));var l=gt.get(e);function c(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}return l&&(e=l,s=vt),a?n?function(){var t=s(n,r(arguments));c.call(this),this.addEventListener(e,this[o]=t,t.$=i),t._=n}:c:n?R:function(){var n,r=new RegExp("^__on([^.]+)"+t.requote(e)+"$");for(var i in this)if(n=i.match(r)){var o=this[i];this.removeEventListener(n[1],o,o.$),delete this[i]}}}t.selection.enter=dt,t.selection.enter.prototype=ft,ft.append=W.append,ft.empty=W.empty,ft.node=W.node,ft.call=W.call,ft.size=W.size,ft.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return Z(a)},ft.insert=function(t,e){return arguments.length<2&&(e=ht(this)),W.insert.call(this,t,e)},t.select=function(t){var e;return"string"==typeof t?(e=[U(t,i)]).parentNode=i.documentElement:(e=[t]).parentNode=o(t),Z([e])},t.selectAll=function(t){var e;return"string"==typeof t?(e=r(H(t,i))).parentNode=i.documentElement:(e=r(t)).parentNode=null,Z([e])},W.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(pt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(pt(t,e,n))};var gt=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function mt(e,n){return function(r){var i=t.event;t.event=r,n[0]=this.__data__;try{e.apply(this,n)}finally{t.event=i}}}function vt(t,e){var n=mt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}i&&gt.forEach((function(t){"on"+t in i&&gt.remove(t)}));var yt,bt=0;function xt(e){var n=".dragsuppress-"+ ++bt,r="click"+n,i=t.select(a(e)).on("touchmove"+n,N).on("dragstart"+n,N).on("selectstart"+n,N);if(null==yt&&(yt=!("onselectstart"in e)&&P(e.style,"userSelect")),yt){var s=o(e).style,l=s[yt];s[yt]="none"}return function(t){if(i.on(n,null),yt&&(s[yt]=l),t){var e=function(){i.on(r,null)};i.on(r,(function(){N(),e()}),!0),setTimeout(e,0)}}}t.mouse=function(t){return kt(t,B())};var wt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function kt(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(wt<0){var o=a(e);if(o.scrollX||o.scrollY){var s=(r=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();wt=!(s.f||s.e),r.remove()}}return wt?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var l=e.getBoundingClientRect();return[n.clientX-l.left-e.clientLeft,n.clientY-l.top-e.clientTop]}function _t(){return t.event.changedTouches[0].identifier}t.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=B().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return kt(t,r)},t.behavior.drag=function(){var e=F(o,"drag","dragstart","dragend"),n=null,r=s(R,t.mouse,a,"mousemove","mouseup"),i=s(_t,t.touch,O,"touchmove","touchend");function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function s(r,i,o,a,s){return function(){var l,c=this,u=t.event.target.correspondingElement||t.event.target,d=c.parentNode,f=e.of(c,arguments),h=0,p=r(),g=".drag"+(null==p?"":"-"+p),m=t.select(o(u)).on(a+g,b).on(s+g,x),v=xt(u),y=i(d,p);function b(){var t,e,n=i(d,p);n&&(t=n[0]-y[0],e=n[1]-y[1],h|=t|e,y=n,f({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}function x(){i(d,p)&&(m.on(a+g,null).on(s+g,null),v(h),f({type:"dragend"}))}l=n?[(l=n.apply(c,arguments)).x-y[0],l.y-y[1]]:[0,0],f({type:"dragstart"})}}return o.origin=function(t){return arguments.length?(n=t,o):n},t.rebind(o,e,"on")},t.touches=function(t,e){return arguments.length<2&&(e=B().touches),e?r(e).map((function(e){var n=kt(t,e);return n.identifier=e.identifier,n})):[]};var At=1e-6,Tt=Math.PI,Mt=2*Tt,Et=Mt-At,Ct=Tt/2,St=Tt/180,Ot=180/Tt;function Lt(t){return t>1?Ct:t<-1?-Ct:Math.asin(t)}function Pt(t){return((t=Math.exp(t))+1/t)/2}var Dt=Math.SQRT2;t.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=s-i,d=l-o,f=u*u+d*d;if(f<1e-12)r=Math.log(c/a)/Dt,n=function(t){return[i+t*u,o+t*d,a*Math.exp(Dt*t*r)]};else{var h=Math.sqrt(f),p=(c*c-a*a+4*f)/(2*a*2*h),g=(c*c-a*a-4*f)/(2*c*2*h),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Dt,n=function(t){var e,n=t*r,s=Pt(m),l=a/(2*h)*(s*(e=Dt*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+l*u,o+l*d,a*s/Pt(Dt*n+m)]}}return n.duration=1e3*r,n},t.behavior.zoom=function(){var e,n,r,o,s,l,c,u,d,f={x:0,y:0,k:1},h=[960,500],p=zt,g=250,m=0,v="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",w=F(k,"zoomstart","zoom","zoomend");function k(t){t.on(v,L).on(It+".zoom",D).on("dblclick.zoom",R).on(x,P)}function _(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function A(t){f.k=Math.max(p[0],Math.min(p[1],t))}function T(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function M(e,r,i,o){e.__chart__={x:f.x,y:f.y,k:f.k},A(Math.pow(2,o)),T(n=r,i),e=t.select(e),g>0&&(e=e.transition().duration(g)),e.call(k.event)}function E(){c&&c.domain(l.range().map((function(t){return(t-f.x)/f.k})).map(l.invert)),d&&d.domain(u.range().map((function(t){return(t-f.y)/f.k})).map(u.invert))}function C(t){m++||t({type:"zoomstart"})}function S(t){E(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function O(t){--m||(t({type:"zoomend"}),n=null)}function L(){var e=this,n=w.of(e,arguments),r=0,i=t.select(a(e)).on(y,l).on(b,c),o=_(t.mouse(e)),s=xt(e);function l(){r=1,T(t.mouse(e),o),S(n)}function c(){i.on(y,null).on(b,null),s(r),O(n)}Ii.call(e),C(n)}function P(){var e,n=this,r=w.of(n,arguments),i={},o=0,a=".zoom-"+t.event.changedTouches[0].identifier,l="touchmove"+a,c="touchend"+a,u=[],d=t.select(n),h=xt(n);function p(){var r=t.touches(n);return e=f.k,r.forEach((function(t){t.identifier in i&&(i[t.identifier]=_(t))})),r}function g(){var e=t.event.target;t.select(e).on(l,m).on(c,y),u.push(e);for(var r=t.event.changedTouches,a=0,d=r.length;a<d;++a)i[r[a].identifier]=null;var h=p(),g=Date.now();if(1===h.length){if(g-s<500){var v=h[0];M(n,v,i[v.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),N()}s=g}else if(h.length>1){v=h[0];var b=h[1],x=v[0]-b[0],w=v[1]-b[1];o=x*x+w*w}}function m(){var a,l,c,u,d=t.touches(n);Ii.call(n);for(var f=0,h=d.length;f<h;++f,u=null)if(c=d[f],u=i[c.identifier]){if(l)break;a=c,l=u}if(u){var p=(p=c[0]-a[0])*p+(p=c[1]-a[1])*p,g=o&&Math.sqrt(p/o);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],A(g*e)}s=null,T(a,l),S(r)}function y(){if(t.event.touches.length){for(var e=t.event.changedTouches,n=0,o=e.length;n<o;++n)delete i[e[n].identifier];for(var s in i)return void p()}t.selectAll(u).on(a,null),d.on(v,L).on(x,P),h(),O(r)}g(),C(r),d.on(v,null).on(x,g)}function D(){var i=w.of(this,arguments);o?clearTimeout(o):(Ii.call(this),e=_(n=r||t.mouse(this)),C(i)),o=setTimeout((function(){o=null,O(i)}),50),N(),A(Math.pow(2,.002*Rt())*f.k),T(n,e),S(i)}function R(){var e=t.mouse(this),n=Math.log(f.k)/Math.LN2;M(this,e,_(e),t.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return It||(It="onwheel"in i?(Rt=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(Rt=function(){return t.event.wheelDelta},"mousewheel"):(Rt=function(){return-t.event.detail},"MozMousePixelScroll")),k.event=function(e){e.each((function(){var e=w.of(this,arguments),r=f;Bi?t.select(this).transition().each("start.zoom",(function(){f=this.__chart__||{x:0,y:0,k:1},C(e)})).tween("zoom:zoom",(function(){var i=h[0],o=h[1],a=n?n[0]:i/2,s=n?n[1]:o/2,l=t.interpolateZoom([(a-f.x)/f.k,(s-f.y)/f.k,i/f.k],[(a-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=f={x:a-n[0]*r,y:s-n[1]*r,k:r},S(e)}})).each("interrupt.zoom",(function(){O(e)})).each("end.zoom",(function(){O(e)})):(this.__chart__=f,C(e),S(e),O(e))}))},k.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},E(),k):[f.x,f.y]},k.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},A(+t),E(),k):f.k},k.scaleExtent=function(t){return arguments.length?(p=null==t?zt:[+t[0],+t[1]],k):p},k.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],k):r},k.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],k):h},k.duration=function(t){return arguments.length?(g=+t,k):g},k.x=function(t){return arguments.length?(c=t,l=t.copy(),f={x:0,y:0,k:1},k):c},k.y=function(t){return arguments.length?(d=t,u=t.copy(),f={x:0,y:0,k:1},k):d},t.rebind(k,w,"on")};var Rt,It,zt=[0,1/0];function Nt(){}function Bt(t,e,n){return this instanceof Bt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Bt?new Bt(t.h,t.s,t.l):re(""+t,ie,Bt):new Bt(t,e,n)}t.color=Nt,Nt.prototype.toString=function(){return this.rgb()+""},t.hsl=Bt;var Ft=Bt.prototype=new Nt;function jt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new Kt(o(t+120),o(t),o(t-120))}function $t(e,n,r){return this instanceof $t?(this.h=+e,this.c=+n,void(this.l=+r)):arguments.length<2?e instanceof $t?new $t(e.h,e.c,e.l):Gt(e instanceof Ht?e.l:(e=oe((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new $t(e,n,r)}Ft.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Bt(this.h,this.s,this.l/t)},Ft.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Bt(this.h,this.s,t*this.l)},Ft.rgb=function(){return jt(this.h,this.s,this.l)},t.hcl=$t;var Zt=$t.prototype=new Nt;function Ut(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Ht(n,Math.cos(t*=St)*e,Math.sin(t)*e)}function Ht(t,e,n){return this instanceof Ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Ht?new Ht(t.l,t.a,t.b):t instanceof $t?Ut(t.h,t.c,t.l):oe((t=Kt(t)).r,t.g,t.b):new Ht(t,e,n)}Zt.brighter=function(t){return new $t(this.h,this.c,Math.min(100,this.l+Vt*(arguments.length?t:1)))},Zt.darker=function(t){return new $t(this.h,this.c,Math.max(0,this.l-Vt*(arguments.length?t:1)))},Zt.rgb=function(){return Ut(this.h,this.c,this.l).rgb()},t.lab=Ht;var Vt=18,Wt=Ht.prototype=new Nt;function Yt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new Kt(Jt(3.2404542*(i=.95047*qt(i))-1.5371385*(r=1*qt(r))-.4985314*(o=1.08883*qt(o))),Jt(-.969266*i+1.8760108*r+.041556*o),Jt(.0556434*i-.2040259*r+1.0572252*o))}function Gt(t,e,n){return t>0?new $t(Math.atan2(n,e)*Ot,Math.sqrt(e*e+n*n),t):new $t(NaN,NaN,t)}function qt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function Xt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function Jt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function Kt(t,e,n){return this instanceof Kt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof Kt?new Kt(t.r,t.g,t.b):re(""+t,Kt,jt):new Kt(t,e,n)}function Qt(t){return new Kt(t>>16,t>>8&255,255&t)}function te(t){return Qt(t)+""}Wt.brighter=function(t){return new Ht(Math.min(100,this.l+Vt*(arguments.length?t:1)),this.a,this.b)},Wt.darker=function(t){return new Ht(Math.max(0,this.l-Vt*(arguments.length?t:1)),this.a,this.b)},Wt.rgb=function(){return Yt(this.l,this.a,this.b)},t.rgb=Kt;var ee=Kt.prototype=new Nt;function ne(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function re(t,e,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(se(i[0]),se(i[1]),se(i[2]))}return(o=le.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function ie(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new Bt(r,i,l)}function oe(t,e,n){var r=Xt((.4124564*(t=ae(t))+.3575761*(e=ae(e))+.1804375*(n=ae(n)))/.95047),i=Xt((.2126729*t+.7151522*e+.072175*n)/1);return Ht(116*i-16,500*(r-i),200*(i-Xt((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function ae(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function se(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ee.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new Kt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new Kt(i,i,i)},ee.darker=function(t){return new Kt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ee.hsl=function(){return ie(this.r,this.g,this.b)},ee.toString=function(){return"#"+ne(this.r)+ne(this.g)+ne(this.b)};var le=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ce(t){return"function"==typeof t?t:function(){return t}}function ue(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),de(e,n,t,r)}}function de(e,n,i,o){var a={},s=t.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function d(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||e>=200&&e<300||304===e){try{t=i.call(a,c)}catch(t){return void s.error.call(a,t)}s.load.call(a,t)}else s.error.call(a,c)}return self.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=d:c.onreadystatechange=function(){c.readyState>3&&d()},c.onprogress=function(e){var n=t.event;t.event=e;try{s.progress.call(a,c)}finally{t.event=n}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",a):n},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return i=t,a},["get","post"].forEach((function(t){a[t]=function(){return a.send.apply(a,[t].concat(r(arguments)))}})),a.send=function(t,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),c.open(t,e,!0),null==n||"accept"in l||(l.accept=n+",*/*"),c.setRequestHeader)for(var o in l)c.setRequestHeader(o,l[o]);return null!=n&&c.overrideMimeType&&c.overrideMimeType(n),null!=u&&(c.responseType=u),null!=i&&a.on("error",i).on("load",(function(t){i(null,t)})),s.beforesend.call(a,c),c.send(null==r?null:r),a},a.abort=function(){return c.abort(),a},t.rebind(a,s,"on"),null==o?a:a.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(o))}le.forEach((function(t,e){le.set(t,Qt(e))})),t.functor=ce,t.xhr=ue(O),t.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=de(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=function(e){for(var n={},r=t.length,i=0;i<r;++i)n[t[i]]=e[i];return n};n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,o={},a={},s=[],l=t.length,c=0,u=0;function d(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(s=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++c):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var s,u=1;if(10===(s=t.charCodeAt(c++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++u);else if(s!==r)continue;return t.slice(e,c-u)}return t.slice(e)}for(;(n=d())!==a;){for(var f=[];n!==o&&n!==a;)f.push(n),n=d();e&&null==(f=e(f,u++))||s.push(f)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new S,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(l).join(t)].concat(e.map((function(e){return r.map((function(t){return l(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var fe,he,pe,ge,me=this[P(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function ve(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return he?he.n=i:fe=i,he=i,pe||(ge=clearTimeout(ge),pe=1,me(ye)),i}function ye(){var t=be(),e=xe()-t;e>24?(isFinite(e)&&(clearTimeout(ge),ge=setTimeout(ye,e)),pe=0):(pe=1,me(ye))}function be(){for(var t=Date.now(),e=fe;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function xe(){for(var t,e=fe,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:fe=e.n;return he=t,n}function we(t){return t[0]}function ke(t){return t[1]}function _e(t){for(var e,n,r,i=t.length,o=[0,1],a=2,s=2;s<i;s++){for(;a>1&&(e=t[o[a-2]],n=t[o[a-1]],r=t[s],(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])<=0);)--a;o[a++]=s}return o.slice(0,a)}function Ae(t,e){return t[0]-e[0]||t[1]-e[1]}t.timer=function(){ve.apply(this,arguments)},t.timer.flush=function(){be(),xe()},t.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},t.geom={},t.geom.hull=function(t){var e=we,n=ke;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ce(e),o=ce(n),a=t.length,s=[],l=[];for(r=0;r<a;r++)s.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(s.sort(Ae),r=0;r<a;r++)l.push([s[r][0],-s[r][1]]);var c=_e(s),u=_e(l),d=u[0]===c[0],f=u[u.length-1]===c[c.length-1],h=[];for(r=c.length-1;r>=0;--r)h.push(t[s[c[r]][2]]);for(r=+d;r<u.length-f;++r)h.push(t[s[u[r]][2]]);return h}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},t.geom.polygon=function(t){return $(t,Te),t};var Te=t.geom.polygon.prototype=[];function Me(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ee(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,l=t[1],c=n[1],u=e[1]-l,d=r[1]-c,f=(s*(l-c)-d*(i-o))/(d*a-s*u);return[i+f*a,l+f*u]}function Ce(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}Te.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Te.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Te.clip=function(t){for(var e,n,r,i,o,a,s=Ce(t),l=-1,c=this.length-Ce(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)Me(a=e[n],u,i)?(Me(o,u,i)||t.push(Ee(o,a,u,i)),t.push(a)):Me(o,u,i)&&t.push(Ee(o,a,u,i)),o=a;s&&t.push(t[0]),u=i}return t};var Se,Oe,Le,Pe,De,Re=[],Ie=[];function ze(){en(this),this.edge=this.site=this.circle=null}function Ne(t){var e=Re.pop()||new ze;return e.site=t,e}function Be(t){Ye(t),Le.remove(t),Re.push(t),en(t)}function Fe(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Be(t);for(var l=o;l.circle&&y(n-l.circle.x)<At&&y(r-l.circle.cy)<At;)o=l.P,s.unshift(l),Be(l),l=o;s.unshift(l),Ye(l);for(var c=a;c.circle&&y(n-c.circle.x)<At&&y(r-c.circle.cy)<At;)a=c.N,s.push(c),Be(c),c=a;s.push(c),Ye(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],Ke(c.edge,l.site,c.site,i);l=s[0],(c=s[d-1]).edge=Xe(l.site,c.site,null,i),We(l),We(c)}function je(t){for(var e,n,r,i,o=t.x,a=t.y,s=Le._;s;)if((r=$e(s,a)-o)>At)s=s.L;else{if(!((i=o-Ze(s,a))>At)){r>-At?(e=s.P,n=s):i>-At?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Ne(t);if(Le.insert(e,l),e||n){if(e===n)return Ye(e),n=Ne(e.site),Le.insert(l,n),l.edge=n.edge=Xe(e.site,l.site),We(e),void We(n);if(n){Ye(e),Ye(n);var c=e.site,u=c.x,d=c.y,f=t.x-u,h=t.y-d,p=n.site,g=p.x-u,m=p.y-d,v=2*(f*m-h*g),y=f*f+h*h,b=g*g+m*m,x={x:(m*y-h*b)/v+u,y:(f*b-g*y)/v+d};Ke(n.edge,c,p,x),l.edge=Xe(c,t,null,x),n.edge=Xe(t,p,null,x),We(e),We(n)}else l.edge=Xe(e.site,l.site)}}function $e(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,c=l-e;if(!c)return s;var u=s-r,d=1/o-1/c,f=u/c;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*c)-l+c/2+i-o/2)))/d+r:(r+s)/2}function Ze(t,e){var n=t.N;if(n)return $e(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ue(t){this.site=t,this.edges=[]}function He(t,e){return e.angle-t.angle}function Ve(){en(this),this.x=this.y=this.arc=this.site=this.cy=null}function We(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,c=r.y-s,u=o.x-a,d=2*(l*(m=o.y-s)-c*u);if(!(d>=-1e-12)){var f=l*l+c*c,h=u*u+m*m,p=(m*f-c*h)/d,g=(l*h-u*f)/d,m=g+s,v=Ie.pop()||new Ve;v.arc=t,v.site=i,v.x=p+a,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,b=De._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}De.insert(y,v),y||(Pe=v)}}}}function Ye(t){var e=t.circle;e&&(e.P||(Pe=e.N),De.remove(e),Ie.push(e),en(e),t.circle=null)}function Ge(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,d=t.r,f=u.x,h=u.y,p=d.x,g=d.y,m=(f+p)/2,v=(h+g)/2;if(g===h){if(m<a||m>=s)return;if(f>p){if(o){if(o.y>=c)return}else o={x:m,y:l};n={x:m,y:c}}else{if(o){if(o.y<l)return}else o={x:m,y:c};n={x:m,y:l}}}else if(i=v-(r=(f-p)/(g-h))*m,r<-1||r>1)if(f>p){if(o){if(o.y>=c)return}else o={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(h<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function qe(t,e){this.l=t,this.r=e,this.a=this.b=null}function Xe(t,e,n,r){var i=new qe(t,e);return Se.push(i),n&&Ke(i,t,e,n),r&&Ke(i,e,t,r),Oe[t.i].edges.push(new Qe(i,t,e)),Oe[e.i].edges.push(new Qe(i,e,t)),i}function Je(t,e,n){var r=new qe(t,null);return r.a=e,r.b=n,Se.push(r),r}function Ke(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Qe(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function tn(){this._=null}function en(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function nn(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function rn(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function on(t){for(;t.L;)t=t.L;return t}function an(t,e){var n,r,i,o=t.sort(sn).pop();for(Se=[],Oe=new Array(t.length),Le=new tn,De=new tn;;)if(i=Pe,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(Oe[o.i]=new Ue(o),je(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Fe(i.arc)}e&&(function(t){for(var e,n,r,i,o,a=Se,s=(n=t[0][0],r=t[0][1],i=t[1][0],o=t[1][1],function(t){var e,a=t.a,s=t.b,l=a.x,c=a.y,u=0,d=1,f=s.x-l,h=s.y-c;if(e=n-l,f||!(e>0)){if(e/=f,f<0){if(e<u)return;e<d&&(d=e)}else if(f>0){if(e>d)return;e>u&&(u=e)}if(e=i-l,f||!(e<0)){if(e/=f,f<0){if(e>d)return;e>u&&(u=e)}else if(f>0){if(e<u)return;e<d&&(d=e)}if(e=r-c,h||!(e>0)){if(e/=h,h<0){if(e<u)return;e<d&&(d=e)}else if(h>0){if(e>d)return;e>u&&(u=e)}if(e=o-c,h||!(e<0)){if(e/=h,h<0){if(e>d)return;e>u&&(u=e)}else if(h>0){if(e<u)return;e<d&&(d=e)}return u>0&&(t.a={x:l+u*f,y:c+u*h}),d<1&&(t.b={x:l+d*f,y:c+d*h}),t}}}}}),l=a.length;l--;)(!Ge(e=a[l],t)||!s(e)||y(e.a.x-e.b.x)<At&&y(e.a.y-e.b.y)<At)&&(e.a=e.b=null,a.splice(l,1))}(e),function(t){for(var e,n,r,i,o,a,s,l,c,u,d=t[0][0],f=t[1][0],h=t[0][1],p=t[1][1],g=Oe,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)r=(u=s[a].end()).x,i=u.y,e=(c=s[++a%l].start()).x,n=c.y,(y(r-e)>At||y(i-n)>At)&&(s.splice(a,0,new Qe(Je(o.site,u,y(r-d)<At&&p-i>At?{x:d,y:y(e-d)<At?n:p}:y(i-p)<At&&f-r>At?{x:y(n-p)<At?e:f,y:p}:y(r-f)<At&&i-h>At?{x:f,y:y(e-f)<At?n:h}:y(i-h)<At&&r-d>At?{x:y(n-h)<At?e:d,y:h}:null),o.site,null)),++l)}(e));var a={cells:Oe,edges:Se};return Le=De=Se=Oe=null,a}function sn(t,e){return e.y-t.y||e.x-t.x}Ue.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(He),e.length},Qe.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},tn.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=on(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(nn(this,n),n=(t=n).U),n.C=!1,r.C=!0,rn(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(rn(this,n),n=(t=n).U),n.C=!1,r.C=!0,nn(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?on(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,nn(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,rn(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,nn(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,rn(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,nn(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,rn(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},t.geom.voronoi=function(t){var e=we,n=ke,r=e,i=n,o=ln;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return an(s(t),o).cells.forEach((function(o,s){var l=o.edges,c=o.site;(e[s]=l.length?l.map((function(t){var e=t.start();return[e.x,e.y]})):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[s]})),e}function s(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/At)*At,y:Math.round(i(t,e)/At)*At,i:e}}))}return a.links=function(t){return an(s(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},a.triangles=function(t){var e=[];return an(s(t)).cells.forEach((function(n,r){for(var i,o,a,s,l=n.site,c=n.edges.sort(He),u=-1,d=c.length,f=c[d-1].edge,h=f.l===l?f.r:f.l;++u<d;)i=h,h=(f=c[u].edge).l===l?f.r:f.l,r<i.i&&r<h.i&&(a=i,s=h,((o=l).x-s.x)*(a.y-o.y)-(o.x-a.x)*(s.y-o.y)<0)&&e.push([t[r],t[i.i],t[h.i]])})),e},a.x=function(t){return arguments.length?(r=ce(e=t),a):e},a.y=function(t){return arguments.length?(i=ce(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?ln:t,a):o===ln?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===ln?null:o&&o[1]},a};var ln=[[-1e6,-1e6],[1e6,1e6]];function cn(t){return t.x}function un(t){return t.y}function dn(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=e.nodes;l[0]&&dn(t,l[0],n,r,a,s),l[1]&&dn(t,l[1],a,r,i,s),l[2]&&dn(t,l[2],n,s,a,o),l[3]&&dn(t,l[3],a,s,i,o)}}function fn(t,e,n,r,i,o,a){var s,l=1/0;return function t(c,u,d,f,h){if(!(u>o||d>a||f<r||h<i)){if(p=c.point){var p,g=e-c.x,m=n-c.y,v=g*g+m*m;if(v<l){var y=Math.sqrt(l=v);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var b=c.nodes,x=.5*(u+f),w=.5*(d+h),k=(n>=w)<<1|e>=x,_=k+4;k<_;++k)if(c=b[3&k])switch(3&k){case 0:t(c,u,d,x,w);break;case 1:t(c,x,d,f,w);break;case 2:t(c,u,w,x,h);break;case 3:t(c,x,w,f,h)}}}(t,r,i,o,a),s}function hn(e,n){e=t.rgb(e),n=t.rgb(n);var r=e.r,i=e.g,o=e.b,a=n.r-r,s=n.g-i,l=n.b-o;return function(t){return"#"+ne(Math.round(r+a*t))+ne(Math.round(i+s*t))+ne(Math.round(o+l*t))}}function pn(t,e){var n,r={},i={};for(n in t)n in e?r[n]=bn(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function gn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mn(t,e){var n,r,i,o=vn.lastIndex=yn.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=vn.exec(t))&&(r=yn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:gn(n,r)})),o=yn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(t,e,n,r,i){var o,a=we,s=ke;if(o=arguments.length)return a=cn,s=un,3===o&&(i=n,r=e,n=e=0),l(t);function l(t){var l,c,u,d,f,h,p,g,m,v=ce(a),b=ce(s);if(null!=e)h=e,p=n,g=r,m=i;else if(g=m=-(h=p=1/0),c=[],u=[],f=t.length,o)for(d=0;d<f;++d)(l=t[d]).x<h&&(h=l.x),l.y<p&&(p=l.y),l.x>g&&(g=l.x),l.y>m&&(m=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<f;++d){var x=+v(l=t[d],d),w=+b(l,d);x<h&&(h=x),w<p&&(p=w),x>g&&(g=x),w>m&&(m=w),c.push(x),u.push(w)}var k=g-h,_=m-p;function A(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(y(l-n)+y(c-r)<.01)T(t,e,n,r,i,o,a,s);else{var u=t.point;t.x=t.y=t.point=null,T(t,u,l,c,i,o,a,s),T(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else T(t,e,n,r,i,o,a,s)}function T(t,e,n,r,i,o,a,s){var l=.5*(i+a),c=.5*(o+s),u=n>=l,d=r>=c,f=d<<1|u;t.leaf=!1,u?i=l:a=l,d?o=c:s=c,A(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,o,a,s)}k>_?m=p+k:g=h+_;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){A(M,t,+v(t,++d),+b(t,d),h,p,g,m)},visit:function(t){dn(t,M,h,p,g,m)},find:function(t){return fn(M,t[0],t[1],h,p,g,m)}};if(d=-1,null==e){for(;++d<f;)A(M,t[d],c[d],u[d],h,p,g,m);--d}else t.forEach(M.add);return c=u=t=l=null,M}return l.x=function(t){return arguments.length?(a=t,l):a},l.y=function(t){return arguments.length?(s=t,l):s},l.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,n],[r,i]]},l.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),l):null==e?null:[r-e,i-n]},l},t.interpolateRgb=hn,t.interpolateObject=pn,t.interpolateNumber=gn,t.interpolateString=mn;var vn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yn=new RegExp(vn.source,"g");function bn(e,n){for(var r,i=t.interpolators.length;--i>=0&&!(r=t.interpolators[i](e,n)););return r}function xn(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(bn(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}t.interpolate=bn,t.interpolators=[function(t,e){var n=typeof e;return("string"===n?le.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?hn:mn:e instanceof Nt?hn:Array.isArray(e)?xn:"object"===n&&isNaN(e)?pn:gn)(t,e)}],t.interpolateArray=xn;var wn=function(){return O},kn=t.map({linear:wn,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return En},cubic:function(){return Cn},sin:function(){return On},exp:function(){return Ln},circle:function(){return Pn},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Mt*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Mt/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return Dn}}),_n=t.map({in:O,out:Tn,"in-out":Mn,"out-in":function(t){return Mn(Tn(t))}});function An(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Tn(t){return function(e){return 1-t(1-e)}}function Mn(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function En(t){return t*t}function Cn(t){return t*t*t}function Sn(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function On(t){return 1-Math.cos(t*Ct)}function Ln(t){return Math.pow(2,10*(t-1))}function Pn(t){return 1-Math.sqrt(1-t*t)}function Dn(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rn(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function In(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=Nn(i),s=zn(i,o),l=Nn(((e=o)[0]+=(r=-s)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Ot,this.translate=[t.e,t.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Ot:0}function zn(t,e){return t[0]*e[0]+t[1]*e[1]}function Nn(t){var e=Math.sqrt(zn(t,t));return e&&(t[0]/=e,t[1]/=e),e}t.ease=function(t){var e=t.indexOf("-"),r=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return r=kn.get(r)||wn,An((i=_n.get(i)||O)(r.apply(null,n.call(arguments,1))))},t.interpolateHcl=function(e,n){e=t.hcl(e),n=t.hcl(n);var r=e.h,i=e.c,o=e.l,a=n.h-r,s=n.c-i,l=n.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(t){return Ut(r+a*t,i+s*t,o+l*t)+""}},t.interpolateHsl=function(e,n){e=t.hsl(e),n=t.hsl(n);var r=e.h,i=e.s,o=e.l,a=n.h-r,s=n.s-i,l=n.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(t){return jt(r+a*t,i+s*t,o+l*t)+""}},t.interpolateLab=function(e,n){e=t.lab(e),n=t.lab(n);var r=e.l,i=e.a,o=e.b,a=n.l-r,s=n.a-i,l=n.b-o;return function(t){return Yt(r+a*t,i+s*t,o+l*t)+""}},t.interpolateRound=Rn,t.transform=function(e){var n=i.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new In(e?e.matrix:Bn)})(e)},In.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Bn={a:1,b:0,c:0,d:1,e:0,f:0};function Fn(t){return t.length?t.pop()+",":""}function jn(e,n){var r=[],i=[];return e=t.transform(e),n=t.transform(n),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:gn(t[0],e[0])},{i:i-2,x:gn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(e.translate,n.translate,r,i),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Fn(n)+"rotate(",null,")")-2,x:gn(t,e)})):e&&n.push(Fn(n)+"rotate("+e+")")}(e.rotate,n.rotate,r,i),function(t,e,n,r){t!==e?r.push({i:n.push(Fn(n)+"skewX(",null,")")-2,x:gn(t,e)}):e&&n.push(Fn(n)+"skewX("+e+")")}(e.skew,n.skew,r,i),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Fn(n)+"scale(",null,",",null,")");r.push({i:i-4,x:gn(t[0],e[0])},{i:i-2,x:gn(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Fn(n)+"scale("+e+")")}(e.scale,n.scale,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}function $n(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Zn(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Un(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=Hn(t),r=Hn(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Hn(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Vn(t){t.fixed|=2}function Wn(t){t.fixed&=-7}function Yn(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Gn(t){t.fixed&=-5}t.interpolateTransform=jn,t.layout={},t.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Un(t[n]));return e}},t.layout.chord=function(){var e,n,r,i,o,a,s,l={},c=0;function u(){var l,u,f,h,p,g={},m=[],v=t.range(i),y=[];for(e=[],n=[],l=0,h=-1;++h<i;){for(u=0,p=-1;++p<i;)u+=r[h][p];m.push(u),y.push(t.range(i)),l+=u}for(o&&v.sort((function(t,e){return o(m[t],m[e])})),a&&y.forEach((function(t,e){t.sort((function(t,n){return a(r[e][t],r[e][n])}))})),l=(Mt-c*i)/l,u=0,h=-1;++h<i;){for(f=u,p=-1;++p<i;){var b=v[h],x=y[b][p],w=r[b][x],k=u,_=u+=w*l;g[b+"-"+x]={index:b,subindex:x,startAngle:k,endAngle:_,value:w}}n[b]={index:b,startAngle:f,endAngle:u,value:m[b]},u+=c}for(h=-1;++h<i;)for(p=h-1;++p<i;){var A=g[h+"-"+p],T=g[p+"-"+h];(A.value||T.value)&&e.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}s&&d()}function d(){e.sort((function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return l.matrix=function(t){return arguments.length?(i=(r=t)&&r.length,e=n=null,l):r},l.padding=function(t){return arguments.length?(c=t,e=n=null,l):c},l.sortGroups=function(t){return arguments.length?(o=t,e=n=null,l):o},l.sortSubgroups=function(t){return arguments.length?(a=t,e=null,l):a},l.sortChords=function(t){return arguments.length?(s=t,e&&d(),l):s},l.chords=function(){return e||u(),e},l.groups=function(){return n||u(),n},l},t.layout.force=function(){var e,n,r,i,o,a,s={},l=t.dispatch("start","tick","end"),c=[1,1],u=.9,d=qn,f=Xn,h=-30,p=Jn,g=.1,m=.64,v=[],y=[];function b(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,l=o*o+a*a;if(s*s/m<l){if(l<p){var c=e.charge/l;t.px-=o*c,t.py-=a*c}return!0}e.point&&l&&l<p&&(c=e.pointCharge/l,t.px-=o*c,t.py-=a*c)}return!e.charge}}function x(e){e.px=t.event.x,e.py=t.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return e=null,l.end({type:"end",alpha:r=0}),!0;var n,s,d,f,p,m,x,w,k,_=v.length,A=y.length;for(s=0;s<A;++s)f=(d=y[s]).source,(m=(w=(p=d.target).x-f.x)*w+(k=p.y-f.y)*k)&&(w*=m=r*o[s]*((m=Math.sqrt(m))-i[s])/m,k*=m,p.x-=w*(x=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=k*x,f.x+=w*(x=1-x),f.y+=k*x);if((x=r*g)&&(w=c[0]/2,k=c[1]/2,s=-1,x))for(;++s<_;)(d=v[s]).x+=(w-d.x)*x,d.y+=(k-d.y)*x;if(h)for(function t(e,n,r){var i=0,o=0;if(e.charge=0,!e.leaf)for(var a,s=e.nodes,l=s.length,c=-1;++c<l;)null!=(a=s[c])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=n*r[e.point.index];e.charge+=e.pointCharge=u,i+=u*e.point.x,o+=u*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(n=t.geom.quadtree(v),r,a),s=-1;++s<_;)(d=v[s]).fixed||n.visit(b(d));for(s=-1;++s<_;)(d=v[s]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:r=0})):t>0&&(l.start({type:"start",alpha:r=t}),e=ve(s.tick)),s):r},s.start=function(){var t,e,n,r=v.length,l=y.length,u=c[0],p=c[1];for(t=0;t<r;++t)(n=v[t]).index=t,n.weight=0;for(t=0;t<l;++t)"number"==typeof(n=y[t]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<r;++t)n=v[t],isNaN(n.x)&&(n.x=g("x",u)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof d)for(t=0;t<l;++t)i[t]=+d.call(this,y[t],t);else for(t=0;t<l;++t)i[t]=d;if(o=[],"function"==typeof f)for(t=0;t<l;++t)o[t]=+f.call(this,y[t],t);else for(t=0;t<l;++t)o[t]=f;if(a=[],"function"==typeof h)for(t=0;t<r;++t)a[t]=+h.call(this,v[t],t);else for(t=0;t<r;++t)a[t]=h;function g(n,i){if(!e){for(e=new Array(r),c=0;c<r;++c)e[c]=[];for(c=0;c<l;++c){var o=y[c];e[o.source.index].push(o.target),e[o.target.index].push(o.source)}}for(var a,s=e[t],c=-1,u=s.length;++c<u;)if(!isNaN(a=s[c][n]))return a;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=t.behavior.drag().origin(O).on("dragstart.force",Vn).on("drag.force",x).on("dragend.force",Wn)),!arguments.length)return n;this.on("mouseover.force",Yn).on("mouseout.force",Gn).call(n)},t.rebind(s,l,"on")};var qn=20,Xn=1,Jn=1/0;function Kn(e,n){return t.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=ir,e}function Qn(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function tr(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function er(t){return t.children}function nr(t){return t.value}function rr(t,e){return e.value-t.value}function ir(e){return t.merge(e.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}t.layout.hierarchy=function(){var t=rr,e=er,n=nr;function r(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(c=e.call(r,o,o.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)a.push(u=c[l]),u.parent=o,u.depth=o.depth+1;n&&(o.value=0),o.children=c}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return tr(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),s}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Qn(t,(function(t){t.children&&(t.value=0)})),tr(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},t.layout.partition=function(){var e=t.layout.hierarchy(),n=[1,1];function r(t,r){var i=e.call(this,t,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,l,c=-1;for(r=e.value?r/e.value:0;++c<a;)t(s=o[c],n,l=s.value*r,i),n+=l}}(i[0],0,n[0],n[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return r.size=function(t){return arguments.length?(n=t,r):n},Kn(r,e)},t.layout.pie=function(){var e=Number,n=or,r=0,i=Mt,o=0;function a(s){var l,c=s.length,u=s.map((function(t,n){return+e.call(a,t,n)})),d=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-d,h=Math.min(Math.abs(f)/c,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(f<0?-1:1),g=t.sum(u),m=g?(f-c*p)/g:0,v=t.range(c),y=[];return null!=n&&v.sort(n===or?function(t,e){return u[e]-u[t]}:function(t,e){return n(s[t],s[e])}),v.forEach((function(t){y[t]={data:s[t],value:l=u[t],startAngle:d,endAngle:d+=l*m+p,padAngle:h}})),y}return a.value=function(t){return arguments.length?(e=t,a):e},a.sort=function(t){return arguments.length?(n=t,a):n},a.startAngle=function(t){return arguments.length?(r=t,a):r},a.endAngle=function(t){return arguments.length?(i=t,a):i},a.padAngle=function(t){return arguments.length?(o=t,a):o},a};var or={};function ar(t){return t.x}function sr(t){return t.y}function lr(t,e,n){t.y0=e,t.y=n}t.layout.stack=function(){var e=O,n=dr,r=fr,i=lr,o=ar,a=sr;function s(l,c){if(!(h=l.length))return l;var u=l.map((function(t,n){return e.call(s,t,n)})),d=u.map((function(t){return t.map((function(t,e){return[o.call(s,t,e),a.call(s,t,e)]}))})),f=n.call(s,d,c);u=t.permute(u,f),d=t.permute(d,f);var h,p,g,m,v=r.call(s,d,c),y=u[0].length;for(g=0;g<y;++g)for(i.call(s,u[0][g],m=v[g],d[0][g][1]),p=1;p<h;++p)i.call(s,u[p][g],m+=d[p-1][g][1],d[p][g][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(t){return arguments.length?(n="function"==typeof t?t:cr.get(t)||dr,s):n},s.offset=function(t){return arguments.length?(r="function"==typeof t?t:ur.get(t)||fr,s):r},s.x=function(t){return arguments.length?(o=t,s):o},s.y=function(t){return arguments.length?(a=t,s):a},s.out=function(t){return arguments.length?(i=t,s):i},s};var cr=t.map({"inside-out":function(e){var n,r,i=e.length,o=e.map(hr),a=e.map(pr),s=t.range(i).sort((function(t,e){return o[t]-o[e]})),l=0,c=0,u=[],d=[];for(n=0;n<i;++n)r=s[n],l<c?(l+=a[r],u.push(r)):(c+=a[r],d.push(r));return d.reverse().concat(u)},reverse:function(e){return t.range(e.length).reverse()},default:dr}),ur=t.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,c,u=t.length,d=t[0],f=d.length,h=[];for(h[0]=l=c=0,n=1;n<f;++n){for(e=0,i=0;e<u;++e)i+=t[e][n][1];for(e=0,o=0,s=d[n][0]-d[n-1][0];e<u;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}h[n]=l-=i?o/i*s:0,l<c&&(c=l)}for(n=0;n<f;++n)h[n]-=c;return h},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:fr});function dr(e){return t.range(e.length)}function fr(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function hr(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function pr(t){return t.reduce(gr,0)}function gr(t,e){return t+e[1]}function mr(t,e){return vr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function vr(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function yr(e){return[t.min(e),t.max(e)]}function br(t,e){return t.value-e.value}function xr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function wr(t,e){t._pack_next=e,e._pack_prev=t}function kr(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function _r(t){if((e=t.children)&&(l=e.length)){var e,n,r,i,o,a,s,l,c=1/0,u=-1/0,d=1/0,f=-1/0;if(e.forEach(Ar),(n=e[0]).x=-n.r,n.y=0,b(n),l>1&&((r=e[1]).x=r.r,r.y=0,b(r),l>2))for(Mr(n,r,i=e[2]),b(i),xr(n,i),n._pack_prev=i,xr(i,r),r=n._pack_next,o=3;o<l;o++){Mr(n,r,i=e[o]);var h=0,p=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(kr(a,i)){h=1;break}if(1==h)for(s=n._pack_prev;s!==a._pack_prev&&!kr(s,i);s=s._pack_prev,g++);h?(p<g||p==g&&r.r<n.r?wr(n,r=a):wr(n=s,r),o--):(xr(n,i),r=i,b(i))}var m=(c+u)/2,v=(d+f)/2,y=0;for(o=0;o<l;o++)(i=e[o]).x-=m,i.y-=v,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(Tr)}function b(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}}function Ar(t){t._pack_next=t._pack_prev=t}function Tr(t){delete t._pack_next,delete t._pack_prev}function Mr(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,l=.5+((r*=r)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*i+c*o,n.y=t.y+l*o-c*i}else n.x=t.x+r,n.y=t.y}function Er(t,e){return t.parent==e.parent?1:2}function Cr(t){var e=t.children;return e.length?e[0]:t.t}function Sr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Or(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Lr(t,e,n){return t.a.parent===e.parent?t.a:n}function Pr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Dr(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Rr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ir(t){return t.rangeExtent?t.rangeExtent():Rr(t.range())}function zr(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Nr(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Br(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Fr}t.layout.histogram=function(){var e=!0,n=Number,r=yr,i=mr;function o(o,a){for(var s,l,c=[],u=o.map(n,this),d=r.call(this,u,a),f=i.call(this,d,u,a),h=(a=-1,u.length),p=f.length-1,g=e?1:1/h;++a<p;)(s=c[a]=[]).dx=f[a+1]-(s.x=f[a]),s.y=0;if(p>0)for(a=-1;++a<h;)(l=u[a])>=d[0]&&l<=d[1]&&((s=c[t.bisect(f,l,1,p)-1]).y+=g,s.push(o[a]));return c}return o.value=function(t){return arguments.length?(n=t,o):n},o.range=function(t){return arguments.length?(r=ce(t),o):r},o.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return vr(e,t)}:ce(t),o):i},o.frequency=function(t){return arguments.length?(e=!!t,o):e},o},t.layout.pack=function(){var e,n=t.layout.hierarchy().sort(br),r=0,i=[1,1];function o(t,o){var a=n.call(this,t,o),s=a[0],l=i[0],c=i[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,tr(s,(function(t){t.r=+u(t.value)})),tr(s,_r),r){var d=r*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;tr(s,(function(t){t.r+=d})),tr(s,_r),tr(s,(function(t){t.r-=d}))}return function t(e,n,r,i){var o=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,r,i)}(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),a}return o.size=function(t){return arguments.length?(i=t,o):i},o.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,o):e},o.padding=function(t){return arguments.length?(r=+t,o):r},Kn(o,n)},t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Er,r=[1,1],i=null;function o(t,o){var c=e.call(this,t,o),u=c[0],d=function(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(u);if(tr(d,a),d.parent.m=-d.z,Qn(d,s),i)Qn(u,l);else{var f=u,h=u,p=u;Qn(u,(function(t){t.x<f.x&&(f=t),t.x>h.x&&(h=t),t.depth>p.depth&&(p=t)}));var g=n(f,h)/2-f.x,m=r[0]/(h.x+n(h,f)/2+g),v=r[1]/(p.depth||1);Qn(u,(function(t){t.x=(t.x+g)*m,t.y=t.depth*v}))}return c}function a(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e.length){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,o=t,a=t,s=e,l=o.parent.children[0],c=o.m,u=a.m,d=s.m,f=l.m;s=Sr(s),o=Cr(o),s&&o;)l=Cr(l),(a=Sr(a)).a=t,(i=s.z+d-o.z-c+n(s._,o._))>0&&(Or(Lr(s,t,r),t,i),c+=i,u+=i),d+=s.m,c+=o.m,f+=l.m,u+=a.m;s&&!Sr(a)&&(a.t=s,a.m+=d-u),o&&!Cr(l)&&(l.t=o,l.m+=c-f,r=t)}return r}(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=r[0],t.y=t.depth*r[1]}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(i=null==(r=t)?l:null,o):i?null:r},o.nodeSize=function(t){return arguments.length?(i=null==(r=t)?null:l,o):i?r:null},Kn(o,e)},t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Er,r=[1,1],i=!1;function o(o,a){var s,l=e.call(this,o,a),c=l[0],u=0;tr(c,(function(e){var r=e.children;r&&r.length?(e.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(r),e.y=function(e){return 1+t.max(e,(function(t){return t.y}))}(r)):(e.x=s?u+=n(e,s):0,e.y=0,s=e)}));var d=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(c),f=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(c),h=d.x-n(d,f)/2,p=f.x+n(f,d)/2;return tr(c,i?function(t){t.x=(t.x-c.x)*r[0],t.y=(c.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(c.y?t.y/c.y:1))*r[1]}),l}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(i=null==(r=t),o):i?null:r},o.nodeSize=function(t){return arguments.length?(i=null!=(r=t),o):i?r:null},Kn(o,e)},t.layout.treemap=function(){var e,n=t.layout.hierarchy(),r=Math.round,i=[1,1],o=null,a=Pr,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));function u(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function d(t){var e=t.children;if(e&&e.length){var n,r,i,o=a(t),s=[],c=e.slice(),f=1/0,g="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(u(c,o.dx*o.dy/t.value),s.area=0;(i=c.length)>0;)s.push(n=c[i-1]),s.area+=n.area,"squarify"!==l||(r=h(s,g))<=f?(c.pop(),f=r):(s.area-=s.pop().area,p(s,g,o,!1),g=Math.min(o.dx,o.dy),s.length=s.area=0,f=1/0);s.length&&(p(s,g,o,!0),s.length=s.area=0),e.forEach(d)}}function f(t){var e=t.children;if(e&&e.length){var n,r=a(t),i=e.slice(),o=[];for(u(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(f)}}function h(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*c/r,r/(e*o*c)):1/0}function p(t,e,n,i){var o,a=-1,s=t.length,l=n.x,c=n.y,u=e?r(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++a<s;)(o=t[a]).x=l,o.y=c,o.dy=u,l+=o.dx=Math.min(n.x+n.dx-l,u?r(o.area/u):0);o.z=!0,o.dx+=n.x+n.dx-l,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++a<s;)(o=t[a]).x=l,o.y=c,o.dx=u,c+=o.dy=Math.min(n.y+n.dy-c,u?r(o.area/u):0);o.z=!1,o.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function g(t){var r=e||n(t),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,e&&n.revalue(o),u([o],o.dx*o.dy/o.value),(e?f:d)(o),s&&(e=r),r}return g.size=function(t){return arguments.length?(i=t,g):i},g.padding=function(t){if(!arguments.length)return o;function e(e){var n=t.call(g,e,e.depth);return null==n?Pr(e):Dr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Dr(e,t)}var r;return a=null==(o=t)?Pr:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(r=t?Math.round:Number,g):r!=Number},g.sticky=function(t){return arguments.length?(s=t,e=null,g):s},g.ratio=function(t){return arguments.length?(c=t,g):c},g.mode=function(t){return arguments.length?(l=t+"",g):l},Kn(g,n)},t.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=t.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},t.scale={};var Fr={floor:O,ceil:O};function jr(e,n,r,i){var o=[],a=[],s=0,l=Math.min(e.length,n.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++s<=l;)o.push(r(e[s-1],e[s])),a.push(i(n[s-1],n[s]));return function(n){var r=t.bisect(e,n,1,l)-1;return a[r](o[r](n))}}function $r(e,n){return t.rebind(e,n,"range","rangeRound","interpolate","clamp")}function Zr(t,e){return Nr(t,Br(Ur(t,e)[2])),Nr(t,Br(Ur(t,e)[2])),t}function Ur(t,e){null==e&&(e=10);var n=Rr(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Hr(e,n){return t.range.apply(t,Ur(e,n))}t.scale.linear=function(){return function t(e,n,r,i){var o,a;function s(){var t=Math.min(e.length,n.length)>2?jr:zr,s=i?Zn:$n;return o=t(e,n,s,r),a=t(n,e,s,bn),l}function l(t){return o(t)}return l.invert=function(t){return a(t)},l.domain=function(t){return arguments.length?(e=t.map(Number),s()):e},l.range=function(t){return arguments.length?(n=t,s()):n},l.rangeRound=function(t){return l.range(t).interpolate(Rn)},l.clamp=function(t){return arguments.length?(i=t,s()):i},l.interpolate=function(t){return arguments.length?(r=t,s()):r},l.ticks=function(t){return Hr(e,t)},l.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},l.nice=function(t){return Zr(e,t),s()},l.copy=function(){return t(e,n,r,i)},s()}([0,1],[0,1],bn,!1)},t.scale.log=function(){return function t(e,n,r,i){function o(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function s(t){return e(o(t))}return s.invert=function(t){return a(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(o)),s):i},s.base=function(t){return arguments.length?(n=+t,e.domain(i.map(o)),s):n},s.nice=function(){var t=Nr(i.map(o),r?Math:Vr);return e.domain(t),i=t.map(a),s},s.ticks=function(){var t=Rr(i),e=[],s=t[0],l=t[1],c=Math.floor(o(s)),u=Math.ceil(o(l)),d=n%1?2:n;if(isFinite(u-c)){if(r){for(;c<u;c++)for(var f=1;f<d;f++)e.push(a(c)*f);e.push(a(c))}else for(e.push(a(c));c++<u;)for(f=d-1;f>0;f--)e.push(a(c)*f);for(c=0;e[c]<s;c++);for(u=e.length;e[u-1]>l;u--);e=e.slice(c,u)}return e},s.copy=function(){return t(e.copy(),n,r,i)},$r(s,e)}(t.scale.linear().domain([0,1]),10,!0,[1,10])};var Vr={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Wr(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}t.scale.pow=function(){return function t(e,n,r){var i=Wr(n),o=Wr(1/n);function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r},a.ticks=function(t){return Hr(r,t)},a.tickFormat=function(t,e){return d3_scale_linearTickFormat(r,t,e)},a.nice=function(t){return a.domain(Zr(r,t))},a.exponent=function(t){return arguments.length?(i=Wr(n=t),o=Wr(1/n),e.domain(r.map(i)),a):n},a.copy=function(){return t(e.copy(),n,r)},$r(a,e)}(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return function e(n,r){var i,o,a;function s(t){return o[((i.get(t)||("range"===r.t?i.set(t,n.push(t)):NaN))-1)%o.length]}function l(e,r){return t.range(n.length).map((function(t){return e+r*t}))}return s.domain=function(t){if(!arguments.length)return n;n=[],i=new w;for(var e,o=-1,a=t.length;++o<a;)i.has(e=t[o])||i.set(e,n.push(e));return s[r.t].apply(s,r.a)},s.range=function(t){return arguments.length?(o=t,a=0,r={t:"range",a:arguments},s):o},s.rangePoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],c=t[1],u=n.length<2?(i=(i+c)/2,0):(c-i)/(n.length-1+e);return o=l(i+u*e/2,u),a=0,r={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],c=t[1],u=n.length<2?(i=c=Math.round((i+c)/2),0):(c-i)/(n.length-1+e)|0;return o=l(i+Math.round(u*e/2+(c-i-(n.length-1+e)*u)/2),u),a=0,r={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var c=t[1]<t[0],u=t[c-0],d=(t[1-c]-u)/(n.length-e+2*i);return o=l(u+d*i,d),c&&o.reverse(),a=d*(1-e),r={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var c=t[1]<t[0],u=t[c-0],d=t[1-c],f=Math.floor((d-u)/(n.length-e+2*i));return o=l(u+Math.round((d-u-(n.length-e)*f)/2),f),c&&o.reverse(),a=Math.round(f*(1-e)),r={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return a},s.rangeExtent=function(){return Rr(r.a[0])},s.copy=function(){return e(n,r)},s.domain(n)}([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(Yr)},t.scale.category20=function(){return t.scale.ordinal().range(Gr)},t.scale.category20b=function(){return t.scale.ordinal().range(qr)},t.scale.category20c=function(){return t.scale.ordinal().range(Xr)};var Yr=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(te),Gr=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(te),qr=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(te),Xr=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(te);function Jr(){return 0}t.scale.quantile=function(){return function e(n,r){var i;function o(){var e=0,o=r.length;for(i=[];++e<o;)i[e-1]=t.quantile(n,e/o);return a}function a(e){if(!isNaN(e=+e))return r[t.bisect(i,e)]}return a.domain=function(t){return arguments.length?(n=t.map(h).filter(p).sort(f),o()):n},a.range=function(t){return arguments.length?(r=t,o()):r},a.quantiles=function(){return i},a.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.copy=function(){return e(n,r)},o()}([],[])},t.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function s(){return i=r.length/(n-e),o=r.length-1,a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]},a.range=function(t){return arguments.length?(r=t,s()):r},a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},a.copy=function(){return t(e,n,r)},s()}(0,1,[0,1])},t.scale.threshold=function(){return function e(n,r){function i(e){if(e<=e)return r[t.bisect(n,e)]}return i.domain=function(t){return arguments.length?(n=t,i):n},i.range=function(t){return arguments.length?(r=t,i):r},i.invertExtent=function(t){return t=r.indexOf(t),[n[t-1],n[t]]},i.copy=function(){return e(n,r)},i}([.5],[0,1])},t.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return Hr(e,t)},n.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},t.svg={},t.svg.arc=function(){var t=Qr,e=ti,n=Jr,r=Kr,i=ei,o=ni,a=ri;function s(){var s=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),u=i.apply(this,arguments)-Ct,d=o.apply(this,arguments)-Ct,f=Math.abs(d-u),h=u>d?0:1;if(c<s&&(p=c,c=s,s=p),f>=Et)return l(c,h)+(s?l(s,1-h):"")+"Z";var p,g,m,v,y,b,x,w,k,_,A,T,M=0,E=0,C=[];if((v=(+a.apply(this,arguments)||0)/2)&&(m=r===Kr?Math.sqrt(s*s+c*c):+r.apply(this,arguments),h||(E*=-1),c&&(E=Lt(m/c*Math.sin(v))),s&&(M=Lt(m/s*Math.sin(v)))),c){y=c*Math.cos(u+E),b=c*Math.sin(u+E),x=c*Math.cos(d-E),w=c*Math.sin(d-E);var S=Math.abs(d-u-2*E)<=Tt?0:1;if(E&&ii(y,b,x,w)===h^S){var O=(u+d)/2;y=c*Math.cos(O),b=c*Math.sin(O),x=w=null}}else y=b=0;if(s){k=s*Math.cos(d-M),_=s*Math.sin(d-M),A=s*Math.cos(u+M),T=s*Math.sin(u+M);var L=Math.abs(u-d+2*M)<=Tt?0:1;if(M&&ii(k,_,A,T)===1-h^L){var P=(u+d)/2;k=s*Math.cos(P),_=s*Math.sin(P),A=T=null}}else k=_=0;if(f>At&&(p=Math.min(Math.abs(c-s)/2,+n.apply(this,arguments)))>.001){g=s<c^h?0:1;var D=p,R=p;if(f<Tt){var I=null==A?[k,_]:null==x?[y,b]:Ee([y,b],[A,T],[x,w],[k,_]),z=y-I[0],N=b-I[1],B=x-I[0],F=w-I[1],j=1/Math.sin(Math.acos((z*B+N*F)/(Math.sqrt(z*z+N*N)*Math.sqrt(B*B+F*F)))/2),$=Math.sqrt(I[0]*I[0]+I[1]*I[1]);R=Math.min(p,(s-$)/(j-1)),D=Math.min(p,(c-$)/(j+1))}if(null!=x){var Z=oi(null==A?[k,_]:[A,T],[y,b],c,D,h),U=oi([x,w],[k,_],c,D,h);p===D?C.push("M",Z[0],"A",D,",",D," 0 0,",g," ",Z[1],"A",c,",",c," 0 ",1-h^ii(Z[1][0],Z[1][1],U[1][0],U[1][1]),",",h," ",U[1],"A",D,",",D," 0 0,",g," ",U[0]):C.push("M",Z[0],"A",D,",",D," 0 1,",g," ",U[0])}else C.push("M",y,",",b);if(null!=A){var H=oi([y,b],[A,T],s,-R,h),V=oi([k,_],null==x?[y,b]:[x,w],s,-R,h);p===R?C.push("L",V[0],"A",R,",",R," 0 0,",g," ",V[1],"A",s,",",s," 0 ",h^ii(V[1][0],V[1][1],H[1][0],H[1][1]),",",1-h," ",H[1],"A",R,",",R," 0 0,",g," ",H[0]):C.push("L",V[0],"A",R,",",R," 0 0,",g," ",H[0])}else C.push("L",k,",",_)}else C.push("M",y,",",b),null!=x&&C.push("A",c,",",c," 0 ",S,",",h," ",x,",",w),C.push("L",k,",",_),null!=A&&C.push("A",s,",",s," 0 ",L,",",1-h," ",A,",",T);return C.push("Z"),C.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=ce(e),s):t},s.outerRadius=function(t){return arguments.length?(e=ce(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=ce(t),s):n},s.padRadius=function(t){return arguments.length?(r=t==Kr?Kr:ce(t),s):r},s.startAngle=function(t){return arguments.length?(i=ce(t),s):i},s.endAngle=function(t){return arguments.length?(o=ce(t),s):o},s.padAngle=function(t){return arguments.length?(a=ce(t),s):a},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ct;return[Math.cos(r)*n,Math.sin(r)*n]},s};var Kr="auto";function Qr(t){return t.innerRadius}function ti(t){return t.outerRadius}function ei(t){return t.startAngle}function ni(t){return t.endAngle}function ri(t){return t&&t.padAngle}function ii(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function oi(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=t[0]+l,d=t[1]+c,f=e[0]+l,h=e[1]+c,p=(u+f)/2,g=(d+h)/2,m=f-u,v=h-d,y=m*m+v*v,b=n-r,x=u*h-f*d,w=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),k=(x*v-m*w)/y,_=(-x*m-v*w)/y,A=(x*v+m*w)/y,T=(-x*m+v*w)/y,M=k-p,E=_-g,C=A-p,S=T-g;return M*M+E*E>C*C+S*S&&(k=A,_=T),[[k-l,_-c],[k*n/b,_*n/b]]}function ai(){return!0}function si(t){var e=we,n=ke,r=ai,i=ci,o=i.key,a=.7;function s(o){var s,l=[],c=[],u=-1,d=o.length,f=ce(e),h=ce(n);function p(){l.push("M",i(t(c),a))}for(;++u<d;)r.call(this,s=o[u],u)?c.push([+f.call(this,s,u),+h.call(this,s,u)]):c.length&&(p(),c=[]);return c.length&&p(),l.length?l.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=li.get(t)||ci).key,s):o},s.tension=function(t){return arguments.length?(a=t,s):a},s}t.svg.line=function(){return si(O)};var li=t.map({linear:ci,"linear-closed":ui,step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":di,"step-after":fi,basis:gi,"basis-open":function(t){if(t.length<4)return ci(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(mi(bi,o)+","+mi(bi,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),xi(n,o,a);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[mi(bi,a),",",mi(bi,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),xi(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,c=-1;++c<=n;)i=c/n,(r=t[c])[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*l);return gi(t)},cardinal:function(t,e){return t.length<3?ci(t):t[0]+hi(t,pi(t,e))},"cardinal-open":function(t,e){return t.length<4?ci(t):t[1]+hi(t.slice(1,-1),pi(t,e))},"cardinal-closed":function(t,e){return t.length<3?ui(t):t[0]+hi((t.push(t[0]),t),pi([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?ci(t):t[0]+hi(t,function(t){for(var e,n,r,i,o=[],a=function(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=wi(i,o);++e<n;)r[e]=(a+(a=wi(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),s=-1,l=t.length-1;++s<l;)e=wi(t[s],t[s+1]),y(e)<At?a[s]=a[s+1]=0:(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function ci(t){return t.length>1?t.join("L"):t+"Z"}function ui(t){return t.join("L")+"Z"}function di(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function fi(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function hi(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ci(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,l++)o=t[l],s=e[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=t[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function pi(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function gi(t){if(t.length<3)return ci(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",mi(bi,a),",",mi(bi,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),xi(l,a,s);return t.pop(),l.push("L",r),l.join("")}function mi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}li.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var vi=[0,2/3,1/3,0],yi=[0,1/3,2/3,0],bi=[0,1/6,2/3,1/6];function xi(t,e,n){t.push("C",mi(vi,e),",",mi(vi,n),",",mi(yi,e),",",mi(yi,n),",",mi(bi,e),",",mi(bi,n))}function wi(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ki(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Ct,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function _i(t){var e=we,n=we,r=0,i=ke,o=ai,a=ci,s=a.key,l=a,c="L",u=.7;function d(s){var d,f,h,p=[],g=[],m=[],v=-1,y=s.length,b=ce(e),x=ce(r),w=e===n?function(){return f}:ce(n),k=r===i?function(){return h}:ce(i);function _(){p.push("M",a(t(m),u),c,l(t(g.reverse()),u),"Z")}for(;++v<y;)o.call(this,d=s[v],v)?(g.push([f=+b.call(this,d,v),h=+x.call(this,d,v)]),m.push([+w.call(this,d,v),+k.call(this,d,v)])):g.length&&(_(),g=[],m=[]);return g.length&&_(),p.length?p.join(""):null}return d.x=function(t){return arguments.length?(e=n=t,d):n},d.x0=function(t){return arguments.length?(e=t,d):e},d.x1=function(t){return arguments.length?(n=t,d):n},d.y=function(t){return arguments.length?(r=i=t,d):i},d.y0=function(t){return arguments.length?(r=t,d):r},d.y1=function(t){return arguments.length?(i=t,d):i},d.defined=function(t){return arguments.length?(o=t,d):o},d.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=li.get(t)||ci).key,l=a.reverse||a,c=a.closed?"M":"L",d):s},d.tension=function(t){return arguments.length?(u=t,d):u},d}function Ai(t){return t.source}function Ti(t){return t.target}function Mi(t){return t.radius}function Ei(t){return[t.x,t.y]}function Ci(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Ct;return[n*Math.cos(r),n*Math.sin(r)]}}function Si(){return 64}function Oi(){return"circle"}function Li(t){var e=Math.sqrt(t/Tt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}t.svg.line.radial=function(){var t=si(ki);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},di.reverse=fi,fi.reverse=di,t.svg.area=function(){return _i(O)},t.svg.area.radial=function(){var t=_i(ki);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},t.svg.chord=function(){var t=Ai,e=Ti,n=Mi,r=ei,i=ni;function o(n,r){var i,o,c=a(this,t,n,r),u=a(this,e,n,r);return"M"+c.p0+s(c.r,c.p1,c.a1-c.a0)+(o=u,((i=c).a0==o.a0&&i.a1==o.a1?l(c.r,c.p1,c.r,c.p0):l(c.r,c.p1,u.r,u.p0)+s(u.r,u.p1,u.a1-u.a0)+l(u.r,u.p1,c.r,c.p0))+"Z")}function a(t,e,o,a){var s=e.call(t,o,a),l=n.call(t,s,a),c=r.call(t,s,a)-Ct,u=i.call(t,s,a)-Ct;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Tt)+",1 "+e}function l(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=ce(t),o):n},o.source=function(e){return arguments.length?(t=ce(e),o):t},o.target=function(t){return arguments.length?(e=ce(t),o):e},o.startAngle=function(t){return arguments.length?(r=ce(t),o):r},o.endAngle=function(t){return arguments.length?(i=ce(t),o):i},o},t.svg.diagonal=function(){var t=Ai,e=Ti,n=Ei;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(e){return arguments.length?(t=ce(e),r):t},r.target=function(t){return arguments.length?(e=ce(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),n=Ei,r=e.projection;return e.projection=function(t){return arguments.length?r(Ci(n=t)):n},e},t.svg.symbol=function(){var t=Oi,e=Si;function n(n,r){return(Pi.get(t.call(this,n,r))||Li)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ce(e),n):t},n.size=function(t){return arguments.length?(e=ce(t),n):e},n};var Pi=t.map({circle:Li,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ri)),n=e*Ri;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Di),n=e*Di/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Di),n=e*Di/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});t.svg.symbolTypes=Pi.keys();var Di=Math.sqrt(3),Ri=Math.tan(30*St);W.transition=function(t){for(var e,n,r=Bi||++$i,i=Hi(t),o=[],a=Fi||{time:Date.now(),ease:Sn,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&Vi(n,u,i,r,a),e.push(n)}return Ni(o,i,r)},W.interrupt=function(t){return this.each(null==t?Ii:zi(Hi(t)))};var Ii=zi(Hi());function zi(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ni(t,e,n){return $(t,ji),t.namespace=e,t.id=n,t}var Bi,Fi,ji=[],$i=0;function Zi(t,e,n,r){var i=t.id,o=t.namespace;return ut(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Ui(t){return null==t&&(t=""),function(){this.textContent=t}}function Hi(t){return null==t?"__transition__":"__transition_"+t+"__"}function Vi(t,e,n,r,i){var o,a,s,l,c,u=t[n]||(t[n]={active:0,count:0}),d=u[r];function f(n){var i=u.active,f=u[i];for(var p in f&&(f.timer.c=null,f.timer.t=NaN,--u.count,delete u[i],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),u)if(+p<r){var g=u[p];g.timer.c=null,g.timer.t=NaN,--u.count,delete u[p]}a.c=h,ve((function(){return a.c&&h(n||1)&&(a.c=null,a.t=NaN),1}),0,o),u.active=r,d.event&&d.event.start.call(t,t.__data__,e),c=[],d.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&c.push(r)})),l=d.ease,s=d.duration}function h(i){for(var o=i/s,a=l(o),f=c.length;f>0;)c[--f].call(t,a);if(o>=1)return d.event&&d.event.end.call(t,t.__data__,e),--u.count?delete u[r]:delete t[n],1}d||(o=i.time,a=ve((function(t){var e=d.delay;if(a.t=e+o,e<=t)return f(t-e);a.c=f}),0,o),d=u[r]={tween:new w,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++u.count)}ji.call=W.call,ji.empty=W.empty,ji.node=W.node,ji.size=W.size,t.transition=function(e,n){return e&&e.transition?Bi?e.transition(n):e:t.selection().transition(e)},t.transition.prototype=ji,ji.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=Y(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=t.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),Vi(n,u,o,i,r[o][i]),e.push(n)):e.push(null)}return Ni(a,o,i)},ji.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=G(t);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],f=-1,h=d.length;++f<h;)if(r=d[f]){o=r[s][a],n=t.call(r,r.__data__,f,c),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Vi(i,p,s,a,o),e.push(i)}return Ni(l,s,a)},ji.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=lt(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,l=(a=this[i]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return Ni(r,this.namespace,this.id)},ji.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):ut(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},ji.attr=function(e,n){if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var r="transform"==e?jn:bn,i=t.ns.qualify(e);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}function s(t){return null==t?o:(t+="",function(){var e,n=this.getAttribute(i);return n!==t&&(e=r(n,t),function(t){this.setAttribute(i,e(t))})})}function l(t){return null==t?a:(t+="",function(){var e,n=this.getAttributeNS(i.space,i.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}return Zi(this,"attr."+e,n,i.local?l:s)},ji.attrTween=function(e,n){var r=t.ns.qualify(e);return this.tween("attr."+e,r.local?function(t,e){var i=n.call(this,t,e,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,e){var i=n.call(this,t,e,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},ji.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function o(e){return null==e?i:(e+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=bn(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return Zi(this,"style."+t,e,o)},ji.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},ji.text=function(t){return Zi(this,"text",t,Ui)},ji.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},ji.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=t.ease.apply(t,arguments)),ut(this,(function(t){t[r][n].ease=e})))},ji.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:ut(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},ji.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:ut(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},ji.each=function(e,n){var r=this.id,i=this.namespace;if(arguments.length<2){var o=Fi,a=Bi;try{Bi=r,ut(this,(function(t,n,o){Fi=t[i][r],e.call(t,t.__data__,n,o)}))}finally{Fi=o,Bi=a}}else ut(this,(function(o){var a=o[i][r];(a.event||(a.event=t.dispatch("start","end","interrupt"))).on(e,n)}));return this},ji.transition=function(){for(var t,e,n,r=this.id,i=++$i,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(e=c[u])&&Vi(e,u,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Ni(a,o,i)},t.svg.axis=function(){var e,n=t.scale.linear(),i=Wi,o=6,a=6,s=3,l=[10],c=null;function u(r){r.each((function(){var r,u=t.select(this),d=this.__chart__||n,f=this.__chart__=n.copy(),h=null==c?f.ticks?f.ticks.apply(f,l):f.domain():c,p=null==e?f.tickFormat?f.tickFormat.apply(f,l):O:e,g=u.selectAll(".tick").data(h,f),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",At),v=t.transition(g.exit()).style("opacity",At).remove(),y=t.transition(g.order()).style("opacity",1),b=Math.max(o,0)+s,x=Ir(f),w=u.selectAll(".domain").data([0]),k=(w.enter().append("path").attr("class","domain"),t.transition(w));m.append("line"),m.append("text");var _,A,T,M,E=m.select("line"),C=y.select("line"),S=g.select("text").text(p),L=m.select("text"),P=y.select("text"),D="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(r=Gi,_="x",T="y",A="x2",M="y2",S.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+x[0]+","+D*a+"V0H"+x[1]+"V"+D*a)):(r=qi,_="y",T="x",A="y2",M="x2",S.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),k.attr("d","M"+D*a+","+x[0]+"H0V"+x[1]+"H"+D*a)),E.attr(M,D*o),L.attr(T,D*b),C.attr(A,0).attr(M,D*o),P.attr(_,0).attr(T,D*b),f.rangeBand){var R=f,I=R.rangeBand()/2;d=f=function(t){return R(t)+I}}else d.rangeBand?d=f:v.call(r,f,d);m.call(r,d,f),y.call(r,f,f)}))}return u.scale=function(t){return arguments.length?(n=t,u):n},u.orient=function(t){return arguments.length?(i=t in Yi?t+"":Wi,u):i},u.ticks=function(){return arguments.length?(l=r(arguments),u):l},u.tickValues=function(t){return arguments.length?(c=t,u):c},u.tickFormat=function(t){return arguments.length?(e=t,u):e},u.tickSize=function(t){var e=arguments.length;return e?(o=+t,a=+arguments[e-1],u):o},u.innerTickSize=function(t){return arguments.length?(o=+t,u):o},u.outerTickSize=function(t){return arguments.length?(a=+t,u):a},u.tickPadding=function(t){return arguments.length?(s=+t,u):s},u.tickSubdivide=function(){return arguments.length&&u},u};var Wi="bottom",Yi={top:1,right:1,bottom:1,left:1};function Gi(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function qi(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}t.svg.brush=function(){var e,n,r=F(f,"brushstart","brush","brushend"),i=null,o=null,s=[0,0],l=[0,0],c=!0,u=!0,d=Ji[0];function f(e){e.each((function(){var e=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),n=e.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(d,O);r.exit().remove(),r.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Xi[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",f.empty()?"none":null);var a,s=t.transition(e),l=t.transition(n);i&&(a=Ir(i),l.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),o&&(a=Ir(o),l.attr("y",a[0]).attr("height",a[1]-a[0]),g(s)),h(s)}))}function h(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+s[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"}))}function p(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function g(t){t.select(".extent").attr("y",l[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function m(){var d,m,v=this,y=t.select(t.event.target),b=r.of(v,arguments),x=t.select(v),w=y.datum(),k=!/^(n|s)$/.test(w)&&i,_=!/^(e|w)$/.test(w)&&o,A=y.classed("extent"),T=xt(v),M=t.mouse(v),E=t.select(a(v)).on("keydown.brush",O).on("keyup.brush",L);if(t.event.changedTouches?E.on("touchmove.brush",P).on("touchend.brush",R):E.on("mousemove.brush",P).on("mouseup.brush",R),x.interrupt().selectAll("*").interrupt(),A)M[0]=s[0]-M[0],M[1]=l[0]-M[1];else if(w){var C=+/w$/.test(w),S=+/^n/.test(w);m=[s[1-C]-M[0],l[1-S]-M[1]],M[0]=s[C],M[1]=l[S]}else t.event.altKey&&(d=M.slice());function O(){32==t.event.keyCode&&(A||(d=null,M[0]-=s[1],M[1]-=l[1],A=2),N())}function L(){32==t.event.keyCode&&2==A&&(M[0]+=s[1],M[1]+=l[1],A=0,N())}function P(){var e=t.mouse(v),n=!1;m&&(e[0]+=m[0],e[1]+=m[1]),A||(t.event.altKey?(d||(d=[(s[0]+s[1])/2,(l[0]+l[1])/2]),M[0]=s[+(e[0]<d[0])],M[1]=l[+(e[1]<d[1])]):d=null),k&&D(e,i,0)&&(p(x),n=!0),_&&D(e,o,1)&&(g(x),n=!0),n&&(h(x),b({type:"brush",mode:A?"move":"resize"}))}function D(t,r,i){var o,a,f=Ir(r),h=f[0],p=f[1],g=M[i],m=i?l:s,v=m[1]-m[0];if(A&&(h-=g,p-=v+g),o=(i?u:c)?Math.max(h,Math.min(p,t[i])):t[i],A?a=(o+=g)+v:(d&&(g=Math.max(h,Math.min(p,2*d[i]-o))),g<o?(a=o,o=g):a=g),m[0]!=o||m[1]!=a)return i?n=null:e=null,m[0]=o,m[1]=a,!0}function R(){P(),x.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),t.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),P()}return f.event=function(i){i.each((function(){var i=r.of(this,arguments),o={x:s,y:l,i:e,j:n},a=this.__chart__||o;this.__chart__=o,Bi?t.select(this).transition().each("start.brush",(function(){e=a.i,n=a.j,s=a.x,l=a.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var t=xn(s,o.x),r=xn(l,o.y);return e=n=null,function(e){s=o.x=t(e),l=o.y=r(e),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=o.i,n=o.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},f.x=function(t){return arguments.length?(d=Ji[!(i=t)<<1|!o],f):i},f.y=function(t){return arguments.length?(d=Ji[!i<<1|!(o=t)],f):o},f.clamp=function(t){return arguments.length?(i&&o?(c=!!t[0],u=!!t[1]):i?c=!!t:o&&(u=!!t),f):i&&o?[c,u]:i?c:o?u:null},f.extent=function(t){var r,a,c,u,d;return arguments.length?(i&&(r=t[0],a=t[1],o&&(r=r[0],a=a[0]),e=[r,a],i.invert&&(r=i(r),a=i(a)),a<r&&(d=r,r=a,a=d),r==s[0]&&a==s[1]||(s=[r,a])),o&&(c=t[0],u=t[1],i&&(c=c[1],u=u[1]),n=[c,u],o.invert&&(c=o(c),u=o(u)),u<c&&(d=c,c=u,u=d),c==l[0]&&u==l[1]||(l=[c,u])),f):(i&&(e?(r=e[0],a=e[1]):(r=s[0],a=s[1],i.invert&&(r=i.invert(r),a=i.invert(a)),a<r&&(d=r,r=a,a=d))),o&&(n?(c=n[0],u=n[1]):(c=l[0],u=l[1],o.invert&&(c=o.invert(c),u=o.invert(u)),u<c&&(d=c,c=u,u=d))),i&&o?[[r,c],[a,u]]:i?[r,a]:o&&[c,u])},f.clear=function(){return f.empty()||(s=[0,0],l=[0,0],e=n=null),f},f.empty=function(){return!!i&&s[0]==s[1]||!!o&&l[0]==l[1]},t.rebind(f,r,"on")};var Xi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ji=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Ki(t){return JSON.parse(t.responseText)}function Qi(t){var e=i.createRange();return e.selectNode(i.body),e.createContextualFragment(t.responseText)}t.text=ue((function(t){return t.responseText})),t.json=function(t,e){return de(t,"application/json",Ki,e)},t.html=function(t,e){return de(t,"text/html",Qi,e)},t.xml=ue((function(t){return t.responseXML})),"object"==typeof e&&e.exports?e.exports=t:this.d3=t}).apply(self)},{}],15:[function(t,e,n){"use strict";e.exports=t("./quad")},{"./quad":16}],16:[function(t,e,n){"use strict";var r=t("binary-search-bounds"),i=t("clamp"),o=t("parse-rect"),a=t("array-bounds"),s=t("pick-by-alias"),l=t("defined"),c=t("flatten-vertex-data"),u=t("is-obj"),d=t("dtype"),f=t("math-log2");function h(t,e){for(var n=e[0],r=e[1],o=1/(e[2]-n),a=1/(e[3]-r),s=new Array(t.length),l=0,c=t.length/2;l<c;l++)s[2*l]=i((t[2*l]-n)*o,0,1),s[2*l+1]=i((t[2*l+1]-r)*a,0,1);return s}e.exports=function(t,e){e||(e={}),t=c(t,"float64"),e=s(e,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var n=l(e.maxDepth,255),i=l(e.bounds,a(t,2));i[0]===i[2]&&i[2]++,i[1]===i[3]&&i[3]++;var p,g=h(t,i),m=t.length>>>1;e.dtype||(e.dtype="array"),"string"==typeof e.dtype?p=new(d(e.dtype))(m):e.dtype&&(p=e.dtype,Array.isArray(p)&&(p.length=m));for(var v=0;v<m;++v)p[v]=v;var y=[],b=[],x=[],w=[];!function t(e,r,i,o,a,s){if(!o.length)return null;var l=y[a]||(y[a]=[]),c=x[a]||(x[a]=[]),u=b[a]||(b[a]=[]),d=l.length;if(++a>n||s>1073741824){for(var f=0;f<o.length;f++)l.push(o[f]),c.push(s),u.push(null,null,null,null);return d}if(l.push(o[0]),c.push(s),o.length<=1)return u.push(null,null,null,null),d;for(var h=.5*i,p=e+h,m=r+h,v=[],w=[],k=[],_=[],A=1,T=o.length;A<T;A++){var M=o[A],E=g[2*M],C=g[2*M+1];E<p?C<m?v.push(M):w.push(M):C<m?k.push(M):_.push(M)}return s<<=2,u.push(t(e,r,h,v,a,s),t(e,m,h,w,a,s+1),t(p,r,h,k,a,s+2),t(p,m,h,_,a,s+3)),d}(0,0,1,p,0,1);for(var k=0,_=0;_<y.length;_++){var A=y[_];if(p.set)p.set(A,k);else for(var T=0,M=A.length;T<M;T++)p[T+k]=A[T];var E=k+y[_].length;w[_]=[k,E],k=E}return p.range=function(){for(var e,n=[],r=arguments.length;r--;)n[r]=arguments[r];if(u(n[n.length-1])){var a=n.pop();n.length||null==a.x&&null==a.l&&null==a.left||(n=[a],e={}),e=s(a,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else e={};n.length||(n=i);var c,d=o.apply(void 0,n),p=[Math.min(d.x,d.x+d.width),Math.min(d.y,d.y+d.height),Math.max(d.x,d.x+d.width),Math.max(d.y,d.y+d.height)],g=p[0],m=p[1],v=p[2],x=p[3],w=h([g,m,v,x],i),k=w[0],_=w[1],A=w[2],T=w[3],M=l(e.level,y.length);if(null!=e.d&&("number"==typeof e.d?c=[e.d,e.d]:e.d.length&&(c=e.d),M=Math.min(Math.max(Math.ceil(-f(Math.abs(c[0])/(i[2]-i[0]))),Math.ceil(-f(Math.abs(c[1])/(i[3]-i[1])))),M)),M=Math.min(M,y.length),e.lod)return C(k,_,A,T,M);var E=[];function S(e,n,r,i,o,a){if(null!==o&&null!==a&&!(k>e+r||_>n+r||A<e||T<n||i>=M||o===a)){var s=y[i];void 0===a&&(a=s.length);for(var l=o;l<a;l++){var c=s[l],u=t[2*c],d=t[2*c+1];u>=g&&u<=v&&d>=m&&d<=x&&E.push(c)}var f=b[i],h=f[4*o+0],p=f[4*o+1],w=f[4*o+2],C=f[4*o+3],L=O(f,o+1),P=.5*r,D=i+1;S(e,n,P,D,h,p||w||C||L),S(e,n+P,P,D,p,w||C||L),S(e+P,n,P,D,w,C||L),S(e+P,n+P,P,D,C,L)}}function O(t,e){for(var n=null,r=0;null===n;)if(n=t[4*e+r],++r>t.length)return null;return n}return S(0,0,1,0,0,1),E},p;function C(t,e,n,i,o){for(var a=[],s=0;s<o;s++){var l=x[s],c=w[s][0],u=S(t,e,s),d=S(n,i,s),f=r.ge(l,u),h=r.gt(l,d,f,l.length-1);a[s]=[f+c,h+c]}return a}function S(t,e,n){for(var r=1,i=.5,o=.5,a=.5,s=0;s<n;s++)r<<=2,r+=t<i?e<o?0:1:e<o?2:3,a*=.5,i+=t<i?-a:a,o+=e<o?-a:a;return r}}},{"array-bounds":18,"binary-search-bounds":27,clamp:32,defined:56,dtype:59,"flatten-vertex-data":122,"is-obj":165,"math-log2":169,"parse-rect":178,"pick-by-alias":182}],17:[function(t,e,n){e.exports=function(t){var e=0,n=0,r=0,i=0;return t.map((function(t){var o=(t=t.slice())[0],a=o.toUpperCase();if(o!=a)switch(t[0]=a,o){case"a":t[6]+=r,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=r;break;default:for(var s=1;s<t.length;)t[s++]+=r,t[s++]+=i}switch(a){case"Z":r=e,i=n;break;case"H":r=t[1];break;case"V":i=t[1];break;case"M":r=e=t[1],i=n=t[2];break;default:r=t[t.length-2],i=t[t.length-1]}return t}))}},{}],18:[function(t,e,n){"use strict";e.exports=function(t,e){if(!t||null==t.length)throw Error("Argument should be an array");e=null==e?1:Math.floor(e);for(var n=Array(2*e),r=0;r<e;r++){for(var i=-1/0,o=1/0,a=r,s=t.length;a<s;a+=e)t[a]>i&&(i=t[a]),t[a]<o&&(o=t[a]);n[r]=o,n[e+r]=i}return n}},{}],19:[function(t,e,n){"use strict";e.exports=function(t,e,n){if("function"==typeof Array.prototype.findIndex)return t.findIndex(e,n);if("function"!=typeof e)throw new TypeError("predicate must be a function");var r=Object(t),i=r.length;if(0===i)return-1;for(var o=0;o<i;o++)if(e.call(n,r[o],o,r))return o;return-1}},{}],20:[function(t,e,n){"use strict";var r=t("array-bounds");e.exports=function(t,e,n){if(!t||null==t.length)throw Error("Argument should be an array");null==e&&(e=1),null==n&&(n=r(t,e));for(var i=0;i<e;i++){var o=n[e+i],a=n[i],s=i,l=t.length;if(o===1/0&&a===-1/0)for(s=i;s<l;s+=e)t[s]=t[s]===o?1:t[s]===a?0:.5;else if(o===1/0)for(s=i;s<l;s+=e)t[s]=t[s]===o?1:0;else if(a===-1/0)for(s=i;s<l;s+=e)t[s]=t[s]===a?0:1;else{var c=o-a;for(s=i;s<l;s+=e)isNaN(t[s])||(t[s]=0===c?.5:(t[s]-a)/c)}}return t}},{"array-bounds":18}],21:[function(t,e,n){e.exports=function(t,e){var n="number"==typeof t,r="number"==typeof e;n&&!r?(e=t,t=0):n||r||(t=0,e=0);var i=(e|=0)-(t|=0);if(i<0)throw new Error("array length must be positive");for(var o=new Array(i),a=0,s=t;a<i;a++,s++)o[a]=s;return o}},{}],22:[function(t,e,r){(function(n){(function(){"use strict";var r=t("object-assign");function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function o(t){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=t("util/"),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function u(t){return Object.prototype.toString.call(t)}function d(t){return!o(t)&&"function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var f=e.exports=y,h=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(a.isFunction(t)){if(c)return t.name;var e=t.toString().match(h);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function m(t){if(c||!a.isFunction(t))return a.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function v(t,e,n,r,i){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function y(t,e){t||v(t,!0,e,"==",f.ok)}function b(t,e,n,r){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(d(t)&&d(e)&&u(t)===u(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=x(t),o=x(e);if(i&&!o||!i&&o)return!1;if(i)return b(t=l.call(t),e=l.call(e),n);var s,c,u=_(t),d=_(e);if(u.length!==d.length)return!1;for(u.sort(),d.sort(),c=u.length-1;c>=0;c--)if(u[c]!==d[c])return!1;for(c=u.length-1;c>=0;c--)if(!b(t[s=u[c]],e[s],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function x(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function k(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&v(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!t&&i&&!n;if((!t&&a.isError(i)&&o&&w(i,n)||s)&&v(i,n,"Got unwanted exception"+r),t&&i&&n&&!w(i,n)||!t&&i)throw i}f.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return g(m(t.actual),128)+" "+t.operator+" "+g(m(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=p(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(f.AssertionError,Error),f.fail=v,f.ok=y,f.equal=function(t,e,n){t!=e&&v(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&v(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){b(t,e,!1)||v(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){b(t,e,!0)||v(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){b(t,e,!1)&&v(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,r){b(e,n,!0)&&v(e,n,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&v(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&v(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){k(!0,t,e,n)},f.doesNotThrow=function(t,e,n){k(!1,t,e,n)},f.ifError=function(t){if(t)throw t},f.strict=r((function t(e,n){e||v(e,!0,n,"==",t)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var _=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e}}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":176,"util/":25}],23:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],24:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],25:[function(t,e,r){(function(e,n){(function(){var i=/%[sdj%]/g;r.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),l=r[n];n<o;l=r[++n])g(l)||!x(l)?a+=" "+l:a+=" "+s(l);return a},r.deprecate=function(t,i){if(y(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),o=!0}return t.apply(this,arguments)}};var o,a={};function s(t,e){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(e)?n.showHidden=e:e&&r._extend(n,e),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,t,n.depth)}function l(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function c(t,e){return t}function u(t,e,n){if(t.customInspect&&e&&_(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return v(i)||(i=u(t,i,n)),i}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,e);if(o)return o;var a=Object.keys(e),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),k(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(e);if(0===a.length){if(_(e)){var l=e.name?": "+e.name:"";return t.stylize("[Function"+l+"]","special")}if(b(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(w(e))return t.stylize(Date.prototype.toString.call(e),"date");if(k(e))return d(e)}var c,x="",A=!1,T=["{","}"];return h(e)&&(A=!0,T=["[","]"]),_(e)&&(x=" [Function"+(e.name?": "+e.name:"")+"]"),b(e)&&(x=" "+RegExp.prototype.toString.call(e)),w(e)&&(x=" "+Date.prototype.toUTCString.call(e)),k(e)&&(x=" "+d(e)),0!==a.length||A&&0!=e.length?n<0?b(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=A?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)C(e,String(a))?o.push(f(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,e,n,s,a):a.map((function(r){return f(t,e,n,s,r,A)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,x,T)):T[0]+x+T[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),C(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=g(n)?u(t,l.value,null):u(t,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function v(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return x(t)&&"[object RegExp]"===A(t)}function x(t){return"object"==typeof t&&null!==t}function w(t){return x(t)&&"[object Date]"===A(t)}function k(t){return x(t)&&("[object Error]"===A(t)||t instanceof Error)}function _(t){return"function"==typeof t}function A(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}r.debuglog=function(t){if(y(o)&&(o=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=e.pid;a[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else a[t]=function(){};return a[t]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=h,r.isBoolean=p,r.isNull=g,r.isNullOrUndefined=function(t){return null==t},r.isNumber=m,r.isString=v,r.isSymbol=function(t){return"symbol"==typeof t},r.isUndefined=y,r.isRegExp=b,r.isObject=x,r.isDate=w,r.isError=k,r.isFunction=_,r.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},r.isBuffer=t("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r.log=function(){console.log("%s - %s",E(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this)}).call(this,t("_process"),"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":24,_process:192,inherits:23}],26:[function(t,e,n){"use strict";n.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},n.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(u(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],27:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)>=0?(o=a,i=a-1):r=a+1}return o}function i(t,e,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)>0?(o=a,i=a-1):r=a+1}return o}function o(t,e,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)<0?(o=a,r=a+1):i=a-1}return o}function a(t,e,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)<=0?(o=a,r=a+1):i=a-1}return o}function s(t,e,n,r,i){for(;r<=i;){var o=r+i>>>1,a=t[o],s=void 0!==n?n(a,e):a-e;if(0===s)return o;s<=0?r=o+1:i=o-1}return-1}function l(t,e,n,r,i,o){return"function"==typeof n?o(t,e,n,void 0===r?0:0|r,void 0===i?t.length-1:0|i):o(t,e,void 0,void 0===n?0:0|n,void 0===r?t.length-1:0|r)}e.exports={ge:function(t,e,n,i,o){return l(t,e,n,i,o,r)},gt:function(t,e,n,r,o){return l(t,e,n,r,o,i)},lt:function(t,e,n,r,i){return l(t,e,n,r,i,o)},le:function(t,e,n,r,i){return l(t,e,n,r,i,a)},eq:function(t,e,n,r,i){return l(t,e,n,r,i,s)}}},{}],28:[function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(t){return(t>0)-(t<0)},n.abs=function(t){var e=t>>31;return(t^e)-e},n.min=function(t,e){return e^(t^e)&-(t<e)},n.max=function(t,e){return t^(t^e)&-(t<e)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),n.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},n.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},n.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},n.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},n.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},{}],29:[function(t,e,n){"use strict";var r=t("clamp");e.exports=function(t,e){e||(e={});var n,a,s,l,c,u,d,f,h,p,g,m=null==e.cutoff?.25:e.cutoff,v=null==e.radius?8:e.radius,y=e.channel||0;if(ArrayBuffer.isView(t)||Array.isArray(t)){if(!e.width||!e.height)throw Error("For raw data width and height should be provided by options");n=e.width,a=e.height,l=t,u=e.stride?e.stride:Math.floor(t.length/n/a)}else window.HTMLCanvasElement&&t instanceof window.HTMLCanvasElement?(d=(f=t).getContext("2d"),n=f.width,a=f.height,l=(h=d.getImageData(0,0,n,a)).data,u=4):window.CanvasRenderingContext2D&&t instanceof window.CanvasRenderingContext2D?(d=t,n=(f=t.canvas).width,a=f.height,l=(h=d.getImageData(0,0,n,a)).data,u=4):window.ImageData&&t instanceof window.ImageData&&(h=t,n=t.width,a=t.height,l=h.data,u=4);if(s=Math.max(n,a),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(c=l,l=Array(n*a),p=0,g=c.length;p<g;p++)l[p]=c[p*u+y]/255;else if(1!==u)throw Error("Raw data can have only 1 value per pixel");var b=Array(n*a),x=Array(n*a),w=Array(s),k=Array(s),_=Array(s+1),A=Array(s);for(p=0,g=n*a;p<g;p++){var T=l[p];b[p]=1===T?0:0===T?i:Math.pow(Math.max(0,.5-T),2),x[p]=1===T?i:0===T?0:Math.pow(Math.max(0,T-.5),2)}o(b,n,a,w,k,A,_),o(x,n,a,w,k,A,_);var M=window.Float32Array?new Float32Array(n*a):new Array(n*a);for(p=0,g=n*a;p<g;p++)M[p]=r(1-((b[p]-x[p])/v+m),0,1);return M};var i=1e20;function o(t,e,n,r,i,o,s){for(var l=0;l<e;l++){for(var c=0;c<n;c++)r[c]=t[c*e+l];for(a(r,i,o,s,n),c=0;c<n;c++)t[c*e+l]=i[c]}for(c=0;c<n;c++){for(l=0;l<e;l++)r[l]=t[c*e+l];for(a(r,i,o,s,e),l=0;l<e;l++)t[c*e+l]=Math.sqrt(i[l])}}function a(t,e,n,r,o){n[0]=0,r[0]=-i,r[1]=+i;for(var a=1,s=0;a<o;a++){for(var l=(t[a]+a*a-(t[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);l<=r[s];)s--,l=(t[a]+a*a-(t[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);n[++s]=a,r[s]=l,r[s+1]=+i}for(a=0,s=0;a<o;a++){for(;r[s+1]<a;)s++;e[a]=(a-n[s])*(a-n[s])+t[n[s]]}}},{clamp:32}],30:[function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function d(t,e,n,r){var i,o,a,s;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(t))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[t];if(void 0===l)return!1;if("function"==typeof l)o(l,this,e);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)o(u[n],this,e)}return!0},s.prototype.addListener=function(t,e){return d(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return d(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],31:[function(t,e,n){(function(e){(function(){"use strict";var e=t("base64-js"),r=t("ieee754");function i(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=o.prototype,e}function o(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return a(t,e,n)}function a(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|d(t,e),r=i(n),a=r.write(t,e);return a!==n&&(r=r.slice(0,a)),r}(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(B(t,ArrayBuffer)||t&&B(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=o.prototype,r}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return o.from(r,e,n);var a=function(t){if(o.isBuffer(t)){var e=0|u(t.length),n=i(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||F(t.length)?i(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return s(t),i(t<0?0:0|u(t))}function c(t){for(var e=t.length<0?0:0|u(t.length),n=i(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function u(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function d(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||B(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return I(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(i)return r?-1:I(t).length;e=(""+e).toLowerCase(),i=!0}}function f(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return _(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),F(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,a=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(c(t,o+f)!==c(e,f)){d=!1;break}if(d)return o}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(F(s))return a;t[n+a]=s}return a}function v(t,e,n,r){return N(I(e,t.length-n),t,n,r)}function y(t,e,n,r){return N(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function b(t,e,n,r){return y(t,e,n,r)}function x(t,e,n,r){return N(z(e),t,n,r)}function w(t,e,n,r){return N(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function _(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,l,c=t[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function M(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=R(t[o]);return i}function E(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,i,o){return e=+e,n>>>=0,o||O(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function P(t,e,n,i,o){return e=+e,n>>>=0,o||O(t,0,n,8),r.write(t,e,n,i,52,8),n+8}n.Buffer=o,n.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(t,e,n){return a(t,e,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(t,e,n){return function(t,e,n){return s(t),t<=0?i(t):void 0!==e?"string"==typeof n?i(t).fill(e,n):i(t).fill(e):i(t)}(t,e,n)},o.allocUnsafe=function(t){return l(t)},o.allocUnsafeSlow=function(t){return l(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(B(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),B(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(B(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(B(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),l=Math.min(a,s),c=this.slice(r,i),u=t.slice(e,n),d=0;d<l;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=o.prototype,r},o.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){t>>>=0,e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t>>>=0,e||C(t,4,this.length),r.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||C(t,4,this.length),r.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||C(t,8,this.length),r.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||C(t,8,this.length),r.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||S(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||S(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);S(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);S(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var a=i-1;a>=0;--a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:o.from(t,r),l=s.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var D=/[^+/0-9A-Za-z-_]/g;function R(t){return t<16?"0"+t.toString(16):t.toString(16)}function I(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function N(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function B(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function F(t){return t!=t}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":26,buffer:31,ieee754:161}],32:[function(t,e,n){e.exports=function(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}},{}],33:[function(t,e,n){"use strict";var r=t("clamp");function i(t,e){null==e&&(e=!0);var n=t[0],i=t[1],o=t[2],a=t[3];return null==a&&(a=e?1:255),e&&(n*=255,i*=255,o*=255,a*=255),16777216*(n=255&r(n,0,255))+((i=255&r(i,0,255))<<16)+((o=255&r(o,0,255))<<8)+(255&r(a,0,255))}e.exports=i,e.exports.to=i,e.exports.from=function(t,e){var n=(t=+t)>>>24,r=(16711680&t)>>>16,i=(65280&t)>>>8,o=255&t;return!1===e?[n,r,i,o]:[n/255,r/255,i/255,o/255]}},{clamp:32}],34:[function(t,e,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],35:[function(t,e,n){"use strict";var r=t("color-rgba"),i=t("clamp"),o=t("dtype");e.exports=function(t,e){"float"!==e&&e||(e="array"),"uint"===e&&(e="uint8"),"uint_clamped"===e&&(e="uint8_clamped");var n=new(o(e))(4),a="uint8"!==e&&"uint8_clamped"!==e;return t.length&&"string"!=typeof t||((t=r(t))[0]/=255,t[1]/=255,t[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1))}(t)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=null!=t[3]?t[3]:255,a&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255),n):(a?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=null!=t[3]?t[3]:1):(n[0]=i(Math.floor(255*t[0]),0,255),n[1]=i(Math.floor(255*t[1]),0,255),n[2]=i(Math.floor(255*t[2]),0,255),n[3]=null==t[3]?255:i(Math.floor(255*t[3]),0,255)),n)}},{clamp:32,"color-rgba":37,dtype:59}],36:[function(t,e,r){(function(n){(function(){"use strict";var r=t("color-name"),i=t("is-plain-obj"),o=t("defined");e.exports=function(t){var e,s,l=[],c=1;if("string"==typeof t)if(r[t])l=r[t].slice(),s="rgb";else if("transparent"===t)c=0,s="rgb",l=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var u=(h=t.slice(1)).length;c=1,u<=4?(l=[parseInt(h[0]+h[0],16),parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16)],4===u&&(c=parseInt(h[3]+h[3],16)/255)):(l=[parseInt(h[0]+h[1],16),parseInt(h[2]+h[3],16),parseInt(h[4]+h[5],16)],8===u&&(c=parseInt(h[6]+h[7],16)/255)),l[0]||(l[0]=0),l[1]||(l[1]=0),l[2]||(l[2]=0),s="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var d=e[1],f="rgb"===d,h=d.replace(/a$/,"");s=h,u="cmyk"===h?4:"gray"===h?1:3,l=e[2].trim().split(/\s*,\s*/).map((function(t,e){if(/%$/.test(t))return e===u?parseFloat(t)/100:"rgb"===h?255*parseFloat(t)/100:parseFloat(t);if("h"===h[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==a[t])return a[t]}return parseFloat(t)})),d===h&&l.push(1),c=f||void 0===l[u]?1:l[u],l=l.slice(0,u)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(l=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),s=t.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(t))if(i(t)){var p=o(t.r,t.red,t.R,null);null!==p?(s="rgb",l=[p,o(t.g,t.green,t.G),o(t.b,t.blue,t.B)]):(s="hsl",l=[o(t.h,t.hue,t.H),o(t.s,t.saturation,t.S),o(t.l,t.lightness,t.L,t.b,t.brightness)]),c=o(t.a,t.alpha,t.opacity,1),null!=t.opacity&&(c/=100)}else(Array.isArray(t)||n.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t))&&(l=[t[0],t[1],t[2]],s="rgb",c=4===t.length?t[3]:1);else s="rgb",l=[t>>>16,(65280&t)>>>8,255&t];return{space:s,values:l,alpha:c}};var a={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"color-name":34,defined:56,"is-plain-obj":166}],37:[function(t,e,n){"use strict";var r=t("color-parse"),i=t("color-space/hsl"),o=t("clamp");e.exports=function(t){var e,n=r(t);return n.space?((e=Array(3))[0]=o(n.values[0],0,255),e[1]=o(n.values[1],0,255),e[2]=o(n.values[2],0,255),"h"===n.space[0]&&(e=i.rgb(e)),e.push(o(n.alpha,0,1)),e):[]}},{clamp:32,"color-parse":36,"color-space/hsl":38}],38:[function(t,e,n){"use strict";var r=t("./rgb");e.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[o=255*l,o,o];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0?r++:r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[c]=255*o;return i}},r.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a;return s===a?e=0:r===s?e=(i-o)/l:i===s?e=2+(o-r)/l:o===s&&(e=4+(r-i)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}},{"./rgb":39}],39:[function(t,e,n){"use strict";e.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],40:[function(t,e,n){e.exports=["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]},{}],41:[function(t,e,n){e.exports=["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]},{}],42:[function(t,e,n){e.exports=["normal","italic","oblique"]},{}],43:[function(t,e,n){e.exports=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},{}],44:[function(t,e,n){"use strict";e.exports={parse:t("./parse"),stringify:t("./stringify")}},{"./parse":46,"./stringify":47}],45:[function(t,e,n){"use strict";var r=t("css-font-size-keywords");e.exports={isSize:function(t){return/^[\d\.]/.test(t)||-1!==t.indexOf("/")||-1!==r.indexOf(t)}}},{"css-font-size-keywords":40}],46:[function(t,e,n){"use strict";var r=t("unquote"),i=t("css-global-keywords"),o=t("css-system-font-keywords"),a=t("css-font-weight-keywords"),s=t("css-font-style-keywords"),l=t("css-font-stretch-keywords"),c=t("string-split-by"),u=t("./lib/util").isSize;e.exports=f;var d=f.cache={};function f(t){if("string"!=typeof t)throw new Error("Font argument must be a string.");if(d[t])return d[t];if(""===t)throw new Error("Cannot parse an empty string.");if(-1!==o.indexOf(t))return d[t]={system:t};for(var e,n={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},f=c(t,/\s+/);e=f.shift();){if(-1!==i.indexOf(e))return["style","variant","weight","stretch"].forEach((function(t){n[t]=e})),d[t]=n;if(-1===s.indexOf(e))if("normal"!==e&&"small-caps"!==e)if(-1===l.indexOf(e)){if(-1===a.indexOf(e)){if(u(e)){var p=c(e,"/");if(n.size=p[0],null!=p[1]?n.lineHeight=h(p[1]):"/"===f[0]&&(f.shift(),n.lineHeight=h(f.shift())),!f.length)throw new Error("Missing required font-family.");return n.family=c(f.join(" "),/\s*,\s*/).map(r),d[t]=n}throw new Error("Unknown or unsupported font token: "+e)}n.weight=e}else n.stretch=e;else n.variant=e;else n.style=e}throw new Error("Missing required font-size.")}function h(t){var e=parseFloat(t);return e.toString()===t?e:t}},{"./lib/util":45,"css-font-stretch-keywords":41,"css-font-style-keywords":42,"css-font-weight-keywords":43,"css-global-keywords":48,"css-system-font-keywords":49,"string-split-by":199,unquote:220}],47:[function(t,e,n){"use strict";var r=t("pick-by-alias"),i=t("./lib/util").isSize,o=g(t("css-global-keywords")),a=g(t("css-system-font-keywords")),s=g(t("css-font-weight-keywords")),l=g(t("css-font-style-keywords")),c=g(t("css-font-stretch-keywords")),u={normal:1,"small-caps":1},d={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},f="1rem",h="serif";function p(t,e){if(t&&!e[t]&&!o[t])throw Error("Unknown keyword `"+t+"`");return t}function g(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=1;return e}e.exports=function(t){if((t=r(t,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return t.system&&p(t.system,a),t.system;if(p(t.style,l),p(t.variant,u),p(t.weight,s),p(t.stretch,c),null==t.size&&(t.size=f),"number"==typeof t.size&&(t.size+="px"),!i)throw Error("Bad size value `"+t.size+"`");t.family||(t.family=h),Array.isArray(t.family)&&(t.family.length||(t.family=[h]),t.family=t.family.map((function(t){return d[t]?t:'"'+t+'"'})).join(", "));var e=[];return e.push(t.style),t.variant!==t.style&&e.push(t.variant),t.weight!==t.variant&&t.weight!==t.style&&e.push(t.weight),t.stretch!==t.weight&&t.stretch!==t.variant&&t.stretch!==t.style&&e.push(t.stretch),e.push(t.size+(null==t.lineHeight||"normal"===t.lineHeight||t.lineHeight+""=="1"?"":"/"+t.lineHeight)),e.push(t.family),e.filter(Boolean).join(" ")}},{"./lib/util":45,"css-font-stretch-keywords":41,"css-font-style-keywords":42,"css-font-weight-keywords":43,"css-global-keywords":48,"css-system-font-keywords":49,"pick-by-alias":182}],48:[function(t,e,n){e.exports=["inherit","initial","unset"]},{}],49:[function(t,e,n){e.exports=["caption","icon","menu","message-box","small-caption","status-bar"]},{}],50:[function(t,e,n){"use strict";var r,i=t("type/value/is"),o=t("type/value/ensure"),a=t("type/plain-function/ensure"),s=t("es5-ext/object/copy"),l=t("es5-ext/object/normalize-options"),c=t("es5-ext/object/map"),u=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(t,e,n){var r,i=o(e)&&a(e.value);return delete(r=s(e)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,t)?i:(e.value=u.call(i,n.resolveContext?n.resolveContext(this):this),d(this,t,e),this[t])},r},e.exports=function(t){var e=l(arguments[1]);return i(e.resolveContext)&&a(e.resolveContext),c(t,(function(t,n){return r(n,t,e)}))}},{"es5-ext/object/copy":78,"es5-ext/object/map":86,"es5-ext/object/normalize-options":87,"type/plain-function/ensure":213,"type/value/ensure":217,"type/value/is":218}],51:[function(t,e,n){"use strict";var r=t("type/value/is"),i=t("type/plain-function/is"),o=t("es5-ext/object/assign"),a=t("es5-ext/object/normalize-options"),s=t("es5-ext/string/#/contains");(e.exports=function(t,e){var n,i,l,c,u;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],r(t)?(n=s.call(t,"c"),i=s.call(t,"e"),l=s.call(t,"w")):(n=l=!0,i=!1),u={value:e,configurable:n,enumerable:i,writable:l},c?o(a(c),u):u}).gs=function(t,e,n){var l,c,u,d;return"string"!=typeof t?(u=n,n=e,e=t,t=null):u=arguments[3],r(e)?i(e)?r(n)?i(n)||(u=n,n=void 0):n=void 0:(u=e,e=n=void 0):e=void 0,r(t)?(l=s.call(t,"c"),c=s.call(t,"e")):(l=!0,c=!1),d={get:e,set:n,configurable:l,enumerable:c},u?o(a(u),d):d}},{"es5-ext/object/assign":75,"es5-ext/object/normalize-options":87,"es5-ext/string/#/contains":94,"type/plain-function/is":214,"type/value/is":218}],52:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:(t="undefined"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function n(t){return(t=e(Math.abs(t)))?t[1]:NaN}var r,i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(t){if(!(e=i.exec(t)))throw new Error("invalid format: "+t);var e;return new a({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function a(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function s(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}o.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return s(100*t,e)},r:s,s:function(t,n){var i=e(t,n);if(!i)return t+"";var o=i[0],a=i[1],s=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=o.length;return s===l?o:s>l?o+new Array(s-l+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+e(t,Math.max(0,n+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function c(t){return t}var u,d=Array.prototype.map,f=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function h(t){var e,i,a=void 0===t.grouping||void 0===t.thousands?c:(e=d.call(t.grouping,Number),i=t.thousands+"",function(t,n){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(i)}),s=void 0===t.currency?"":t.currency[0]+"",u=void 0===t.currency?"":t.currency[1]+"",h=void 0===t.decimal?".":t.decimal+"",p=void 0===t.numerals?c:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(d.call(t.numerals,String)),g=void 0===t.percent?"%":t.percent+"",m=void 0===t.minus?"-":t.minus+"",v=void 0===t.nan?"NaN":t.nan+"";function y(t){var e=(t=o(t)).fill,n=t.align,i=t.sign,c=t.symbol,d=t.zero,y=t.width,b=t.comma,x=t.precision,w=t.trim,k=t.type;"n"===k?(b=!0,k="g"):l[k]||(void 0===x&&(x=12),w=!0,k="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var _="$"===c?s:"#"===c&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",A="$"===c?u:/[%p]/.test(k)?g:"",T=l[k],M=/[defgprs%]/.test(k);function E(t){var o,s,l,c=_,u=A;if("c"===k)u=T(t)+u,t="";else{var g=(t=+t)<0||1/t<0;if(t=isNaN(t)?v:T(Math.abs(t),x),w&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),g&&0==+t&&"+"!==i&&(g=!1),c=(g?"("===i?i:m:"-"===i||"("===i?"":i)+c,u=("s"===k?f[8+r/3]:"")+u+(g&&"("===i?")":""),M)for(o=-1,s=t.length;++o<s;)if(48>(l=t.charCodeAt(o))||l>57){u=(46===l?h+t.slice(o+1):t.slice(o))+u,t=t.slice(0,o);break}}b&&!d&&(t=a(t,1/0));var E=c.length+t.length+u.length,C=E<y?new Array(y-E+1).join(e):"";switch(b&&d&&(t=a(C+t,C.length?y-u.length:1/0),C=""),n){case"<":t=c+t+u+C;break;case"=":t=c+C+t+u;break;case"^":t=C.slice(0,E=C.length>>1)+c+t+u+C.slice(E);break;default:t=C+c+t+u}return p(t)}return x=void 0===x?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),E.toString=function(){return t+""},E}return{format:y,formatPrefix:function(t,e){var r=y(((t=o(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(n(e)/3))),a=Math.pow(10,-i),s=f[8+i/3];return function(t){return r(a*t)+s}}}}function p(e){return u=h(e),t.format=u.format,t.formatPrefix=u.formatPrefix,u}p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),t.FormatSpecifier=a,t.formatDefaultLocale=p,t.formatLocale=h,t.formatSpecifier=o,t.precisionFixed=function(t){return Math.max(0,-n(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1},Object.defineProperty(t,"__esModule",{value:!0})}))},{}],53:[function(t,e,n){var r,i;r=this,i=function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function o(t){var o=t.dateTime,a=t.date,l=t.time,c=t.periods,u=t.days,d=t.shortDays,f=t.months,yt=t.shortMonths,bt=h(c),xt=p(c),wt=h(u),kt=p(u),_t=h(d),At=p(d),Tt=h(f),Mt=p(f),Et=h(yt),Ct=p(yt),St={a:function(t){return d[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return yt[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:I,e:I,f:j,H:z,I:N,j:B,L:F,m:$,M:Z,p:function(t){return c[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:mt,s:vt,S:U,u:H,U:V,V:W,w:Y,W:G,x:null,X:null,y:q,Y:X,Z:J,"%":gt},Ot={a:function(t){return d[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return yt[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:K,e:K,f:rt,H:Q,I:tt,j:et,L:nt,m:it,M:ot,p:function(t){return c[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:mt,s:vt,S:at,u:st,U:lt,V:ct,w:ut,W:dt,x:null,X:null,y:ft,Y:ht,Z:pt,"%":gt},Lt={a:function(t,e,n){var r=_t.exec(e.slice(n));return r?(t.w=At[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=wt.exec(e.slice(n));return r?(t.w=kt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Et.exec(e.slice(n));return r?(t.m=Ct[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.m=Mt[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return Rt(t,o,e,n)},d:T,e:T,f:L,H:E,I:E,j:M,L:O,m:A,M:C,p:function(t,e,n){var r=bt.exec(e.slice(n));return r?(t.p=xt[r[0].toLowerCase()],n+r[0].length):-1},q:_,Q:D,s:R,S:S,u:m,U:v,V:y,w:g,W:b,x:function(t,e,n){return Rt(t,a,e,n)},X:function(t,e,n){return Rt(t,l,e,n)},y:w,Y:x,Z:k,"%":P};function Pt(t,e){return function(n){var r,i,o,a=[],l=-1,c=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++l<u;)37===t.charCodeAt(l)&&(a.push(t.slice(c,l)),null!=(i=s[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=l+1);return a.push(t.slice(c,l)),a.join("")}}function Dt(t,o){return function(a){var s,l,c=i(1900,void 0,1);if(Rt(c,t,a+="",0)!=a.length)return null;if("Q"in c)return new Date(c.Q);if("s"in c)return new Date(1e3*c.s+("L"in c?c.L:0));if(o&&!("Z"in c)&&(c.Z=0),"p"in c&&(c.H=c.H%12+12*c.p),void 0===c.m&&(c.m="q"in c?c.q:0),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(l=(s=r(i(c.y,0,1))).getUTCDay(),s=l>4||0===l?e.utcMonday.ceil(s):e.utcMonday(s),s=e.utcDay.offset(s,7*(c.V-1)),c.y=s.getUTCFullYear(),c.m=s.getUTCMonth(),c.d=s.getUTCDate()+(c.w+6)%7):(l=(s=n(i(c.y,0,1))).getDay(),s=l>4||0===l?e.timeMonday.ceil(s):e.timeMonday(s),s=e.timeDay.offset(s,7*(c.V-1)),c.y=s.getFullYear(),c.m=s.getMonth(),c.d=s.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),l="Z"in c?r(i(c.y,0,1)).getUTCDay():n(i(c.y,0,1)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(l+5)%7:c.w+7*c.U-(l+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):n(c)}}function Rt(t,e,n,r){for(var i,o,a=0,l=e.length,c=n.length;a<l;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=Lt[i in s?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return St.x=Pt(a,St),St.X=Pt(l,St),St.c=Pt(o,St),Ot.x=Pt(a,Ot),Ot.X=Pt(l,Ot),Ot.c=Pt(o,Ot),{format:function(t){var e=Pt(t+="",St);return e.toString=function(){return t},e},parse:function(t){var e=Dt(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Pt(t+="",Ot);return e.toString=function(){return t},e},utcParse:function(t){var e=Dt(t+="",!0);return e.toString=function(){return t},e}}}var a,s={"-":"",_:" ",0:"0"},l=/^\s*\d+/,c=/^%/,u=/[\\^$*+?|[\]().{}]/g;function d(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function f(t){return t.replace(u,"\\$&")}function h(t){return new RegExp("^(?:"+t.map(f).join("|")+")","i")}function p(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function g(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function m(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function v(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function y(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function b(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function x(t,e,n){var r=l.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function w(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function k(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function A(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function T(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function M(t,e,n){var r=l.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function E(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function C(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function S(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function O(t,e,n){var r=l.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function L(t,e,n){var r=l.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function P(t,e,n){var r=c.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function D(t,e,n){var r=l.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function R(t,e,n){var r=l.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function I(t,e){return d(t.getDate(),e,2)}function z(t,e){return d(t.getHours(),e,2)}function N(t,e){return d(t.getHours()%12||12,e,2)}function B(t,n){return d(1+e.timeDay.count(e.timeYear(t),t),n,3)}function F(t,e){return d(t.getMilliseconds(),e,3)}function j(t,e){return F(t,e)+"000"}function $(t,e){return d(t.getMonth()+1,e,2)}function Z(t,e){return d(t.getMinutes(),e,2)}function U(t,e){return d(t.getSeconds(),e,2)}function H(t){var e=t.getDay();return 0===e?7:e}function V(t,n){return d(e.timeSunday.count(e.timeYear(t)-1,t),n,2)}function W(t,n){var r=t.getDay();return t=r>=4||0===r?e.timeThursday(t):e.timeThursday.ceil(t),d(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),n,2)}function Y(t){return t.getDay()}function G(t,n){return d(e.timeMonday.count(e.timeYear(t)-1,t),n,2)}function q(t,e){return d(t.getFullYear()%100,e,2)}function X(t,e){return d(t.getFullYear()%1e4,e,4)}function J(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+d(e/60|0,"0",2)+d(e%60,"0",2)}function K(t,e){return d(t.getUTCDate(),e,2)}function Q(t,e){return d(t.getUTCHours(),e,2)}function tt(t,e){return d(t.getUTCHours()%12||12,e,2)}function et(t,n){return d(1+e.utcDay.count(e.utcYear(t),t),n,3)}function nt(t,e){return d(t.getUTCMilliseconds(),e,3)}function rt(t,e){return nt(t,e)+"000"}function it(t,e){return d(t.getUTCMonth()+1,e,2)}function ot(t,e){return d(t.getUTCMinutes(),e,2)}function at(t,e){return d(t.getUTCSeconds(),e,2)}function st(t){var e=t.getUTCDay();return 0===e?7:e}function lt(t,n){return d(e.utcSunday.count(e.utcYear(t)-1,t),n,2)}function ct(t,n){var r=t.getUTCDay();return t=r>=4||0===r?e.utcThursday(t):e.utcThursday.ceil(t),d(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),n,2)}function ut(t){return t.getUTCDay()}function dt(t,n){return d(e.utcMonday.count(e.utcYear(t)-1,t),n,2)}function ft(t,e){return d(t.getUTCFullYear()%100,e,2)}function ht(t,e){return d(t.getUTCFullYear()%1e4,e,4)}function pt(){return"+0000"}function gt(){return"%"}function mt(t){return+t}function vt(t){return Math.floor(+t/1e3)}function yt(e){return a=o(e),t.timeFormat=a.format,t.timeParse=a.parse,t.utcFormat=a.utcFormat,t.utcParse=a.utcParse,a}yt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var bt=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),xt=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.isoFormat=bt,t.isoParse=xt,t.timeFormatDefaultLocale=yt,t.timeFormatLocale=o,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-time")):i((r=r||self).d3=r.d3||{},r.d3)},{"d3-time":54}],54:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:(t=t||self).d3=t.d3||{})}(this,(function(t){"use strict";var e=new Date,n=new Date;function r(t,i,o,a){function s(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return s.floor=function(e){return t(e=new Date(+e)),e},s.ceil=function(e){return t(e=new Date(e-1)),i(e,1),t(e),e},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return i(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(e,n,r){var o,a=[];if(e=s.ceil(e),r=null==r?1:Math.floor(r),!(e<n&&r>0))return a;do{a.push(o=new Date(+e)),i(e,r),t(e)}while(o<e&&e<n);return a},s.filter=function(e){return r((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;i(t,-1),!e(t););else for(;--n>=0;)for(;i(t,1),!e(t););}))},o&&(s.count=function(r,i){return e.setTime(+r),n.setTime(+i),t(e),t(n),Math.floor(o(e,n))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}var i=r((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):i:null};var o=i.range,a=r((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),s=a.range,l=r((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),c=l.range,u=r((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),d=u.range,f=r((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),h=f.range;function p(t){return r((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var g=p(0),m=p(1),v=p(2),y=p(3),b=p(4),x=p(5),w=p(6),k=g.range,_=m.range,A=v.range,T=y.range,M=b.range,E=x.range,C=w.range,S=r((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),O=S.range,L=r((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));L.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var P=L.range,D=r((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),R=D.range,I=r((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),z=I.range,N=r((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),B=N.range;function F(t){return r((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var j=F(0),$=F(1),Z=F(2),U=F(3),H=F(4),V=F(5),W=F(6),Y=j.range,G=$.range,q=Z.range,X=U.range,J=H.range,K=V.range,Q=W.range,tt=r((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),et=tt.range,nt=r((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));nt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var rt=nt.range;t.timeDay=f,t.timeDays=h,t.timeFriday=x,t.timeFridays=E,t.timeHour=u,t.timeHours=d,t.timeInterval=r,t.timeMillisecond=i,t.timeMilliseconds=o,t.timeMinute=l,t.timeMinutes=c,t.timeMonday=m,t.timeMondays=_,t.timeMonth=S,t.timeMonths=O,t.timeSaturday=w,t.timeSaturdays=C,t.timeSecond=a,t.timeSeconds=s,t.timeSunday=g,t.timeSundays=k,t.timeThursday=b,t.timeThursdays=M,t.timeTuesday=v,t.timeTuesdays=A,t.timeWednesday=y,t.timeWednesdays=T,t.timeWeek=g,t.timeWeeks=k,t.timeYear=L,t.timeYears=P,t.utcDay=N,t.utcDays=B,t.utcFriday=V,t.utcFridays=K,t.utcHour=I,t.utcHours=z,t.utcMillisecond=i,t.utcMilliseconds=o,t.utcMinute=D,t.utcMinutes=R,t.utcMonday=$,t.utcMondays=G,t.utcMonth=tt,t.utcMonths=et,t.utcSaturday=W,t.utcSaturdays=Q,t.utcSecond=a,t.utcSeconds=s,t.utcSunday=j,t.utcSundays=Y,t.utcThursday=H,t.utcThursdays=J,t.utcTuesday=Z,t.utcTuesdays=q,t.utcWednesday=U,t.utcWednesdays=X,t.utcWeek=j,t.utcWeeks=Y,t.utcYear=nt,t.utcYears=rt,Object.defineProperty(t,"__esModule",{value:!0})}))},{}],55:[function(t,e,n){arguments[4][54][0].apply(n,arguments)},{dup:54}],56:[function(t,e,n){e.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},{}],57:[function(t,e,n){"use strict";e.exports=o;var r=(o.canvas=document.createElement("canvas")).getContext("2d"),i=a([32,126]);function o(t,e){Array.isArray(t)&&(t=t.join(", "));var n,o={},s=16,l=.05;e&&(2===e.length&&"number"==typeof e[0]?n=a(e):Array.isArray(e)?n=e:(e.o?n=a(e.o):e.pairs&&(n=e.pairs),e.fontSize&&(s=e.fontSize),null!=e.threshold&&(l=e.threshold))),n||(n=i),r.font=s+"px "+t;for(var c=0;c<n.length;c++){var u=n[c],d=r.measureText(u[0]).width+r.measureText(u[1]).width,f=r.measureText(u).width;if(Math.abs(d-f)>s*l){var h=(f-d)/s;o[u]=1e3*h}}return o}function a(t){for(var e=[],n=t[0];n<=t[1];n++)for(var r=String.fromCharCode(n),i=t[0];i<t[1];i++){var o=r+String.fromCharCode(i);e.push(o)}return e}o.createPairs=a,o.ascii=i},{}],58:[function(t,e,n){var r=t("abs-svg-path"),i=t("normalize-svg-path"),o={M:"moveTo",C:"bezierCurveTo"};e.exports=function(t,e){t.beginPath(),i(r(e)).forEach((function(e){var n=e[0],r=e.slice(1);t[o[n]].apply(t,r)})),t.closePath()}},{"abs-svg-path":17,"normalize-svg-path":175}],59:[function(t,e,n){e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],60:[function(t,e,n){"use strict";e.exports=function(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,n,r){var i=0|e[r];if(i<=0)return[];var o,a=new Array(i);if(r===e.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=t(e,n,r+1);return a}(t,e,0)}return[]}},{}],61:[function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,l,c,u,h,p,m=e&&e.length,v=m?e[0]*n:t.length,y=i(t,0,v,n,!0),b=[];if(!y||y.next===y.prev)return b;if(m&&(y=function(t,e,n,r){var a,s,l,c=[];for(a=0,s=e.length;a<s;a++)(l=i(t,e[a]*r,a<s-1?e[a+1]*r:t.length,r,!1))===l.next&&(l.steiner=!0),c.push(g(l));for(c.sort(d),a=0;a<c.length;a++)f(c[a],n),n=o(n,n.next);return n}(t,e,y,n)),t.length>80*n){r=l=t[0],s=c=t[1];for(var x=n;x<v;x+=n)(u=t[x])<r&&(r=u),(h=t[x+1])<s&&(s=h),u>l&&(l=u),h>c&&(c=h);p=0!==(p=Math.max(l-r,c-s))?1/p:0}return a(y,b,n,r,s,p),b}function i(t,e,n,r,i){var o,a;if(i===C(t,e,n,r)>0)for(o=e;o<n;o+=r)a=T(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=T(o,t[o],t[o+1],a);return a&&b(a,a.next)&&(M(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(M(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,d,f){if(t){!f&&d&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=p(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,d);for(var h,g,m=t;t.prev!==t.next;)if(h=t.prev,g=t.next,d?l(t,r,i,d):s(t))e.push(h.i/n),e.push(t.i/n),e.push(g.i/n),M(t),t=g.next,m=g.next;else if((t=g)===m){f?1===f?a(t=c(o(t),e,n),e,n,r,i,d,2):2===f&&u(t,e,n,r,i,d):a(o(t),e,n,r,i,d,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(t,e,n,r){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=p(s,l,e,n,r),f=p(c,u,e,n,r),h=t.prevZ,g=t.nextZ;h&&h.z>=d&&g&&g.z<=f;){if(h!==t.prev&&h!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&y(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,g!==t.prev&&g!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;h&&h.z>=d;){if(h!==t.prev&&h!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&y(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;g&&g.z<=f;){if(g!==t.prev&&g!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function c(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!b(i,a)&&x(i,r,r.next,a)&&_(i,a)&&_(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),M(r),M(r.next),r=t=a),r=r.next}while(r!==t);return o(r)}function u(t,e,n,r,i,s){var l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&v(l,c)){var u=A(l,c);return l=o(l,l.next),u=o(u,u.next),a(l,e,n,r,i,s),void a(u,e,n,r,i,s)}c=c.next}l=l.next}while(l!==t)}function d(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var l,c=n,u=n.x,d=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&m(o<d?i:a,o,u,d,o<d?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),_(r,t)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,f=l)),r=r.next}while(r!==c);return n}(t,e)){var n=A(e,t);o(e,e.next),o(n,n.next)}}function h(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function p(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function m(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&x(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(_(t,e)&&_(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||b(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,n,r){var i=k(y(t,e,n)),o=k(y(t,e,r)),a=k(y(n,r,t)),s=k(y(n,r,e));return i!==o&&a!==s||!(0!==i||!w(t,n,e))||!(0!==o||!w(t,r,e))||!(0!==a||!w(n,t,r))||!(0!==s||!w(n,e,r))}function w(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function k(t){return t>0?1:t<0?-1:0}function _(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function A(t,e){var n=new E(t.i,t.x,t.y),r=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function T(t,e,n,r){var i=new E(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}e.exports=r,e.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(C(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var c=e[s]*n,u=s<l-1?e[s+1]*n:t.length;a-=Math.abs(C(t,c,u,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;d+=Math.abs((t[f]-t[p])*(t[h+1]-t[f+1])-(t[f]-t[h])*(t[p+1]-t[f+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},{}],62:[function(t,e,n){"use strict";var r=t("../../object/valid-value");e.exports=function(){return r(this).length=0,this}},{"../../object/valid-value":93}],63:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Array.from:t("./shim")},{"./is-implemented":64,"./shim":65}],64:[function(t,e,n){"use strict";e.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},{}],65:[function(t,e,n){"use strict";var r=t("es6-symbol").iterator,i=t("../../function/is-arguments"),o=t("../../function/is-function"),a=t("../../number/to-pos-integer"),s=t("../../object/valid-callable"),l=t("../../object/valid-value"),c=t("../../object/is-value"),u=t("../../string/is-string"),d=Array.isArray,f=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;e.exports=function(t){var e,n,g,m,v,y,b,x,w,k,_=arguments[1],A=arguments[2];if(t=Object(l(t)),c(_)&&s(_),this&&this!==Array&&o(this))e=this;else{if(!_){if(i(t))return 1!==(v=t.length)?Array.apply(null,t):((m=new Array(1))[0]=t[0],m);if(d(t)){for(m=new Array(v=t.length),n=0;n<v;++n)m[n]=t[n];return m}}m=[]}if(!d(t))if(void 0!==(w=t[r])){for(b=s(w).call(t),e&&(m=new e),x=b.next(),n=0;!x.done;)k=_?f.call(_,A,x.value,n):x.value,e?(h.value=k,p(m,n,h)):m[n]=k,x=b.next(),++n;v=n}else if(u(t)){for(v=t.length,e&&(m=new e),n=0,g=0;n<v;++n)k=t[n],n+1<v&&(y=k.charCodeAt(0))>=55296&&y<=56319&&(k+=t[++n]),k=_?f.call(_,A,k,g):k,e?(h.value=k,p(m,g,h)):m[g]=k,++g;v=g}if(void 0===v)for(v=a(t.length),e&&(m=new e(v)),n=0;n<v;++n)k=_?f.call(_,A,t[n],n):t[n],e?(h.value=k,p(m,n,h)):m[n]=k;return e&&(h.value=null,m.length=v),m}},{"../../function/is-arguments":66,"../../function/is-function":67,"../../number/to-pos-integer":73,"../../object/is-value":82,"../../object/valid-callable":91,"../../object/valid-value":93,"../../string/is-string":97,"es6-symbol":106}],66:[function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());e.exports=function(t){return r.call(t)===i}},{}],67:[function(t,e,n){"use strict";var r=Object.prototype.toString,i=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(t){return"function"==typeof t&&i(r.call(t))}},{}],68:[function(t,e,n){"use strict";e.exports=function(){}},{}],69:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Math.sign:t("./shim")},{"./is-implemented":70,"./shim":71}],70:[function(t,e,n){"use strict";e.exports=function(){var t=Math.sign;return"function"==typeof t&&1===t(10)&&-1===t(-20)}},{}],71:[function(t,e,n){"use strict";e.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},{}],72:[function(t,e,n){"use strict";var r=t("../math/sign"),i=Math.abs,o=Math.floor;e.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(i(t)):t}},{"../math/sign":69}],73:[function(t,e,n){"use strict";var r=t("./to-integer"),i=Math.max;e.exports=function(t){return i(0,r(t))}},{"./to-integer":72}],74:[function(t,e,n){"use strict";var r=t("./valid-callable"),i=t("./valid-value"),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,l=Object.prototype.propertyIsEnumerable;e.exports=function(t,e){return function(n,c){var u,d=arguments[2],f=arguments[3];return n=Object(i(n)),r(c),u=s(n),f&&u.sort("function"==typeof f?o.call(f,n):void 0),"function"!=typeof t&&(t=u[t]),a.call(t,u,(function(t,r){return l.call(n,t)?a.call(c,d,n[t],t,n,r):e}))}}},{"./valid-callable":91,"./valid-value":93}],75:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.assign:t("./shim")},{"./is-implemented":76,"./shim":77}],76:[function(t,e,n){"use strict";e.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},{}],77:[function(t,e,n){"use strict";var r=t("../keys"),i=t("../valid-value"),o=Math.max;e.exports=function(t,e){var n,a,s,l=o(arguments.length,2);for(t=Object(i(t)),s=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},a=1;a<l;++a)r(e=arguments[a]).forEach(s);if(void 0!==n)throw n;return t}},{"../keys":83,"../valid-value":93}],78:[function(t,e,n){"use strict";var r=t("../array/from"),i=t("./assign"),o=t("./valid-value");e.exports=function(t){var e=Object(o(t)),n=arguments[1],a=Object(arguments[2]);if(e!==t&&!n)return e;var s={};return n?r(n,(function(e){(a.ensure||e in t)&&(s[e]=t[e])})):i(s,t),s}},{"../array/from":63,"./assign":75,"./valid-value":93}],79:[function(t,e,n){"use strict";var r,i,o,a,s=Object.create;t("./set-prototype-of/is-implemented")()||(r=t("./set-prototype-of/shim")),e.exports=r?1!==r.level?s:(i={},o={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(t){o[t]="__proto__"!==t?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(i,o),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(t,e){return s(null===t?i:t,e)}):s},{"./set-prototype-of/is-implemented":89,"./set-prototype-of/shim":90}],80:[function(t,e,n){"use strict";e.exports=t("./_iterate")("forEach")},{"./_iterate":74}],81:[function(t,e,n){"use strict";var r=t("./is-value"),i={function:!0,object:!0};e.exports=function(t){return r(t)&&i[typeof t]||!1}},{"./is-value":82}],82:[function(t,e,n){"use strict";var r=t("../function/noop")();e.exports=function(t){return t!==r&&null!==t}},{"../function/noop":68}],83:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.keys:t("./shim")},{"./is-implemented":84,"./shim":85}],84:[function(t,e,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},{}],85:[function(t,e,n){"use strict";var r=t("../is-value"),i=Object.keys;e.exports=function(t){return i(r(t)?Object(t):t)}},{"../is-value":82}],86:[function(t,e,n){"use strict";var r=t("./valid-callable"),i=t("./for-each"),o=Function.prototype.call;e.exports=function(t,e){var n={},a=arguments[2];return r(e),i(t,(function(t,r,i,s){n[r]=o.call(e,a,t,r,i,s)})),n}},{"./for-each":80,"./valid-callable":91}],87:[function(t,e,n){"use strict";var r=t("./is-value"),i=Array.prototype.forEach,o=Object.create,a=function(t,e){var n;for(n in t)e[n]=t[n]};e.exports=function(t){var e=o(null);return i.call(arguments,(function(t){r(t)&&a(Object(t),e)})),e}},{"./is-value":82}],88:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.setPrototypeOf:t("./shim")},{"./is-implemented":89,"./shim":90}],89:[function(t,e,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,o={};e.exports=function(){var t=Object.setPrototypeOf;return"function"==typeof t&&i(t((arguments[0]||r)(null),o))===o}},{}],90:[function(t,e,n){"use strict";var r,i=t("../is-object"),o=t("../valid-value"),a=Object.prototype.isPrototypeOf,s=Object.defineProperty,l={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(t,e){if(o(t),null===e||i(e))return t;throw new TypeError("Prototype must be null or an object")},e.exports=function(t){var e,n;return t?(2===t.level?t.set?(n=t.set,e=function(t,e){return n.call(r(t,e),e),t}):e=function(t,e){return r(t,e).__proto__=e,t}:e=function t(e,n){var i;return r(e,n),(i=a.call(t.nullPolyfill,e))&&delete t.nullPolyfill.__proto__,null===n&&(n=t.nullPolyfill),e.__proto__=n,i&&s(t.nullPolyfill,"__proto__",l),e},Object.defineProperty(e,"level",{configurable:!1,enumerable:!1,writable:!1,value:t.level})):null}(function(){var t,e=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(t=r.set).call(e,n)}catch(t){}if(Object.getPrototypeOf(e)===n)return{set:t,level:2}}return e.__proto__=n,Object.getPrototypeOf(e)===n?{level:2}:((e={}).__proto__=n,Object.getPrototypeOf(e)===n&&{level:1})}()),t("../create")},{"../create":79,"../is-object":81,"../valid-value":93}],91:[function(t,e,n){"use strict";e.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},{}],92:[function(t,e,n){"use strict";var r=t("./is-object");e.exports=function(t){if(!r(t))throw new TypeError(t+" is not an Object");return t}},{"./is-object":81}],93:[function(t,e,n){"use strict";var r=t("./is-value");e.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},{"./is-value":82}],94:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")},{"./is-implemented":95,"./shim":96}],95:[function(t,e,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},{}],96:[function(t,e,n){"use strict";var r=String.prototype.indexOf;e.exports=function(t){return r.call(this,t,arguments[1])>-1}},{}],97:[function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call("");e.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===i)||!1}},{}],98:[function(t,e,n){"use strict";var r=Object.create(null),i=Math.random;e.exports=function(){var t;do{t=i().toString(36).slice(2)}while(r[t]);return t}},{}],99:[function(t,e,n){"use strict";var r,i=t("es5-ext/object/set-prototype-of"),o=t("es5-ext/string/#/contains"),a=t("d"),s=t("es6-symbol"),l=t("./"),c=Object.defineProperty;r=e.exports=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");l.call(this,t),e=e?o.call(e,"key+value")?"key+value":o.call(e,"key")?"key":"value":"value",c(this,"__kind__",a("",e))},i&&i(r,l),delete r.prototype.constructor,r.prototype=Object.create(l.prototype,{_resolve:a((function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t}))}),c(r.prototype,s.toStringTag,a("c","Array Iterator"))},{"./":102,d:51,"es5-ext/object/set-prototype-of":88,"es5-ext/string/#/contains":94,"es6-symbol":106}],100:[function(t,e,n){"use strict";var r=t("es5-ext/function/is-arguments"),i=t("es5-ext/object/valid-callable"),o=t("es5-ext/string/is-string"),a=t("./get"),s=Array.isArray,l=Function.prototype.call,c=Array.prototype.some;e.exports=function(t,e){var n,u,d,f,h,p,g,m,v=arguments[2];if(s(t)||r(t)?n="array":o(t)?n="string":t=a(t),i(e),d=function(){f=!0},"array"!==n)if("string"!==n)for(u=t.next();!u.done;){if(l.call(e,v,u.value,d),f)return;u=t.next()}else for(p=t.length,h=0;h<p&&(g=t[h],h+1<p&&(m=g.charCodeAt(0))>=55296&&m<=56319&&(g+=t[++h]),l.call(e,v,g,d),!f);++h);else c.call(t,(function(t){return l.call(e,v,t,d),f}))}},{"./get":101,"es5-ext/function/is-arguments":66,"es5-ext/object/valid-callable":91,"es5-ext/string/is-string":97}],101:[function(t,e,n){"use strict";var r=t("es5-ext/function/is-arguments"),i=t("es5-ext/string/is-string"),o=t("./array"),a=t("./string"),s=t("./valid-iterable"),l=t("es6-symbol").iterator;e.exports=function(t){return"function"==typeof s(t)[l]?t[l]():r(t)?new o(t):i(t)?new a(t):new o(t)}},{"./array":99,"./string":104,"./valid-iterable":105,"es5-ext/function/is-arguments":66,"es5-ext/string/is-string":97,"es6-symbol":106}],102:[function(t,e,n){"use strict";var r,i=t("es5-ext/array/#/clear"),o=t("es5-ext/object/assign"),a=t("es5-ext/object/valid-callable"),s=t("es5-ext/object/valid-value"),l=t("d"),c=t("d/auto-bind"),u=t("es6-symbol"),d=Object.defineProperty,f=Object.defineProperties;e.exports=r=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:l("w",s(t)),__context__:l("w",e),__nextIndex__:l("w",0)}),e&&(a(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,o({_next:l((function(){var t;if(this.__list__)return this.__redo__&&void 0!==(t=this.__redo__.shift())?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:l((function(){return this._createResult(this._next())})),_createResult:l((function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}})),_resolve:l((function(t){return this.__list__[t]})),_unBind:l((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:l((function(){return"[object "+(this[u.toStringTag]||"Object")+"]"}))},c({_onAdd:l((function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(e,n){e>=t&&(this.__redo__[n]=++e)}),this),this.__redo__.push(t)):d(this,"__redo__",l("c",[t])))})),_onDelete:l((function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(t))&&this.__redo__.splice(e,1),this.__redo__.forEach((function(e,n){e>t&&(this.__redo__[n]=--e)}),this)))})),_onClear:l((function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0}))}))),d(r.prototype,u.iterator,l((function(){return this})))},{d:51,"d/auto-bind":50,"es5-ext/array/#/clear":62,"es5-ext/object/assign":75,"es5-ext/object/valid-callable":91,"es5-ext/object/valid-value":93,"es6-symbol":106}],103:[function(t,e,n){"use strict";var r=t("es5-ext/function/is-arguments"),i=t("es5-ext/object/is-value"),o=t("es5-ext/string/is-string"),a=t("es6-symbol").iterator,s=Array.isArray;e.exports=function(t){return!!i(t)&&(!!s(t)||!!o(t)||!!r(t)||"function"==typeof t[a])}},{"es5-ext/function/is-arguments":66,"es5-ext/object/is-value":82,"es5-ext/string/is-string":97,"es6-symbol":106}],104:[function(t,e,n){"use strict";var r,i=t("es5-ext/object/set-prototype-of"),o=t("d"),a=t("es6-symbol"),s=t("./"),l=Object.defineProperty;r=e.exports=function(t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");t=String(t),s.call(this,t),l(this,"__length__",o("",t.length))},i&&i(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:o((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:o((function(t){var e,n=this.__list__[t];return this.__nextIndex__===this.__length__?n:(e=n.charCodeAt(0))>=55296&&e<=56319?n+this.__list__[this.__nextIndex__++]:n}))}),l(r.prototype,a.toStringTag,o("c","String Iterator"))},{"./":102,d:51,"es5-ext/object/set-prototype-of":88,"es6-symbol":106}],105:[function(t,e,n){"use strict";var r=t("./is-iterable");e.exports=function(t){if(!r(t))throw new TypeError(t+" is not iterable");return t}},{"./is-iterable":103}],106:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?t("ext/global-this").Symbol:t("./polyfill")},{"./is-implemented":107,"./polyfill":112,"ext/global-this":119}],107:[function(t,e,n){"use strict";var r=t("ext/global-this"),i={object:!0,symbol:!0};e.exports=function(){var t,e=r.Symbol;if("function"!=typeof e)return!1;t=e("test symbol");try{String(t)}catch(t){return!1}return!!i[typeof e.iterator]&&!!i[typeof e.toPrimitive]&&!!i[typeof e.toStringTag]}},{"ext/global-this":119}],108:[function(t,e,n){"use strict";e.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&"Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag])}},{}],109:[function(t,e,n){"use strict";var r=t("d"),i=Object.create,o=Object.defineProperty,a=Object.prototype,s=i(null);e.exports=function(t){for(var e,n,i=0;s[t+(i||"")];)++i;return s[t+=i||""]=!0,o(a,e="@@"+t,r.gs(null,(function(t){n||(n=!0,o(this,e,r(t)),n=!1)}))),e}},{d:51}],110:[function(t,e,n){"use strict";var r=t("d"),i=t("ext/global-this").Symbol;e.exports=function(t){return Object.defineProperties(t,{hasInstance:r("",i&&i.hasInstance||t("hasInstance")),isConcatSpreadable:r("",i&&i.isConcatSpreadable||t("isConcatSpreadable")),iterator:r("",i&&i.iterator||t("iterator")),match:r("",i&&i.match||t("match")),replace:r("",i&&i.replace||t("replace")),search:r("",i&&i.search||t("search")),species:r("",i&&i.species||t("species")),split:r("",i&&i.split||t("split")),toPrimitive:r("",i&&i.toPrimitive||t("toPrimitive")),toStringTag:r("",i&&i.toStringTag||t("toStringTag")),unscopables:r("",i&&i.unscopables||t("unscopables"))})}},{d:51,"ext/global-this":119}],111:[function(t,e,n){"use strict";var r=t("d"),i=t("../../../validate-symbol"),o=Object.create(null);e.exports=function(t){return Object.defineProperties(t,{for:r((function(e){return o[e]?o[e]:o[e]=t(String(e))})),keyFor:r((function(t){var e;for(e in i(t),o)if(o[e]===t)return e}))})}},{"../../../validate-symbol":113,d:51}],112:[function(t,e,n){"use strict";var r,i,o,a=t("d"),s=t("./validate-symbol"),l=t("ext/global-this").Symbol,c=t("./lib/private/generate-name"),u=t("./lib/private/setup/standard-symbols"),d=t("./lib/private/setup/symbol-registry"),f=Object.create,h=Object.defineProperties,p=Object.defineProperty;if("function"==typeof l)try{String(l()),o=!0}catch(t){}else l=null;i=function(t){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return r(t)},e.exports=r=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return o?l(e):(n=f(i.prototype),e=void 0===e?"":String(e),h(n,{__description__:a("",e),__name__:a("",c(e))}))},u(r),d(r),h(i.prototype,{constructor:a(r),toString:a("",(function(){return this.__name__}))}),h(r.prototype,{toString:a((function(){return"Symbol ("+s(this).__description__+")"})),valueOf:a((function(){return s(this)}))}),p(r.prototype,r.toPrimitive,a("",(function(){var t=s(this);return"symbol"==typeof t?t:t.toString()}))),p(r.prototype,r.toStringTag,a("c","Symbol")),p(i.prototype,r.toStringTag,a("c",r.prototype[r.toStringTag])),p(i.prototype,r.toPrimitive,a("c",r.prototype[r.toPrimitive]))},{"./lib/private/generate-name":109,"./lib/private/setup/standard-symbols":110,"./lib/private/setup/symbol-registry":111,"./validate-symbol":113,d:51,"ext/global-this":119}],113:[function(t,e,n){"use strict";var r=t("./is-symbol");e.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},{"./is-symbol":108}],114:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?WeakMap:t("./polyfill")},{"./is-implemented":115,"./polyfill":117}],115:[function(t,e,n){"use strict";e.exports=function(){var t,e;if("function"!=typeof WeakMap)return!1;try{t=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch(t){return!1}return"[object WeakMap]"===String(t)&&"function"==typeof t.set&&t.set({},1)===t&&"function"==typeof t.delete&&"function"==typeof t.has&&"one"===t.get(e)}},{}],116:[function(t,e,n){"use strict";e.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},{}],117:[function(t,e,n){"use strict";var r,i=t("es5-ext/object/is-value"),o=t("es5-ext/object/set-prototype-of"),a=t("es5-ext/object/valid-object"),s=t("es5-ext/object/valid-value"),l=t("es5-ext/string/random-uniq"),c=t("d"),u=t("es6-iterator/get"),d=t("es6-iterator/for-of"),f=t("es6-symbol").toStringTag,h=t("./is-native-implemented"),p=Array.isArray,g=Object.defineProperty,m=Object.prototype.hasOwnProperty,v=Object.getPrototypeOf;e.exports=r=function(){var t,e=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return t=h&&o&&WeakMap!==r?o(new WeakMap,v(this)):this,i(e)&&(p(e)||(e=u(e))),g(t,"__weakMapData__",c("c","$weakMap$"+l())),e?(d(e,(function(e){s(e),t.set(e[0],e[1])})),t):t},h&&(o&&o(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:c(r)})),Object.defineProperties(r.prototype,{delete:c((function(t){return!!m.call(a(t),this.__weakMapData__)&&(delete t[this.__weakMapData__],!0)})),get:c((function(t){if(m.call(a(t),this.__weakMapData__))return t[this.__weakMapData__]})),has:c((function(t){return m.call(a(t),this.__weakMapData__)})),set:c((function(t,e){return g(a(t),this.__weakMapData__,c("c",e)),this})),toString:c((function(){return"[object WeakMap]"}))}),g(r.prototype,f,c("c","WeakMap"))},{"./is-native-implemented":116,d:51,"es5-ext/object/is-value":82,"es5-ext/object/set-prototype-of":88,"es5-ext/object/valid-object":92,"es5-ext/object/valid-value":93,"es5-ext/string/random-uniq":98,"es6-iterator/for-of":100,"es6-iterator/get":101,"es6-symbol":106}],118:[function(t,e,n){var r=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}()},{}],119:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?globalThis:t("./implementation")},{"./implementation":118,"./is-implemented":120}],120:[function(t,e,n){"use strict";e.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},{}],121:[function(t,e,n){"use strict";var r=t("is-string-blank");e.exports=function(t){var e=typeof t;if("string"===e){var n=t;if(0===(t=+t)&&r(n))return!1}else if("number"!==e)return!1;return t-t<1}},{"is-string-blank":167}],122:[function(t,e,n){var r=t("dtype");e.exports=function(t,e,n){if(!t)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(t)&&t[0]&&"number"==typeof t[0][0]){var i,o,a,s,l=t[0].length,c=t.length*l;e&&"string"!=typeof e||(e=new(r(e||"float32"))(c+n));var u=e.length-n;if(c!==u)throw new Error("source length "+c+" ("+l+"x"+t.length+") does not match destination length "+u);for(i=0,a=n;i<t.length;i++)for(o=0;o<l;o++)e[a++]=null===t[i][o]?NaN:t[i][o]}else if(e&&"string"!=typeof e)e.set(t,n);else{var d=r(e||"float32");if(Array.isArray(t)||"array"===e)for(i=0,a=n,s=(e=new d(t.length+n)).length;a<s;a++,i++)e[a]=null===t[i]?NaN:t[i];else 0===n?e=new d(t):(e=new d(t.length+n)).set(t,n)}return e}},{dtype:59}],123:[function(t,e,n){"use strict";var r=t("css-font/stringify"),i=[32,126];e.exports=function(t){var e=(t=t||{}).shape?t.shape:t.canvas?[t.canvas.width,t.canvas.height]:[512,512],n=t.canvas||document.createElement("canvas"),o=t.font,a="number"==typeof t.step?[t.step,t.step]:t.step||[32,32],s=t.chars||i;if(o&&"string"!=typeof o&&(o=r(o)),Array.isArray(s)){if(2===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]){for(var l=[],c=s[0],u=0;c<=s[1];c++)l[u++]=String.fromCharCode(c);s=l}}else s=String(s).split("");e=e.slice(),n.width=e[0],n.height=e[1];var d=n.getContext("2d");d.fillStyle="#000",d.fillRect(0,0,n.width,n.height),d.font=o,d.textAlign="center",d.textBaseline="middle",d.fillStyle="#fff";var f=a[0]/2,h=a[1]/2;for(c=0;c<s.length;c++)d.fillText(s[c],f,h),(f+=a[0])>e[0]-a[0]/2&&(f=a[0]/2,h+=a[1]);return n}},{"css-font/stringify":47}],124:[function(t,e,n){"use strict";function r(t,e){e||(e={}),("string"==typeof t||Array.isArray(t))&&(e.family=t);var n=Array.isArray(e.family)?e.family.join(", "):e.family;if(!n)throw Error("`family` must be defined");var s=e.size||e.fontSize||e.em||48,l=e.weight||e.fontWeight||"",c=(t=[e.style||e.fontStyle||"",l,s].join(" ")+"px "+n,e.origin||"top");if(r.cache[n]&&s<=r.cache[n].em)return i(r.cache[n],c);var u=e.canvas||r.canvas,d=u.getContext("2d"),f={upper:void 0!==e.upper?e.upper:"H",lower:void 0!==e.lower?e.lower:"x",descent:void 0!==e.descent?e.descent:"p",ascent:void 0!==e.ascent?e.ascent:"h",tittle:void 0!==e.tittle?e.tittle:"i",overshoot:void 0!==e.overshoot?e.overshoot:"O"},h=Math.ceil(1.5*s);u.height=h,u.width=.5*h,d.font=t;var p={top:0};d.clearRect(0,0,h,h),d.textBaseline="top",d.fillStyle="black",d.fillText("H",0,0);var g=o(d.getImageData(0,0,h,h));d.clearRect(0,0,h,h),d.textBaseline="bottom",d.fillText("H",0,h);var m=o(d.getImageData(0,0,h,h));p.lineHeight=p.bottom=h-m+g,d.clearRect(0,0,h,h),d.textBaseline="alphabetic",d.fillText("H",0,h);var v=h-o(d.getImageData(0,0,h,h))-1+g;p.baseline=p.alphabetic=v,d.clearRect(0,0,h,h),d.textBaseline="middle",d.fillText("H",0,.5*h);var y=o(d.getImageData(0,0,h,h));p.median=p.middle=h-y-1+g-.5*h,d.clearRect(0,0,h,h),d.textBaseline="hanging",d.fillText("H",0,.5*h);var b=o(d.getImageData(0,0,h,h));p.hanging=h-b-1+g-.5*h,d.clearRect(0,0,h,h),d.textBaseline="ideographic",d.fillText("H",0,h);var x=o(d.getImageData(0,0,h,h));if(p.ideographic=h-x-1+g,f.upper&&(d.clearRect(0,0,h,h),d.textBaseline="top",d.fillText(f.upper,0,0),p.upper=o(d.getImageData(0,0,h,h)),p.capHeight=p.baseline-p.upper),f.lower&&(d.clearRect(0,0,h,h),d.textBaseline="top",d.fillText(f.lower,0,0),p.lower=o(d.getImageData(0,0,h,h)),p.xHeight=p.baseline-p.lower),f.tittle&&(d.clearRect(0,0,h,h),d.textBaseline="top",d.fillText(f.tittle,0,0),p.tittle=o(d.getImageData(0,0,h,h))),f.ascent&&(d.clearRect(0,0,h,h),d.textBaseline="top",d.fillText(f.ascent,0,0),p.ascent=o(d.getImageData(0,0,h,h))),f.descent&&(d.clearRect(0,0,h,h),d.textBaseline="top",d.fillText(f.descent,0,0),p.descent=a(d.getImageData(0,0,h,h))),f.overshoot){d.clearRect(0,0,h,h),d.textBaseline="top",d.fillText(f.overshoot,0,0);var w=a(d.getImageData(0,0,h,h));p.overshoot=w-v}for(var k in p)p[k]/=s;return p.em=s,r.cache[n]=p,i(p,c)}function i(t,e){var n={};for(var r in"string"==typeof e&&(e=t[e]),t)"em"!==r&&(n[r]=t[r]-e);return n}function o(t){for(var e=t.height,n=t.data,r=3;r<n.length;r+=4)if(0!==n[r])return Math.floor(.25*(r-3)/e)}function a(t){for(var e=t.height,n=t.data,r=n.length-1;r>0;r-=4)if(0!==n[r])return Math.floor(.25*(r-3)/e)}e.exports=r,r.canvas=document.createElement("canvas"),r.cache={}},{}],125:[function(t,e,n){e.exports=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var n=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(n.width=e.width),"number"==typeof e.height&&(n.height=e.height);var r,i=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var a=0;a<o.length;a++)if(r=n.getContext(o[a],i))return r}catch(t){r=null}return r||null}},{}],126:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],g=e[13],m=e[14],v=e[15];return t[0]=s*(f*v-h*m)-d*(l*v-c*m)+g*(l*h-c*f),t[1]=-(r*(f*v-h*m)-d*(i*v-o*m)+g*(i*h-o*f)),t[2]=r*(l*v-c*m)-s*(i*v-o*m)+g*(i*c-o*l),t[3]=-(r*(l*h-c*f)-s*(i*h-o*f)+d*(i*c-o*l)),t[4]=-(a*(f*v-h*m)-u*(l*v-c*m)+p*(l*h-c*f)),t[5]=n*(f*v-h*m)-u*(i*v-o*m)+p*(i*h-o*f),t[6]=-(n*(l*v-c*m)-a*(i*v-o*m)+p*(i*c-o*l)),t[7]=n*(l*h-c*f)-a*(i*h-o*f)+u*(i*c-o*l),t[8]=a*(d*v-h*g)-u*(s*v-c*g)+p*(s*h-c*d),t[9]=-(n*(d*v-h*g)-u*(r*v-o*g)+p*(r*h-o*d)),t[10]=n*(s*v-c*g)-a*(r*v-o*g)+p*(r*c-o*s),t[11]=-(n*(s*h-c*d)-a*(r*h-o*d)+u*(r*c-o*s)),t[12]=-(a*(d*m-f*g)-u*(s*m-l*g)+p*(s*f-l*d)),t[13]=n*(d*m-f*g)-u*(r*m-i*g)+p*(r*f-i*d),t[14]=-(n*(s*m-l*g)-a*(r*m-i*g)+p*(r*l-i*s)),t[15]=n*(s*f-l*d)-a*(r*f-i*d)+u*(r*l-i*s),t}},{}],127:[function(t,e,n){e.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],128:[function(t,e,n){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],129:[function(t,e,n){e.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],130:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],h=t[12],p=t[13],g=t[14],m=t[15];return(e*a-n*o)*(d*m-f*g)-(e*s-r*o)*(u*m-f*p)+(e*l-i*o)*(u*g-d*p)+(n*s-r*a)*(c*m-f*h)-(n*l-i*a)*(c*g-d*h)+(r*l-i*s)*(c*p-u*h)}},{}],131:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,d=r*s,f=i*a,h=i*s,p=i*l,g=o*a,m=o*s,v=o*l;return t[0]=1-d-p,t[1]=u+v,t[2]=f-m,t[3]=0,t[4]=u-v,t[5]=1-c-p,t[6]=h+g,t[7]=0,t[8]=f+m,t[9]=h-g,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],132:[function(t,e,n){e.exports=function(t,e,n){var r,i,o,a=n[0],s=n[1],l=n[2],c=Math.sqrt(a*a+s*s+l*l);return Math.abs(c)<1e-6?null:(a*=c=1/c,s*=c,l*=c,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+l*r,t[2]=l*a*o-s*r,t[3]=0,t[4]=a*s*o-l*r,t[5]=s*s*o+i,t[6]=l*s*o+a*r,t[7]=0,t[8]=a*l*o+s*r,t[9]=s*l*o-a*r,t[10]=l*l*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},{}],133:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,c=o+o,u=r*s,d=r*l,f=r*c,h=i*l,p=i*c,g=o*c,m=a*s,v=a*l,y=a*c;return t[0]=1-(h+g),t[1]=d+y,t[2]=f-v,t[3]=0,t[4]=d-y,t[5]=1-(u+g),t[6]=p+m,t[7]=0,t[8]=f+v,t[9]=p-m,t[10]=1-(u+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}},{}],134:[function(t,e,n){e.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],135:[function(t,e,n){e.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},{}],136:[function(t,e,n){e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],137:[function(t,e,n){e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],138:[function(t,e,n){e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],139:[function(t,e,n){e.exports=function(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}},{}],140:[function(t,e,n){e.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],141:[function(t,e,n){e.exports={create:t("./create"),clone:t("./clone"),copy:t("./copy"),identity:t("./identity"),transpose:t("./transpose"),invert:t("./invert"),adjoint:t("./adjoint"),determinant:t("./determinant"),multiply:t("./multiply"),translate:t("./translate"),scale:t("./scale"),rotate:t("./rotate"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),fromRotation:t("./fromRotation"),fromRotationTranslation:t("./fromRotationTranslation"),fromScaling:t("./fromScaling"),fromTranslation:t("./fromTranslation"),fromXRotation:t("./fromXRotation"),fromYRotation:t("./fromYRotation"),fromZRotation:t("./fromZRotation"),fromQuat:t("./fromQuat"),frustum:t("./frustum"),perspective:t("./perspective"),perspectiveFromFieldOfView:t("./perspectiveFromFieldOfView"),ortho:t("./ortho"),lookAt:t("./lookAt"),str:t("./str")}},{"./adjoint":126,"./clone":127,"./copy":128,"./create":129,"./determinant":130,"./fromQuat":131,"./fromRotation":132,"./fromRotationTranslation":133,"./fromScaling":134,"./fromTranslation":135,"./fromXRotation":136,"./fromYRotation":137,"./fromZRotation":138,"./frustum":139,"./identity":140,"./invert":142,"./lookAt":143,"./multiply":144,"./ortho":145,"./perspective":146,"./perspectiveFromFieldOfView":147,"./rotate":148,"./rotateX":149,"./rotateY":150,"./rotateZ":151,"./scale":152,"./str":153,"./translate":154,"./transpose":155}],142:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=n*s-r*a,b=n*l-i*a,x=n*c-o*a,w=r*l-i*s,k=r*c-o*s,_=i*c-o*l,A=u*g-d*p,T=u*m-f*p,M=u*v-h*p,E=d*m-f*g,C=d*v-h*g,S=f*v-h*m,O=y*S-b*C+x*E+w*M-k*T+_*A;return O?(O=1/O,t[0]=(s*S-l*C+c*E)*O,t[1]=(i*C-r*S-o*E)*O,t[2]=(g*_-m*k+v*w)*O,t[3]=(f*k-d*_-h*w)*O,t[4]=(l*M-a*S-c*T)*O,t[5]=(n*S-i*M+o*T)*O,t[6]=(m*x-p*_-v*b)*O,t[7]=(u*_-f*x+h*b)*O,t[8]=(a*C-s*M+c*A)*O,t[9]=(r*M-n*C-o*A)*O,t[10]=(p*k-g*x+v*y)*O,t[11]=(d*x-u*k-h*y)*O,t[12]=(s*T-a*E-l*A)*O,t[13]=(n*E-r*T+i*A)*O,t[14]=(g*b-p*w-m*y)*O,t[15]=(u*w-d*b+f*y)*O,t):null}},{}],143:[function(t,e,n){var r=t("./identity");e.exports=function(t,e,n,i){var o,a,s,l,c,u,d,f,h,p,g=e[0],m=e[1],v=e[2],y=i[0],b=i[1],x=i[2],w=n[0],k=n[1],_=n[2];return Math.abs(g-w)<1e-6&&Math.abs(m-k)<1e-6&&Math.abs(v-_)<1e-6?r(t):(d=g-w,f=m-k,h=v-_,o=b*(h*=p=1/Math.sqrt(d*d+f*f+h*h))-x*(f*=p),a=x*(d*=p)-y*h,s=y*f-b*d,(p=Math.sqrt(o*o+a*a+s*s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),l=f*s-h*a,c=h*o-d*s,u=d*a-f*o,(p=Math.sqrt(l*l+c*c+u*u))?(l*=p=1/p,c*=p,u*=p):(l=0,c=0,u=0),t[0]=o,t[1]=l,t[2]=d,t[3]=0,t[4]=a,t[5]=c,t[6]=f,t[7]=0,t[8]=s,t[9]=u,t[10]=h,t[11]=0,t[12]=-(o*g+a*m+s*v),t[13]=-(l*g+c*m+u*v),t[14]=-(d*g+f*m+h*v),t[15]=1,t)}},{"./identity":140}],144:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=n[0],x=n[1],w=n[2],k=n[3];return t[0]=b*r+x*s+w*d+k*g,t[1]=b*i+x*l+w*f+k*m,t[2]=b*o+x*c+w*h+k*v,t[3]=b*a+x*u+w*p+k*y,b=n[4],x=n[5],w=n[6],k=n[7],t[4]=b*r+x*s+w*d+k*g,t[5]=b*i+x*l+w*f+k*m,t[6]=b*o+x*c+w*h+k*v,t[7]=b*a+x*u+w*p+k*y,b=n[8],x=n[9],w=n[10],k=n[11],t[8]=b*r+x*s+w*d+k*g,t[9]=b*i+x*l+w*f+k*m,t[10]=b*o+x*c+w*h+k*v,t[11]=b*a+x*u+w*p+k*y,b=n[12],x=n[13],w=n[14],k=n[15],t[12]=b*r+x*s+w*d+k*g,t[13]=b*i+x*l+w*f+k*m,t[14]=b*o+x*c+w*h+k*v,t[15]=b*a+x*u+w*p+k*y,t}},{}],145:[function(t,e,n){e.exports=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t}},{}],146:[function(t,e,n){e.exports=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}},{}],147:[function(t,e,n){e.exports=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),c=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}},{}],148:[function(t,e,n){e.exports=function(t,e,n,r){var i,o,a,s,l,c,u,d,f,h,p,g,m,v,y,b,x,w,k,_,A,T,M,E,C=r[0],S=r[1],O=r[2],L=Math.sqrt(C*C+S*S+O*O);return Math.abs(L)<1e-6?null:(C*=L=1/L,S*=L,O*=L,i=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],l=e[1],c=e[2],u=e[3],d=e[4],f=e[5],h=e[6],p=e[7],g=e[8],m=e[9],v=e[10],y=e[11],b=C*C*a+o,x=S*C*a+O*i,w=O*C*a-S*i,k=C*S*a-O*i,_=S*S*a+o,A=O*S*a+C*i,T=C*O*a+S*i,M=S*O*a-C*i,E=O*O*a+o,t[0]=s*b+d*x+g*w,t[1]=l*b+f*x+m*w,t[2]=c*b+h*x+v*w,t[3]=u*b+p*x+y*w,t[4]=s*k+d*_+g*A,t[5]=l*k+f*_+m*A,t[6]=c*k+h*_+v*A,t[7]=u*k+p*_+y*A,t[8]=s*T+d*M+g*E,t[9]=l*T+f*M+m*E,t[10]=c*T+h*M+v*E,t[11]=u*T+p*M+y*E,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}},{}],149:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+u*r,t[6]=s*i+d*r,t[7]=l*i+f*r,t[8]=c*i-o*r,t[9]=u*i-a*r,t[10]=d*i-s*r,t[11]=f*i-l*r,t}},{}],150:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-u*r,t[2]=s*i-d*r,t[3]=l*i-f*r,t[8]=o*r+c*i,t[9]=a*r+u*i,t[10]=s*r+d*i,t[11]=l*r+f*i,t}},{}],151:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+u*r,t[2]=s*i+d*r,t[3]=l*i+f*r,t[4]=c*i-o*r,t[5]=u*i-a*r,t[6]=d*i-s*r,t[7]=f*i-l*r,t}},{}],152:[function(t,e,n){e.exports=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],153:[function(t,e,n){e.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},{}],154:[function(t,e,n){e.exports=function(t,e,n){var r,i,o,a,s,l,c,u,d,f,h,p,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=d,t[9]=f,t[10]=h,t[11]=p,t[12]=r*g+s*m+d*v+e[12],t[13]=i*g+l*m+f*v+e[13],t[14]=o*g+c*m+h*v+e[14],t[15]=a*g+u*m+p*v+e[15]),t}},{}],155:[function(t,e,n){e.exports=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},{}],156:[function(t,e,n){"use strict";var r=t("css-font"),i=t("pick-by-alias"),o=t("regl"),a=t("gl-util/context"),s=t("es6-weak-map"),l=t("color-normalize"),c=t("font-atlas"),u=t("typedarray-pool"),d=t("parse-rect"),f=t("is-plain-obj"),h=t("parse-unit"),p=t("to-px"),g=t("detect-kerning"),m=t("object-assign"),v=t("font-measure"),y=t("flatten-vertex-data"),b=t("bit-twiddle").nextPow2,x=new s,w=!1;if(document.body){var k=document.body.appendChild(document.createElement("div"));k.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(k).fontStretch&&(w=!0),document.body.removeChild(k)}var _=function(t){!function(t){return"function"==typeof t&&t._gl&&t.prop&&t.texture&&t.buffer}(t)?this.gl=a(t):(t={regl:t},this.gl=t.regl._gl),this.shader=x.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=t.regl||o({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),x.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(f(t)?t:{})};_.prototype.createShader=function(){var t=this.regl,e=t({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:t.prop("count"),offset:t.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:t.this("sizeBuffer")},width:{offset:0,stride:8,buffer:t.this("sizeBuffer")},char:t.this("charBuffer"),position:t.this("position")},uniforms:{atlasSize:function(t,e){return[e.atlas.width,e.atlas.height]},atlasDim:function(t,e){return[e.atlas.cols,e.atlas.rows]},atlas:function(t,e){return e.atlas.texture},charStep:function(t,e){return e.atlas.step},em:function(t,e){return e.atlas.em},color:t.prop("color"),opacity:t.prop("opacity"),viewport:t.this("viewportArray"),scale:t.this("scale"),align:t.prop("align"),baseline:t.prop("baseline"),translate:t.this("translate"),positionOffset:t.prop("positionOffset")},primitive:"points",viewport:t.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:t,draw:e,atlas:{}}},_.prototype.update=function(t){var e=this;if("string"==typeof t)t={text:t};else if(!t)return;null!=(t=i(t,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(Array.isArray(t.opacity)?this.opacity=t.opacity.map((function(t){return parseFloat(t)})):this.opacity=parseFloat(t.opacity)),null!=t.viewport&&(this.viewport=d(t.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=t.kerning&&(this.kerning=t.kerning),null!=t.offset&&("number"==typeof t.offset&&(t.offset=[t.offset,0]),this.positionOffset=y(t.offset)),t.direction&&(this.direction=t.direction),t.range&&(this.range=t.range,this.scale=[1/(t.range[2]-t.range[0]),1/(t.range[3]-t.range[1])],this.translate=[-t.range[0],-t.range[1]]),t.scale&&(this.scale=t.scale),t.translate&&(this.translate=t.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||t.font||(t.font=_.baseFontSize+"px sans-serif");var n,o=!1,a=!1;if(t.font&&(Array.isArray(t.font)?t.font:[t.font]).forEach((function(t,n){if("string"==typeof t)try{t=r.parse(t)}catch(e){t=r.parse(_.baseFontSize+"px "+t)}else t=r.parse(r.stringify(t));var i=r.stringify({size:_.baseFontSize,family:t.family,stretch:w?t.stretch:void 0,variant:t.variant,weight:t.weight,style:t.style}),s=h(t.size),l=Math.round(s[0]*p(s[1]));if(l!==e.fontSize[n]&&(a=!0,e.fontSize[n]=l),!(e.font[n]&&i==e.font[n].baseString||(o=!0,e.font[n]=_.fonts[i],e.font[n]))){var c=t.family.join(", "),u=[t.style];t.style!=t.variant&&u.push(t.variant),t.variant!=t.weight&&u.push(t.weight),w&&t.weight!=t.stretch&&u.push(t.stretch),e.font[n]={baseString:i,family:c,weight:t.weight,stretch:t.stretch,style:t.style,variant:t.variant,width:{},kerning:{},metrics:v(c,{origin:"top",fontSize:_.baseFontSize,fontStyle:u.join(" ")})},_.fonts[i]=e.font[n]}})),(o||a)&&this.font.forEach((function(n,i){var o=r.stringify({size:e.fontSize[i],family:n.family,stretch:w?n.stretch:void 0,variant:n.variant,weight:n.weight,style:n.style});if(e.fontAtlas[i]=e.shader.atlas[o],!e.fontAtlas[i]){var a=n.metrics;e.shader.atlas[o]=e.fontAtlas[i]={fontString:o,step:2*Math.ceil(e.fontSize[i]*a.bottom*.5),em:e.fontSize[i],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:e.regl.texture()}}null==t.text&&(t.text=e.text)})),"string"==typeof t.text&&t.position&&t.position.length>2){for(var s=Array(.5*t.position.length),f=0;f<s.length;f++)s[f]=t.text;t.text=s}if(null!=t.text||o){if(this.textOffsets=[0],Array.isArray(t.text)){this.count=t.text[0].length,this.counts=[this.count];for(var x=1;x<t.text.length;x++)this.textOffsets[x]=this.textOffsets[x-1]+t.text[x-1].length,this.count+=t.text[x].length,this.counts.push(t.text[x].length);this.text=t.text.join("")}else this.text=t.text,this.count=this.text.length,this.counts=[this.count];n=[],this.font.forEach((function(t,r){_.atlasContext.font=t.baseString;for(var i=e.fontAtlas[r],o=0;o<e.text.length;o++){var a=e.text.charAt(o);if(null==i.ids[a]&&(i.ids[a]=i.chars.length,i.chars.push(a),n.push(a)),null==t.width[a]&&(t.width[a]=_.atlasContext.measureText(a).width/_.baseFontSize,e.kerning)){var s=[];for(var l in t.width)s.push(l+a,a+l);m(t.kerning,g(t.family,{pairs:s}))}}}))}if(t.position)if(t.position.length>2){for(var k=!t.position[0].length,A=u.mallocFloat(2*this.count),T=0,M=0;T<this.counts.length;T++){var E=this.counts[T];if(k)for(var C=0;C<E;C++)A[M++]=t.position[2*T],A[M++]=t.position[2*T+1];else for(var S=0;S<E;S++)A[M++]=t.position[T][0],A[M++]=t.position[T][1]}this.position.call?this.position({type:"float",data:A}):this.position=this.regl.buffer({type:"float",data:A}),u.freeFloat(A)}else this.position.destroy&&this.position.destroy(),this.position={constant:t.position};if(t.text||o){var O=u.mallocUint8(this.count),L=u.mallocFloat(2*this.count);this.textWidth=[];for(var P=0,D=0;P<this.counts.length;P++){for(var R=this.counts[P],I=this.font[P]||this.font[0],z=this.fontAtlas[P]||this.fontAtlas[0],N=0;N<R;N++){var B=this.text.charAt(D),F=this.text.charAt(D-1);if(O[D]=z.ids[B],L[2*D]=I.width[B],N){var j=L[2*D-2],$=L[2*D],Z=L[2*D-1]+.5*j+.5*$;if(this.kerning){var U=I.kerning[F+B];U&&(Z+=.001*U)}L[2*D+1]=Z}else L[2*D+1]=.5*L[2*D];D++}this.textWidth.push(L.length?.5*L[2*D-2]+L[2*D-1]:0)}t.align||(t.align=this.align),this.charBuffer({data:O,type:"uint8",usage:"stream"}),this.sizeBuffer({data:L,type:"float",usage:"stream"}),u.freeUint8(O),u.freeFloat(L),n.length&&this.font.forEach((function(t,n){var r=e.fontAtlas[n],i=r.step,o=Math.floor(_.maxAtlasSize/i),a=Math.min(o,r.chars.length),s=Math.ceil(r.chars.length/a),l=b(a*i),u=b(s*i);r.width=l,r.height=u,r.rows=s,r.cols=a,r.em&&r.texture({data:c({canvas:_.atlasCanvas,font:r.fontString,chars:r.chars,shape:[l,u],step:[i,i]})})}))}if(t.align&&(this.align=t.align,this.alignOffset=this.textWidth.map((function(t,n){var r=Array.isArray(e.align)?e.align.length>1?e.align[n]:e.align[0]:e.align;if("number"==typeof r)return r;switch(r){case"right":case"end":return-t;case"center":case"centre":case"middle":return.5*-t}return 0}))),null==this.baseline&&null==t.baseline&&(t.baseline=0),null!=t.baseline&&(this.baseline=t.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map((function(t,n){var r=(e.font[n]||e.font[0]).metrics,i=0;return i+=.5*r.bottom,-1*(i+="number"==typeof t?t-r.baseline:-r[t])}))),null!=t.color)if(t.color||(t.color="transparent"),"string"!=typeof t.color&&isNaN(t.color)){var H;if("number"==typeof t.color[0]&&t.color.length>this.counts.length){var V=t.color.length;H=u.mallocUint8(V);for(var W=(t.color.subarray||t.color.slice).bind(t.color),Y=0;Y<V;Y+=4)H.set(l(W(Y,Y+4),"uint8"),Y)}else{var G=t.color.length;H=u.mallocUint8(4*G);for(var q=0;q<G;q++)H.set(l(t.color[q]||0,"uint8"),4*q)}this.color=H}else this.color=l(t.color,"uint8");if(t.position||t.text||t.color||t.baseline||t.align||t.font||t.offset||t.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var X=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(X);for(var J=0;J<this.batch.length;J++)this.batch[J]={count:this.counts.length>1?this.counts[J]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[J]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*J,4*J+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[J]:this.opacity,baseline:null!=this.baselineOffset[J]?this.baselineOffset[J]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[J]?this.alignOffset[J]:this.alignOffset[0]:0,atlas:this.fontAtlas[J]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*J,2*J+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},_.prototype.destroy=function(){},_.prototype.kerning=!0,_.prototype.position={constant:new Float32Array(2)},_.prototype.translate=null,_.prototype.scale=null,_.prototype.font=null,_.prototype.text="",_.prototype.positionOffset=[0,0],_.prototype.opacity=1,_.prototype.color=new Uint8Array([0,0,0,255]),_.prototype.alignOffset=[0,0],_.maxAtlasSize=1024,_.atlasCanvas=document.createElement("canvas"),_.atlasContext=_.atlasCanvas.getContext("2d",{alpha:!1}),_.baseFontSize=64,_.fonts={},e.exports=_},{"bit-twiddle":28,"color-normalize":35,"css-font":44,"detect-kerning":57,"es6-weak-map":114,"flatten-vertex-data":122,"font-atlas":123,"font-measure":124,"gl-util/context":157,"is-plain-obj":166,"object-assign":176,"parse-rect":178,"parse-unit":180,"pick-by-alias":182,regl:198,"to-px":207,"typedarray-pool":219}],157:[function(t,e,r){(function(n){(function(){"use strict";var r=t("pick-by-alias");function i(t){if(t.container)if(t.container==document.body)document.body.style.width||(t.canvas.width=t.width||t.pixelRatio*n.innerWidth),document.body.style.height||(t.canvas.height=t.height||t.pixelRatio*n.innerHeight);else{var e=t.container.getBoundingClientRect();t.canvas.width=t.width||e.right-e.left,t.canvas.height=t.height||e.bottom-e.top}}function o(t){return"function"==typeof t.getContext&&"width"in t&&"height"in t}function a(){var t=document.createElement("canvas");return t.style.position="absolute",t.style.top=0,t.style.left=0,t}e.exports=function(t){var e;if(t?"string"==typeof t&&(t={container:t}):t={},(t=o(t)||"string"==typeof(e=t).nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect?{container:t}:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(t)?{gl:t}:r(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(t.pixelRatio=n.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if("string"==typeof t.container){var s=document.querySelector(t.container);if(!s)throw Error("Element "+t.container+" is not found");t.container=s}o(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=a(),t.container.appendChild(t.canvas),i(t))}else if(!t.canvas){if("undefined"==typeof document)throw Error("Not DOM environment. Use headless-gl.");t.container=document.body||document.documentElement,t.canvas=a(),t.container.appendChild(t.canvas),i(t)}return t.gl||["webgl","experimental-webgl","webgl-experimental"].some((function(e){try{t.gl=t.canvas.getContext(e,t.attrs)}catch(t){}return t.gl})),t.gl}}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"pick-by-alias":182}],158:[function(t,e,n){e.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),n=[],r=0;r<t.length-1;r++)n.push(t[r],e[r]||"");return n.push(t[r]),n.join("")}},{}],159:[function(t,e,r){(function(n){(function(){"use strict";var r,i=t("is-browser");r="function"==typeof n.matchMedia?!n.matchMedia("(hover: none)").matches:i,e.exports=r}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":162}],160:[function(t,e,n){"use strict";var r=t("is-browser");e.exports=r&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},{"is-browser":162}],161:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+t[e+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*l-1)*Math.pow(2,i),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*g}},{}],162:[function(t,e,n){e.exports=!0},{}],163:[function(t,e,n){"use strict";e.exports="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},{}],164:[function(t,e,n){"use strict";e.exports=o,e.exports.isMobile=o,e.exports.default=o;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(t){t||(t={});var e=t.ua;if(e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;var n=t.tablet?i.test(e):r.test(e);return!n&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(n=!0),n}},{}],165:[function(t,e,n){"use strict";e.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}},{}],166:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(t){var e;return"[object Object]"===r.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},{}],167:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=t.length,r=0;r<n;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},{}],168:[function(t,e,n){"use strict";e.exports=function(t){return"string"==typeof t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))}},{}],169:[function(t,e,n){"use strict";e.exports=Math.log2||function(t){return Math.log(t)*Math.LOG2E}},{}],170:[function(t,e,n){"use strict";e.exports=function(t,e){e||(e=t,t=window);var n=0,i=0,o=0,a={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function l(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==a.alt,a.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==a.shift,a.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==a.control,a.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==a.meta,a.meta=!!t.metaKey),e}function c(t,s){var c=r.x(s),u=r.y(s);"buttons"in s&&(t=0|s.buttons),(t!==n||c!==i||u!==o||l(s))&&(n=0|t,i=c||0,o=u||0,e&&e(n,i,o,a))}function u(t){c(0,t)}function d(){(n||i||o||a.shift||a.alt||a.meta||a.control)&&(i=o=0,n=0,a.shift=a.alt=a.control=a.meta=!1,e&&e(0,0,0,a))}function f(t){l(t)&&e&&e(n,i,o,a)}function h(t){0===r.buttons(t)?c(0,t):c(n,t)}function p(t){c(n|r.buttons(t),t)}function g(t){c(n&~r.buttons(t),t)}function m(){s||(s=!0,t.addEventListener("mousemove",h),t.addEventListener("mousedown",p),t.addEventListener("mouseup",g),t.addEventListener("mouseleave",u),t.addEventListener("mouseenter",u),t.addEventListener("mouseout",u),t.addEventListener("mouseover",u),t.addEventListener("blur",d),t.addEventListener("keyup",f),t.addEventListener("keydown",f),t.addEventListener("keypress",f),t!==window&&(window.addEventListener("blur",d),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}m();var v={element:t};return Object.defineProperties(v,{enabled:{get:function(){return s},set:function(e){e?m():s&&(s=!1,t.removeEventListener("mousemove",h),t.removeEventListener("mousedown",p),t.removeEventListener("mouseup",g),t.removeEventListener("mouseleave",u),t.removeEventListener("mouseenter",u),t.removeEventListener("mouseout",u),t.removeEventListener("mouseover",u),t.removeEventListener("blur",d),t.removeEventListener("keyup",f),t.removeEventListener("keydown",f),t.removeEventListener("keypress",f),t!==window&&(window.removeEventListener("blur",d),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return o},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),v};var r=t("mouse-event")},{"mouse-event":172}],171:[function(t,e,n){var r={left:0,top:0};e.exports=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i,o=t.clientX||0,a=t.clientY||0,s=(i=e)===window||i===document||i===document.body?r:i.getBoundingClientRect();return n[0]=o-s.left,n[1]=a-s.top,n}},{}],172:[function(t,e,n){"use strict";function r(t){return t.target||t.srcElement||window}n.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0},n.element=r,n.x=function(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=r(t).getBoundingClientRect();return t.clientX-e.left}return 0},n.y=function(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=r(t).getBoundingClientRect();return t.clientY-e.top}return 0}},{}],173:[function(t,e,n){"use strict";var r=t("to-px");e.exports=function(t,e,n){"function"==typeof t&&(n=!!e,e=t,t=window);var i=r("ex",t),o=function(t){n&&t.preventDefault();var r=t.deltaX||0,o=t.deltaY||0,a=t.deltaZ||0,s=1;switch(t.deltaMode){case 1:s=i;break;case 2:s=window.innerHeight}if(o*=s,a*=s,(r*=s)||o||a)return e(r,o,a,t)};return t.addEventListener("wheel",o),o}},{"to-px":207}],174:[function(t,e,r){(function(t,n){(function(){!function(t,n,r){n[t]=n[t]||r(),void 0!==e&&e.exports&&(e.exports=n[t])}("Promise",void 0!==t?t:this,(function(){"use strict";var t,e,r,i=Object.prototype.toString,o=void 0!==n?function(t){return n(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,n,r){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(t,e,n){return t[e]=n,t}}function a(t,n){r.add(t,n),e||(e=o(r.drain))}function s(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function l(){for(var t=0;t<this.chain.length;t++)c(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function c(t,e,n){var r,i;try{!1===e?n.reject(t.msg):(r=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=s(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(t){n.reject(t)}}function u(t){var e,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(e=s(t))?a((function(){var r=new h(n);try{e.call(t,(function(){u.apply(r,arguments)}),(function(){d.apply(r,arguments)}))}catch(t){d.call(r,t)}})):(n.msg=t,n.state=1,n.chain.length>0&&a(l,n))}catch(t){d.call(new h(n),t)}}}function d(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&a(l,e))}function f(t,e,n,r){for(var i=0;i<e.length;i++)!function(i){t.resolve(e[i]).then((function(t){n(i,t)}),r)}(i)}function h(t){this.def=t,this.triggered=!1}function p(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new p(this);this.then=function(t,n){var r={success:"function"!=typeof t||t,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e})),e.chain.push(r),0!==e.state&&a(l,e),r.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,(function(t){u.call(e,t)}),(function(t){d.call(e,t)}))}catch(t){d.call(e,t)}}r=function(){var t,n,r;function i(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,o){r=new i(e,o),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var r=t;for(t=n=e=void 0;r;)r.fn.call(r.self),r=r.next}}}();var m=t({},"constructor",g,!1);return g.prototype=m,t(m,"__NPO__",0,!1),t(g,"resolve",(function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)}))})),t(g,"reject",(function(t){return new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)}))})),t(g,"all",(function(t){var e=this;return"[object Array]"!=i.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=t.length,o=Array(i),a=0;f(e,t,(function(t,e){o[t]=e,++a===i&&n(o)}),r)}))})),t(g,"race",(function(t){var e=this;return"[object Array]"!=i.call(t)?e.reject(TypeError("Not an array")):new e((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");f(e,t,(function(t,e){n(e)}),r)}))})),g}))}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:204}],175:[function(t,e,n){var r=Math.PI,i=c(120);function o(t,e,n,r){return["C",t,e,n,r,n,r]}function a(t,e,n,r,i,o){return["C",t/3+2/3*n,e/3+2/3*r,i/3+2/3*n,o/3+2/3*r,i,o]}function s(t,e,n,o,a,c,u,d,f,h){if(h)_=h[0],A=h[1],w=h[2],k=h[3];else{var p=l(t,e,-a);t=p.x,e=p.y;var g=(t-(d=(p=l(d,f,-a)).x))/2,m=(e-(f=p.y))/2,v=g*g/(n*n)+m*m/(o*o);v>1&&(n*=v=Math.sqrt(v),o*=v);var y=n*n,b=o*o,x=(c==u?-1:1)*Math.sqrt(Math.abs((y*b-y*m*m-b*g*g)/(y*m*m+b*g*g)));x==1/0&&(x=1);var w=x*n*m/o+(t+d)/2,k=x*-o*g/n+(e+f)/2,_=Math.asin(((e-k)/o).toFixed(9)),A=Math.asin(((f-k)/o).toFixed(9));(_=t<w?r-_:_)<0&&(_=2*r+_),(A=d<w?r-A:A)<0&&(A=2*r+A),u&&_>A&&(_-=2*r),!u&&A>_&&(A-=2*r)}if(Math.abs(A-_)>i){var T=A,M=d,E=f;A=_+i*(u&&A>_?1:-1);var C=s(d=w+n*Math.cos(A),f=k+o*Math.sin(A),n,o,a,0,u,M,E,[A,T,w,k])}var S=Math.tan((A-_)/4),O=4/3*n*S,L=4/3*o*S,P=[2*t-(t+O*Math.sin(_)),2*e-(e-L*Math.cos(_)),d+O*Math.sin(A),f-L*Math.cos(A),d,f];if(h)return P;C&&(P=P.concat(C));for(var D=0;D<P.length;){var R=l(P[D],P[D+1],a);P[D++]=R.x,P[D++]=R.y}return P}function l(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function c(t){return t*(r/180)}e.exports=function(t){for(var e,n=[],r=0,i=0,l=0,u=0,d=null,f=null,h=0,p=0,g=0,m=t.length;g<m;g++){var v=t[g],y=v[0];switch(y){case"M":l=v[1],u=v[2];break;case"A":(v=s(h,p,v[1],v[2],c(v[3]),v[4],v[5],v[6],v[7])).unshift("C"),v.length>7&&(n.push(v.splice(0,7)),v.unshift("C"));break;case"S":var b=h,x=p;"C"!=e&&"S"!=e||(b+=b-r,x+=x-i),v=["C",b,x,v[1],v[2],v[3],v[4]];break;case"T":"Q"==e||"T"==e?(d=2*h-d,f=2*p-f):(d=h,f=p),v=a(h,p,d,f,v[1],v[2]);break;case"Q":d=v[1],f=v[2],v=a(h,p,v[1],v[2],v[3],v[4]);break;case"L":v=o(h,p,v[1],v[2]);break;case"H":v=o(h,p,v[1],p);break;case"V":v=o(h,p,h,v[1]);break;case"Z":v=o(h,p,l,u)}e=y,h=v[v.length-2],p=v[v.length-1],v.length>4?(r=v[v.length-4],i=v[v.length-3]):(r=h,i=p),n.push(v)}return n}},{}],176:[function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},{}],177:[function(t,e,n){"use strict";function r(t,e){if("string"!=typeof t)return[t];var n=[t];"string"==typeof e||Array.isArray(e)?e={brackets:e}:e||(e={});var r=e.brackets?Array.isArray(e.brackets)?e.brackets:[e.brackets]:["{}","[]","()"],i=e.escape||"___",o=!!e.flat;r.forEach((function(t){var e=new RegExp(["\\",t[0],"[^\\",t[0],"\\",t[1],"]*\\",t[1]].join("")),r=[];function o(e,o,a){var s=n.push(e.slice(t[0].length,-t[1].length))-1;return r.push(s),i+s+i}n.forEach((function(t,r){for(var i,a=0;t!=i;)if(i=t,t=t.replace(e,o),a++>1e4)throw Error("References have circular dependency. Please, check them.");n[r]=t})),r=r.reverse(),n=n.map((function(e){return r.forEach((function(n){e=e.replace(new RegExp("(\\"+i+n+"\\"+i+")","g"),t[0]+"$1"+t[1])})),e}))}));var a=new RegExp("\\"+i+"([0-9]+)\\"+i);return o?n:function t(e,n,r){for(var i,o=[],s=0;i=a.exec(e);){if(s++>1e4)throw Error("Circular references in parenthesis");o.push(e.slice(0,i.index)),o.push(t(n[i[1]],n)),e=e.slice(i.index+i[0].length)}return o.push(e),o}(n[0],n)}function i(t,e){if(e&&e.flat){var n,r=e&&e.escape||"___",i=t[0];if(!i)return"";for(var o=new RegExp("\\"+r+"([0-9]+)\\"+r),a=0;i!=n;){if(a++>1e4)throw Error("Circular references in "+t);n=i,i=i.replace(o,s)}return i}return t.reduce((function t(e,n){return Array.isArray(n)&&(n=n.reduce(t,"")),e+n}),"");function s(e,n){if(null==t[n])throw Error("Reference "+n+"is undefined");return t[n]}}function o(t,e){return Array.isArray(t)?i(t,e):r(t,e)}o.parse=r,o.stringify=i,e.exports=o},{}],178:[function(t,e,n){"use strict";var r=t("pick-by-alias");e.exports=function(t){var e;return arguments.length>1&&(t=arguments),"string"==typeof t?t=t.split(/\s/).map(parseFloat):"number"==typeof t&&(t=[t]),t.length&&"number"==typeof t[0]?e=1===t.length?{width:t[0],height:t[0],x:0,y:0}:2===t.length?{width:t[0],height:t[1],x:0,y:0}:{x:t[0],y:t[1],width:t[2]-t[0]||0,height:t[3]-t[1]||0}:t&&(e={x:(t=r(t,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:t.top||0},null==t.width?t.right?e.width=t.right-e.x:e.width=0:e.width=t.width,null==t.height?t.bottom?e.height=t.bottom-e.y:e.height=0:e.height=t.height),e}},{"pick-by-alias":182}],179:[function(t,e,n){e.exports=function(t){var e=[];return t.replace(i,(function(t,n,i){var a=n.toLowerCase();for(i=function(t){var e=t.match(o);return e?e.map(Number):[]}(i),"m"==a&&i.length>2&&(e.push([n].concat(i.splice(0,2))),a="l",n="m"==n?"l":"L");;){if(i.length==r[a])return i.unshift(n),e.push(i);if(i.length<r[a])throw new Error("malformed path data");e.push([n].concat(i.splice(0,r[a])))}})),e};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],180:[function(t,e,n){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],181:[function(t,e,n){(function(t){(function(){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this)}).call(this,t("_process"))},{_process:192}],182:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,o,a={};if("string"==typeof e&&(e=i(e)),Array.isArray(e)){var s={};for(o=0;o<e.length;o++)s[e[o]]=!0;e=s}for(r in e)e[r]=i(e[r]);var l={};for(r in e){var c=e[r];if(Array.isArray(c))for(o=0;o<c.length;o++){var u=c[o];if(n&&(l[u]=!0),u in t){if(a[r]=t[u],n)for(var d=o;d<c.length;d++)l[c[d]]=!0;break}}else r in t&&(e[r]&&(a[r]=t[r]),n&&(l[r]=!0))}if(n)for(r in t)l[r]||(a[r]=t[r]);return a};var r={};function i(t){return r[t]?r[t]:("string"==typeof t&&(t=r[t]=t.split(/\s*,\s*|\s+/)),t)}},{}],183:[function(t,e,n){e.exports=function(t,e,n,r){var i=t[0],o=t[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var s=r-n,l=0,c=s-1;l<s;c=l++){var u=e[l+n][0],d=e[l+n][1],f=e[c+n][0],h=e[c+n][1];d>o!=h>o&&i<(f-u)*(o-d)/(h-d)+u&&(a=!a)}return a}},{}],184:[function(t,e,n){var r,i=t("./lib/build-log"),o=t("./lib/epsilon"),a=t("./lib/intersecter"),s=t("./lib/segment-chainer"),l=t("./lib/segment-selector"),c=t("./lib/geojson"),u=!1,d=o();function f(t,e,n){var i=r.segments(t),o=r.segments(e),a=n(r.combine(i,o));return r.polygon(a)}r={buildLog:function(t){return!0===t?u=i():!1===t&&(u=!1),!1!==u&&u.list},epsilon:function(t){return d.epsilon(t)},segments:function(t){var e=a(!0,d,u);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:a(!1,d,u).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:l.union(t.combined,u),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:l.intersect(t.combined,u),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:l.difference(t.combined,u),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:l.differenceRev(t.combined,u),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:l.xor(t.combined,u),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:s(t.segments,d,u),inverted:t.inverted}},polygonFromGeoJSON:function(t){return c.toPolygon(r,t)},polygonToGeoJSON:function(t){return c.fromPolygon(r,d,t)},union:function(t,e){return f(t,e,r.selectUnion)},intersect:function(t,e){return f(t,e,r.selectIntersect)},difference:function(t,e){return f(t,e,r.selectDifference)},differenceRev:function(t,e){return f(t,e,r.selectDifferenceRev)},xor:function(t,e){return f(t,e,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),e.exports=r},{"./lib/build-log":185,"./lib/epsilon":186,"./lib/geojson":187,"./lib/intersecter":188,"./lib/segment-chainer":190,"./lib/segment-selector":191}],185:[function(t,e,n){e.exports=function(){var t,e=0,n=!1;function r(e,n){return t.list.push({type:e,data:n?JSON.parse(JSON.stringify(n)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(t,e){return r("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return r("div_seg",{seg:t,pt:e}),r("chop",{seg:t,pt:e})},statusRemove:function(t){return r("pop_seg",{seg:t})},segmentUpdate:function(t){return r("seg_update",{seg:t})},segmentNew:function(t,e){return r("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return r("rem_seg",{seg:t})},tempStatus:function(t,e,n){return r("temp_status",{seg:t,above:e,below:n})},rewind:function(t){return r("rewind",{seg:t})},status:function(t,e,n){return r("status",{seg:t,above:e,below:n})},vert:function(e){return e===n?t:(n=e,r("vert",{x:e}))},log:function(t){return"string"!=typeof t&&(t=JSON.stringify(t,!1,"  ")),r("log",{txt:t})},reset:function(){return r("reset")},selected:function(t){return r("selected",{segs:t})},chainStart:function(t){return r("chain_start",{seg:t})},chainRemoveHead:function(t,e){return r("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return r("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return r("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return r("chain_match",{index:t})},chainClose:function(t){return r("chain_close",{index:t})},chainAddHead:function(t,e){return r("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return r("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return r("chain_con",{index1:t,index2:e})},chainReverse:function(t){return r("chain_rev",{index:t})},chainJoin:function(t,e){return r("chain_join",{index1:t,index2:e})},done:function(){return r("done")}}}},{}],186:[function(t,e,n){e.exports=function(t){"number"!=typeof t&&(t=1e-10);var e={epsilon:function(e){return"number"==typeof e&&(t=e),t},pointAboveOrOnLine:function(e,n,r){var i=n[0],o=n[1],a=r[0],s=r[1],l=e[0];return(a-i)*(e[1]-o)-(s-o)*(l-i)>=-t},pointBetween:function(e,n,r){var i=e[1]-n[1],o=r[0]-n[0],a=e[0]-n[0],s=r[1]-n[1],l=a*o+i*s;return!(l<t)&&!(l-(o*o+s*s)>-t)},pointsSameX:function(e,n){return Math.abs(e[0]-n[0])<t},pointsSameY:function(e,n){return Math.abs(e[1]-n[1])<t},pointsSame:function(t,n){return e.pointsSameX(t,n)&&e.pointsSameY(t,n)},pointsCompare:function(t,n){return e.pointsSameX(t,n)?e.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-a*o)<t},linesIntersect:function(e,n,r,i){var o=n[0]-e[0],a=n[1]-e[1],s=i[0]-r[0],l=i[1]-r[1],c=o*l-a*s;if(Math.abs(c)<t)return!1;var u=e[0]-r[0],d=e[1]-r[1],f=(s*d-l*u)/c,h=(o*d-a*u)/c,p={alongA:0,alongB:0,pt:[e[0]+f*o,e[1]+f*a]};return p.alongA=f<=-t?-2:f<t?-1:f-1<=-t?0:f-1<t?1:2,p.alongB=h<=-t?-2:h<t?-1:h-1<=-t?0:h-1<t?1:2,p},pointInsideRegion:function(e,n){for(var r=e[0],i=e[1],o=n[n.length-1][0],a=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var c=n[l][0],u=n[l][1];u-i>t!=a-i>t&&(o-c)*(i-u)/(a-u)+c-r>t&&(s=!s),o=c,a=u}return s}};return e}},{}],187:[function(t,e,n){var r={toPolygon:function(t,e){function n(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function n(e){var n=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[n]})}for(var r=n(e[0]),i=1;i<e.length;i++)r=t.selectDifference(t.combine(r,n(e[i])));return r}if("Polygon"===e.type)return t.polygon(n(e.coordinates));if("MultiPolygon"===e.type){for(var r=t.segments({inverted:!1,regions:[]}),i=0;i<e.coordinates.length;i++)r=t.selectUnion(t.combine(r,n(e.coordinates[i])));return t.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,n){function r(t,n){return e.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],n)}function i(t){return{region:t,children:[]}}n=t.polygon(t.segments(n));var o=i(null);function a(t,e){for(var n=0;n<t.children.length;n++)if(r(e,(s=t.children[n]).region))return void a(s,e);var o=i(e);for(n=0;n<t.children.length;n++){var s;r((s=t.children[n]).region,e)&&(o.children.push(s),t.children.splice(n,1),n--)}t.children.push(o)}for(var s=0;s<n.regions.length;s++){var l=n.regions[s];l.length<3||a(o,l)}function c(t,e){for(var n=0,r=t[t.length-1][0],i=t[t.length-1][1],o=[],a=0;a<t.length;a++){var s=t[a][0],l=t[a][1];o.push([s,l]),n+=l*r-s*i,r=s,i=l}return n<0!==e&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var u=[];function d(t){var e=[c(t.region,!1)];u.push(e);for(var n=0;n<t.children.length;n++)e.push(f(t.children[n]))}function f(t){for(var e=0;e<t.children.length;e++)d(t.children[e]);return c(t.region,!0)}for(s=0;s<o.children.length;s++)d(o.children[s]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};e.exports=r},{}],188:[function(t,e,n){var r=t("./linked-list");e.exports=function(t,e,n){function i(t,e,r){return{id:n?n.segmentId():-1,start:t,end:e,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var o=r.create();function a(t,n){o.insertBefore(t,(function(r){return function(t,n,r,i,o,a){var s=e.pointsCompare(n,o);return 0!==s?s:e.pointsSame(r,a)?0:t!==i?t?1:-1:e.pointAboveOrOnLine(r,i?o:a,i?a:o)?1:-1}(t.isStart,t.pt,n,r.isStart,r.pt,r.other.pt)<0}))}function s(t,e){var n=function(t,e){var n=r.node({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return a(n,t.end),n}(t,e);return function(t,e,n){var i=r.node({isStart:!1,pt:e.end,seg:e,primary:n,other:t,status:null});t.other=i,a(i,t.pt)}(n,t,e),n}function l(t,e){var r=i(e,t.seg.end,t.seg);return function(t,e){n&&n.segmentChop(t.seg,e),t.other.remove(),t.seg.end=e,t.other.pt=e,a(t.other,t.pt)}(t,e),s(r,t.primary)}function c(i,a){var s=r.create();function c(t){return s.findTransition((function(n){var r,i,o,a,s,l;return r=t,i=n.ev,o=r.seg.start,a=r.seg.end,s=i.seg.start,l=i.seg.end,(e.pointsCollinear(o,s,l)?e.pointsCollinear(a,s,l)||e.pointAboveOrOnLine(a,s,l)?1:-1:e.pointAboveOrOnLine(o,s,l)?1:-1)>0}))}function u(t,r){var i=t.seg,o=r.seg,a=i.start,s=i.end,c=o.start,u=o.end;n&&n.checkIntersection(i,o);var d=e.linesIntersect(a,s,c,u);if(!1===d){if(!e.pointsCollinear(a,s,c))return!1;if(e.pointsSame(a,u)||e.pointsSame(s,c))return!1;var f=e.pointsSame(a,c),h=e.pointsSame(s,u);if(f&&h)return r;var p=!f&&e.pointBetween(a,c,u),g=!h&&e.pointBetween(s,c,u);if(f)return g?l(r,s):l(t,u),r;p&&(h||(g?l(r,s):l(t,u)),l(r,a))}else 0===d.alongA&&(-1===d.alongB?l(t,c):0===d.alongB?l(t,d.pt):1===d.alongB&&l(t,u)),0===d.alongB&&(-1===d.alongA?l(r,a):0===d.alongA?l(r,d.pt):1===d.alongA&&l(r,s));return!1}for(var d=[];!o.isEmpty();){var f=o.getHead();if(n&&n.vert(f.pt[0]),f.isStart){var h=function(){if(g){var t=u(f,g);if(t)return t}return!!m&&u(f,m)};n&&n.segmentNew(f.seg,f.primary);var p=c(f),g=p.before?p.before.ev:null,m=p.after?p.after.ev:null;n&&n.tempStatus(f.seg,!!g&&g.seg,!!m&&m.seg);var v,y,b=h();if(b&&(t?(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(b.seg.myFill.above=!b.seg.myFill.above):b.seg.otherFill=f.seg.myFill,n&&n.segmentUpdate(b.seg),f.other.remove(),f.remove()),o.getHead()!==f){n&&n.rewind(f.seg);continue}t?(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=m?m.seg.myFill.above:i,f.seg.myFill.above=y?!f.seg.myFill.below:f.seg.myFill.below):null===f.seg.otherFill&&(v=m?f.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:f.primary?a:i,f.seg.otherFill={above:v,below:v}),n&&n.status(f.seg,!!g&&g.seg,!!m&&m.seg),f.other.status=p.insert(r.node({ev:f}))}else{var x=f.status;if(null===x)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(x.prev)&&s.exists(x.next)&&u(x.prev.ev,x.next.ev),n&&n.statusRemove(x.ev.seg),x.remove(),!f.primary){var w=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=w}d.push(f.seg)}o.getHead().remove()}return n&&n.done(),d}return t?{addRegion:function(t){for(var r,i,o,a=t[t.length-1],l=0;l<t.length;l++){r=a,a=t[l];var c=e.pointsCompare(r,a);0!==c&&s((i=c<0?r:a,o=c<0?a:r,{id:n?n.segmentId():-1,start:i,end:o,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(t){return c(t,!1)}}:{calculate:function(t,e,n,r){return t.forEach((function(t){s(i(t.start,t.end,t),!0)})),n.forEach((function(t){s(i(t.start,t.end,t),!1)})),c(e,r)}}}},{"./linked-list":189}],189:[function(t,e,n){e.exports={create:function(){var t={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(e,n){for(var r=t.root,i=t.root.next;null!==i;){if(n(i))return e.prev=i.prev,e.next=i,i.prev.next=e,void(i.prev=e);r=i,i=i.next}r.next=e,e.prev=r,e.next=null},findTransition:function(e){for(var n=t.root,r=t.root.next;null!==r&&!e(r);)n=r,r=r.next;return{before:n===t.root?null:n,after:r,insert:function(t){return t.prev=n,t.next=r,n.next=t,null!==r&&(r.prev=t),t}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},{}],190:[function(t,e,n){e.exports=function(t,e,n){var r=[],i=[];return t.forEach((function(t){var o=t.start,a=t.end;if(e.pointsSame(o,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(t);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},c=s,u=0;u<r.length;u++){var d=(m=r[u])[0],f=(m[1],m[m.length-1]);if(m[m.length-2],e.pointsSame(d,o)){if(A(u,!0,!0))break}else if(e.pointsSame(d,a)){if(A(u,!0,!1))break}else if(e.pointsSame(f,o)){if(A(u,!1,!0))break}else if(e.pointsSame(f,a)&&A(u,!1,!1))break}if(c===s)return r.push([o,a]),void(n&&n.chainNew(o,a));if(c===l){n&&n.chainMatch(s.index);var h=s.index,p=s.matches_pt1?a:o,g=s.matches_head,m=r[h],v=g?m[0]:m[m.length-1],y=g?m[1]:m[m.length-2],b=g?m[m.length-1]:m[0],x=g?m[m.length-2]:m[1];return e.pointsCollinear(y,v,p)&&(g?(n&&n.chainRemoveHead(s.index,p),m.shift()):(n&&n.chainRemoveTail(s.index,p),m.pop()),v=y),e.pointsSame(b,p)?(r.splice(h,1),e.pointsCollinear(x,b,v)&&(g?(n&&n.chainRemoveTail(s.index,v),m.pop()):(n&&n.chainRemoveHead(s.index,v),m.shift())),n&&n.chainClose(s.index),void i.push(m)):void(g?(n&&n.chainAddHead(s.index,p),m.unshift(p)):(n&&n.chainAddTail(s.index,p),m.push(p)))}var w=s.index,k=l.index;n&&n.chainConnect(w,k);var _=r[w].length<r[k].length;s.matches_head?l.matches_head?_?(T(w),M(w,k)):(T(k),M(k,w)):M(k,w):l.matches_head?M(w,k):_?(T(w),M(k,w)):(T(k),M(w,k))}function A(t,e,n){return c.index=t,c.matches_head=e,c.matches_pt1=n,c===s?(c=l,!1):(c=null,!0)}function T(t){n&&n.chainReverse(t),r[t].reverse()}function M(t,i){var o=r[t],a=r[i],s=o[o.length-1],l=o[o.length-2],c=a[0],u=a[1];e.pointsCollinear(l,s,c)&&(n&&n.chainRemoveTail(t,s),o.pop(),s=l),e.pointsCollinear(s,c,u)&&(n&&n.chainRemoveHead(i,c),a.shift()),n&&n.chainJoin(t,i),r[t]=o.concat(a),r.splice(i,1)}})),i}},{}],191:[function(t,e,n){function r(t,e,n){var r=[];return t.forEach((function(t){var i=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==e[i]&&r.push({id:n?n.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===e[i],below:2===e[i]},otherFill:null})})),n&&n.selected(r),r}var i={union:function(t,e){return r(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return r(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return r(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return r(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return r(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}};e.exports=i},{}],192:[function(t,e,n){var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,u=[],d=!1,f=-1;function h(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!d){var t=l(h);d=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new g(t,e)),1!==u.length||d||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],193:[function(t,e,r){(function(n){(function(){for(var r=t("performance-now"),i="undefined"==typeof window?n:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],l=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!l){var u=0,d=0,f=[];s=function(t){if(0===f.length){var e=r(),n=Math.max(0,1e3/60-(e-u));u=n+e,setTimeout((function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(u)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(n))}return f.push({handle:++d,callback:t,cancelled:!1}),d},l=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}e.exports=function(t){return s.call(i,t)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=s,t.cancelAnimationFrame=l}}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":181}],194:[function(t,e,n){"use strict";var r=t("array-bounds"),i=t("color-normalize"),o=t("update-diff"),a=t("pick-by-alias"),s=t("object-assign"),l=t("flatten-vertex-data"),c=t("to-float32"),u=c.float32,d=c.fract32;e.exports=function(t,e){if("function"==typeof t?(e||(e={}),e.regl=t):e=t,e.length&&(e.positions=e),!(t=e.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var n,c,h,p,g,m,v=t._gl,y={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},b=[];return p=t.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),m=t.buffer({usage:"static",type:"float",data:f}),_(e),n=t({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:t.prop("range"),lineWidth:t.prop("lineWidth"),capSize:t.prop("capSize"),opacity:t.prop("opacity"),scale:t.prop("scale"),translate:t.prop("translate"),scaleFract:t.prop("scaleFract"),translateFract:t.prop("translateFract"),viewport:function(t,e){return[e.viewport.x,e.viewport.y,t.viewportWidth,t.viewportHeight]}},attributes:{color:{buffer:p,offset:function(t,e){return 4*e.offset},divisor:1},position:{buffer:c,offset:function(t,e){return 8*e.offset},divisor:1},positionFract:{buffer:h,offset:function(t,e){return 8*e.offset},divisor:1},error:{buffer:g,offset:function(t,e){return 16*e.offset},divisor:1},direction:{buffer:m,stride:24,offset:0},lineOffset:{buffer:m,stride:24,offset:8},capOffset:{buffer:m,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:t.prop("viewport")},viewport:t.prop("viewport"),stencil:!1,instances:t.prop("count"),count:f.length}),s(x,{update:_,draw:w,destroy:A,regl:t,gl:v,canvas:v.canvas,groups:b}),x;function x(t){t?_(t):null===t&&A(),w()}function w(e){if("number"==typeof e)return k(e);e&&!Array.isArray(e)&&(e=[e]),t._refresh(),b.forEach((function(t,n){t&&(e&&(e[n]?t.draw=!0:t.draw=!1),t.draw?k(n):t.draw=!0)}))}function k(t){"number"==typeof t&&(t=b[t]),null!=t&&t&&t.count&&t.color&&t.opacity&&t.positions&&t.positions.length>1&&(t.scaleRatio=[t.scale[0]*t.viewport.width,t.scale[1]*t.viewport.height],n(t),t.after&&t.after(t))}function _(t){if(t){null!=t.length?"number"==typeof t[0]&&(t=[{positions:t}]):Array.isArray(t)||(t=[t]);var e=0,n=0;if(x.groups=b=t.map((function(t,c){var u=b[c];return t?("function"==typeof t?t={after:t}:"number"==typeof t[0]&&(t={positions:t}),t=a(t,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),u||(b[c]=u={id:c,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},t=s({},y,t)),o(u,t,[{lineWidth:function(t){return.5*+t},capSize:function(t){return.5*+t},opacity:parseFloat,errors:function(t){return t=l(t),n+=t.length,t},positions:function(t,n){return t=l(t,"float64"),n.count=Math.floor(t.length/2),n.bounds=r(t,2),n.offset=e,e+=n.count,t}},{color:function(t,e){var n=e.count;if(t||(t="transparent"),!Array.isArray(t)||"number"==typeof t[0]){var r=t;t=Array(n);for(var o=0;o<n;o++)t[o]=r}if(t.length<n)throw Error("Not enough colors");for(var a=new Uint8Array(4*n),s=0;s<n;s++){var l=i(t[s],"uint8");a.set(l,4*s)}return a},range:function(t,e,n){var r=e.bounds;return t||(t=r),e.scale=[1/(t[2]-t[0]),1/(t[3]-t[1])],e.translate=[-t[0],-t[1]],e.scaleFract=d(e.scale),e.translateFract=d(e.translate),t},viewport:function(t){var e;return Array.isArray(t)?e={x:t[0],y:t[1],width:t[2]-t[0],height:t[3]-t[1]}:t?(e={x:t.x||t.left||0,y:t.y||t.top||0},t.right?e.width=t.right-e.x:e.width=t.w||t.width||0,t.bottom?e.height=t.bottom-e.y:e.height=t.h||t.height||0):e={x:0,y:0,width:v.drawingBufferWidth,height:v.drawingBufferHeight},e}}]),u):u})),e||n){var f=b.reduce((function(t,e,n){return t+(e?e.count:0)}),0),m=new Float64Array(2*f),w=new Uint8Array(4*f),k=new Float32Array(4*f);b.forEach((function(t,e){if(t){var n=t.positions,r=t.count,i=t.offset,o=t.color,a=t.errors;r&&(w.set(o,4*i),k.set(a,4*i),m.set(n,2*i))}}));var _=u(m);c(_);var A=d(m,_);h(A),p(w),g(k)}}}function A(){c.destroy(),h.destroy(),p.destroy(),g.destroy(),m.destroy()}};var f=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},{"array-bounds":18,"color-normalize":35,"flatten-vertex-data":122,"object-assign":176,"pick-by-alias":182,"to-float32":206,"update-diff":221}],195:[function(t,e,n){"use strict";var r=t("color-normalize"),i=t("array-bounds"),o=t("object-assign"),a=t("glslify"),s=t("pick-by-alias"),l=t("flatten-vertex-data"),c=t("earcut"),u=t("array-normalize"),d=t("to-float32"),f=d.float32,h=d.fract32,p=t("es6-weak-map"),g=t("parse-rect"),m=t("array-find-index");function v(t,e){if(!(this instanceof v))return new v(t,e);if("function"==typeof t?(e||(e={}),e.regl=t):e=t,e.length&&(e.positions=e),!(t=e.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=t._gl,this.regl=t,this.passes=[],this.shaders=v.shaders.has(t)?v.shaders.get(t):v.shaders.set(t,v.createShaders(t)).get(t),this.update(e)}e.exports=v,v.dashMult=2,v.maxPatternLength=256,v.precisionThreshold=3e6,v.maxPoints=1e4,v.maxLines=2048,v.shaders=new p,v.createShaders=function(t){var e,n=t.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),r={primitive:"triangle strip",instances:t.prop("count"),count:4,offset:0,uniforms:{miterMode:function(t,e){return"round"===e.join?2:1},miterLimit:t.prop("miterLimit"),scale:t.prop("scale"),scaleFract:t.prop("scaleFract"),translateFract:t.prop("translateFract"),translate:t.prop("translate"),thickness:t.prop("thickness"),dashTexture:t.prop("dashTexture"),opacity:t.prop("opacity"),pixelRatio:t.context("pixelRatio"),id:t.prop("id"),dashLength:t.prop("dashLength"),viewport:function(t,e){return[e.viewport.x,e.viewport.y,t.viewportWidth,t.viewportHeight]},depth:t.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(t,e){return!e.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:t.prop("viewport")},viewport:t.prop("viewport")},i=t(o({vert:a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:a(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:n,divisor:0,stride:8,offset:0},lineTop:{buffer:n,divisor:0,stride:8,offset:4},aCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:t.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:t.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:t.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},r));try{e=t(o({cull:{enable:!0,face:"back"},vert:a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:a(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:n,divisor:0,stride:8,offset:0},lineTop:{buffer:n,divisor:0,stride:8,offset:4},aColor:{buffer:t.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:t.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},r))}catch(t){e=i}return{fill:t({primitive:"triangle",elements:function(t,e){return e.triangles},offset:0,vert:a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:a(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:t.prop("scale"),color:t.prop("fill"),scaleFract:t.prop("scaleFract"),translateFract:t.prop("translateFract"),translate:t.prop("translate"),opacity:t.prop("opacity"),pixelRatio:t.context("pixelRatio"),id:t.prop("id"),viewport:function(t,e){return[e.viewport.x,e.viewport.y,t.viewportWidth,t.viewportHeight]}},attributes:{position:{buffer:t.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:t.prop("positionFractBuffer"),stride:8,offset:8}},blend:r.blend,depth:{enable:!1},scissor:r.scissor,stencil:r.stencil,viewport:r.viewport}),rect:i,miter:e}},v.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},v.prototype.render=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];e.length&&(t=this).update.apply(t,e),this.draw()},v.prototype.draw=function(){for(var t=this,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(e.length?e:this.passes).forEach((function(e,n){var r;if(e&&Array.isArray(e))return(r=t).draw.apply(r,e);"number"==typeof e&&(e=t.passes[e]),e&&e.count>1&&e.opacity&&(t.regl._refresh(),e.fill&&e.triangles&&e.triangles.length>2&&t.shaders.fill(e),e.thickness&&(e.scale[0]*e.viewport.width>v.precisionThreshold||e.scale[1]*e.viewport.height>v.precisionThreshold||"rect"===e.join||!e.join&&(e.thickness<=2||e.count>=v.maxPoints)?t.shaders.rect(e):t.shaders.miter(e)))})),this},v.prototype.update=function(t){var e=this;if(t){null!=t.length?"number"==typeof t[0]&&(t=[{positions:t}]):Array.isArray(t)||(t=[t]);var n=this.regl,a=this.gl;if(t.forEach((function(t,d){var p=e.passes[d];if(void 0!==t)if(null!==t){if("number"==typeof t[0]&&(t={positions:t}),t=s(t,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),p||(e.passes[d]=p={id:d,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:n.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},t=o({},v.defaults,t)),null!=t.thickness&&(p.thickness=parseFloat(t.thickness)),null!=t.opacity&&(p.opacity=parseFloat(t.opacity)),null!=t.miterLimit&&(p.miterLimit=parseFloat(t.miterLimit)),null!=t.overlay&&(p.overlay=!!t.overlay,d<v.maxLines&&(p.depth=2*(v.maxLines-1-d%v.maxLines)/v.maxLines-1)),null!=t.join&&(p.join=t.join),null!=t.hole&&(p.hole=t.hole),null!=t.fill&&(p.fill=t.fill?r(t.fill,"uint8"):null),null!=t.viewport&&(p.viewport=g(t.viewport)),p.viewport||(p.viewport=g([a.drawingBufferWidth,a.drawingBufferHeight])),null!=t.close&&(p.close=t.close),null===t.positions&&(t.positions=[]),t.positions){var y,b;if(t.positions.x&&t.positions.y){var x=t.positions.x,w=t.positions.y;b=p.count=Math.max(x.length,w.length),y=new Float64Array(2*b);for(var k=0;k<b;k++)y[2*k]=x[k],y[2*k+1]=w[k]}else y=l(t.positions,"float64"),b=p.count=Math.floor(y.length/2);var _=p.bounds=i(y,2);if(p.fill){for(var A=[],T={},M=0,E=0,C=0,S=p.count;E<S;E++){var O=y[2*E],L=y[2*E+1];isNaN(O)||isNaN(L)||null==O||null==L?(O=y[2*M],L=y[2*M+1],T[E]=M):M=E,A[C++]=O,A[C++]=L}if(t.splitNull){p.count-1 in T||(T[p.count]=p.count-1);var P=Object.keys(T).map(Number).sort((function(t,e){return t-e})),D=[],R=0,I=null!=p.hole?p.hole[0]:null;if(null!=I){var z=m(P,(function(t){return t>=I}));(P=P.slice(0,z)).push(I)}for(var N=function(t){var e=A.slice(2*R,2*P[t]).concat(I?A.slice(2*I):[]),n=(p.hole||[]).map((function(e){return e-I+(P[t]-R)})),r=c(e,n);r=r.map((function(e){return e+R+(e+R<P[t]?0:I-P[t])})),D.push.apply(D,r),R=P[t]+1},B=0;B<P.length;B++)N(B);for(var F=0,j=D.length;F<j;F++)null!=T[D[F]]&&(D[F]=T[D[F]]);p.triangles=D}else{for(var $=c(A,p.hole||[]),Z=0,U=$.length;Z<U;Z++)null!=T[$[Z]]&&($[Z]=T[$[Z]]);p.triangles=$}}var H=new Float64Array(y);u(H,2,_);var V=new Float64Array(2*b+6);p.close?y[0]===y[2*b-2]&&y[1]===y[2*b-1]?(V[0]=H[2*b-4],V[1]=H[2*b-3]):(V[0]=H[2*b-2],V[1]=H[2*b-1]):(V[0]=H[0],V[1]=H[1]),V.set(H,2),p.close?y[0]===y[2*b-2]&&y[1]===y[2*b-1]?(V[2*b+2]=H[2],V[2*b+3]=H[3],p.count-=1):(V[2*b+2]=H[0],V[2*b+3]=H[1],V[2*b+4]=H[2],V[2*b+5]=H[3]):(V[2*b+2]=H[2*b-2],V[2*b+3]=H[2*b-1],V[2*b+4]=H[2*b-2],V[2*b+5]=H[2*b-1]);var W=f(V);p.positionBuffer(W);var Y=h(V,W);p.positionFractBuffer(Y)}if(t.range?p.range=t.range:p.range||(p.range=p.bounds),(t.range||t.positions)&&p.count){var G=p.bounds,q=G[2]-G[0],X=G[3]-G[1],J=p.range[2]-p.range[0],K=p.range[3]-p.range[1];p.scale=[q/J,X/K],p.translate=[-p.range[0]/J+G[0]/J||0,-p.range[1]/K+G[1]/K||0],p.scaleFract=h(p.scale),p.translateFract=h(p.translate)}if(t.dashes){var Q,tt=0;if(!t.dashes||t.dashes.length<2)tt=1,Q=new Uint8Array([255,255,255,255,255,255,255,255]);else{tt=0;for(var et=0;et<t.dashes.length;++et)tt+=t.dashes[et];Q=new Uint8Array(tt*v.dashMult);for(var nt=0,rt=255,it=0;it<2;it++)for(var ot=0;ot<t.dashes.length;++ot){for(var at=0,st=t.dashes[ot]*v.dashMult*.5;at<st;++at)Q[nt++]=rt;rt^=255}}p.dashLength=tt,p.dashTexture({channels:1,data:Q,width:Q.length,height:1,mag:"linear",min:"linear"},0,0)}if(t.color){var lt=p.count,ct=t.color;ct||(ct="transparent");var ut=new Uint8Array(4*lt+4);if(Array.isArray(ct)&&"number"!=typeof ct[0]){for(var dt=0;dt<lt;dt++){var ft=r(ct[dt],"uint8");ut.set(ft,4*dt)}ut.set(r(ct[0],"uint8"),4*lt)}else for(var ht=r(ct,"uint8"),pt=0;pt<lt+1;pt++)ut.set(ht,4*pt);p.colorBuffer({usage:"dynamic",type:"uint8",data:ut})}}else e.passes[d]=null})),t.length<this.passes.length){for(var d=t.length;d<this.passes.length;d++){var p=this.passes[d];p&&(p.colorBuffer.destroy(),p.positionBuffer.destroy(),p.dashTexture.destroy())}this.passes.length=t.length}for(var y=[],b=0;b<this.passes.length;b++)null!==this.passes[b]&&y.push(this.passes[b]);return this.passes=y,this}},v.prototype.destroy=function(){return this.passes.forEach((function(t){t.colorBuffer.destroy(),t.positionBuffer.destroy(),t.dashTexture.destroy()})),this.passes.length=0,this}},{"array-bounds":18,"array-find-index":19,"array-normalize":20,"color-normalize":35,earcut:61,"es6-weak-map":114,"flatten-vertex-data":122,glslify:158,"object-assign":176,"parse-rect":178,"pick-by-alias":182,"to-float32":206}],196:[function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=t("color-normalize"),l=t("array-bounds"),c=t("color-id"),u=t("@plotly/point-cluster"),d=t("object-assign"),f=t("glslify"),h=t("pick-by-alias"),p=t("update-diff"),g=t("flatten-vertex-data"),m=t("is-iexplorer"),v=t("to-float32"),y=t("parse-rect"),b=x;function x(t,e){var n=this;if(!(this instanceof x))return new x(t,e);"function"==typeof t?(e||(e={}),e.regl=t):(e=t,t=null),e&&e.length&&(e.positions=e);var r,i=(t=e.regl)._gl,o=[];this.tooManyColors=m,r=t.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),d(this,{regl:t,gl:i,groups:[],markerCache:[null],markerTextures:[null],palette:o,paletteIds:{},paletteTexture:r,maxColors:255,maxSize:100,canvas:i.canvas}),this.update(e);var a={uniforms:{constPointSize:!!e.constPointSize,opacity:t.prop("opacity"),paletteSize:function(t,e){return[n.tooManyColors?0:255,r.height]},pixelRatio:t.context("pixelRatio"),scale:t.prop("scale"),scaleFract:t.prop("scaleFract"),translate:t.prop("translate"),translateFract:t.prop("translateFract"),markerTexture:t.prop("markerTexture"),paletteTexture:r},attributes:{x:function(t,e){return e.xAttr||{buffer:e.positionBuffer,stride:8,offset:0}},y:function(t,e){return e.yAttr||{buffer:e.positionBuffer,stride:8,offset:4}},xFract:function(t,e){return e.xAttr?{constant:[0,0]}:{buffer:e.positionFractBuffer,stride:8,offset:0}},yFract:function(t,e){return e.yAttr?{constant:[0,0]}:{buffer:e.positionFractBuffer,stride:8,offset:4}},size:function(t,e){return e.size.length?{buffer:e.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*e.size/n.maxSize)]}},borderSize:function(t,e){return e.borderSize.length?{buffer:e.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*e.borderSize/n.maxSize)]}},colorId:function(t,e){return e.color.length?{buffer:e.colorBuffer,stride:n.tooManyColors?8:4,offset:0}:{constant:n.tooManyColors?o.slice(4*e.color,4*e.color+4):[e.color]}},borderColorId:function(t,e){return e.borderColor.length?{buffer:e.colorBuffer,stride:n.tooManyColors?8:4,offset:n.tooManyColors?4:2}:{constant:n.tooManyColors?o.slice(4*e.borderColor,4*e.borderColor+4):[e.borderColor]}},isActive:function(t,e){return!0===e.activation?{constant:[1]}:e.activation?e.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:t.prop("viewport")},viewport:t.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:t.prop("elements"),count:t.prop("count"),offset:t.prop("offset"),primitive:"points"},s=d({},a);s.frag=f(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),s.vert=f(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=t(s);var l=d({},a);l.frag=f(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),l.vert=f(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),m&&(l.frag=l.frag.replace("smoothstep","smoothStep"),s.frag=s.frag.replace("smoothstep","smoothStep")),this.drawCircle=t(l)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=this.groups;if(1===n.length&&Array.isArray(n[0])&&(null===n[0][0]||Array.isArray(n[0][0]))&&(n=n[0]),this.regl._refresh(),n.length)for(var o=0;o<n.length;o++)this.drawItem(o,n[o]);else i.forEach((function(e,n){t.drawItem(n)}));return this},x.prototype.drawItem=function(t,e){var n=this.groups,r=n[t];if("number"==typeof e&&(t=e,r=n[e],e=null),r&&r.count&&r.opacity){r.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,r,e));for(var o=[],a=1;a<r.activation.length;a++)r.activation[a]&&(!0===r.activation[a]||r.activation[a].data.length)&&o.push.apply(o,i(this.getMarkerDrawOptions(a,r,e)));o.length&&this.drawMarker(o)}},x.prototype.getMarkerDrawOptions=function(t,e,n){var i=e.range,o=e.tree,a=e.viewport,s=e.activation,l=e.selectionBuffer,c=e.count;if(this.regl,!o)return n?[d({},e,{markerTexture:this.markerTextures[t],activation:s[t],count:n.length,elements:n,offset:0})]:[d({},e,{markerTexture:this.markerTextures[t],activation:s[t],offset:0})];var u=[],f=o.range(i,{lod:!0,px:[(i[2]-i[0])/a.width,(i[3]-i[1])/a.height]});if(n){for(var h=s[t].data,p=new Uint8Array(c),g=0;g<n.length;g++){var m=n[g];p[m]=h?h[m]:1}l.subdata(p)}for(var v=f.length;v--;){var y=r(f[v],2),b=y[0],x=y[1];u.push(d({},e,{markerTexture:this.markerTextures[t],activation:n?l:s[t],offset:b,count:x-b}))}return u},x.prototype.update=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length){1===n.length&&Array.isArray(n[0])&&(n=n[0]);var i=this.groups,o=this.gl,a=this.regl,s=this.maxSize,c=this.maxColors,f=this.palette;this.groups=i=n.map((function(e,n){var r=i[n];if(void 0===e)return r;null===e?e={positions:null}:"function"==typeof e?e={ondraw:e}:"number"==typeof e[0]&&(e={positions:e}),null===(e=h(e,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(e.positions=[]),null!=e.tooManyColors&&(t.tooManyColors=e.tooManyColors),r||(i[n]=r={id:n,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:a.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:a.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:a.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:a.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:a.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},e=d({},x.defaults,e)),e.positions&&!("marker"in e)&&(e.marker=r.marker,delete r.marker),e.marker&&!("positions"in e)&&(e.positions=r.positions,delete r.positions);var m=0,b=0;if(p(r,e,[{snap:!0,size:function(t,e){return null==t&&(t=x.defaults.size),m+=t&&t.length?1:0,t},borderSize:function(t,e){return null==t&&(t=x.defaults.borderSize),m+=t&&t.length?1:0,t},opacity:parseFloat,color:function(e,n){return null==e&&(e=x.defaults.color),e=t.updateColor(e),b++,e},borderColor:function(e,n){return null==e&&(e=x.defaults.borderColor),e=t.updateColor(e),b++,e},bounds:function(t,e,n){return"range"in n||(n.range=null),t},positions:function(t,e,n){var r=e.snap,i=e.positionBuffer,o=e.positionFractBuffer,s=e.selectionBuffer;if(t.x||t.y)return t.x.length?e.xAttr={buffer:a.buffer(t.x),offset:0,stride:4,count:t.x.length}:e.xAttr={buffer:t.x.buffer,offset:4*t.x.offset||0,stride:4*(t.x.stride||1),count:t.x.count},t.y.length?e.yAttr={buffer:a.buffer(t.y),offset:0,stride:4,count:t.y.length}:e.yAttr={buffer:t.y.buffer,offset:4*t.y.offset||0,stride:4*(t.y.stride||1),count:t.y.count},e.count=Math.max(e.xAttr.count,e.yAttr.count),t;t=g(t,"float64");var c=e.count=Math.floor(t.length/2),d=e.bounds=c?l(t,2):null;if(n.range||e.range||(delete e.range,n.range=d),n.marker||e.marker||(delete e.marker,n.marker=null),r&&(!0===r||c>r)?e.tree=u(t,{bounds:d}):r&&r.length&&(e.tree=r),e.tree){var f={primitive:"points",usage:"static",data:e.tree,type:"uint32"};e.elements?e.elements(f):e.elements=a.elements(f)}var h=v.float32(t);return i({data:h,usage:"dynamic"}),o({data:v.fract32(t,h),usage:"dynamic"}),s({data:new Uint8Array(c),type:"uint8",usage:"stream"}),t}},{marker:function(e,n,r){var i=n.activation;if(i.forEach((function(t){return t&&t.destroy&&t.destroy()})),i.length=0,e&&"number"!=typeof e[0]){for(var o=[],s=0,l=Math.min(e.length,n.count);s<l;s++){var c=t.addMarker(e[s]);o[c]||(o[c]=new Uint8Array(n.count)),o[c][s]=1}for(var u=0;u<o.length;u++)if(o[u]){var d={data:o[u],type:"uint8",usage:"static"};i[u]?i[u](d):i[u]=a.buffer(d),i[u].data=o[u]}}else i[t.addMarker(e)]=!0;return e},range:function(t,e,n){var r=e.bounds;if(r)return t||(t=r),e.scale=[1/(t[2]-t[0]),1/(t[3]-t[1])],e.translate=[-t[0],-t[1]],e.scaleFract=v.fract(e.scale),e.translateFract=v.fract(e.translate),t},viewport:function(t){return y(t||[o.drawingBufferWidth,o.drawingBufferHeight])}}]),m){var w=r,k=w.count,_=w.size,A=w.borderSize,T=w.sizeBuffer,M=new Uint8Array(2*k);if(_.length||A.length)for(var E=0;E<k;E++)M[2*E]=Math.round(255*(null==_[E]?_:_[E])/s),M[2*E+1]=Math.round(255*(null==A[E]?A:A[E])/s);T({data:M,usage:"dynamic"})}if(b){var C,S=r,O=S.count,L=S.color,P=S.borderColor,D=S.colorBuffer;if(t.tooManyColors){if(L.length||P.length){C=new Uint8Array(8*O);for(var R=0;R<O;R++){var I=L[R];C[8*R]=f[4*I],C[8*R+1]=f[4*I+1],C[8*R+2]=f[4*I+2],C[8*R+3]=f[4*I+3];var z=P[R];C[8*R+4]=f[4*z],C[8*R+5]=f[4*z+1],C[8*R+6]=f[4*z+2],C[8*R+7]=f[4*z+3]}}}else if(L.length||P.length){C=new Uint8Array(4*O+2);for(var N=0;N<O;N++)null!=L[N]&&(C[4*N]=L[N]%c,C[4*N+1]=Math.floor(L[N]/c)),null!=P[N]&&(C[4*N+2]=P[N]%c,C[4*N+3]=Math.floor(P[N]/c))}D({data:C||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return r}))}},x.prototype.addMarker=function(t){var e,n=this.markerTextures,r=this.regl,i=this.markerCache,o=null==t?0:i.indexOf(t);if(o>=0)return o;if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)e=t;else{e=new Uint8Array(t.length);for(var a=0,s=t.length;a<s;a++)e[a]=255*t[a]}var l=Math.floor(Math.sqrt(e.length));return o=n.length,i.push(t),n.push(r.texture({channels:1,data:e,radius:l,mag:"linear",min:"linear"})),o},x.prototype.updateColor=function(t){var e=this.paletteIds,n=this.palette,r=this.maxColors;Array.isArray(t)||(t=[t]);var i=[];if("number"==typeof t[0]){var o=[];if(Array.isArray(t))for(var a=0;a<t.length;a+=4)o.push(t.slice(a,a+4));else for(var l=0;l<t.length;l+=4)o.push(t.subarray(l,l+4));t=o}for(var u=0;u<t.length;u++){var d=t[u];d=s(d,"uint8");var f=c(d,!1);if(null==e[f]){var h=n.length;e[f]=Math.floor(h/4),n[h]=d[0],n[h+1]=d[1],n[h+2]=d[2],n[h+3]=d[3]}i[u]=e[f]}return!this.tooManyColors&&n.length>4*r&&(this.tooManyColors=!0),this.updatePalette(n),1===i.length?i[0]:i},x.prototype.updatePalette=function(t){if(!this.tooManyColors){var e=this.maxColors,n=this.paletteTexture,r=Math.ceil(.25*t.length/e);if(r>1)for(var i=.25*(t=t.slice()).length%e;i<r*e;i++)t.push(0,0,0,0);n.height<r&&n.resize(e,r),n.subimage({width:Math.min(.25*t.length,e),height:r,data:t},0,0)}},x.prototype.destroy=function(){return this.groups.forEach((function(t){t.sizeBuffer.destroy(),t.positionBuffer.destroy(),t.positionFractBuffer.destroy(),t.colorBuffer.destroy(),t.activation.forEach((function(t){return t&&t.destroy&&t.destroy()})),t.selectionBuffer.destroy(),t.elements&&t.elements.destroy()})),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach((function(t){return t&&t.destroy&&t.destroy()})),this};var w=t("object-assign");e.exports=function(t,e){var n=new b(t,e),r=n.render.bind(n);return w(r,{render:r,update:n.update.bind(n),draw:n.draw.bind(n),destroy:n.destroy.bind(n),regl:n.regl,gl:n.gl,canvas:n.gl.canvas,groups:n.groups,markers:n.markerCache,palette:n.palette}),r}},{"@plotly/point-cluster":15,"array-bounds":18,"color-id":33,"color-normalize":35,"flatten-vertex-data":122,glslify:158,"is-iexplorer":163,"object-assign":176,"parse-rect":178,"pick-by-alias":182,"to-float32":206,"update-diff":221}],197:[function(t,e,n){"use strict";var r=t("regl-scatter2d"),i=t("pick-by-alias"),o=t("array-bounds"),a=t("raf"),s=t("array-range"),l=t("parse-rect"),c=t("flatten-vertex-data");function u(t,e){if(!(this instanceof u))return new u(t,e);this.traces=[],this.passes={},this.regl=t,this.scatter=r(t),this.canvas=this.scatter.canvas}function d(t,e,n){return(null!=t.id?t.id:t)<<16|(255&e)<<8|255&n}function f(t,e,n){var r,i,o,a,s=t[e],l=t[n];return s.length>2?(s[0],s[2],r=s[1],i=s[3]):s.length?(r=s[0],i=s[1]):(s.x,r=s.y,s.x,s.width,i=s.y+s.height),l.length>2?(o=l[0],a=l[2],l[1],l[3]):l.length?(o=l[0],a=l[1]):(o=l.x,l.y,a=l.x+l.width,l.y,l.height),[o,r,a,i]}function h(t){if("number"==typeof t)return[t,t,t,t];if(2===t.length)return[t[0],t[1],t[0],t[1]];var e=l(t);return[e.x,e.y,e.x+e.width,e.y+e.height]}e.exports=u,u.prototype.render=function(){for(var t,e=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];return n.length&&(t=this).update.apply(t,n),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=a((function(){e.draw(),e.dirty=!0,e.planned=null}))):(this.draw(),this.dirty=!0,a((function(){e.dirty=!1}))),this)},u.prototype.update=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e.length){for(var r=0;r<e.length;r++)this.updateItem(r,e[r]);this.traces=this.traces.filter(Boolean);for(var i=[],o=0,a=0;a<this.traces.length;a++){for(var s=this.traces[a],l=this.traces[a].passes,c=0;c<l.length;c++)i.push(this.passes[l[c]]);s.passOffset=o,o+=s.passes.length}return(t=this.scatter).update.apply(t,i),this}},u.prototype.updateItem=function(t,e){var n=this.regl;if(null===e)return this.traces[t]=null,this;if(!e)return this;var r,a=i(e,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),s=this.traces[t]||(this.traces[t]={id:t,buffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:l([n._gl.drawingBufferWidth,n._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=a.color&&(s.color=a.color),null!=a.size&&(s.size=a.size),null!=a.marker&&(s.marker=a.marker),null!=a.borderColor&&(s.borderColor=a.borderColor),null!=a.borderSize&&(s.borderSize=a.borderSize),null!=a.opacity&&(s.opacity=a.opacity),a.viewport&&(s.viewport=l(a.viewport)),null!=a.diagonal&&(s.diagonal=a.diagonal),null!=a.upper&&(s.upper=a.upper),null!=a.lower&&(s.lower=a.lower),a.data){s.buffer(c(a.data)),s.columns=a.data.length,s.count=a.data[0].length,s.bounds=[];for(var u=0;u<s.columns;u++)s.bounds[u]=o(a.data[u],1)}a.range&&(s.range=a.range,r=s.range&&"number"!=typeof s.range[0]),a.domain&&(s.domain=a.domain);var p=!1;null!=a.padding&&(Array.isArray(a.padding)&&a.padding.length===s.columns&&"number"==typeof a.padding[a.padding.length-1]?(s.padding=a.padding.map(h),p=!0):s.padding=h(a.padding));var g=s.columns,m=s.count,v=s.viewport.width,y=s.viewport.height,b=s.viewport.x,x=s.viewport.y,w=v/g,k=y/g;s.passes=[];for(var _=0;_<g;_++)for(var A=0;A<g;A++)if((s.diagonal||A!==_)&&(s.upper||!(_>A))&&(s.lower||!(_<A))){var T=d(s.id,_,A),M=this.passes[T]||(this.passes[T]={});if(a.data&&(a.transpose?M.positions={x:{buffer:s.buffer,offset:A,count:m,stride:g},y:{buffer:s.buffer,offset:_,count:m,stride:g}}:M.positions={x:{buffer:s.buffer,offset:A*m,count:m},y:{buffer:s.buffer,offset:_*m,count:m}},M.bounds=f(s.bounds,_,A)),a.domain||a.viewport||a.data){var E=p?f(s.padding,_,A):s.padding;if(s.domain){var C=f(s.domain,_,A),S=C[0],O=C[1],L=C[2],P=C[3];M.viewport=[b+S*v+E[0],x+O*y+E[1],b+L*v-E[2],x+P*y-E[3]]}else M.viewport=[b+A*w+w*E[0],x+_*k+k*E[1],b+(A+1)*w-w*E[2],x+(_+1)*k-k*E[3]]}a.color&&(M.color=s.color),a.size&&(M.size=s.size),a.marker&&(M.marker=s.marker),a.borderSize&&(M.borderSize=s.borderSize),a.borderColor&&(M.borderColor=s.borderColor),a.opacity&&(M.opacity=s.opacity),a.range&&(M.range=r?f(s.range,_,A):s.range||M.bounds),s.passes.push(T)}return this},u.prototype.draw=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e.length){for(var r=[],i=0;i<e.length;i++)if("number"==typeof e[i]){var o=this.traces[e[i]],a=o.passes,l=o.passOffset;r.push.apply(r,s(l,l+a.length))}else if(e[i].length){var c=e[i],u=this.traces[i],d=u.passes,f=u.passOffset;d=d.map((function(t,e){r[f+e]=c}))}(t=this.scatter).draw.apply(t,r)}else this.scatter.draw();return this},u.prototype.destroy=function(){return this.traces.forEach((function(t){t.buffer&&t.buffer.destroy&&t.buffer.destroy()})),this.traces=null,this.passes=null,this.scatter.destroy(),this}},{"array-bounds":18,"array-range":21,"flatten-vertex-data":122,"parse-rect":178,"pick-by-alias":182,raf:193,"regl-scatter2d":196}],198:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?e.exports=r():t.createREGL=r()}(this,(function(){function t(t,e){this.id=H++,this.type=t,this.data=e}function e(t){return"["+function t(e){if(0===e.length)return[];var n=e.charAt(0),r=e.charAt(e.length-1);if(1<e.length&&n===r&&('"'===n||"'"===n))return['"'+e.substr(1,e.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e))return t(e.substr(0,n.index)).concat(t(n[1])).concat(t(e.substr(n.index+n[0].length)));if(1===(n=e.split(".")).length)return['"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(e=[],r=0;r<n.length;++r)e=e.concat(t(n[r]));return e}(t).join("][")+"]"}function n(t){return"string"==typeof t?t.split():t}function r(t){return"string"==typeof t?document.querySelector(t):t}function i(t){var e,i,o,a,s=t||{};t={};var l=[],c=[],u="undefined"==typeof window?1:window.devicePixelRatio,d=!1,f={},h=function(t){},p=function(){};if("string"==typeof s?e=document.querySelector(s):"object"==typeof s&&("string"==typeof s.nodeName&&"function"==typeof s.appendChild&&"function"==typeof s.getBoundingClientRect?e=s:"function"==typeof s.drawArrays||"function"==typeof s.drawElements?o=(a=s).canvas:("gl"in s?a=s.gl:"canvas"in s?o=r(s.canvas):"container"in s&&(i=r(s.container)),"attributes"in s&&(t=s.attributes),"extensions"in s&&(l=n(s.extensions)),"optionalExtensions"in s&&(c=n(s.optionalExtensions)),"onDone"in s&&(h=s.onDone),"profile"in s&&(d=!!s.profile),"pixelRatio"in s&&(u=+s.pixelRatio),"cachedCode"in s&&(f=s.cachedCode))),e&&("canvas"===e.nodeName.toLowerCase()?o=e:i=e),!a){if(!o){if(!(e=function(t,e,n){function r(){var e=window.innerWidth,r=window.innerHeight;t!==document.body&&(e=(r=o.getBoundingClientRect()).right-r.left,r=r.bottom-r.top),o.width=n*e,o.height=n*r}var i,o=document.createElement("canvas");return U(o.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),t.appendChild(o),t===document.body&&(o.style.position="absolute",U(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(r)}))).observe(t):window.addEventListener("resize",r,!1),r(),{canvas:o,onDestroy:function(){i?i.disconnect():window.removeEventListener("resize",r),t.removeChild(o)}}}(i||document.body,0,u)))return null;o=e.canvas,p=e.onDestroy}void 0===t.premultipliedAlpha&&(t.premultipliedAlpha=!0),a=function(t,e){function n(n){try{return t.getContext(n,e)}catch(t){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(o,t)}return a?{gl:a,canvas:o,container:i,extensions:l,optionalExtensions:c,pixelRatio:u,profile:d,cachedCode:f,onDone:h,onDestroy:p}:(p(),h("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function o(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}function a(t){var e,n;return e=(65535<t)<<4,e|=n=(255<(t>>>=e))<<3,(e|=n=(15<(t>>>=n))<<2)|(n=(3<(t>>>=n))<<1)|t>>>n>>1}function s(){function t(t){t:{for(var e=16;268435456>=e;e*=16)if(t<=e){t=e;break t}t=0}return 0<(e=n[a(t)>>2]).length?e.pop():new ArrayBuffer(t)}function e(t){n[a(t.byteLength)>>2].push(t)}var n=o(8,(function(){return[]}));return{alloc:t,free:e,allocType:function(e,n){var r=null;switch(e){case 5120:r=new Int8Array(t(n),0,n);break;case 5121:r=new Uint8Array(t(n),0,n);break;case 5122:r=new Int16Array(t(2*n),0,n);break;case 5123:r=new Uint16Array(t(2*n),0,n);break;case 5124:r=new Int32Array(t(4*n),0,n);break;case 5125:r=new Uint32Array(t(4*n),0,n);break;case 5126:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(t){e(t.buffer)}}}function l(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||X(t.data))}function c(t,e,n,r,i,o){for(var a=0;a<e;++a)for(var s=t[a],l=0;l<n;++l)for(var c=s[l],u=0;u<r;++u)i[o++]=c[u]}function u(t){return 0|Q[Object.prototype.toString.call(t)]}function d(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function f(t,e,n,r,i,o,a){for(var s=0,l=0;l<n;++l)for(var c=0;c<r;++c)t[s++]=e[i*l+o*c+a]}function h(t,e,n,r){function i(e){this.id=c++,this.buffer=t.createBuffer(),this.type=e,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,n.profile&&(this.stats={size:0})}function o(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function a(t,e,n,r,i,a){if(t.usage=n,Array.isArray(e)){if(t.dtype=r||5126,0<e.length)if(Array.isArray(e[0])){i=rt(e);for(var s=r=1;s<i.length;++s)r*=i[s];t.dimension=r,o(t,e=nt(e,i,t.dtype),n),a?t.persistentData=e:G.freeType(e)}else"number"==typeof e[0]?(t.dimension=i,d(i=G.allocType(t.dtype,e.length),e),o(t,i,n),a?t.persistentData=i:G.freeType(i)):X(e[0])&&(t.dimension=e[0].length,t.dtype=r||u(e[0])||5126,o(t,e=nt(e,[e.length,e[0].length],t.dtype),n),a?t.persistentData=e:G.freeType(e))}else if(X(e))t.dtype=r||u(e),t.dimension=i,o(t,e,n),a&&(t.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(l(e)){i=e.shape;var c=e.stride,h=(s=e.offset,0),p=0,g=0,m=0;1===i.length?(h=i[0],p=1,g=c[0],m=0):2===i.length&&(h=i[0],p=i[1],g=c[0],m=c[1]),t.dtype=r||u(e.data)||5126,t.dimension=p,f(i=G.allocType(t.dtype,h*p),e.data,h,p,g,m,s),o(t,i,n),a?t.persistentData=i:G.freeType(i)}else e instanceof ArrayBuffer&&(t.dtype=5121,t.dimension=i,o(t,e,n),a&&(t.persistentData=new Uint8Array(new Uint8Array(e))))}function s(n){e.bufferCount--,r(n),t.deleteBuffer(n.buffer),n.buffer=null,delete h[n.id]}var c=0,h={};i.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},i.prototype.destroy=function(){s(this)};var p=[];return n.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(h).forEach((function(e){t+=h[e].stats.size})),t}),{create:function(r,o,c,p){function g(e){var r=35044,i=null,o=0,s=0,c=1;return Array.isArray(e)||X(e)||l(e)||e instanceof ArrayBuffer?i=e:"number"==typeof e?o=0|e:e&&("data"in e&&(i=e.data),"usage"in e&&(r=et[e.usage]),"type"in e&&(s=tt[e.type]),"dimension"in e&&(c=0|e.dimension),"length"in e&&(o=0|e.length)),m.bind(),i?a(m,i,r,s,c,p):(o&&t.bufferData(m.type,o,r),m.dtype=s||5121,m.usage=r,m.dimension=c,m.byteLength=o),n.profile&&(m.stats.size=m.byteLength*it[m.dtype]),g}e.bufferCount++;var m=new i(o);return h[m.id]=m,c||g(r),g._reglType="buffer",g._buffer=m,g.subdata=function(e,n){var r,i=0|(n||0);if(m.bind(),X(e)||e instanceof ArrayBuffer)t.bufferSubData(m.type,i,e);else if(Array.isArray(e)){if(0<e.length)if("number"==typeof e[0]){var o=G.allocType(m.dtype,e.length);d(o,e),t.bufferSubData(m.type,i,o),G.freeType(o)}else(Array.isArray(e[0])||X(e[0]))&&(r=rt(e),o=nt(e,r,m.dtype),t.bufferSubData(m.type,i,o),G.freeType(o))}else if(l(e)){r=e.shape;var a=e.stride,s=o=0,c=0,h=0;1===r.length?(o=r[0],s=1,c=a[0],h=0):2===r.length&&(o=r[0],s=r[1],c=a[0],h=a[1]),r=Array.isArray(e.data)?m.dtype:u(e.data),f(r=G.allocType(r,o*s),e.data,o,s,c,h,e.offset),t.bufferSubData(m.type,i,r),G.freeType(r)}return g},n.profile&&(g.stats=m.stats),g.destroy=function(){s(m)},g},createStream:function(t,e){var n=p.pop();return n||(n=new i(t)),n.bind(),a(n,e,35040,0,1,!1),n},destroyStream:function(t){p.push(t)},clear:function(){J(h).forEach(s),p.forEach(s)},getBuffer:function(t){return t&&t._buffer instanceof i?t._buffer:null},restore:function(){J(h).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))},_initBuffer:a}}function p(t,e,n,r){function i(t){this.id=c++,s[this.id]=this,this.buffer=t,this.primType=4,this.type=this.vertCount=0}function o(r,i,o,a,s,c,u){var d;if(r.buffer.bind(),i?((d=u)||X(i)&&(!l(i)||X(i.data))||(d=e.oes_element_index_uint?5125:5123),n._initBuffer(r.buffer,i,o,d,3)):(t.bufferData(34963,c,o),r.buffer.dtype=d||5121,r.buffer.usage=o,r.buffer.dimension=3,r.buffer.byteLength=c),d=u,!u){switch(r.buffer.dtype){case 5121:case 5120:d=5121;break;case 5123:case 5122:d=5123;break;case 5125:case 5124:d=5125}r.buffer.dtype=d}r.type=d,0>(i=s)&&(i=r.buffer.byteLength,5123===d?i>>=1:5125===d&&(i>>=2)),r.vertCount=i,i=a,0>a&&(i=4,1===(a=r.buffer.dimension)&&(i=0),2===a&&(i=1),3===a&&(i=4)),r.primType=i}function a(t){r.elementsCount--,delete s[t.id],t.buffer.destroy(),t.buffer=null}var s={},c=0,u={uint8:5121,uint16:5123};e.oes_element_index_uint&&(u.uint32=5125),i.prototype.bind=function(){this.buffer.bind()};var d=[];return{create:function(t,e){function s(t){if(t)if("number"==typeof t)c(t),d.primType=4,d.vertCount=0|t,d.type=5121;else{var e=null,n=35044,r=-1,i=-1,a=0,f=0;Array.isArray(t)||X(t)||l(t)?e=t:("data"in t&&(e=t.data),"usage"in t&&(n=et[t.usage]),"primitive"in t&&(r=ot[t.primitive]),"count"in t&&(i=0|t.count),"type"in t&&(f=u[t.type]),"length"in t?a=0|t.length:(a=i,5123===f||5122===f?a*=2:5125!==f&&5124!==f||(a*=4))),o(d,e,n,r,i,a,f)}else c(),d.primType=4,d.vertCount=0,d.type=5121;return s}var c=n.create(null,34963,!0),d=new i(c._buffer);return r.elementsCount++,s(t),s._reglType="elements",s._elements=d,s.subdata=function(t,e){return c.subdata(t,e),s},s.destroy=function(){a(d)},s},createStream:function(t){var e=d.pop();return e||(e=new i(n.create(null,34963,!0,!1)._buffer)),o(e,t,35040,-1,-1,0,0),e},destroyStream:function(t){d.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof i?t._elements:null},clear:function(){J(s).forEach(a)}}}function g(t){for(var e=G.allocType(5123,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(1/0===t[n])e[n]=31744;else if(-1/0===t[n])e[n]=64512;else{at[0]=t[n];var r=(o=st[0])>>>31<<15,i=(o<<1>>>24)-127,o=o>>13&1023;e[n]=-24>i?r:-14>i?r+(o+1024>>-14-i):15<i?r+31744:r+(i+15<<10)+o}return e}function m(t){return Array.isArray(t)||X(t)}function v(t){return"[object "+t+"]"}function y(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function b(t){return!(!Array.isArray(t)||0===t.length||!m(t[0]))}function x(t){return Object.prototype.toString.call(t)}function w(t){if(!t)return!1;var e=x(t);return 0<=vt.indexOf(e)||y(t)||b(t)||l(t)}function k(t,e){36193===t.type?(t.data=g(e),G.freeType(e)):t.data=e}function _(t,e,n,r,i,o){if(t=void 0!==bt[t]?bt[t]:ut[t]*yt[e],o&&(t*=6),i){for(r=0;1<=n;)r+=t*n*n,n/=2;return r}return t*n*r}function A(t,e,n,r,i,o,a){function s(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function c(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function u(t,e){if("object"==typeof e&&e){"premultiplyAlpha"in e&&(t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(t.flipY=e.flipY),"alignment"in e&&(t.unpackAlignment=e.alignment),"colorSpace"in e&&(t.colorSpace=Z[e.colorSpace]),"type"in e&&(t.type=H[e.type]);var n=t.width,r=t.height,i=t.channels,o=!1;"shape"in e?(n=e.shape[0],r=e.shape[1],3===e.shape.length&&(i=e.shape[2],o=!0)):("radius"in e&&(n=r=e.radius),"width"in e&&(n=e.width),"height"in e&&(r=e.height),"channels"in e&&(i=e.channels,o=!0)),t.width=0|n,t.height=0|r,t.channels=0|i,n=!1,"format"in e&&(n=e.format,r=t.internalformat=V[n],t.format=ot[r],n in H&&!("type"in e)&&(t.type=H[n]),n in W&&(t.compressed=!0),n=!0),!o&&n?t.channels=ut[t.format]:o&&!n&&t.channels!==ct[t.format]&&(t.format=t.internalformat=ct[t.channels])}}function d(e){t.pixelStorei(37440,e.flipY),t.pixelStorei(37441,e.premultiplyAlpha),t.pixelStorei(37443,e.colorSpace),t.pixelStorei(3317,e.unpackAlignment)}function f(){s.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function h(t,e){var n=null;if(w(e)?n=e:e&&(u(t,e),"x"in e&&(t.xOffset=0|e.x),"y"in e&&(t.yOffset=0|e.y),w(e.data)&&(n=e.data)),e.copy){var r=i.viewportWidth,o=i.viewportHeight;t.width=t.width||r-t.xOffset,t.height=t.height||o-t.yOffset,t.needsCopy=!0}else if(n){if(X(n))t.channels=t.channels||4,t.data=n,"type"in e||5121!==t.type||(t.type=0|Q[Object.prototype.toString.call(n)]);else if(y(n)){switch(t.channels=t.channels||4,o=(r=n).length,t.type){case 5121:case 5123:case 5125:case 5126:(o=G.allocType(t.type,o)).set(r),t.data=o;break;case 36193:t.data=g(r)}t.alignment=1,t.needsFree=!0}else if(l(n)){r=n.data,Array.isArray(r)||5121!==t.type||(t.type=0|Q[Object.prototype.toString.call(r)]),o=n.shape;var a,s,c,d,f=n.stride;3===o.length?(c=o[2],d=f[2]):d=c=1,a=o[0],s=o[1],o=f[0],f=f[1],t.alignment=1,t.width=a,t.height=s,t.channels=c,t.format=t.internalformat=ct[c],t.needsFree=!0,a=d,n=n.offset,c=t.width,d=t.height,s=t.channels;for(var h=G.allocType(36193===t.type?5126:t.type,c*d*s),p=0,v=0;v<d;++v)for(var _=0;_<c;++_)for(var A=0;A<s;++A)h[p++]=r[o*_+f*v+a*A+n];k(t,h)}else if(x(n)===dt||x(n)===ft||x(n)===ht)x(n)===dt||x(n)===ft?t.element=n:t.element=n.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(x(n)===pt)t.element=n,t.width=n.width,t.height=n.height,t.channels=4;else if(x(n)===gt)t.element=n,t.width=n.naturalWidth,t.height=n.naturalHeight,t.channels=4;else if(x(n)===mt)t.element=n,t.width=n.videoWidth,t.height=n.videoHeight,t.channels=4;else if(b(n)){for(r=t.width||n[0].length,o=t.height||n.length,f=t.channels,f=m(n[0][0])?f||n[0][0].length:f||1,a=K.shape(n),c=1,d=0;d<a.length;++d)c*=a[d];c=G.allocType(36193===t.type?5126:t.type,c),K.flatten(n,a,"",c),k(t,c),t.alignment=1,t.width=r,t.height=o,t.channels=f,t.format=t.internalformat=ct[f],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4}function p(e,n,i,o,a){var s=e.element,l=e.data,c=e.internalformat,u=e.format,f=e.type,h=e.width,p=e.height;d(e),s?t.texSubImage2D(n,a,i,o,u,f,s):e.compressed?t.compressedTexSubImage2D(n,a,i,o,c,h,p,l):e.needsCopy?(r(),t.copyTexSubImage2D(n,a,i,o,e.xOffset,e.yOffset,h,p)):t.texSubImage2D(n,a,i,o,h,p,u,f,l)}function v(){return at.pop()||new f}function A(t){t.needsFree&&G.freeType(t.data),f.call(t),at.push(t)}function T(){s.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function M(t,e,n){var r=t.images[0]=v();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function E(t,e){var n=null;if(w(e))c(n=t.images[0]=v(),t),h(n,e),t.mipmask=1;else if(u(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,i=0;i<r.length;++i)c(n=t.images[i]=v(),t),n.width>>=i,n.height>>=i,h(n,r[i]),t.mipmask|=1<<i;else c(n=t.images[0]=v(),t),h(n,e),t.mipmask=1;c(t,t.images[0])}function C(e,n){for(var i=e.images,o=0;o<i.length&&i[o];++o){var a=i[o],s=n,l=o,c=a.element,u=a.data,f=a.internalformat,h=a.format,p=a.type,g=a.width,m=a.height;d(a),c?t.texImage2D(s,l,h,h,p,c):a.compressed?t.compressedTexImage2D(s,l,f,g,m,0,u):a.needsCopy?(r(),t.copyTexImage2D(s,l,h,a.xOffset,a.yOffset,g,m,0)):t.texImage2D(s,l,h,g,m,0,h,p,u||null)}}function S(){var t=st.pop()||new T;s.call(t);for(var e=t.mipmask=0;16>e;++e)t.images[e]=null;return t}function O(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&A(e[n]),e[n]=null;st.push(t)}function L(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function P(t,e){"min"in e&&(t.minFilter=$[e.min],0<=lt.indexOf(t.minFilter)&&!("faces"in e)&&(t.genMipmaps=!0)),"mag"in e&&(t.magFilter=j[e.mag]);var n=t.wrapS,r=t.wrapT;if("wrap"in e){var i=e.wrap;"string"==typeof i?n=r=F[i]:Array.isArray(i)&&(n=F[i[0]],r=F[i[1]])}else"wrapS"in e&&(n=F[e.wrapS]),"wrapT"in e&&(r=F[e.wrapT]);if(t.wrapS=n,t.wrapT=r,"anisotropic"in e&&(t.anisotropic=e.anisotropic),"mipmap"in e){switch(n=!1,typeof e.mipmap){case"string":t.mipmapHint=B[e.mipmap],n=t.genMipmaps=!0;break;case"boolean":n=t.genMipmaps=e.mipmap;break;case"object":t.genMipmaps=!1,n=!0}!n||"min"in e||(t.minFilter=9984)}}function D(n,r){t.texParameteri(r,10241,n.minFilter),t.texParameteri(r,10240,n.magFilter),t.texParameteri(r,10242,n.wrapS),t.texParameteri(r,10243,n.wrapT),e.ext_texture_filter_anisotropic&&t.texParameteri(r,34046,n.anisotropic),n.genMipmaps&&(t.hint(33170,n.mipmapHint),t.generateMipmap(r))}function R(e){s.call(this),this.mipmask=0,this.internalformat=6408,this.id=vt++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new L,a.profile&&(this.stats={size:0})}function I(e){t.activeTexture(33984),t.bindTexture(e.target,e.texture)}function z(){var e=xt[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(3553,null)}function N(e){var n=e.texture,r=e.unit,i=e.target;0<=r&&(t.activeTexture(33984+r),t.bindTexture(i,null),xt[r]=null),t.deleteTexture(n),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete yt[e.id],o.textureCount--}var B={"don't care":4352,"dont care":4352,nice:4354,fast:4353},F={repeat:10497,clamp:33071,mirror:33648},j={nearest:9728,linear:9729},$=U({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},j),Z={none:0,browser:37444},H={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},V={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},W={};e.ext_srgb&&(V.srgb=35904,V.srgba=35906),e.oes_texture_float&&(H.float32=H.float=5126),e.oes_texture_half_float&&(H.float16=H["half float"]=36193),e.webgl_depth_texture&&(U(V,{depth:6402,"depth stencil":34041}),U(H,{uint16:5123,uint32:5125,"depth stencil":34042})),e.webgl_compressed_texture_s3tc&&U(W,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),e.webgl_compressed_texture_atc&&U(W,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),e.webgl_compressed_texture_pvrtc&&U(W,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),e.webgl_compressed_texture_etc1&&(W["rgb etc1"]=36196);var Y=Array.prototype.slice.call(t.getParameter(34467));Object.keys(W).forEach((function(t){var e=W[t];0<=Y.indexOf(e)&&(V[t]=e)}));var q=Object.keys(V);n.textureFormats=q;var tt=[];Object.keys(V).forEach((function(t){tt[V[t]]=t}));var et=[];Object.keys(H).forEach((function(t){et[H[t]]=t}));var nt=[];Object.keys(j).forEach((function(t){nt[j[t]]=t}));var rt=[];Object.keys($).forEach((function(t){rt[$[t]]=t}));var it=[];Object.keys(F).forEach((function(t){it[F[t]]=t}));var ot=q.reduce((function(t,n){var r=V[n];return 6409===r||6406===r||6409===r||6410===r||6402===r||34041===r||e.ext_srgb&&(35904===r||35906===r)?t[r]=r:32855===r||0<=n.indexOf("rgba")?t[r]=6408:t[r]=6407,t}),{}),at=[],st=[],vt=0,yt={},bt=n.maxTextureUnits,xt=Array(bt).map((function(){return null}));return U(R.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(0>e){for(var n=0;n<bt;++n){var r=xt[n];if(r){if(0<r.bindCount)continue;r.unit=-1}xt[n]=this,e=n;break}a.profile&&o.maxTextureUnits<e+1&&(o.maxTextureUnits=e+1),this.unit=e,t.activeTexture(33984+e),t.bindTexture(this.target,this.texture)}return e},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&N(this)}}),a.profile&&(o.getTotalTextureSize=function(){var t=0;return Object.keys(yt).forEach((function(e){t+=yt[e].stats.size})),t}),{create2D:function(e,n){function r(t,e){var n=i.texInfo;L.call(n);var o=S();return"number"==typeof t?M(o,0|t,"number"==typeof e?0|e:0|t):t?(P(n,t),E(o,t)):M(o,1,1),n.genMipmaps&&(o.mipmask=(o.width<<1)-1),i.mipmask=o.mipmask,c(i,o),i.internalformat=o.internalformat,r.width=o.width,r.height=o.height,I(i),C(o,3553),D(n,3553),z(),O(o),a.profile&&(i.stats.size=_(i.internalformat,i.type,o.width,o.height,n.genMipmaps,!1)),r.format=tt[i.internalformat],r.type=et[i.type],r.mag=nt[n.magFilter],r.min=rt[n.minFilter],r.wrapS=it[n.wrapS],r.wrapT=it[n.wrapT],r}var i=new R(3553);return yt[i.id]=i,o.textureCount++,r(e,n),r.subimage=function(t,e,n,o){e|=0,n|=0,o|=0;var a=v();return c(a,i),a.width=0,a.height=0,h(a,t),a.width=a.width||(i.width>>o)-e,a.height=a.height||(i.height>>o)-n,I(i),p(a,3553,e,n,o),z(),A(a),r},r.resize=function(e,n){var o=0|e,s=0|n||o;if(o===i.width&&s===i.height)return r;r.width=i.width=o,r.height=i.height=s,I(i);for(var l=0;i.mipmask>>l;++l){var c=o>>l,u=s>>l;if(!c||!u)break;t.texImage2D(3553,l,i.format,c,u,0,i.format,i.type,null)}return z(),a.profile&&(i.stats.size=_(i.internalformat,i.type,o,s,!1,!1)),r},r._reglType="texture2d",r._texture=i,a.profile&&(r.stats=i.stats),r.destroy=function(){i.decRef()},r},createCube:function(e,n,r,i,s,l){function d(t,e,n,r,i,o){var s,l=f.texInfo;for(L.call(l),s=0;6>s;++s)g[s]=S();if("number"!=typeof t&&t){if("object"==typeof t)if(e)E(g[0],t),E(g[1],e),E(g[2],n),E(g[3],r),E(g[4],i),E(g[5],o);else if(P(l,t),u(f,t),"faces"in t)for(t=t.faces,s=0;6>s;++s)c(g[s],f),E(g[s],t[s]);else for(s=0;6>s;++s)E(g[s],t)}else for(t=0|t||1,s=0;6>s;++s)M(g[s],t,t);for(c(f,g[0]),f.mipmask=l.genMipmaps?(g[0].width<<1)-1:g[0].mipmask,f.internalformat=g[0].internalformat,d.width=g[0].width,d.height=g[0].height,I(f),s=0;6>s;++s)C(g[s],34069+s);for(D(l,34067),z(),a.profile&&(f.stats.size=_(f.internalformat,f.type,d.width,d.height,l.genMipmaps,!0)),d.format=tt[f.internalformat],d.type=et[f.type],d.mag=nt[l.magFilter],d.min=rt[l.minFilter],d.wrapS=it[l.wrapS],d.wrapT=it[l.wrapT],s=0;6>s;++s)O(g[s]);return d}var f=new R(34067);yt[f.id]=f,o.cubeCount++;var g=Array(6);return d(e,n,r,i,s,l),d.subimage=function(t,e,n,r,i){n|=0,r|=0,i|=0;var o=v();return c(o,f),o.width=0,o.height=0,h(o,e),o.width=o.width||(f.width>>i)-n,o.height=o.height||(f.height>>i)-r,I(f),p(o,34069+t,n,r,i),z(),A(o),d},d.resize=function(e){if((e|=0)!==f.width){d.width=f.width=e,d.height=f.height=e,I(f);for(var n=0;6>n;++n)for(var r=0;f.mipmask>>r;++r)t.texImage2D(34069+n,r,f.format,e>>r,e>>r,0,f.format,f.type,null);return z(),a.profile&&(f.stats.size=_(f.internalformat,f.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=f,a.profile&&(d.stats=f.stats),d.destroy=function(){f.decRef()},d},clear:function(){for(var e=0;e<bt;++e)t.activeTexture(33984+e),t.bindTexture(3553,null),xt[e]=null;J(yt).forEach(N),o.cubeCount=0,o.textureCount=0},getTexture:function(t){return null},restore:function(){for(var e=0;e<bt;++e){var n=xt[e];n&&(n.bindCount=0,n.unit=-1,xt[e]=null)}J(yt).forEach((function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var n=0;32>n;++n)if(0!=(e.mipmask&1<<n))if(3553===e.target)t.texImage2D(3553,n,e.internalformat,e.width>>n,e.height>>n,0,e.internalformat,e.type,null);else for(var r=0;6>r;++r)t.texImage2D(34069+r,n,e.internalformat,e.width>>n,e.height>>n,0,e.internalformat,e.type,null);D(e.texInfo,e.target)}))},refresh:function(){for(var e=0;e<bt;++e){var n=xt[e];n&&(n.bindCount=0,n.unit=-1,xt[e]=null),t.activeTexture(33984+e),t.bindTexture(3553,null),t.bindTexture(34067,null)}}}}function T(t,e,n,r,i,o){function a(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var r=t=0;e?(t=e.width,r=e.height):n&&(t=n.width,r=n.height),this.width=t,this.height=r}function s(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function l(t,e,n){t&&(t.texture?t.texture._texture.refCount+=1:t.renderbuffer._renderbuffer.refCount+=1)}function c(e,n){n&&(n.texture?t.framebufferTexture2D(36160,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(36160,e,36161,n.renderbuffer._renderbuffer.renderbuffer))}function u(t){var e=3553,n=null,r=null,i=t;return"object"==typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),"texture2d"===(t=i._reglType)||"textureCube"===t?n=i:"renderbuffer"===t&&(r=i,e=36161),new a(e,n,r)}function d(t,e,n,o,s){return n?((t=r.create2D({width:t,height:e,format:o,type:s}))._texture.refCount=0,new a(3553,t,null)):((t=i.create({width:t,height:e,format:o}))._renderbuffer.refCount=0,new a(36161,null,t))}function f(t){return t&&(t.texture||t.renderbuffer)}function h(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}function p(){this.id=_++,A[this.id]=this,this.framebuffer=t.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function g(t){t.colorAttachments.forEach(s),s(t.depthAttachment),s(t.stencilAttachment),s(t.depthStencilAttachment)}function m(e){t.deleteFramebuffer(e.framebuffer),e.framebuffer=null,o.framebufferCount--,delete A[e.id]}function v(e){var r;t.bindFramebuffer(36160,e.framebuffer);var i=e.colorAttachments;for(r=0;r<i.length;++r)c(36064+r,i[r]);for(r=i.length;r<n.maxColorAttachments;++r)t.framebufferTexture2D(36160,36064+r,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),c(36096,e.depthAttachment),c(36128,e.stencilAttachment),c(33306,e.depthStencilAttachment),t.checkFramebufferStatus(36160),t.isContextLost(),t.bindFramebuffer(36160,b.next?b.next.framebuffer:null),b.cur=b.next,t.getError()}function y(t,e){function n(t,e){var i,o=0,a=0,s=!0,c=!0;i=null;var h=!0,p="rgba",m="uint8",y=1,b=null,k=null,_=null,A=!1;"number"==typeof t?(o=0|t,a=0|e||o):t?("shape"in t?(o=(a=t.shape)[0],a=a[1]):("radius"in t&&(o=a=t.radius),"width"in t&&(o=t.width),"height"in t&&(a=t.height)),("color"in t||"colors"in t)&&(i=t.color||t.colors,Array.isArray(i)),i||("colorCount"in t&&(y=0|t.colorCount),"colorTexture"in t&&(h=!!t.colorTexture,p="rgba4"),"colorType"in t&&(m=t.colorType,!h)&&("half float"===m||"float16"===m?p="rgba16f":"float"!==m&&"float32"!==m||(p="rgba32f")),"colorFormat"in t&&(p=t.colorFormat,0<=x.indexOf(p)?h=!0:0<=w.indexOf(p)&&(h=!1))),("depthTexture"in t||"depthStencilTexture"in t)&&(A=!(!t.depthTexture&&!t.depthStencilTexture)),"depth"in t&&("boolean"==typeof t.depth?s=t.depth:(b=t.depth,c=!1)),"stencil"in t&&("boolean"==typeof t.stencil?c=t.stencil:(k=t.stencil,s=!1)),"depthStencil"in t&&("boolean"==typeof t.depthStencil?s=c=t.depthStencil:(_=t.depthStencil,c=s=!1))):o=a=1;var T=null,M=null,E=null,C=null;if(Array.isArray(i))T=i.map(u);else if(i)T=[u(i)];else for(T=Array(y),i=0;i<y;++i)T[i]=d(o,a,h,p,m);for(o=o||T[0].width,a=a||T[0].height,b?M=u(b):s&&!c&&(M=d(o,a,A,"depth","uint32")),k?E=u(k):c&&!s&&(E=d(o,a,!1,"stencil","uint8")),_?C=u(_):!b&&!k&&c&&s&&(C=d(o,a,A,"depth stencil","depth stencil")),s=null,i=0;i<T.length;++i)l(T[i]),T[i]&&T[i].texture&&(c=kt[T[i].texture._texture.format]*_t[T[i].texture._texture.type],null===s&&(s=c));return l(M),l(E),l(C),g(r),r.width=o,r.height=a,r.colorAttachments=T,r.depthAttachment=M,r.stencilAttachment=E,r.depthStencilAttachment=C,n.color=T.map(f),n.depth=f(M),n.stencil=f(E),n.depthStencil=f(C),n.width=r.width,n.height=r.height,v(r),n}var r=new p;return o.framebufferCount++,n(t,e),U(n,{resize:function(t,e){var i=Math.max(0|t,1),o=Math.max(0|e||i,1);if(i===r.width&&o===r.height)return n;for(var a=r.colorAttachments,s=0;s<a.length;++s)h(a[s],i,o);return h(r.depthAttachment,i,o),h(r.stencilAttachment,i,o),h(r.depthStencilAttachment,i,o),r.width=n.width=i,r.height=n.height=o,v(r),n},_reglType:"framebuffer",_framebuffer:r,destroy:function(){m(r),g(r)},use:function(t){b.setFBO({framebuffer:n},t)}})}var b={cur:null,next:null,dirty:!1,setFBO:null},x=["rgba"],w=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&w.push("srgba"),e.ext_color_buffer_half_float&&w.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&w.push("rgba32f");var k=["uint8"];e.oes_texture_half_float&&k.push("half float","float16"),e.oes_texture_float&&k.push("float","float32");var _=0,A={};return U(b,{getFramebuffer:function(t){return"function"==typeof t&&"framebuffer"===t._reglType&&(t=t._framebuffer)instanceof p?t:null},create:y,createCube:function(t){function e(t){var i,o={color:null},a=0,s=null;i="rgba";var l="uint8",c=1;if("number"==typeof t?a=0|t:t?("shape"in t?a=t.shape[0]:("radius"in t&&(a=0|t.radius),"width"in t?a=0|t.width:"height"in t&&(a=0|t.height)),("color"in t||"colors"in t)&&(s=t.color||t.colors,Array.isArray(s)),s||("colorCount"in t&&(c=0|t.colorCount),"colorType"in t&&(l=t.colorType),"colorFormat"in t&&(i=t.colorFormat)),"depth"in t&&(o.depth=t.depth),"stencil"in t&&(o.stencil=t.stencil),"depthStencil"in t&&(o.depthStencil=t.depthStencil)):a=1,s)if(Array.isArray(s))for(t=[],i=0;i<s.length;++i)t[i]=s[i];else t=[s];else for(t=Array(c),s={radius:a,format:i,type:l},i=0;i<c;++i)t[i]=r.createCube(s);for(o.color=Array(t.length),i=0;i<t.length;++i)c=t[i],a=a||c.width,o.color[i]={target:34069,data:t[i]};for(i=0;6>i;++i){for(c=0;c<t.length;++c)o.color[c].target=34069+i;0<i&&(o.depth=n[0].depth,o.stencil=n[0].stencil,o.depthStencil=n[0].depthStencil),n[i]?n[i](o):n[i]=y(o)}return U(e,{width:a,height:a,color:t})}var n=Array(6);return e(t),U(e,{faces:n,resize:function(t){var r=0|t;if(r===e.width)return e;var i=e.color;for(t=0;t<i.length;++t)i[t].resize(r);for(t=0;6>t;++t)n[t].resize(r);return e.width=e.height=r,e},_reglType:"framebufferCube",destroy:function(){n.forEach((function(t){t.destroy()}))}})},clear:function(){J(A).forEach(m)},restore:function(){b.cur=null,b.next=null,b.dirty=!0,J(A).forEach((function(e){e.framebuffer=t.createFramebuffer(),v(e)}))}})}function M(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function E(t,e,n,r,i,o,a){function s(){this.id=++d,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var t=e.oes_vertex_array_object;this.vao=t?t.createVertexArrayOES():null,f[this.id]=this,this.buffers=[]}var c=n.maxAttributes,u=Array(c);for(n=0;n<c;++n)u[n]=new M;var d=0,f={},h={Record:M,scope:{},state:u,currentVAO:null,targetVAO:null,restore:e.oes_vertex_array_object?function(){e.oes_vertex_array_object&&J(f).forEach((function(t){t.refresh()}))}:function(){},createVAO:function(t){function e(t){var r;Array.isArray(t)?(r=t,n.elements&&n.ownsElements&&n.elements.destroy(),n.elements=null,n.ownsElements=!1,n.offset=0,n.count=0,n.instances=-1,n.primitive=4):(t.elements?(r=t.elements,n.ownsElements?("function"==typeof r&&"elements"===r._reglType?n.elements.destroy():n.elements(r),n.ownsElements=!1):o.getElements(t.elements)?(n.elements=t.elements,n.ownsElements=!1):(n.elements=o.create(t.elements),n.ownsElements=!0)):(n.elements=null,n.ownsElements=!1),r=t.attributes,n.offset=0,n.count=-1,n.instances=-1,n.primitive=4,n.elements&&(n.count=n.elements._elements.vertCount,n.primitive=n.elements._elements.primType),"offset"in t&&(n.offset=0|t.offset),"count"in t&&(n.count=0|t.count),"instances"in t&&(n.instances=0|t.instances),"primitive"in t&&(n.primitive=ot[t.primitive])),t={};var a=n.attributes;a.length=r.length;for(var s=0;s<r.length;++s){var c,u=r[s],d=a[s]=new M,f=u.data||u;Array.isArray(f)||X(f)||l(f)?(n.buffers[s]&&(c=n.buffers[s],X(f)&&c._buffer.byteLength>=f.byteLength?c.subdata(f):(c.destroy(),n.buffers[s]=null)),n.buffers[s]||(c=n.buffers[s]=i.create(u,34962,!1,!0)),d.buffer=i.getBuffer(c),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,t[s]=1):i.getBuffer(u)?(d.buffer=i.getBuffer(u),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):i.getBuffer(u.buffer)?(d.buffer=i.getBuffer(u.buffer),d.size=0|(+u.size||d.buffer.dimension),d.normalized=!!u.normalized||!1,d.type="type"in u?tt[u.type]:d.buffer.dtype,d.offset=0|(u.offset||0),d.stride=0|(u.stride||0),d.divisor=0|(u.divisor||0),d.state=1):"x"in u&&(d.x=+u.x||0,d.y=+u.y||0,d.z=+u.z||0,d.w=+u.w||0,d.state=2)}for(c=0;c<n.buffers.length;++c)!t[c]&&n.buffers[c]&&(n.buffers[c].destroy(),n.buffers[c]=null);return n.refresh(),e}var n=new s;return r.vaoCount+=1,e.destroy=function(){for(var t=0;t<n.buffers.length;++t)n.buffers[t]&&n.buffers[t].destroy();n.buffers.length=0,n.ownsElements&&(n.elements.destroy(),n.elements=null,n.ownsElements=!1),n.destroy()},e._vao=n,e._reglType="vao",e(t)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(e){for(var n=0;n<u.length;++n){var r=u[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}},setVAO:e.oes_vertex_array_object?function(t){if(t!==h.currentVAO){var n=e.oes_vertex_array_object;t?n.bindVertexArrayOES(t.vao):n.bindVertexArrayOES(null),h.currentVAO=t}}:function(n){if(n!==h.currentVAO){if(n)n.bindAttrs();else{for(var r=e.angle_instanced_arrays,i=0;i<u.length;++i){var o=u[i];o.buffer?(t.enableVertexAttribArray(i),o.buffer.bind(),t.vertexAttribPointer(i,o.size,o.type,o.normalized,o.stride,o.offfset),r&&o.divisor&&r.vertexAttribDivisorANGLE(i,o.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,o.x,o.y,o.z,o.w))}a.elements?t.bindBuffer(34963,a.elements.buffer.buffer):t.bindBuffer(34963,null)}h.currentVAO=n}},clear:e.oes_vertex_array_object?function(){J(f).forEach((function(t){t.destroy()}))}:function(){}};return s.prototype.bindAttrs=function(){for(var n=e.angle_instanced_arrays,r=this.attributes,i=0;i<r.length;++i){var a=r[i];a.buffer?(t.enableVertexAttribArray(i),t.bindBuffer(34962,a.buffer.buffer),t.vertexAttribPointer(i,a.size,a.type,a.normalized,a.stride,a.offset),n&&a.divisor&&n.vertexAttribDivisorANGLE(i,a.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,a.x,a.y,a.z,a.w))}for(n=r.length;n<c;++n)t.disableVertexAttribArray(n);(n=o.getElements(this.elements))?t.bindBuffer(34963,n.buffer.buffer):t.bindBuffer(34963,null)},s.prototype.refresh=function(){var t=e.oes_vertex_array_object;t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=null,t.bindVertexArrayOES(null))},s.prototype.destroy=function(){if(this.vao){var t=e.oes_vertex_array_object;this===h.currentVAO&&(h.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),f[this.id]&&(delete f[this.id],--r.vaoCount)},h}function C(t,e,n,r){function i(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function o(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function a(n,r,i){if(!(a=(i=35632===n?c:u)[r])){var o=e.str(r),a=t.createShader(n);t.shaderSource(a,o),t.compileShader(a),i[r]=a}return a}function s(t,e){this.id=h++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function l(n,s,l){var c;c=a(35632,n.fragId);var u=a(35633,n.vertId);if(s=n.program=t.createProgram(),t.attachShader(s,c),t.attachShader(s,u),l)for(c=0;c<l.length;++c)u=l[c],t.bindAttribLocation(s,u[0],u[1]);t.linkProgram(s),u=t.getProgramParameter(s,35718),r.profile&&(n.stats.uniformsCount=u);var d=n.uniforms;for(c=0;c<u;++c)if(l=t.getActiveUniform(s,c))if(1<l.size)for(var f=0;f<l.size;++f){var h=l.name.replace("[0]","["+f+"]");o(d,new i(h,e.id(h),t.getUniformLocation(s,h),l))}else o(d,new i(l.name,e.id(l.name),t.getUniformLocation(s,l.name),l));for(u=t.getProgramParameter(s,35721),r.profile&&(n.stats.attributesCount=u),n=n.attributes,c=0;c<u;++c)(l=t.getActiveAttrib(s,c))&&o(n,new i(l.name,e.id(l.name),t.getAttribLocation(s,l.name),l))}var c={},u={},d={},f=[],h=0;return r.profile&&(n.getMaxUniformsCount=function(){var t=0;return f.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},n.getMaxAttributesCount=function(){var t=0;return f.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);J(c).forEach(e),c={},J(u).forEach(e),u={},f.forEach((function(e){t.deleteProgram(e.program)})),f.length=0,d={},n.shaderCount=0},program:function(e,r,i,o){var a=d[r];a||(a=d[r]={});var h=a[e];if(h&&(h.refCount++,!o))return h;var p=new s(r,e);return n.shaderCount++,l(p,i,o),h||(a[e]=p),f.push(p),U(p,{destroy:function(){if(p.refCount--,0>=p.refCount){t.deleteProgram(p.program);var e=f.indexOf(p);f.splice(e,1),n.shaderCount--}0>=a[p.vertId].refCount&&(t.deleteShader(u[p.vertId]),delete u[p.vertId],delete d[p.fragId][p.vertId]),Object.keys(d[p.fragId]).length||(t.deleteShader(c[p.fragId]),delete c[p.fragId],delete d[p.fragId])}})},restore:function(){c={},u={};for(var t=0;t<f.length;++t)l(f[t],null,f[t].attributes.map((function(t){return[t.location,t.name]})))},shader:a,frag:-1,vert:-1}}function S(t,e,n,r,i,o,a){function s(i){var o;o=null===e.next?5121:e.next.colorAttachments[0].texture._texture.type;var a=0,s=0,l=r.framebufferWidth,c=r.framebufferHeight,u=null;return X(i)?u=i:i&&(a=0|i.x,s=0|i.y,l=0|(i.width||r.framebufferWidth-a),c=0|(i.height||r.framebufferHeight-s),u=i.data||null),n(),i=l*c*4,u||(5121===o?u=new Uint8Array(i):5126===o&&(u=u||new Float32Array(i))),t.pixelStorei(3333,4),t.readPixels(a,s,l,c,6408,o,u),u}return function(t){return t&&"framebuffer"in t?function(t){var n;return e.setFBO({framebuffer:t.framebuffer},(function(){n=s(t)})),n}(t):s(t)}}function O(t,e){return t>>>e|t<<32-e}function L(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function P(t){return Array.prototype.slice.call(t)}function D(t){return P(t).join("")}function R(t){function e(){var t=[],e=[];return U((function(){t.push.apply(t,P(arguments))}),{def:function(){var n="v"+i++;return e.push(n),0<arguments.length&&(t.push(n,"="),t.push.apply(t,P(arguments)),t.push(";")),n},toString:function(){return D([0<e.length?"var "+e.join(",")+";":"",D(t)])}})}function n(){function t(t,e){r(t,e,"=",n.def(t,e),";")}var n=e(),r=e(),i=n.toString,o=r.toString;return U((function(){n.apply(n,P(arguments))}),{def:n.def,entry:n,exit:r,save:t,set:function(e,r,i){t(e,r),n(e,r,"=",i,";")},toString:function(){return i()+o()}})}var r=t&&t.cache,i=0,o=[],a=[],s=[],l=e(),c={};return{global:l,link:function(t,e){var n=e&&e.stable;if(!n)for(var r=0;r<a.length;++r)if(a[r]===t&&!s[r])return o[r];return r="g"+i++,o.push(r),a.push(t),s.push(n),r},block:e,proc:function(t,e){function r(){var t="a"+i.length;return i.push(t),t}var i=[];e=e||0;for(var o=0;o<e;++o)r();var a=(o=n()).toString;return c[t]=U(o,{arg:r,toString:function(){return D(["function(",i.join(),"){",a(),"}"])}})},scope:n,cond:function(){var t=D(arguments),e=n(),r=n(),i=e.toString,o=r.toString;return U(e,{then:function(){return e.apply(e,P(arguments)),this},else:function(){return r.apply(r,P(arguments)),this},toString:function(){var e=o();return e&&(e="else{"+e+"}"),D(["if(",t,"){",i(),"}",e])}})},compile:function(){var t=['"use strict";',l,"return {"];Object.keys(c).forEach((function(e){t.push('"',e,'":',c[e].toString(),",")})),t.push("}");var e,n=D(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return r&&(e=function(t){for(var e,n="",r=0;r<t.length;r++)e=t.charCodeAt(r),n+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return n}(function(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;var r,i,o,a,s,l,c,u,d,f,h,p=8*t.length;for(t=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],n=Array(64),e[p>>5]|=128<<24-p%32,e[15+(p+64>>9<<4)]=p,u=0;u<e.length;u+=16){for(p=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],d=0;64>d;d++){var g;16>d?n[d]=e[d+u]:(f=d,h=L(h=O(h=n[d-2],17)^O(h,19)^h>>>10,n[d-7]),g=O(g=n[d-15],7)^O(g,18)^g>>>3,n[f]=L(L(h,g),n[d-16])),f=L(L(L(L(c,f=O(f=a,6)^O(f,11)^O(f,25)),a&s^~a&l),At[d]),n[d]),h=L(c=O(c=p,2)^O(c,13)^O(c,22),p&r^p&i^r&i),c=l,l=s,s=a,a=L(o,f),o=i,i=r,r=p,p=L(f,h)}t[0]=L(p,t[0]),t[1]=L(r,t[1]),t[2]=L(i,t[2]),t[3]=L(o,t[3]),t[4]=L(a,t[4]),t[5]=L(s,t[5]),t[6]=L(l,t[6]),t[7]=L(c,t[7])}for(e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}(function(t){for(var e,n,r="",i=-1;++i<t.length;)e=t.charCodeAt(i),n=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&56319>=e&&56320<=n&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),i++),127>=e?r+=String.fromCharCode(e):2047>=e?r+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?r+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(r+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return r}(n))),r[e])?r[e].apply(null,a):(n=Function.apply(null,o.concat(n)),r&&(r[e]=n),n.apply(null,a))}}}function I(t){return Array.isArray(t)||X(t)||l(t)}function z(t){return t.sort((function(t,e){return"viewport"===t?-1:"viewport"===e?1:t<e?-1:1}))}function N(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function B(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function F(t){return new N(!1,!1,!1,t)}function j(t,e){var n=t.type;if(0===n)return new N(!0,1<=(n=t.data.length),2<=n,e);if(4===n)return new N((n=t.data).thisDep,n.contextDep,n.propDep,e);if(5===n)return new N(!1,!1,!1,e);if(6===n){for(var r=n=!1,i=!1,o=0;o<t.data.length;++o){var a=t.data[o];1===a.type?i=!0:2===a.type?r=!0:3===a.type?n=!0:0===a.type?(n=!0,1<=(a=a.data)&&(r=!0),2<=a&&(i=!0)):4===a.type&&(n=n||a.data.thisDep,r=r||a.data.contextDep,i=i||a.data.propDep)}return new N(n,r,i,e)}return new N(3===n,2===n,1===n,e)}function $(t,e,n,r,i,a,s,l,c,u,d,f,h,p,g,v){function y(t){return t.replace(".","_")}function b(t,e,n){var r=y(t);at.push(t),it[r]=rt[r]=!!n,st[r]=e}function x(t,e,n){var r=y(t);at.push(t),Array.isArray(n)?(rt[r]=n.slice(),it[r]=n.slice()):rt[r]=it[r]=n,lt[r]=e}function w(){var t=R({cache:g}),n=t.link,r=t.global;t.id=dt++,t.batchId="0";var i=n(ct),o=t.shared={props:"a0"};Object.keys(ct).forEach((function(t){o[t]=r.def(i,".",t)}));var a=t.next={},s=t.current={};Object.keys(lt).forEach((function(t){Array.isArray(rt[t])&&(a[t]=r.def(o.next,".",t),s[t]=r.def(o.current,".",t))}));var l=t.constants={};Object.keys(ut).forEach((function(t){l[t]=r.def(JSON.stringify(ut[t]))})),t.invoke=function(e,r){switch(r.type){case 0:var i=["this",o.context,o.props,t.batchId];return e.def(n(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case 1:return e.def(o.props,r.data);case 2:return e.def(o.context,r.data);case 3:return e.def("this",r.data);case 4:return r.data.append(t,e),r.data.ref;case 5:return r.data.toString();case 6:return r.data.map((function(n){return t.invoke(e,n)}))}},t.attribCache={};var c={};return t.scopeAttrib=function(t){if((t=e.id(t))in c)return c[t];var r=u.scope[t];return r||(r=u.scope[t]=new J),c[t]=n(r)},t}function k(t,e){var n=t.static,r=t.dynamic;if("framebuffer"in n){var i=n.framebuffer;return i?(i=l.getFramebuffer(i),F((function(t,e){var n=t.link(i),r=t.shared;return e.set(r.framebuffer,".next",n),r=r.context,e.set(r,".framebufferWidth",n+".width"),e.set(r,".framebufferHeight",n+".height"),n}))):F((function(t,e){var n=t.shared;return e.set(n.framebuffer,".next","null"),n=n.context,e.set(n,".framebufferWidth",n+".drawingBufferWidth"),e.set(n,".framebufferHeight",n+".drawingBufferHeight"),"null"}))}if("framebuffer"in r){var o=r.framebuffer;return j(o,(function(t,e){var n=t.invoke(e,o),r=t.shared,i=r.framebuffer;return n=e.def(i,".getFramebuffer(",n,")"),e.set(i,".next",n),r=r.context,e.set(r,".framebufferWidth",n+"?"+n+".width:"+r+".drawingBufferWidth"),e.set(r,".framebufferHeight",n+"?"+n+".height:"+r+".drawingBufferHeight"),n}))}return null}function _(t,n,r){function i(t){if(t in o){var n=e.id(o[t]);return(t=F((function(){return n}))).id=n,t}if(t in a){var r=a[t];return j(r,(function(t,e){var n=t.invoke(e,r);return e.def(t.shared.strings,".id(",n,")")}))}return null}var o=t.static,a=t.dynamic,s=i("frag"),l=i("vert"),c=null;return B(s)&&B(l)?(c=d.program(l.id,s.id,null,r),t=F((function(t,e){return t.link(c)}))):t=new N(s&&s.thisDep||l&&l.thisDep,s&&s.contextDep||l&&l.contextDep,s&&s.propDep||l&&l.propDep,(function(t,e){var n,r,i=t.shared.shader;return n=s?s.append(t,e):e.def(i,".","frag"),r=l?l.append(t,e):e.def(i,".","vert"),e.def(i+".program("+r+","+n+")")})),{frag:s,vert:l,progVar:t,program:c}}function A(t,e){function n(t,e){if(t in r){var n=0|r[t];return e?o.offset=n:o.instances=n,F((function(t,r){return e&&(t.OFFSET=n),n}))}if(t in i){var a=i[t];return j(a,(function(t,n){var r=t.invoke(n,a);return e&&(t.OFFSET=r),r}))}if(e){if(c)return F((function(t,e){return t.OFFSET=0}));if(s)return new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.offset:0")}))}else if(s)return new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.instances:-1")}));return null}var r=t.static,i=t.dynamic,o={},s=!1,l=function(){if("vao"in r){var t=r.vao;return null!==t&&null===u.getVAO(t)&&(t=u.createVAO(t)),s=!0,o.vao=t,F((function(e){var n=u.getVAO(t);return n?e.link(n):"null"}))}if("vao"in i){s=!0;var e=i.vao;return j(e,(function(t,n){var r=t.invoke(n,e);return n.def(t.shared.vao+".getVAO("+r+")")}))}return null}(),c=!1,d=function(){if("elements"in r){var t=r.elements;if(o.elements=t,I(t)){var e=o.elements=a.create(t,!0);t=a.getElements(e),c=!0}else t&&(t=a.getElements(t),c=!0);return(e=F((function(e,n){if(t){var r=e.link(t);return e.ELEMENTS=r}return e.ELEMENTS=null}))).value=t,e}if("elements"in i){c=!0;var n=i.elements;return j(n,(function(t,e){var r=(i=t.shared).isBufferArgs,i=i.elements,o=t.invoke(e,n),a=e.def("null");return r=e.def(r,"(",o,")"),o=t.cond(r).then(a,"=",i,".createStream(",o,");").else(a,"=",i,".getElements(",o,");"),e.entry(o),e.exit(t.cond(r).then(i,".destroyStream(",a,");")),t.ELEMENTS=a}))}return s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.elements+".getElements("+t.shared.vao+".currentVAO.elements):null")})):null}(),f=n("offset",!0),h=function(){if("primitive"in r){var t=r.primitive;return o.primitive=t,F((function(e,n){return ot[t]}))}if("primitive"in i){var e=i.primitive;return j(e,(function(t,n){var r=t.constants.primTypes,i=t.invoke(n,e);return n.def(r,"[",i,"]")}))}return c?B(d)?d.value?F((function(t,e){return e.def(t.ELEMENTS,".primType")})):F((function(){return 4})):new N(d.thisDep,d.contextDep,d.propDep,(function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",4)})):s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.primitive:4")})):null}(),p=function(){if("count"in r){var t=0|r.count;return o.count=t,F((function(){return t}))}if("count"in i){var e=i.count;return j(e,(function(t,n){return t.invoke(n,e)}))}return c?B(d)?d?f?new N(f.thisDep,f.contextDep,f.propDep,(function(t,e){return e.def(t.ELEMENTS,".vertCount-",t.OFFSET)})):F((function(t,e){return e.def(t.ELEMENTS,".vertCount")})):F((function(){return-1})):new N(d.thisDep||f.thisDep,d.contextDep||f.contextDep,d.propDep||f.propDep,(function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")})):s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao,".currentVAO?",t.shared.vao,".currentVAO.count:-1")})):null}(),g=n("instances",!1);return{elements:d,primitive:h,count:p,instances:g,offset:f,vao:l,vaoActive:s,elementsActive:c,static:o}}function T(t,n){var r=t.static,o=t.dynamic,a={};return Object.keys(r).forEach((function(t){var n=r[t],o=e.id(t),s=new J;if(I(n))s.state=1,s.buffer=i.getBuffer(i.create(n,34962,!1,!0)),s.type=0;else if(c=i.getBuffer(n))s.state=1,s.buffer=c,s.type=0;else if("constant"in n){var l=n.constant;s.buffer="null",s.state=2,"number"==typeof l?s.x=l:Tt.forEach((function(t,e){e<l.length&&(s[t]=l[e])}))}else{var c=I(n.buffer)?i.getBuffer(i.create(n.buffer,34962,!1,!0)):i.getBuffer(n.buffer),u=0|n.offset,d=0|n.stride,f=0|n.size,h=!!n.normalized,p=0;"type"in n&&(p=tt[n.type]),n=0|n.divisor,s.buffer=c,s.state=1,s.size=f,s.normalized=h,s.type=p||c.dtype,s.offset=u,s.stride=d,s.divisor=n}a[t]=F((function(t,e){var n=t.attribCache;if(o in n)return n[o];var r={isStream:!1};return Object.keys(s).forEach((function(t){r[t]=s[t]})),s.buffer&&(r.buffer=t.link(s.buffer),r.type=r.type||r.buffer+".dtype"),n[o]=r}))})),Object.keys(o).forEach((function(t){var e=o[t];a[t]=j(e,(function(t,n){function r(t){n(l[t],"=",i,".",t,"|0;")}var i=t.invoke(n,e),o=t.shared,a=t.constants,s=o.isBufferArgs,l=(o=o.buffer,{isStream:n.def(!1)}),c=new J;c.state=1,Object.keys(c).forEach((function(t){l[t]=n.def(""+c[t])}));var u=l.buffer,d=l.type;return n("if(",s,"(",i,")){",l.isStream,"=true;",u,"=",o,".createStream(",34962,",",i,");",d,"=",u,".dtype;","}else{",u,"=",o,".getBuffer(",i,");","if(",u,"){",d,"=",u,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",2,";","if(typeof "+i+'.constant === "number"){',l[Tt[0]],"=",i,".constant;",Tt.slice(1).map((function(t){return l[t]})).join("="),"=0;","}else{",Tt.map((function(t,e){return l[t]+"="+i+".constant.length>"+e+"?"+i+".constant["+e+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",u,"=",o,".createStream(",34962,",",i,".buffer);","}else{",u,"=",o,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",u,".dtype;",l.normalized,"=!!",i,".normalized;"),r("size"),r("offset"),r("stride"),r("divisor"),n("}}"),n.exit("if(",l.isStream,"){",o,".destroyStream(",u,");","}"),l}))})),a}function M(t,e,r,i,a){function s(t){var e=c[t];e&&(f[t]=e)}var l=function(t,e){if("string"==typeof(n=t.static).frag&&"string"==typeof n.vert){if(0<Object.keys(e.dynamic).length)return null;var n=e.static,r=Object.keys(n);if(0<r.length&&"number"==typeof n[r[0]]){for(var i=[],o=0;o<r.length;++o)i.push([0|n[r[o]],r[o]]);return i}}return null}(t,e),c=function(t,e,n){function r(t){if(t in i){var n=i[t];t=!0;var r,a,s=0|n.x,l=0|n.y;return"width"in n?r=0|n.width:t=!1,"height"in n?a=0|n.height:t=!1,new N(!t&&e&&e.thisDep,!t&&e&&e.contextDep,!t&&e&&e.propDep,(function(t,e){var i=t.shared.context,o=r;"width"in n||(o=e.def(i,".","framebufferWidth","-",s));var c=a;return"height"in n||(c=e.def(i,".","framebufferHeight","-",l)),[s,l,o,c]}))}if(t in o){var c=o[t];return t=j(c,(function(t,e){var n=t.invoke(e,c),r=t.shared.context,i=e.def(n,".x|0"),o=e.def(n,".y|0");return[i,o,e.def('"width" in ',n,"?",n,".width|0:","(",r,".","framebufferWidth","-",i,")"),n=e.def('"height" in ',n,"?",n,".height|0:","(",r,".","framebufferHeight","-",o,")")]})),e&&(t.thisDep=t.thisDep||e.thisDep,t.contextDep=t.contextDep||e.contextDep,t.propDep=t.propDep||e.propDep),t}return e?new N(e.thisDep,e.contextDep,e.propDep,(function(t,e){var n=t.shared.context;return[0,0,e.def(n,".","framebufferWidth"),e.def(n,".","framebufferHeight")]})):null}var i=t.static,o=t.dynamic;if(t=r("viewport")){var a=t;t=new N(t.thisDep,t.contextDep,t.propDep,(function(t,e){var n=a.append(t,e),r=t.shared.context;return e.set(r,".viewportWidth",n[2]),e.set(r,".viewportHeight",n[3]),n}))}return{viewport:t,scissor_box:r("scissor.box")}}(t,p=k(t)),d=A(t),f=function(t,e){var n=t.static,r=t.dynamic,i={};return at.forEach((function(t){function e(e,o){if(t in n){var s=e(n[t]);i[a]=F((function(){return s}))}else if(t in r){var l=r[t];i[a]=j(l,(function(t,e){return o(t,e,t.invoke(e,l))}))}}var a=y(t);switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return e((function(t){return t}),(function(t,e,n){return n}));case"depth.func":return e((function(t){return Ct[t]}),(function(t,e,n){return e.def(t.constants.compareFuncs,"[",n,"]")}));case"depth.range":return e((function(t){return t}),(function(t,e,n){return[e.def("+",n,"[0]"),e=e.def("+",n,"[1]")]}));case"blend.func":return e((function(t){return[Et["srcRGB"in t?t.srcRGB:t.src],Et["dstRGB"in t?t.dstRGB:t.dst],Et["srcAlpha"in t?t.srcAlpha:t.src],Et["dstAlpha"in t?t.dstAlpha:t.dst]]}),(function(t,e,n){function r(t,r){return e.def('"',t,r,'" in ',n,"?",n,".",t,r,":",n,".",t)}t=t.constants.blendFuncs;var i=r("src","RGB"),o=r("dst","RGB"),a=(i=e.def(t,"[",i,"]"),e.def(t,"[",r("src","Alpha"),"]"));return[i,o=e.def(t,"[",o,"]"),a,t=e.def(t,"[",r("dst","Alpha"),"]")]}));case"blend.equation":return e((function(t){return"string"==typeof t?[K[t],K[t]]:"object"==typeof t?[K[t.rgb],K[t.alpha]]:void 0}),(function(t,e,n){var r=t.constants.blendEquations,i=e.def(),o=e.def();return(t=t.cond("typeof ",n,'==="string"')).then(i,"=",o,"=",r,"[",n,"];"),t.else(i,"=",r,"[",n,".rgb];",o,"=",r,"[",n,".alpha];"),e(t),[i,o]}));case"blend.color":return e((function(t){return o(4,(function(e){return+t[e]}))}),(function(t,e,n){return o(4,(function(t){return e.def("+",n,"[",t,"]")}))}));case"stencil.mask":return e((function(t){return 0|t}),(function(t,e,n){return e.def(n,"|0")}));case"stencil.func":return e((function(t){return[Ct[t.cmp||"keep"],t.ref||0,"mask"in t?t.mask:-1]}),(function(t,e,n){return[t=e.def('"cmp" in ',n,"?",t.constants.compareFuncs,"[",n,".cmp]",":",7680),e.def(n,".ref|0"),e=e.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return e((function(e){return["stencil.opBack"===t?1029:1028,St[e.fail||"keep"],St[e.zfail||"keep"],St[e.zpass||"keep"]]}),(function(e,n,r){function i(t){return n.def('"',t,'" in ',r,"?",o,"[",r,".",t,"]:",7680)}var o=e.constants.stencilOps;return["stencil.opBack"===t?1029:1028,i("fail"),i("zfail"),i("zpass")]}));case"polygonOffset.offset":return e((function(t){return[0|t.factor,0|t.units]}),(function(t,e,n){return[e.def(n,".factor|0"),e=e.def(n,".units|0")]}));case"cull.face":return e((function(t){var e=0;return"front"===t?e=1028:"back"===t&&(e=1029),e}),(function(t,e,n){return e.def(n,'==="front"?',1028,":",1029)}));case"frontFace":return e((function(t){return Ot[t]}),(function(t,e,n){return e.def(n+'==="cw"?2304:2305')}));case"colorMask":return e((function(t){return t.map((function(t){return!!t}))}),(function(t,e,n){return o(4,(function(t){return"!!"+n+"["+t+"]"}))}));case"sample.coverage":return e((function(t){return["value"in t?t.value:1,!!t.invert]}),(function(t,e,n){return[e.def('"value" in ',n,"?+",n,".value:1"),e=e.def("!!",n,".invert")]}))}})),i}(t),h=_(t,0,l);s("viewport"),s(y("scissor.box"));var p,g=0<Object.keys(f).length;if((p={framebuffer:p,draw:d,shader:h,state:f,dirty:g,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(t){var e,n=t.static;if(t=t.dynamic,"profile"in n){var r=!!n.profile;(e=F((function(t,e){return r}))).enable=r}else if("profile"in t){var i=t.profile;e=j(i,(function(t,e){return t.invoke(e,i)}))}return e}(t),p.uniforms=function(t,e){var n=t.static,r=t.dynamic,i={};return Object.keys(n).forEach((function(t){var e,r=n[t];if("number"==typeof r||"boolean"==typeof r)e=F((function(){return r}));else if("function"==typeof r){var a=r._reglType;"texture2d"===a||"textureCube"===a?e=F((function(t){return t.link(r)})):"framebuffer"!==a&&"framebufferCube"!==a||(e=F((function(t){return t.link(r.color[0])})))}else m(r)&&(e=F((function(t){return t.global.def("[",o(r.length,(function(t){return r[t]})),"]")})));e.value=r,i[t]=e})),Object.keys(r).forEach((function(t){var e=r[t];i[t]=j(e,(function(t,n){return t.invoke(n,e)}))})),i}(r),p.drawVAO=p.scopeVAO=d.vao,!p.drawVAO&&h.program&&!l&&n.angle_instanced_arrays&&d.static.elements){var v=!0;if(t=h.program.attributes.map((function(t){return t=e.static[t],v=v&&!!t,t})),v&&0<t.length){var b=u.getVAO(u.createVAO({attributes:t,elements:d.static.elements}));p.drawVAO=new N(null,null,null,(function(t,e){return t.link(b)})),p.useVAO=!0}}return l?p.useVAO=!0:p.attributes=T(e),p.context=function(t){var e=t.static,n=t.dynamic,r={};return Object.keys(e).forEach((function(t){var n=e[t];r[t]=F((function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)}))})),Object.keys(n).forEach((function(t){var e=n[t];r[t]=j(e,(function(t,n){return t.invoke(n,e)}))})),r}(i),p}function E(t,e,n){var r=t.shared.context,i=t.scope();Object.keys(n).forEach((function(o){e.save(r,"."+o);var a=n[o].append(t,e);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")})),e(i)}function C(t,e,n,r){var i,o=(s=t.shared).gl,a=s.framebuffer;et&&(i=e.def(s.extensions,".webgl_draw_buffers"));var s=(l=t.constants).drawBuffer,l=l.backBuffer;t=n?n.append(t,e):e.def(a,".next"),r||e("if(",t,"!==",a,".cur){"),e("if(",t,"){",o,".bindFramebuffer(",36160,",",t,".framebuffer);"),et&&e(i,".drawBuffersWEBGL(",s,"[",t,".colorAttachments.length]);"),e("}else{",o,".bindFramebuffer(",36160,",null);"),et&&e(i,".drawBuffersWEBGL(",l,");"),e("}",a,".cur=",t,";"),r||e("}")}function S(t,e,n){var r=t.shared,i=r.gl,a=t.current,s=t.next,l=r.current,c=r.next,u=t.cond(l,".dirty");at.forEach((function(e){var r,d;if(!((e=y(e))in n.state))if(e in s){r=s[e],d=a[e];var f=o(rt[e].length,(function(t){return u.def(r,"[",t,"]")}));u(t.cond(f.map((function(t,e){return t+"!=="+d+"["+e+"]"})).join("||")).then(i,".",lt[e],"(",f,");",f.map((function(t,e){return d+"["+e+"]="+t})).join(";"),";"))}else r=u.def(c,".",e),f=t.cond(r,"!==",l,".",e),u(f),e in st?f(t.cond(r).then(i,".enable(",st[e],");").else(i,".disable(",st[e],");"),l,".",e,"=",r,";"):f(i,".",lt[e],"(",r,");",l,".",e,"=",r,";")})),0===Object.keys(n.state).length&&u(l,".dirty=false;"),e(u)}function O(t,e,n,r){var i,o=t.shared,a=t.current,s=o.current,l=o.gl;z(Object.keys(n)).forEach((function(o){var c=n[o];if(!r||r(c)){var u=c.append(t,e);if(st[o]){var d=st[o];B(c)?(i=t.link(u,{stable:!0}),e(t.cond(i).then(l,".enable(",d,");").else(l,".disable(",d,");")),e(s,".",o,"=",i,";")):(e(t.cond(u).then(l,".enable(",d,");").else(l,".disable(",d,");")),e(s,".",o,"=",u,";"))}else if(m(u)){var f=a[o];e(l,".",lt[o],"(",u,");",u.map((function(t,e){return f+"["+e+"]="+t})).join(";"),";")}else B(c)?(i=t.link(u,{stable:!0}),e(l,".",lt[o],"(",i,");",s,".",o,"=",i,";")):e(l,".",lt[o],"(",u,");",s,".",o,"=",u,";")}}))}function L(t,e){Q&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function P(t,e,n,r,i){function o(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function a(t){t(c=e.def(),"=",o(),";"),"string"==typeof i?t(f,".count+=",i,";"):t(f,".count++;"),p&&(r?t(u=e.def(),"=",g,".getNumPendingQueries();"):t(g,".beginQuery(",f,");"))}function s(t){t(f,".cpuTime+=",o(),"-",c,";"),p&&(r?t(g,".pushScopeStats(",u,",",g,".getNumPendingQueries(),",f,");"):t(g,".endQuery();"))}function l(t){var n=e.def(h,".profile");e(h,".profile=",t,";"),e.exit(h,".profile=",n,";")}var c,u,d=t.shared,f=t.stats,h=d.current,g=d.timer;if(n=n.profile){if(B(n))return void(n.enable?(a(e),s(e.exit),l("true")):l("false"));l(n=n.append(t,e))}else n=e.def(h,".profile");a(d=t.block()),e("if(",n,"){",d,"}"),s(t=t.block()),e.exit("if(",n,"){",t,"}")}function D(t,e,n,r,i){function o(n,r,i){function o(){e("if(!",u,".buffer){",l,".enableVertexAttribArray(",c,");}");var n,o=i.type;n=i.size?e.def(i.size,"||",r):r,e("if(",u,".type!==",o,"||",u,".size!==",n,"||",h.map((function(t){return u+"."+t+"!=="+i[t]})).join("||"),"){",l,".bindBuffer(",34962,",",d,".buffer);",l,".vertexAttribPointer(",[c,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",h.map((function(t){return u+"."+t+"="+i[t]+";"})).join(""),"}"),Q&&(o=i.divisor,e("if(",u,".divisor!==",o,"){",t.instancing,".vertexAttribDivisorANGLE(",[c,o],");",u,".divisor=",o,";}"))}function s(){e("if(",u,".buffer){",l,".disableVertexAttribArray(",c,");",u,".buffer=null;","}if(",Tt.map((function(t,e){return u+"."+t+"!=="+f[e]})).join("||"),"){",l,".vertexAttrib4f(",c,",",f,");",Tt.map((function(t,e){return u+"."+t+"="+f[e]+";"})).join(""),"}")}var l=a.gl,c=e.def(n,".location"),u=e.def(a.attributes,"[",c,"]");n=i.state;var d=i.buffer,f=[i.x,i.y,i.z,i.w],h=["buffer","normalized","offset","stride"];1===n?o():2===n?s():(e("if(",n,"===",1,"){"),o(),e("}else{"),s(),e("}"))}var a=t.shared;r.forEach((function(r){var a,s=r.name,l=n.attributes[s];if(l){if(!i(l))return;a=l.append(t,e)}else{if(!i(Lt))return;var c=t.scopeAttrib(s);a={},Object.keys(new J).forEach((function(t){a[t]=e.def(c,".",t)}))}o(t.link(r),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),a)}))}function $(t,n,r,i,a,s){for(var l,c=t.shared,u=c.gl,d=0;d<i.length;++d){var f,h=(v=i[d]).name,p=v.info.type,g=r.uniforms[h],v=t.link(v)+".location";if(g){if(!a(g))continue;if(B(g)){if(h=g.value,35678===p||35680===p)n(u,".uniform1i(",v,",",(p=t.link(h._texture||h.color[0]._texture))+".bind());"),n.exit(p,".unbind();");else if(35674===p||35675===p||35676===p)g=2,35675===p?g=3:35676===p&&(g=4),n(u,".uniformMatrix",g,"fv(",v,",false,",h=t.global.def("new Float32Array(["+Array.prototype.slice.call(h)+"])"),");");else{switch(p){case 5126:l="1f";break;case 35664:l="2f";break;case 35665:l="3f";break;case 35666:l="4f";break;case 35670:case 5124:l="1i";break;case 35671:case 35667:l="2i";break;case 35672:case 35668:l="3i";break;case 35673:case 35669:l="4i"}n(u,".uniform",l,"(",v,",",m(h)?Array.prototype.slice.call(h):h,");")}continue}f=g.append(t,n)}else{if(!a(Lt))continue;f=n.def(c.uniforms,"[",e.id(h),"]")}switch(35678===p?n("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}"):35680===p&&n("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}"),h=1,p){case 35678:case 35680:p=n.def(f,"._texture"),n(u,".uniform1i(",v,",",p,".bind());"),n.exit(p,".unbind();");continue;case 5124:case 35670:l="1i";break;case 35667:case 35671:l="2i",h=2;break;case 35668:case 35672:l="3i",h=3;break;case 35669:case 35673:l="4i",h=4;break;case 5126:l="1f";break;case 35664:l="2f",h=2;break;case 35665:l="3f",h=3;break;case 35666:l="4f",h=4;break;case 35674:l="Matrix2fv";break;case 35675:l="Matrix3fv";break;case 35676:l="Matrix4fv"}if("M"===l.charAt(0)){n(u,".uniform",l,"(",v,","),v=Math.pow(p-35674+2,2);var y=t.global.def("new Float32Array(",v,")");Array.isArray(f)?n("false,(",o(v,(function(t){return y+"["+t+"]="+f[t]})),",",y,")"):n("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",o(v,(function(t){return y+"["+t+"]="+f+"["+t+"]"})),",",y,")"),n(");")}else{if(1<h){p=[];var b=[];for(g=0;g<h;++g)Array.isArray(f)?b.push(f[g]):b.push(n.def(f+"["+g+"]")),s&&p.push(n.def());s&&n("if(!",t.batchId,"||",p.map((function(t,e){return t+"!=="+b[e]})).join("||"),"){",p.map((function(t,e){return t+"="+b[e]+";"})).join("")),n(u,".uniform",l,"(",v,",",b.join(","),");")}else s&&(p=n.def(),n("if(!",t.batchId,"||",p,"!==",f,"){",p,"=",f,";")),n(u,".uniform",l,"(",v,",",f,");");s&&n("}")}}}function Z(t,e,n,r){function i(i){var o=f[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(t,n):o.append(t,e):e.def(d,".",i)}function o(){function t(){n(l,".drawElementsInstancedANGLE(",[p,m,v,g+"<<(("+v+"-5121)>>1)",s],");")}function e(){n(l,".drawArraysInstancedANGLE(",[p,g,m,s],");")}h&&"null"!==h?y?t():(n("if(",h,"){"),t(),n("}else{"),e(),n("}")):e()}function a(){function t(){n(u+".drawElements("+[p,m,v,g+"<<(("+v+"-5121)>>1)"]+");")}function e(){n(u+".drawArrays("+[p,g,m]+");")}h&&"null"!==h?y?t():(n("if(",h,"){"),t(),n("}else{"),e(),n("}")):e()}var s,l,c=t.shared,u=c.gl,d=c.draw,f=r.draw,h=function(){var i=f.elements,o=e;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(o=n),i=i.append(t,o),f.elementsActive&&o("if("+i+")"+u+".bindBuffer(34963,"+i+".buffer.buffer);")):(i=o.def(),o(i,"=",d,".","elements",";","if(",i,"){",u,".bindBuffer(",34963,",",i,".buffer.buffer);}","else if(",c.vao,".currentVAO){",i,"=",t.shared.elements+".getElements("+c.vao,".currentVAO.elements);",nt?"":"if("+i+")"+u+".bindBuffer(34963,"+i+".buffer.buffer);","}")),i}(),p=i("primitive"),g=i("offset"),m=function(){var i=f.count,o=e;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(o=n),i=i.append(t,o)):i=o.def(d,".","count"),i}();if("number"==typeof m){if(0===m)return}else n("if(",m,"){"),n.exit("}");Q&&(s=i("instances"),l=t.instancing);var v=h+".type",y=f.elements&&B(f.elements)&&!f.vaoActive;Q&&("number"!=typeof s||0<=s)?"string"==typeof s?(n("if(",s,">0){"),o(),n("}else if(",s,"<0){"),a(),n("}")):o():a()}function H(t,e,n,r,i){return i=(e=w()).proc("body",i),Q&&(e.instancing=i.def(e.shared.extensions,".angle_instanced_arrays")),t(e,i,n,r),e.compile().body}function W(t,e,n,r){L(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),D(t,e,n,r.attributes,(function(){return!0}))),$(t,e,n,r.uniforms,(function(){return!0}),!1),Z(t,e,e,n)}function Y(t,e,n,r){function i(){return!0}t.batchId="a1",L(t,e),D(t,e,n,r.attributes,i),$(t,e,n,r.uniforms,i,!1),Z(t,e,e,n)}function G(t,e,n,r){function i(t){return t.contextDep&&a||t.propDep}function o(t){return!i(t)}L(t,e);var a=n.contextDep,s=e.def(),l=e.def();t.shared.props=l,t.batchId=s;var c=t.scope(),u=t.scope();e(c.entry,"for(",s,"=0;",s,"<","a1",";++",s,"){",l,"=","a0","[",s,"];",u,"}",c.exit),n.needsContext&&E(t,u,n.context),n.needsFramebuffer&&C(t,u,n.framebuffer),O(t,u,n.state,i),n.profile&&i(n.profile)&&P(t,u,n,!1,!0),r?(n.useVAO?n.drawVAO?i(n.drawVAO)?u(t.shared.vao,".setVAO(",n.drawVAO.append(t,u),");"):c(t.shared.vao,".setVAO(",n.drawVAO.append(t,c),");"):c(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(c(t.shared.vao,".setVAO(null);"),D(t,c,n,r.attributes,o),D(t,u,n,r.attributes,i)),$(t,c,n,r.uniforms,o,!1),$(t,u,n,r.uniforms,i,!0),Z(t,c,u,n)):(e=t.global.def("{}"),r=n.shader.progVar.append(t,u),l=u.def(r,".id"),c=u.def(e,"[",l,"]"),u(t.shared.gl,".useProgram(",r,".program);","if(!",c,"){",c,"=",e,"[",l,"]=",t.link((function(e){return H(Y,t,n,e,2)})),"(",r,");}",c,".call(this,a0[",s,"],",s,");"))}function q(t,n){function r(e){var r=n.shader[e];r&&(r=r.append(t,i),isNaN(r)?i.set(o.shader,"."+e,r):i.set(o.shader,"."+e,t.link(r,{stable:!0})))}var i=t.proc("scope",3);t.batchId="a2";var o=t.shared,a=o.current;if(E(t,i,n.context),n.framebuffer&&n.framebuffer.append(t,i),z(Object.keys(n.state)).forEach((function(e){var r=n.state[e],a=r.append(t,i);m(a)?a.forEach((function(n,r){isNaN(n)?i.set(t.next[e],"["+r+"]",n):i.set(t.next[e],"["+r+"]",t.link(n,{stable:!0}))})):B(r)?i.set(o.next,"."+e,t.link(a,{stable:!0})):i.set(o.next,"."+e,a)})),P(t,i,n,!0,!0),["elements","offset","count","instances","primitive"].forEach((function(e){var r=n.draw[e];r&&(r=r.append(t,i),isNaN(r)?i.set(o.draw,"."+e,r):i.set(o.draw,"."+e,t.link(r),{stable:!0}))})),Object.keys(n.uniforms).forEach((function(r){var a=n.uniforms[r].append(t,i);Array.isArray(a)&&(a="["+a.map((function(e){return isNaN(e)?e:t.link(e,{stable:!0})}))+"]"),i.set(o.uniforms,"["+t.link(e.id(r),{stable:!0})+"]",a)})),Object.keys(n.attributes).forEach((function(e){var r=n.attributes[e].append(t,i),o=t.scopeAttrib(e);Object.keys(new J).forEach((function(t){i.set(o,"."+t,r[t])}))})),n.scopeVAO){var s=n.scopeVAO.append(t,i);isNaN(s)?i.set(o.vao,".targetVAO",s):i.set(o.vao,".targetVAO",t.link(s,{stable:!0}))}r("vert"),r("frag"),0<Object.keys(n.state).length&&(i(a,".dirty=true;"),i.exit(a,".dirty=true;")),i("a1(",t.shared.context,",a0,",t.batchId,");")}function X(t,e,n){var r=e.static[n];if(r&&function(t){if("object"==typeof t&&!m(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(V.isDynamic(t[e[n]]))return!0;return!1}}(r)){var i=t.global,o=Object.keys(r),a=!1,s=!1,l=!1,c=t.global.def("{}");o.forEach((function(e){var n=r[e];if(V.isDynamic(n))"function"==typeof n&&(n=r[e]=V.unbox(n)),e=j(n,null),a=a||e.thisDep,l=l||e.propDep,s=s||e.contextDep;else{switch(i(c,".",e,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(t.link(n))}i(";")}})),e.dynamic[n]=new V.DynamicVariable(4,{thisDep:a,contextDep:s,propDep:l,ref:c,append:function(t,e){o.forEach((function(n){var i=r[n];V.isDynamic(i)&&(i=t.invoke(e,i),e(c,".",n,"=",i,";"))}))}}),delete e.static[n]}}var J=u.Record,K={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(K.min=32775,K.max=32776);var Q=n.angle_instanced_arrays,et=n.webgl_draw_buffers,nt=n.oes_vertex_array_object,rt={dirty:!0,profile:v.profile},it={},at=[],st={},lt={};b("dither",3024),b("blend.enable",3042),x("blend.color","blendColor",[0,0,0,0]),x("blend.equation","blendEquationSeparate",[32774,32774]),x("blend.func","blendFuncSeparate",[1,0,1,0]),b("depth.enable",2929,!0),x("depth.func","depthFunc",513),x("depth.range","depthRange",[0,1]),x("depth.mask","depthMask",!0),x("colorMask","colorMask",[!0,!0,!0,!0]),b("cull.enable",2884),x("cull.face","cullFace",1029),x("frontFace","frontFace",2305),x("lineWidth","lineWidth",1),b("polygonOffset.enable",32823),x("polygonOffset.offset","polygonOffset",[0,0]),b("sample.alpha",32926),b("sample.enable",32928),x("sample.coverage","sampleCoverage",[1,!1]),b("stencil.enable",2960),x("stencil.mask","stencilMask",-1),x("stencil.func","stencilFunc",[519,0,-1]),x("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),x("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),b("scissor.enable",3089),x("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),x("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var ct={gl:t,context:h,strings:e,next:it,current:rt,draw:f,elements:a,buffer:i,shader:d,attributes:u.state,vao:u,uniforms:c,framebuffer:l,extensions:n,timer:p,isBufferArgs:I},ut={primTypes:ot,compareFuncs:Ct,blendFuncs:Et,blendEquations:K,stencilOps:St,glTypes:tt,orientationType:Ot};et&&(ut.backBuffer=[1029],ut.drawBuffer=o(r.maxDrawbuffers,(function(t){return 0===t?[0]:o(t,(function(t){return 36064+t}))})));var dt=0;return{next:it,current:rt,procs:function(){var t=w(),e=t.proc("poll"),i=t.proc("refresh"),a=t.block();e(a),i(a);var s,l=(d=t.shared).gl,c=d.next,u=d.current;a(u,".dirty=false;"),C(t,e),C(t,i,null,!0),Q&&(s=t.link(Q)),n.oes_vertex_array_object&&i(t.link(n.oes_vertex_array_object),".bindVertexArrayOES(null);");var d=i.def(d.attributes),f=i.def(0),h=t.cond(f,".buffer");h.then(l,".enableVertexAttribArray(i);",l,".bindBuffer(",34962,",",f,".buffer.buffer);",l,".vertexAttribPointer(i,",f,".size,",f,".type,",f,".normalized,",f,".stride,",f,".offset);").else(l,".disableVertexAttribArray(i);",l,".vertexAttrib4f(i,",f,".x,",f,".y,",f,".z,",f,".w);",f,".buffer=null;");var p=t.link(r.maxAttributes,{stable:!0});return i("for(var i=0;i<",p,";++i){",f,"=",d,"[i];",h,"}"),Q&&i("for(var i=0;i<",p,";++i){",s,".vertexAttribDivisorANGLE(i,",d,"[i].divisor);","}"),i(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(st).forEach((function(n){var r=st[n],o=a.def(c,".",n),s=t.block();s("if(",o,"){",l,".enable(",r,")}else{",l,".disable(",r,")}",u,".",n,"=",o,";"),i(s),e("if(",o,"!==",u,".",n,"){",s,"}")})),Object.keys(lt).forEach((function(n){var r,s,d=lt[n],f=rt[n],h=t.block();h(l,".",d,"("),m(f)?(d=f.length,r=t.global.def(c,".",n),s=t.global.def(u,".",n),h(o(d,(function(t){return r+"["+t+"]"})),");",o(d,(function(t){return s+"["+t+"]="+r+"["+t+"];"})).join("")),e("if(",o(d,(function(t){return r+"["+t+"]!=="+s+"["+t+"]"})).join("||"),"){",h,"}")):(r=a.def(c,".",n),s=a.def(u,".",n),h(r,");",u,".",n,"=",r,";"),e("if(",r,"!==",s,"){",h,"}")),i(h)})),t.compile()}(),compile:function(t,e,n,r,i){var o=w();o.stats=o.link(i),Object.keys(e.static).forEach((function(t){X(o,e,t)})),Mt.forEach((function(e){X(o,t,e)}));var a=M(t,e,n,r);return a.shader.program&&(a.shader.program.attributes.sort((function(t,e){return t.name<e.name?-1:1})),a.shader.program.uniforms.sort((function(t,e){return t.name<e.name?-1:1}))),function(t,e){var n=t.proc("draw",1);L(t,n),E(t,n,e.context),C(t,n,e.framebuffer),S(t,n,e),O(t,n,e.state),P(t,n,e,!1,!0);var r=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",r,".program);"),e.shader.program)W(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var i=t.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(n){return H(W,t,e,n,1)})),"(",r,");",a,".call(this,a0);"))}0<Object.keys(e.state).length&&n(t.shared.current,".dirty=true;"),t.shared.vao&&n(t.shared.vao,".setVAO(null);")}(o,a),q(o,a),function(t,e){function n(t){return t.contextDep&&i||t.propDep}var r=t.proc("batch",2);t.batchId="0",L(t,r);var i=!1,o=!0;Object.keys(e.context).forEach((function(t){i=i||e.context[t].propDep})),i||(E(t,r,e.context),o=!1);var a=!1;if((s=e.framebuffer)?(s.propDep?i=a=!0:s.contextDep&&i&&(a=!0),a||C(t,r,s)):C(t,r,null),e.state.viewport&&e.state.viewport.propDep&&(i=!0),S(t,r,e),O(t,r,e.state,(function(t){return!n(t)})),e.profile&&n(e.profile)||P(t,r,e,!1,"a1"),e.contextDep=i,e.needsContext=o,e.needsFramebuffer=a,(o=e.shader.progVar).contextDep&&i||o.propDep)G(t,r,e,null);else if(o=o.append(t,r),r(t.shared.gl,".useProgram(",o,".program);"),e.shader.program)G(t,r,e,e.shader.program);else{r(t.shared.vao,".setVAO(null);");var s=t.global.def("{}"),l=(a=r.def(o,".id"),r.def(s,"[",a,"]"));r(t.cond(l).then(l,".call(this,a0,a1);").else(l,"=",s,"[",a,"]=",t.link((function(n){return H(G,t,e,n,2)})),"(",o,");",l,".call(this,a0,a1);"))}0<Object.keys(e.state).length&&r(t.shared.current,".dirty=true;"),t.shared.vao&&r(t.shared.vao,".setVAO(null);")}(o,a),U(o.compile(),{destroy:function(){a.shader.program.destroy()}})}}}function Z(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}var U=function(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t},H=0,V={DynamicVariable:t,define:function(n,r){return new t(n,e(r+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof t},unbox:function e(n,r){return"function"==typeof n?new t(0,n):"number"==typeof n||"boolean"==typeof n?new t(5,n):Array.isArray(n)?new t(6,n.map((function(t,n){return e(t,r+"["+n+"]")}))):n instanceof t?n:void 0},accessor:e},W={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},Y="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},G=s();G.zero=s();var q=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(34047));var r=1,i=1;e.webgl_draw_buffers&&(r=t.getParameter(34852),i=t.getParameter(36063));var o=!!e.oes_texture_float;if(o){o=t.createTexture(),t.bindTexture(3553,o),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var a=t.createFramebuffer();if(t.bindFramebuffer(36160,a),t.framebufferTexture2D(36160,36064,3553,o,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var s=G.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,s),t.getError()?o=!1:(t.deleteFramebuffer(a),t.deleteTexture(o),o=1===s[0]),G.freeType(s)}}return s=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(s=t.createTexture(),a=G.allocType(5121,36),t.activeTexture(33984),t.bindTexture(34067,s),t.texImage2D(34069,0,6408,3,3,0,6408,5121,a),G.freeType(a),t.bindTexture(34067,null),t.deleteTexture(s),s=!t.getError()),{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:s}},X=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},J=function(t){return Object.keys(t).map((function(e){return t[e]}))},K={shape:function(t){for(var e=[];t.length;t=t[0])e.push(t.length);return e},flatten:function(t,e,n,r){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;switch(n=r||G.allocType(n,i),e.length){case 0:break;case 1:for(r=e[0],e=0;e<r;++e)n[e]=t[e];break;case 2:for(r=e[0],e=e[1],o=i=0;o<r;++o)for(var a=t[o],s=0;s<e;++s)n[i++]=a[s];break;case 3:c(t,e[0],e[1],e[2],n,0);break;default:!function t(e,n,r,i,o){for(var a=1,s=r+1;s<n.length;++s)a*=n[s];var l=n[r];if(4==n.length-r){var u=n[r+1],d=n[r+2];for(n=n[r+3],s=0;s<l;++s)c(e[s],u,d,n,i,o),o+=a}else for(s=0;s<l;++s)t(e[s],n,r+1,i,o),o+=a}(t,e,0,n,0)}return n}},Q={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},tt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},et={dynamic:35048,stream:35040,static:35044},nt=K.flatten,rt=K.shape,it=[];it[5120]=1,it[5122]=2,it[5124]=4,it[5121]=1,it[5123]=2,it[5125]=4,it[5126]=4;var ot={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},at=new Float32Array(1),st=new Uint32Array(at.buffer),lt=[9984,9986,9985,9987],ct=[0,6409,6410,6407,6408],ut={};ut[6409]=ut[6406]=ut[6402]=1,ut[34041]=ut[6410]=2,ut[6407]=ut[35904]=3,ut[6408]=ut[35906]=4;var dt=v("HTMLCanvasElement"),ft=v("OffscreenCanvas"),ht=v("CanvasRenderingContext2D"),pt=v("ImageBitmap"),gt=v("HTMLImageElement"),mt=v("HTMLVideoElement"),vt=Object.keys(Q).concat([dt,ft,ht,pt,gt,mt]),yt=[];yt[5121]=1,yt[5126]=4,yt[36193]=2,yt[5123]=2,yt[5125]=4;var bt=[];bt[32854]=2,bt[32855]=2,bt[36194]=2,bt[34041]=4,bt[33776]=.5,bt[33777]=.5,bt[33778]=1,bt[33779]=1,bt[35986]=.5,bt[35987]=1,bt[34798]=1,bt[35840]=.5,bt[35841]=.25,bt[35842]=.5,bt[35843]=.25,bt[36196]=.5;var xt=[];xt[32854]=2,xt[32855]=2,xt[36194]=2,xt[33189]=2,xt[36168]=1,xt[34041]=4,xt[35907]=4,xt[34836]=16,xt[34842]=8,xt[34843]=6;var wt=function(t,e,n,r,i){function o(t){this.id=c++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.height=this.width=0,i.profile&&(this.stats={size:0})}function a(e){var n=e.renderbuffer;t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete u[e.id],r.renderbufferCount--}var s={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(s.srgba=35907),e.ext_color_buffer_half_float&&(s.rgba16f=34842,s.rgb16f=34843),e.webgl_color_buffer_float&&(s.rgba32f=34836);var l=[];Object.keys(s).forEach((function(t){l[s[t]]=t}));var c=0,u={};return o.prototype.decRef=function(){0>=--this.refCount&&a(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(u).forEach((function(e){t+=u[e].stats.size})),t}),{create:function(e,n){function a(e,n){var r=0,o=0,u=32854;if("object"==typeof e&&e?("shape"in e?(r=0|(o=e.shape)[0],o=0|o[1]):("radius"in e&&(r=o=0|e.radius),"width"in e&&(r=0|e.width),"height"in e&&(o=0|e.height)),"format"in e&&(u=s[e.format])):"number"==typeof e?(r=0|e,o="number"==typeof n?0|n:r):e||(r=o=1),r!==c.width||o!==c.height||u!==c.format)return a.width=c.width=r,a.height=c.height=o,c.format=u,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,u,r,o),i.profile&&(c.stats.size=xt[c.format]*c.width*c.height),a.format=l[c.format],a}var c=new o(t.createRenderbuffer());return u[c.id]=c,r.renderbufferCount++,a(e,n),a.resize=function(e,n){var r=0|e,o=0|n||r;return r===c.width&&o===c.height||(a.width=c.width=r,a.height=c.height=o,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,c.format,r,o),i.profile&&(c.stats.size=xt[c.format]*c.width*c.height)),a},a._reglType="renderbuffer",a._renderbuffer=c,i.profile&&(a.stats=c.stats),a.destroy=function(){c.decRef()},a},clear:function(){J(u).forEach(a)},restore:function(){J(u).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,e.renderbuffer),t.renderbufferStorage(36161,e.format,e.width,e.height)})),t.bindRenderbuffer(36161,null)}}},kt=[];kt[6408]=4,kt[6407]=3;var _t=[];_t[5121]=1,_t[5126]=4,_t[36193]=2;var At=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Tt=["x","y","z","w"],Mt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Et={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ct={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},St={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ot={cw:2304,ccw:2305},Lt=new N(!1,!1,!1,(function(){}));return function(t){function e(){if(0===J.length)_&&_.update(),et=null;else{et=W.next(e),d();for(var t=J.length-1;0<=t;--t){var n=J[t];n&&n(P,null,0)}m.flush(),_&&_.update()}}function n(){!et&&0<J.length&&(et=W.next(e))}function r(){et&&(W.cancel(e),et=null)}function o(t){t.preventDefault(),r(),K.forEach((function(t){t()}))}function a(t){m.getError(),y.restore(),N.restore(),R.restore(),B.restore(),F.restore(),j.restore(),z.restore(),_&&_.restore(),H.procs.refresh(),n(),Q.forEach((function(t){t()}))}function s(t){function e(t,e){var n={},r={};return Object.keys(t).forEach((function(i){var o=t[i];if(V.isDynamic(o))r[i]=V.unbox(o,i);else{if(e&&Array.isArray(o))for(var a=0;a<o.length;++a)if(V.isDynamic(o[a]))return void(r[i]=V.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}var n=e(t.context||{},!0),r=e(t.uniforms||{},!0),i=e(t.attributes||{},!1);t=e(function(t){function e(t){if(t in n){var e=n[t];delete n[t],Object.keys(e).forEach((function(r){n[t+"."+r]=e[r]}))}}var n=U({},t);return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),e("blend"),e("depth"),e("cull"),e("stencil"),e("polygonOffset"),e("scissor"),e("sample"),"vao"in t&&(n.vao=t.vao),n}(t),!1);var o={gpuTime:0,cpuTime:0,count:0},a=H.compile(t,i,r,n,o),s=a.draw,l=a.batch,c=a.scope,u=[];return U((function(t,e){var n;if("function"==typeof t)return c.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(n=0;n<t;++n)c.call(this,null,e,n);else{if(!Array.isArray(t))return c.call(this,t,e,0);for(n=0;n<t.length;++n)c.call(this,t[n],e,n)}else if("number"==typeof t){if(0<t)return l.call(this,function(t){for(;u.length<t;)u.push(null);return u}(0|t),0|t)}else{if(!Array.isArray(t))return s.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:o,destroy:function(){a.destroy()}})}function l(t,e){var n=0;H.procs.poll();var r=e.color;r&&(m.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in e&&(m.clearDepth(+e.depth),n|=256),"stencil"in e&&(m.clearStencil(0|e.stencil),n|=1024),m.clear(n)}function c(t){return J.push(t),n(),{cancel:function(){var e=Z(J,t);J[e]=function t(){var e=Z(J,t);J[e]=J[J.length-1],--J.length,0>=J.length&&r()}}}}function u(){var t=G.viewport,e=G.scissor_box;t[0]=t[1]=e[0]=e[1]=0,P.viewportWidth=P.framebufferWidth=P.drawingBufferWidth=t[2]=e[2]=m.drawingBufferWidth,P.viewportHeight=P.framebufferHeight=P.drawingBufferHeight=t[3]=e[3]=m.drawingBufferHeight}function d(){P.tick+=1,P.time=g(),u(),H.procs.poll()}function f(){B.refresh(),u(),H.procs.refresh(),_&&_.update()}function g(){return(Y()-M)/1e3}if(!(t=i(t)))return null;var m=t.gl,v=m.getContextAttributes();m.isContextLost();var y=function(t,e){function n(e){var n;e=e.toLowerCase();try{n=r[e]=t.getExtension(e)}catch(t){}return!!n}for(var r={},i=0;i<e.extensions.length;++i){var o=e.extensions[i];if(!n(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach((function(t){if(r[t]&&!n(t))throw Error("(regl): error restoring extension "+t)}))}}}(m,t);if(!y)return null;var b=function(){var t={"":0},e=[""];return{id:function(n){var r=t[n];return r||(r=t[n]=e.length,e.push(n),r)},str:function(t){return e[t]}}}(),x={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},w=t.cachedCode||{},k=y.extensions,_=function(t,e){function n(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function r(t,e,r){var i=a.pop()||new n;i.startQueryIndex=t,i.endQueryIndex=e,i.sum=0,i.stats=r,s.push(i)}if(!e.ext_disjoint_timer_query)return null;var i=[],o=[],a=[],s=[],l=[],c=[];return{beginQuery:function(t){var n=i.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(35007,n),o.push(n),r(o.length-1,o.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:r,update:function(){var t,n;if(0!==(t=o.length)){c.length=Math.max(c.length,t+1),l.length=Math.max(l.length,t+1),l[0]=0;var r=c[0]=0;for(n=t=0;n<o.length;++n){var u=o[n];e.ext_disjoint_timer_query.getQueryObjectEXT(u,34919)?(r+=e.ext_disjoint_timer_query.getQueryObjectEXT(u,34918),i.push(u)):o[t++]=u,l[n+1]=r,c[n+1]=t}for(o.length=t,n=t=0;n<s.length;++n){var d=(r=s[n]).startQueryIndex;u=r.endQueryIndex,r.sum+=l[u]-l[d],d=c[d],(u=c[u])===d?(r.stats.gpuTime+=r.sum/1e6,a.push(r)):(r.startQueryIndex=d,r.endQueryIndex=u,s[t++]=r)}s.length=t}},getNumPendingQueries:function(){return o.length},clear:function(){i.push.apply(i,o);for(var t=0;t<i.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(i[t]);o.length=0,i.length=0},restore:function(){o.length=0,i.length=0}}}(0,k),M=Y(),O=m.drawingBufferWidth,L=m.drawingBufferHeight,P={tick:0,time:0,viewportWidth:O,viewportHeight:L,framebufferWidth:O,framebufferHeight:L,drawingBufferWidth:O,drawingBufferHeight:L,pixelRatio:t.pixelRatio},D=(O={elements:null,primitive:4,count:-1,offset:0,instances:-1},q(m,k)),R=h(m,x,t,(function(t){return z.destroyBuffer(t)})),I=p(m,k,R,x),z=E(m,k,D,x,R,I,O),N=C(m,b,x,t),B=A(m,k,D,(function(){H.procs.poll()}),P,x,t),F=wt(m,k,0,x,t),j=T(m,k,D,B,F,x),H=$(m,b,k,D,R,I,0,j,{},z,N,O,P,_,w,t),G=(b=S(m,j,H.procs.poll,P),H.next),X=m.canvas,J=[],K=[],Q=[],tt=[t.onDestroy],et=null;X&&(X.addEventListener("webglcontextlost",o,!1),X.addEventListener("webglcontextrestored",a,!1));var nt=j.setFBO=s({framebuffer:V.define.call(null,1,"framebuffer")});return f(),v=U(s,{clear:function(t){if("framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;6>e;++e)nt(U({framebuffer:t.framebuffer.faces[e]},t),l);else nt(t,l);else l(0,t)},prop:V.define.bind(null,1),context:V.define.bind(null,2),this:V.define.bind(null,3),draw:s({}),buffer:function(t){return R.create(t,34962,!1,!1)},elements:function(t){return I.create(t,!1)},texture:B.create2D,cube:B.createCube,renderbuffer:F.create,framebuffer:j.create,framebufferCube:j.createCube,vao:z.createVAO,attributes:v,frame:c,on:function(t,e){var n;switch(t){case"frame":return c(e);case"lost":n=K;break;case"restore":n=Q;break;case"destroy":n=tt}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e){n[t]=n[n.length-1],n.pop();break}}}},limits:D,hasExtension:function(t){return 0<=D.extensions.indexOf(t.toLowerCase())},read:b,destroy:function(){J.length=0,r(),X&&(X.removeEventListener("webglcontextlost",o),X.removeEventListener("webglcontextrestored",a)),N.clear(),j.clear(),F.clear(),z.clear(),B.clear(),I.clear(),R.clear(),_&&_.clear(),tt.forEach((function(t){t()}))},_gl:m,_refresh:f,poll:function(){d(),_&&_.update()},now:g,stats:x,getCachedCode:function(){return w},preloadCachedCode:function(t){Object.entries(t).forEach((function(t){w[t[0]]=t[1]}))}}),t.onDone(null,v),v}}))},{}],199:[function(t,e,n){"use strict";var r=t("parenthesis");e.exports=function(t,e,n){if(null==t)throw Error("First argument should be a string");if(null==e)throw Error("Separator should be a string or a RegExp");n?("string"==typeof n||Array.isArray(n))&&(n={ignore:n}):n={},null==n.escape&&(n.escape=!0),null==n.ignore?n.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof n.ignore&&(n.ignore=[n.ignore]),n.ignore=n.ignore.map((function(t){return 1===t.length&&(t+=t),t})));var i=r.parse(t,{flat:!0,brackets:n.ignore}),o=i[0].split(e);if(n.escape){for(var a=[],s=0;s<o.length;s++){var l=o[s],c=o[s+1];"\\"===l[l.length-1]&&"\\"!==l[l.length-2]?(a.push(l+e+c),s++):a.push(l)}o=a}for(s=0;s<o.length;s++)i[0]=o[s],o[s]=r.stringify(i,{flat:!0});return o}},{parenthesis:177}],200:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=2*Math.PI,o=function(t,e,n,r,i,o,a){var s=t.x,l=t.y;return{x:r*(s*=e)-i*(l*=n)+o,y:i*s+r*l+a}},a=function(t,e){var n=1.5707963267948966===e?.551915024494:-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:r-i*n,y:i+r*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]},s=function(t,e,n,r){var i=t*n+e*r;return i>1&&(i=1),i<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)};n.default=function(t){var e=t.px,n=t.py,l=t.cx,c=t.cy,u=t.rx,d=t.ry,f=t.xAxisRotation,h=void 0===f?0:f,p=t.largeArcFlag,g=void 0===p?0:p,m=t.sweepFlag,v=void 0===m?0:m,y=[];if(0===u||0===d)return[];var b=Math.sin(h*i/360),x=Math.cos(h*i/360),w=x*(e-l)/2+b*(n-c)/2,k=-b*(e-l)/2+x*(n-c)/2;if(0===w&&0===k)return[];u=Math.abs(u),d=Math.abs(d);var _=Math.pow(w,2)/Math.pow(u,2)+Math.pow(k,2)/Math.pow(d,2);_>1&&(u*=Math.sqrt(_),d*=Math.sqrt(_));var A=function(t,e,n,r,o,a,l,c,u,d,f,h){var p=Math.pow(o,2),g=Math.pow(a,2),m=Math.pow(f,2),v=Math.pow(h,2),y=p*g-p*v-g*m;y<0&&(y=0),y/=p*v+g*m;var b=(y=Math.sqrt(y)*(l===c?-1:1))*o/a*h,x=y*-a/o*f,w=d*b-u*x+(t+n)/2,k=u*b+d*x+(e+r)/2,_=(f-b)/o,A=(h-x)/a,T=(-f-b)/o,M=(-h-x)/a,E=s(1,0,_,A),C=s(_,A,T,M);return 0===c&&C>0&&(C-=i),1===c&&C<0&&(C+=i),[w,k,E,C]}(e,n,l,c,u,d,g,v,b,x,w,k),T=r(A,4),M=T[0],E=T[1],C=T[2],S=T[3],O=Math.abs(S)/(i/4);Math.abs(1-O)<1e-7&&(O=1);var L=Math.max(Math.ceil(O),1);S/=L;for(var P=0;P<L;P++)y.push(a(C,S)),C+=S;return y.map((function(t){var e=o(t[0],u,d,x,b,M,E),n=e.x,r=e.y,i=o(t[1],u,d,x,b,M,E),a=i.x,s=i.y,l=o(t[2],u,d,x,b,M,E);return{x1:n,y1:r,x2:a,y2:s,x:l.x,y:l.y}}))},e.exports=n.default},{}],201:[function(t,e,n){"use strict";var r=t("parse-svg-path"),i=t("abs-svg-path"),o=t("normalize-svg-path"),a=t("is-svg-path"),s=t("assert");e.exports=function(t){if(Array.isArray(t)&&1===t.length&&"string"==typeof t[0]&&(t=t[0]),"string"==typeof t&&(s(a(t),"String is not an SVG path."),t=r(t)),s(Array.isArray(t),"Argument should be a string or an array of path segments."),t=i(t),!(t=o(t)).length)return[0,0,0,0];for(var e=[1/0,1/0,-1/0,-1/0],n=0,l=t.length;n<l;n++)for(var c=t[n].slice(1),u=0;u<c.length;u+=2)c[u+0]<e[0]&&(e[0]=c[u+0]),c[u+1]<e[1]&&(e[1]=c[u+1]),c[u+0]>e[2]&&(e[2]=c[u+0]),c[u+1]>e[3]&&(e[3]=c[u+1]);return e}},{"abs-svg-path":17,assert:22,"is-svg-path":168,"normalize-svg-path":202,"parse-svg-path":179}],202:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=[],a=0,s=0,l=0,c=0,u=null,d=null,f=0,h=0,p=0,g=t.length;p<g;p++){var m=t[p],v=m[0];switch(v){case"M":l=m[1],c=m[2];break;case"A":var y=r({px:f,py:h,cx:m[6],cy:m[7],rx:m[1],ry:m[2],xAxisRotation:m[3],largeArcFlag:m[4],sweepFlag:m[5]});if(!y.length)continue;for(var b,x=0;x<y.length;x++)m=["C",(b=y[x]).x1,b.y1,b.x2,b.y2,b.x,b.y],x<y.length-1&&n.push(m);break;case"S":var w=f,k=h;"C"!=e&&"S"!=e||(w+=w-a,k+=k-s),m=["C",w,k,m[1],m[2],m[3],m[4]];break;case"T":"Q"==e||"T"==e?(u=2*f-u,d=2*h-d):(u=f,d=h),m=o(f,h,u,d,m[1],m[2]);break;case"Q":u=m[1],d=m[2],m=o(f,h,m[1],m[2],m[3],m[4]);break;case"L":m=i(f,h,m[1],m[2]);break;case"H":m=i(f,h,m[1],h);break;case"V":m=i(f,h,f,m[1]);break;case"Z":m=i(f,h,l,c)}e=v,f=m[m.length-2],h=m[m.length-1],m.length>4?(a=m[m.length-4],s=m[m.length-3]):(a=f,s=h),n.push(m)}return n};var r=t("svg-arc-to-cubic-bezier");function i(t,e,n,r){return["C",t,e,n,r,n,r]}function o(t,e,n,r,i,o){return["C",t/3+2/3*n,e/3+2/3*r,i/3+2/3*n,o/3+2/3*r,i,o]}},{"svg-arc-to-cubic-bezier":200}],203:[function(t,e,n){"use strict";var r,i=t("svg-path-bounds"),o=t("parse-svg-path"),a=t("draw-svg-path"),s=t("is-svg-path"),l=t("bitmap-sdf"),c=document.createElement("canvas"),u=c.getContext("2d");e.exports=function(t,e){if(!s(t))throw Error("Argument should be valid svg path string");var n,d;e||(e={}),e.shape?(n=e.shape[0],d=e.shape[1]):(n=c.width=e.w||e.width||200,d=c.height=e.h||e.height||200);var f=Math.min(n,d),h=e.stroke||0,p=e.viewbox||e.viewBox||i(t),g=[n/(p[2]-p[0]),d/(p[3]-p[1])],m=Math.min(g[0]||0,g[1]||0)/2;if(u.fillStyle="black",u.fillRect(0,0,n,d),u.fillStyle="white",h&&("number"!=typeof h&&(h=1),u.strokeStyle=h>0?"white":"black",u.lineWidth=Math.abs(h)),u.translate(.5*n,.5*d),u.scale(m,m),function(){if(null!=r)return r;var t=document.createElement("canvas").getContext("2d");if(t.canvas.width=t.canvas.height=1,!window.Path2D)return r=!1;var e=new Path2D("M0,0h1v1h-1v-1Z");t.fillStyle="black",t.fill(e);var n=t.getImageData(0,0,1,1);return r=n&&n.data&&255===n.data[3]}()){var v=new Path2D(t);u.fill(v),h&&u.stroke(v)}else{var y=o(t);a(u,y),u.fill(),h&&u.stroke()}return u.setTransform(1,0,0,1,0,0),l(u,{cutoff:null!=e.cutoff?e.cutoff:.5,radius:null!=e.radius?e.radius:.5*f})}},{"bitmap-sdf":29,"draw-svg-path":58,"is-svg-path":168,"parse-svg-path":179,"svg-path-bounds":201}],204:[function(t,e,n){(function(e,r){(function(){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=l++,r=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,i((function(){s[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":192,timers:204}],205:[function(t,e,n){!function(t){var n=/^\s+/,r=/\s+$/,i=0,o=t.round,a=t.min,s=t.max,l=t.random;function c(e,l){if(l=l||{},(e=e||"")instanceof c)return e;if(!(this instanceof c))return new c(e,l);var u=function(e){var i,o,l,c={r:0,g:0,b:0},u=1,d=null,f=null,h=null,p=!1,g=!1;return"string"==typeof e&&(e=function(t){t=t.replace(n,"").replace(r,"").toLowerCase();var e,i=!1;if(E[t])t=E[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=j.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=j.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=j.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=j.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=j.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=j.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=j.hex8.exec(t))?{r:P(e[1]),g:P(e[2]),b:P(e[3]),a:z(e[4]),format:i?"name":"hex8"}:(e=j.hex6.exec(t))?{r:P(e[1]),g:P(e[2]),b:P(e[3]),format:i?"name":"hex"}:(e=j.hex4.exec(t))?{r:P(e[1]+""+e[1]),g:P(e[2]+""+e[2]),b:P(e[3]+""+e[3]),a:z(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=j.hex3.exec(t))&&{r:P(e[1]+""+e[1]),g:P(e[2]+""+e[2]),b:P(e[3]+""+e[3]),format:i?"name":"hex"}}(e)),"object"==typeof e&&($(e.r)&&$(e.g)&&$(e.b)?(i=e.r,o=e.g,l=e.b,c={r:255*O(i,255),g:255*O(o,255),b:255*O(l,255)},p=!0,g="%"===String(e.r).substr(-1)?"prgb":"rgb"):$(e.h)&&$(e.s)&&$(e.v)?(d=R(e.s),f=R(e.v),c=function(e,n,r){e=6*O(e,360),n=O(n,100),r=O(r,100);var i=t.floor(e),o=e-i,a=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),c=i%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c]}}(e.h,d,f),p=!0,g="hsv"):$(e.h)&&$(e.s)&&$(e.l)&&(d=R(e.s),h=R(e.l),c=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=O(t,360),e=O(e,100),n=O(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,d,h),p=!0,g="hsl"),e.hasOwnProperty("a")&&(u=e.a)),u=S(u),{ok:p,format:e.format||g,r:a(255,s(c.r,0)),g:a(255,s(c.g,0)),b:a(255,s(c.b,0)),a:u}}(e);this._originalInput=e,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=o(100*this._a)/100,this._format=l.format||u.format,this._gradientType=l.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=u.ok,this._tc_id=i++}function u(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var r,i,o=s(t,e,n),l=a(t,e,n),c=(o+l)/2;if(o==l)r=i=0;else{var u=o-l;switch(i=c>.5?u/(2-o-l):u/(o+l),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:c}}function d(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var r,i,o=s(t,e,n),l=a(t,e,n),c=o,u=o-l;if(i=0===o?0:u/o,o==l)r=0;else{switch(o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:c}}function f(t,e,n,r){var i=[D(o(t).toString(16)),D(o(e).toString(16)),D(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function h(t,e,n,r){return[D(I(r)),D(o(t).toString(16)),D(o(e).toString(16)),D(o(n).toString(16))].join("")}function p(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s-=e/100,n.s=L(n.s),c(n)}function g(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s+=e/100,n.s=L(n.s),c(n)}function m(t){return c(t).desaturate(100)}function v(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l+=e/100,n.l=L(n.l),c(n)}function y(t,e){e=0===e?0:e||10;var n=c(t).toRgb();return n.r=s(0,a(255,n.r-o(-e/100*255))),n.g=s(0,a(255,n.g-o(-e/100*255))),n.b=s(0,a(255,n.b-o(-e/100*255))),c(n)}function b(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l-=e/100,n.l=L(n.l),c(n)}function x(t,e){var n=c(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,c(n)}function w(t){var e=c(t).toHsl();return e.h=(e.h+180)%360,c(e)}function k(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+120)%360,s:e.s,l:e.l}),c({h:(n+240)%360,s:e.s,l:e.l})]}function _(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+90)%360,s:e.s,l:e.l}),c({h:(n+180)%360,s:e.s,l:e.l}),c({h:(n+270)%360,s:e.s,l:e.l})]}function A(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+72)%360,s:e.s,l:e.l}),c({h:(n+216)%360,s:e.s,l:e.l})]}function T(t,e,n){e=e||6,n=n||30;var r=c(t).toHsl(),i=360/n,o=[c(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(c(r));return o}function M(t,e){e=e||6;for(var n=c(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(c({h:r,s:i,v:o})),o=(o+s)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return e=i.r/255,n=i.g/255,r=i.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=S(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return f(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var a=[D(o(t).toString(16)),D(o(e).toString(16)),D(o(n).toString(16)),D(I(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*O(this._r,255))+"%",g:o(100*O(this._g,255))+"%",b:o(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*O(this._r,255))+"%, "+o(100*O(this._g,255))+"%, "+o(100*O(this._b,255))+"%)":"rgba("+o(100*O(this._r,255))+"%, "+o(100*O(this._g,255))+"%, "+o(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+h(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=c(t);n="#"+h(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},c.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:R(t[r]));t=n}return c(t,e)},c.equals=function(t,e){return!(!t||!e)&&c(t).toRgbString()==c(e).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})},c.mix=function(t,e,n){n=0===n?0:n||50;var r=c(t).toRgb(),i=c(e).toRgb(),o=n/100;return c({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},c.readability=function(e,n){var r=c(e),i=c(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(t,e,n){var r,i,o=c.readability(t,e);switch(i=!1,(r=function(t){var e,n;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(n=(t.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},c.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)(r=c.readability(t,e[u]))>l&&(l=r,s=c(e[u]));return c.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,c.mostReadable(t,["#fff","#000"],n))};var E=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=c.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(E);function S(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function O(e,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=a(n,s(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function L(t){return a(1,s(0,t))}function P(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function R(t){return t<=1&&(t=100*t+"%"),t}function I(e){return t.round(255*parseFloat(e)).toString(16)}function z(t){return P(t)/255}var N,B,F,j=(B="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",F="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+B),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+B),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+B),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(t){return!!j.CSS_UNIT.exec(t)}void 0!==e&&e.exports?e.exports=c:window.tinycolor=c}(Math)},{}],206:[function(t,e,n){"use strict";e.exports=i,e.exports.float32=e.exports.float=i,e.exports.fract32=e.exports.fract=function(t,e){if(t.length){if(t instanceof Float32Array)return new Float32Array(t.length);e instanceof Float32Array||(e=i(t));for(var n=0,r=e.length;n<r;n++)e[n]=t[n]-e[n];return e}return i(t-i(t))};var r=new Float32Array(1);function i(t){return t.length?t instanceof Float32Array?t:new Float32Array(t):(r[0]=t,r[0])}},{}],207:[function(t,e,n){"use strict";var r=t("parse-unit");function i(t,e){var n=r(getComputedStyle(t).getPropertyValue(e));return n[0]*o(n[1],t)}function o(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return function(t,e){var n=document.createElement("div");n.style["font-size"]="128"+t,e.appendChild(n);var r=i(n,"font-size")/128;return e.removeChild(n),r}(t,e);case"em":return i(e,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 96/2.54;case"mm":return 96/25.4;case"pt":return 96/72;case"pc":return 16}return 1}e.exports=o},{"parse-unit":180}],208:[function(t,e,n){"use strict";var r=t("../prototype/is");e.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},{"../prototype/is":215}],209:[function(t,e,n){"use strict";var r=t("../value/is"),i=t("../object/is"),o=t("../string/coerce"),a=t("./to-short-string"),s=function(t,e){return t.replace("%v",a(e))};e.exports=function(t,e,n){if(!i(n))throw new TypeError(s(e,t));if(!r(t)){if("default"in n)return n.default;if(n.isOptional)return null}var a=o(n.errorMessage);throw r(a)||(a=e),new TypeError(s(a,t))}},{"../object/is":212,"../string/coerce":216,"../value/is":218,"./to-short-string":211}],210:[function(t,e,n){"use strict";e.exports=function(t){try{return t.toString()}catch(e){try{return String(t)}catch(t){return null}}}},{}],211:[function(t,e,n){"use strict";var r=t("./safe-to-string"),i=/[\n\r\u2028\u2029]/g;e.exports=function(t){var e=r(t);return null===e?"<Non-coercible to string value>":(e.length>100&&(e=e.slice(0,99)+"\u2026"),e=e.replace(i,(function(t){switch(t){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},{"./safe-to-string":210}],212:[function(t,e,n){"use strict";var r=t("../value/is"),i={object:!0,function:!0,undefined:!0};e.exports=function(t){return!!r(t)&&hasOwnProperty.call(i,typeof t)}},{"../value/is":218}],213:[function(t,e,n){"use strict";var r=t("../lib/resolve-exception"),i=t("./is");e.exports=function(t){return i(t)?t:r(t,"%v is not a plain function",arguments[1])}},{"../lib/resolve-exception":209,"./is":214}],214:[function(t,e,n){"use strict";var r=t("../function/is"),i=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(t){return!!r(t)&&!i.test(o.call(t))}},{"../function/is":208}],215:[function(t,e,n){"use strict";var r=t("../object/is");e.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},{"../object/is":212}],216:[function(t,e,n){"use strict";var r=t("../value/is"),i=t("../object/is"),o=Object.prototype.toString;e.exports=function(t){if(!r(t))return null;if(i(t)){var e=t.toString;if("function"!=typeof e)return null;if(e===o)return null}try{return""+t}catch(t){return null}}},{"../object/is":212,"../value/is":218}],217:[function(t,e,n){"use strict";var r=t("../lib/resolve-exception"),i=t("./is");e.exports=function(t){return i(t)?t:r(t,"Cannot use %v",arguments[1])}},{"../lib/resolve-exception":209,"./is":218}],218:[function(t,e,n){"use strict";e.exports=function(t){return null!=t}},{}],219:[function(t,e,r){(function(e){(function(){"use strict";var n=t("bit-twiddle"),i=t("dup"),o=t("buffer").Buffer;e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,c=e.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=i([32,0])),c.BIGUINT64||(c.BIGUINT64=i([32,0])),c.BIGINT64||(c.BIGINT64=i([32,0])),c.BUFFER||(c.BUFFER=i([32,0]));var u=c.DATA,d=c.BUFFER;function f(t){if(t){var e=t.length||t.byteLength,r=n.log2(e);u[r].push(t)}}function h(t){t=n.nextPow2(t);var e=n.log2(t),r=u[e];return r.length>0?r.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(h(t),0,t)}function g(t){return new Uint16Array(h(2*t),0,t)}function m(t){return new Uint32Array(h(4*t),0,t)}function v(t){return new Int8Array(h(t),0,t)}function y(t){return new Int16Array(h(2*t),0,t)}function b(t){return new Int32Array(h(4*t),0,t)}function x(t){return new Float32Array(h(4*t),0,t)}function w(t){return new Float64Array(h(8*t),0,t)}function k(t){return a?new Uint8ClampedArray(h(t),0,t):p(t)}function _(t){return s?new BigUint64Array(h(8*t),0,t):null}function A(t){return l?new BigInt64Array(h(8*t),0,t):null}function T(t){return new DataView(h(t),0,t)}function M(t){t=n.nextPow2(t);var e=n.log2(t),r=d[e];return r.length>0?r.pop():new o(t)}r.free=function(t){if(o.isBuffer(t))d[n.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|n.log2(e);u[r].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeBigUint64=r.freeInt8=r.freeInt16=r.freeInt32=r.freeBigInt64=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(t){f(t.buffer)},r.freeArrayBuffer=f,r.freeBuffer=function(t){d[n.log2(t.length)].push(t)},r.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return h(t);switch(e){case"uint8":return p(t);case"uint16":return g(t);case"uint32":return m(t);case"int8":return v(t);case"int16":return y(t);case"int32":return b(t);case"float":case"float32":return x(t);case"double":case"float64":return w(t);case"uint8_clamped":return k(t);case"bigint64":return A(t);case"biguint64":return _(t);case"buffer":return M(t);case"data":case"dataview":return T(t);default:return null}return null},r.mallocArrayBuffer=h,r.mallocUint8=p,r.mallocUint16=g,r.mallocUint32=m,r.mallocInt8=v,r.mallocInt16=y,r.mallocInt32=b,r.mallocFloat32=r.mallocFloat=x,r.mallocFloat64=r.mallocDouble=w,r.mallocUint8Clamped=k,r.mallocBigUint64=_,r.mallocBigInt64=A,r.mallocDataView=T,r.mallocBuffer=M,r.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,u[t].length=0,d[t].length=0}}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bit-twiddle":28,buffer:31,dup:60}],220:[function(t,e,n){var r=/[\'\"]/;e.exports=function(t){return t?(r.test(t.charAt(0))&&(t=t.substr(1)),r.test(t.charAt(t.length-1))&&(t=t.substr(0,t.length-1)),t):""}},{}],221:[function(t,e,n){"use strict";e.exports=function(t,e,n){Array.isArray(n)||(n=[].slice.call(arguments,2));for(var r=0,i=n.length;r<i;r++){var o=n[r];for(var a in o)if((void 0===e[a]||Array.isArray(e[a])||t[a]!==e[a])&&a in e){var s;if(!0===o[a])s=e[a];else{if(!1===o[a])continue;if("function"==typeof o[a]&&void 0===(s=o[a](e[a],t,e)))continue}t[a]=s}}return t}},{}],222:[function(t,e,n){var r=t("get-canvas-context");e.exports=function(t){return r("webgl",t)}},{"get-canvas-context":125}],223:[function(t,e,n){var r=t("../main"),i=t("object-assign"),o=r.instance();function a(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(t,e){if("string"==typeof t){var n=t.match(l);return n?n[0]:""}var r=this._validateYear(t),i=t.month(),o=""+this.toChineseMonth(r,i);return e&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(r,i)&&(o+="i"),o},monthNames:function(t){if("string"==typeof t){var e=t.match(c);return e?e[0]:""}var n=this._validateYear(t),r=t.month(),i=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i="\u95f0"+i),i},monthNamesShort:function(t){if("string"==typeof t){var e=t.match(u);return e?e[0]:""}var n=this._validateYear(t),r=t.month(),i=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i="\u95f0"+i),i},parseMonth:function(t,e){t=this._validateYear(t);var n,r=parseInt(e);if(isNaN(r))"\u95f0"===e[0]&&(n=!0,e=e.substring(1)),"\u6708"===e[e.length-1]&&(e=e.substring(0,e.length-1)),r=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(e);else{var i=e[e.length-1];n="i"===i||"I"===i}return this.toMonthIndex(t,r,n)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(t,e){if(t.year&&(t=t.year()),"number"!=typeof t||t<1888||t>2111)throw e.replace(/\{0\}/,this.local.name);return t},toMonthIndex:function(t,e,n){var i=this.intercalaryMonth(t);if(n&&e!==i||e<1||e>12)throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return i?!n&&e<=i?e-1:e:e-1},toChineseMonth:function(t,e){t.year&&(e=(t=t.year()).month());var n=this.intercalaryMonth(t);if(e<0||e>(n?12:11))throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return n?e<n?e+1:e:e+1},intercalaryMonth:function(t){return t=this._validateYear(t),d[t-d[0]]>>13},isIntercalaryMonth:function(t,e){t.year&&(e=(t=t.year()).month());var n=this.intercalaryMonth(t);return!!n&&n===e},leapYear:function(t){return 0!==this.intercalaryMonth(t)},weekOfYear:function(t,e,n){var i,a=this._validateYear(t,r.local.invalidyear),s=f[a-f[0]],l=s>>9&4095,c=s>>5&15,u=31&s;(i=o.newDate(l,c,u)).add(4-(i.dayOfWeek()||7),"d");var d=this.toJD(t,e,n)-i.toJD();return 1+Math.floor(d/7)},monthsInYear:function(t){return this.leapYear(t)?13:12},daysInMonth:function(t,e){t.year&&(e=t.month(),t=t.year()),t=this._validateYear(t);var n=d[t-d[0]];if(e>(n>>13?12:11))throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return n&1<<12-e?30:29},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var i=this._validate(t,s,n,r.local.invalidDate);t=this._validateYear(i.year()),e=i.month(),n=i.day();var a=this.isIntercalaryMonth(t,e),s=this.toChineseMonth(t,e),l=function(t,e,n,r,i){var o,a,s;if("object"==typeof t)a=t,o=e||{};else{var l;if(!("number"==typeof t&&t>=1888&&t<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof e&&e>=1&&e<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof n&&n>=1&&n<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof r?(l=!1,o=r):(l=!!r,o=i||{}),a={year:t,month:e,day:n,isIntercalary:l}}s=a.day-1;var c,u=d[a.year-d[0]],h=u>>13;c=h&&(a.month>h||a.isIntercalary)?a.month:a.month-1;for(var p=0;p<c;p++)s+=u&1<<12-p?30:29;var g=f[a.year-f[0]],m=new Date(g>>9&4095,(g>>5&15)-1,(31&g)+s);return o.year=m.getFullYear(),o.month=1+m.getMonth(),o.day=m.getDate(),o}(t,s,n,a);return o.toJD(l.year,l.month,l.day)},fromJD:function(t){var e=o.fromJD(t),n=function(t,e,n,r){var i,o;if("object"==typeof t)i=t,o=e||{};else{if(!("number"==typeof t&&t>=1888&&t<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof e&&e>=1&&e<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof n&&n>=1&&n<=31))throw new Error("Solar day outside range 1 - 31");i={year:t,month:e,day:n},o=r||{}}var a=f[i.year-f[0]],s=i.year<<9|i.month<<5|i.day;o.year=s>=a?i.year:i.year-1,a=f[o.year-f[0]];var l,c=new Date(a>>9&4095,(a>>5&15)-1,31&a),u=new Date(i.year,i.month-1,i.day);l=Math.round((u-c)/864e5);var h,p=d[o.year-d[0]];for(h=0;h<13;h++){var g=p&1<<12-h?30:29;if(l<g)break;l-=g}var m=p>>13;return!m||h<m?(o.isIntercalary=!1,o.month=1+h):h===m?(o.isIntercalary=!0,o.month=h):(o.isIntercalary=!1,o.month=h),o.day=1+l,o}(e.year(),e.month(),e.day()),r=this.toMonthIndex(n.year,n.month,n.isIntercalary);return this.newDate(n.year,r,n.day)},fromString:function(t){var e=t.match(s),n=this._validateYear(+e[1]),r=+e[2],i=!!e[3],o=this.toMonthIndex(n,r,i),a=+e[4];return this.newDate(n,o,a)},add:function(t,e,n){var r=t.year(),i=t.month(),o=this.isIntercalaryMonth(r,i),s=this.toChineseMonth(r,i),l=Object.getPrototypeOf(a.prototype).add.call(this,t,e,n);if("y"===n){var c=l.year(),u=l.month(),d=this.isIntercalaryMonth(c,s),f=o&&d?this.toMonthIndex(c,s,!0):this.toMonthIndex(c,s,!1);f!==u&&l.month(f)}return l}});var s=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,l=/^\d?\d[iI]?/m,c=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,u=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;r.calendars.chinese=a;var d=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],f=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":237,"object-assign":176}],224:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return(t=e.year()+(e.year()<0?1:0))%4==3||t%4==-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(13===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return(t=i.year())<0&&t++,i.day()+30*(i.month()-1)+365*(t-1)+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,n=Math.floor((e-Math.floor((e+366)/1461))/365)+1;n<=0&&n--,e=Math.floor(t)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(e/30)+1,i=e-30*(r-1)+1;return this.newDate(n,r,i)}}),r.calendars.coptic=o},{"../main":237,"object-assign":176}],225:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear),!1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear),13},daysInYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear),400},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(t,e,n){return(this._validate(t,e,n,r.local.invalidDate).day()+1)%8},weekDay:function(t,e,n){var r=this.dayOfWeek(t,e,n);return r>=2&&r<=6},extraInfo:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return{century:a[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return t=i.year()+(i.year()<0?1:0),e=i.month(),(n=i.day())+(e>1?16:0)+(e>2?32*(e-2):0)+400*(t-1)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t+.5)-Math.floor(this.jdEpoch)-1;var e=Math.floor(t/400)+1;t-=400*(e-1),t+=t>15?16:0;var n=Math.floor(t/32)+1,r=t-32*(n-1)+1;return this.newDate(e<=0?e-1:e,n,r)}});var a={20:"Fruitbat",21:"Anchovy"};r.calendars.discworld=o},{"../main":237,"object-assign":176}],226:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return(t=e.year()+(e.year()<0?1:0))%4==3||t%4==-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(13===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return(t=i.year())<0&&t++,i.day()+30*(i.month()-1)+365*(t-1)+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,n=Math.floor((e-Math.floor((e+366)/1461))/365)+1;n<=0&&n--,e=Math.floor(t)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(e/30)+1,i=e-30*(r-1)+1;return this.newDate(n,r,i)}}),r.calendars.ethiopian=o},{"../main":237,"object-assign":176}],227:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function a(t,e){return t-e*Math.floor(t/e)}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return this._leapYear(e.year())},_leapYear:function(t){return a(7*(t=t<0?t+1:t)+1,19)<7},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear),this._leapYear(t.year?t.year():t)?13:12},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(t){return t=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear).year(),this.toJD(-1===t?1:t+1,7,1)-this.toJD(t,7,1)},daysInMonth:function(t,e){return t.year&&(e=t.month(),t=t.year()),this._validate(t,e,this.minDay,r.local.invalidMonth),12===e&&this.leapYear(t)||8===e&&5===a(this.daysInYear(t),10)?30:9===e&&3===a(this.daysInYear(t),10)?29:this.daysPerMonth[e-1]},weekDay:function(t,e,n){return 6!==this.dayOfWeek(t,e,n)},extraInfo:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);t=i.year(),e=i.month(),n=i.day();var o=t<=0?t+1:t,a=this.jdEpoch+this._delay1(o)+this._delay2(o)+n+1;if(e<7){for(var s=7;s<=this.monthsInYear(t);s++)a+=this.daysInMonth(t,s);for(s=1;s<e;s++)a+=this.daysInMonth(t,s)}else for(s=7;s<e;s++)a+=this.daysInMonth(t,s);return a},_delay1:function(t){var e=Math.floor((235*t-234)/19),n=12084+13753*e,r=29*e+Math.floor(n/25920);return a(3*(r+1),7)<3&&r++,r},_delay2:function(t){var e=this._delay1(t-1),n=this._delay1(t);return this._delay1(t+1)-n==356?2:n-e==382?1:0},fromJD:function(t){t=Math.floor(t)+.5;for(var e=Math.floor(98496*(t-this.jdEpoch)/35975351)-1;t>=this.toJD(-1===e?1:e+1,7,1);)e++;for(var n=t<this.toJD(e,1,1)?7:1;t>this.toJD(e,n,this.daysInMonth(e,n));)n++;var r=t-this.toJD(e,n,1)+1;return this.newDate(e,n,r)}}),r.calendars.hebrew=o},{"../main":237,"object-assign":176}],228:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){return(11*this._validate(t,this.minMonth,this.minDay,r.local.invalidYear).year()+14)%30<11},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(t){return this.leapYear(t)?355:354},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return 5!==this.dayOfWeek(t,e,n)},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return t=i.year(),e=i.month(),t=t<=0?t+1:t,(n=i.day())+Math.ceil(29.5*(e-1))+354*(t-1)+Math.floor((3+11*t)/30)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var e=Math.floor((30*(t-this.jdEpoch)+10646)/10631);e=e<=0?e-1:e;var n=Math.min(12,Math.ceil((t-29-this.toJD(e,1,1))/29.5)+1),r=t-this.toJD(e,n,1)+1;return this.newDate(e,n,r)}}),r.calendars.islamic=o},{"../main":237,"object-assign":176}],229:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return(t=e.year()<0?e.year()+1:e.year())%4==0},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return t=i.year(),e=i.month(),n=i.day(),t<0&&t++,e<=2&&(t--,e+=12),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+n-1524.5},fromJD:function(t){var e=Math.floor(t+.5)+1524,n=Math.floor((e-122.1)/365.25),r=Math.floor(365.25*n),i=Math.floor((e-r)/30.6001),o=i-Math.floor(i<14?1:13),a=n-Math.floor(o>2?4716:4715),s=e-r-Math.floor(30.6001*i);return a<=0&&a--,this.newDate(a,o,s)}}),r.calendars.julian=o},{"../main":237,"object-assign":176}],230:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function a(t,e){return t-e*Math.floor(t/e)}function s(t,e){return a(t-1,e)+1}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear),!1},formatYear:function(t){t=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear).year();var e=Math.floor(t/400);return t%=400,t+=t<0?400:0,e+"."+Math.floor(t/20)+"."+t%20},forYear:function(t){if((t=t.split(".")).length<3)throw"Invalid Mayan year";for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n],10);if(Math.abs(r)>19||n>0&&r<0)throw"Invalid Mayan year";e=20*e+r}return e},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear),18},weekOfYear:function(t,e,n){return this._validate(t,e,n,r.local.invalidDate),0},daysInYear:function(t){return this._validate(t,this.minMonth,this.minDay,r.local.invalidYear),360},daysInMonth:function(t,e){return this._validate(t,e,this.minDay,r.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(t,e,n){return this._validate(t,e,n,r.local.invalidDate).day()},weekDay:function(t,e,n){return this._validate(t,e,n,r.local.invalidDate),!0},extraInfo:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate).toJD(),o=this._toHaab(i),a=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[a[0]-1],tzolkinDay:a[0],tzolkinTrecena:a[1]}},_toHaab:function(t){var e=a(8+(t-=this.jdEpoch)+340,365);return[Math.floor(e/20)+1,a(e,20)]},_toTzolkin:function(t){return[s(20+(t-=this.jdEpoch),20),s(t+4,13)]},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(t){t=Math.floor(t)+.5-this.jdEpoch;var e=Math.floor(t/360);t%=360,t+=t<0?360:0;var n=Math.floor(t/20),r=t%20;return this.newDate(e,n,r)}}),r.calendars.mayan=o},{"../main":237,"object-assign":176}],231:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar;var a=r.instance("gregorian");i(o.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear);return a.leapYear(e.year()+(e.year()<1?1:0)+1469)},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidMonth);(t=i.year())<0&&t++;for(var o=i.day(),s=1;s<i.month();s++)o+=this.daysPerMonth[s-1];return o+a.toJD(t+1468,3,13)},fromJD:function(t){t=Math.floor(t+.5);for(var e=Math.floor((t-(this.jdEpoch-1))/366);t>=this.toJD(e+1,1,1);)e++;for(var n=t-Math.floor(this.toJD(e,1,1)+.5)+1,r=1;n>this.daysInMonth(e,r);)n-=this.daysInMonth(e,r),r++;return this.newDate(e,r,n)}}),r.calendars.nanakshahi=o},{"../main":237,"object-assign":176}],232:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(t){return this.daysInYear(t)!==this.daysPerYear},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(t){if(t=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[t])return this.daysPerYear;for(var e=0,n=this.minMonth;n<=12;n++)e+=this.NEPALI_CALENDAR_DATA[t][n];return e},daysInMonth:function(t,e){return t.year&&(e=t.month(),t=t.year()),this._validate(t,e,this.minDay,r.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[t]?this.daysPerMonth[e-1]:this.NEPALI_CALENDAR_DATA[t][e]},weekDay:function(t,e,n){return 6!==this.dayOfWeek(t,e,n)},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);t=i.year(),e=i.month(),n=i.day();var o=r.instance(),a=0,s=e,l=t;this._createMissingCalendarData(t);var c=t-(s>9||9===s&&n>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(9!==e&&(a=n,s--);9!==s;)s<=0&&(s=12,l--),a+=this.NEPALI_CALENDAR_DATA[l][s],s--;return 9===e?(a+=n-this.NEPALI_CALENDAR_DATA[l][0])<0&&(a+=o.daysInYear(c)):a+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],o.newDate(c,1,1).add(a,"d").toJD()},fromJD:function(t){var e=r.instance().fromJD(t),n=e.year(),i=e.dayOfYear(),o=n+56;this._createMissingCalendarData(o);for(var a=9,s=this.NEPALI_CALENDAR_DATA[o][0],l=this.NEPALI_CALENDAR_DATA[o][a]-s+1;i>l;)++a>12&&(a=1,o++),l+=this.NEPALI_CALENDAR_DATA[o][a];var c=this.NEPALI_CALENDAR_DATA[o][a]-(l-i);return this.newDate(o,a,c)},_createMissingCalendarData:function(t){var e=this.daysPerMonth.slice(0);e.unshift(17);for(var n=t-1;n<t+2;n++)void 0===this.NEPALI_CALENDAR_DATA[n]&&(this.NEPALI_CALENDAR_DATA[n]=e)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),r.calendars.nepali=o},{"../main":237,"object-assign":176}],233:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function a(t,e){return t-e*Math.floor(t/e)}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return 682*((e.year()-(e.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-(r.dayOfWeek()+1)%7,"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return 5!==this.dayOfWeek(t,e,n)},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);t=i.year(),e=i.month(),n=i.day();var o=t-(t>=0?474:473),s=474+a(o,2820);return n+(e<=7?31*(e-1):30*(e-1)+6)+Math.floor((682*s-110)/2816)+365*(s-1)+1029983*Math.floor(o/2820)+this.jdEpoch-1},fromJD:function(t){var e=(t=Math.floor(t)+.5)-this.toJD(475,1,1),n=Math.floor(e/1029983),r=a(e,1029983),i=2820;if(1029982!==r){var o=Math.floor(r/366),s=a(r,366);i=Math.floor((2134*o+2816*s+2815)/1028522)+o+1}var l=i+2820*n+474;l=l<=0?l-1:l;var c=t-this.toJD(l,1,1)+1,u=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),d=t-this.toJD(l,u,1)+1;return this.newDate(l,u,d)}}),r.calendars.persian=o,r.calendars.jalali=o},{"../main":237,"object-assign":176}],234:[function(t,e,n){var r=t("../main"),i=t("object-assign"),o=r.instance();function a(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return t=this._t2gYear(e.year()),o.leapYear(t)},weekOfYear:function(t,e,n){var i=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return t=this._t2gYear(i.year()),o.weekOfYear(t,i.month(),i.day())},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return t=this._t2gYear(i.year()),o.toJD(t,i.month(),i.day())},fromJD:function(t){var e=o.fromJD(t),n=this._g2tYear(e.year());return this.newDate(n,e.month(),e.day())},_t2gYear:function(t){return t+this.yearsOffset+(t>=-this.yearsOffset&&t<=-1?1:0)},_g2tYear:function(t){return t-this.yearsOffset-(t>=1&&t<=this.yearsOffset?1:0)}}),r.calendars.taiwan=a},{"../main":237,"object-assign":176}],235:[function(t,e,n){var r=t("../main"),i=t("object-assign"),o=r.instance();function a(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return t=this._t2gYear(e.year()),o.leapYear(t)},weekOfYear:function(t,e,n){var i=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return t=this._t2gYear(i.year()),o.weekOfYear(t,i.month(),i.day())},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate);return t=this._t2gYear(i.year()),o.toJD(t,i.month(),i.day())},fromJD:function(t){var e=o.fromJD(t),n=this._g2tYear(e.year());return this.newDate(n,e.month(),e.day())},_t2gYear:function(t){return t-this.yearsOffset-(t>=1&&t<=this.yearsOffset?1:0)},_g2tYear:function(t){return t+this.yearsOffset+(t>=-this.yearsOffset&&t<=-1?1:0)}}),r.calendars.thai=a},{"../main":237,"object-assign":176}],236:[function(t,e,n){var r=t("../main"),i=t("object-assign");function o(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,r.local.invalidYear);return 355===this.daysInYear(e.year())},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(t){for(var e=0,n=1;n<=12;n++)e+=this.daysInMonth(t,n);return e},daysInMonth:function(t,e){for(var n=this._validate(t,e,this.minDay,r.local.invalidMonth).toJD()-24e5+.5,i=0,o=0;o<a.length;o++){if(a[o]>n)return a[i]-a[i-1];i++}return 30},weekDay:function(t,e,n){return 5!==this.dayOfWeek(t,e,n)},toJD:function(t,e,n){var i=this._validate(t,e,n,r.local.invalidDate),o=12*(i.year()-1)+i.month()-15292;return i.day()+a[o-1]-1+24e5-.5},fromJD:function(t){for(var e=t-24e5+.5,n=0,r=0;r<a.length&&!(a[r]>e);r++)n++;var i=n+15292,o=Math.floor((i-1)/12),s=o+1,l=i-12*o,c=e-a[n-1]+1;return this.newDate(s,l,c)},isValid:function(t,e,n){var i=r.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(t=null!=t.year?t.year:t)>=1276&&t<=1500),i},_validate:function(t,e,n,i){var o=r.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw i.replace(/\{0\}/,this.local.name);return o}}),r.calendars.ummalqura=o;var a=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":237,"object-assign":176}],237:[function(t,e,n){var r=t("object-assign");function i(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(t,e,n,r){if(this._calendar=t,this._year=e,this._month=n,this._day=r,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(c.local.invalidDate||c.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function a(t,e){return"000000".substring(0,e-(t=""+t).length)+t}function s(){this.shortYearCutoff="+10"}function l(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}r(i.prototype,{instance:function(t,e){t=(t||"gregorian").toLowerCase(),e=e||"";var n=this._localCals[t+"-"+e];if(!n&&this.calendars[t]&&(n=new this.calendars[t](e),this._localCals[t+"-"+e]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return n},newDate:function(t,e,n,r,i){return(r=(null!=t&&t.year?t.calendar():"string"==typeof r?this.instance(r,i):r)||this.instance()).newDate(t,e,n)},substituteDigits:function(t){return function(e){return(e+"").replace(/[0-9]/g,(function(e){return t[e]}))}},substituteChineseDigits:function(t,e){return function(n){for(var r="",i=0;n>0;){var o=n%10;r=(0===o?"":t[o]+e[i])+r,i++,n=Math.floor(n/10)}return 0===r.indexOf(t[1]+e[1])&&(r=r.substr(1)),r||t[0]}}}),r(o.prototype,{newDate:function(t,e,n){return this._calendar.newDate(null==t?this:t,e,n)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,e,n){if(!this._calendar.isValid(t,e,n))throw(c.local.invalidDate||c.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=e,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,e){return this._calendar.add(this,t,e)},set:function(t,e){return this._calendar.set(this,t,e)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(c.local.differentCalendars||c.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var e=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===e?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+a(Math.abs(this.year()),4)+"-"+a(this.month(),2)+"-"+a(this.day(),2)}}),r(s.prototype,{_validateLevel:0,newDate:function(t,e,n){return null==t?this.today():(t.year&&(this._validate(t,e,n,c.local.invalidDate||c.regionalOptions[""].invalidDate),n=t.day(),e=t.month(),t=t.year()),new o(this,t,e,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+a(Math.abs(e.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear),12},monthOfYear:function(t,e){var n=this._validate(t,e,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(t,e){var n=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,n,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth),n},daysInYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(t,e,n){var r=this._validate(t,e,n,c.local.invalidDate||c.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,e,n){var r=this._validate(t,e,n,c.local.invalidDate||c.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(t,e,n){return this._validate(t,e,n,c.local.invalidDate||c.regionalOptions[""].invalidDate),{}},add:function(t,e,n){return this._validate(t,this.minMonth,this.minDay,c.local.invalidDate||c.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,e,n),e,n)},_add:function(t,e,n){if(this._validateLevel++,"d"===n||"w"===n){var r=t.toJD()+e*("w"===n?this.daysInWeek():1),i=t.calendar().fromJD(r);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var o=t.year()+("y"===n?e:0),a=t.monthOfYear()+("m"===n?e:0);i=t.day(),"y"===n?(t.month()!==this.fromMonthOfYear(o,a)&&(a=this.newDate(o,t.month(),this.minDay).monthOfYear()),a=Math.min(a,this.monthsInYear(o)),i=Math.min(i,this.daysInMonth(o,this.fromMonthOfYear(o,a)))):"m"===n&&(function(t){for(;a<t.minMonth;)o--,a+=t.monthsInYear(o);for(var e=t.monthsInYear(o);a>e-1+t.minMonth;)o++,a-=e,e=t.monthsInYear(o)}(this),i=Math.min(i,this.daysInMonth(o,this.fromMonthOfYear(o,a))));var s=[o,this.fromMonthOfYear(o,a),i];return this._validateLevel--,s}catch(t){throw this._validateLevel--,t}},_correctAdd:function(t,e,n,r){if(!(this.hasYearZero||"y"!==r&&"m"!==r||0!==e[0]&&t.year()>0==e[0]>0)){var i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],o=n<0?-1:1;e=this._add(t,n*i[0]+o*i[1],i[2])}return t.date(e[0],e[1],e[2])},set:function(t,e,n){this._validate(t,this.minMonth,this.minDay,c.local.invalidDate||c.regionalOptions[""].invalidDate);var r="y"===n?e:t.year(),i="m"===n?e:t.month(),o="d"===n?e:t.day();return"y"!==n&&"m"!==n||(o=Math.min(o,this.daysInMonth(r,i))),t.date(r,i,o)},isValid:function(t,e,n){this._validateLevel++;var r=this.hasYearZero||0!==t;if(r){var i=this.newDate(t,e,this.minDay);r=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(i)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(i)}return this._validateLevel--,r},toJSDate:function(t,e,n){var r=this._validate(t,e,n,c.local.invalidDate||c.regionalOptions[""].invalidDate);return c.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(t){return this.fromJD(c.instance().fromJSDate(t).toJD())},_validate:function(t,e,n,r){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(c.local.differentCalendars||c.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,e,n))throw r.replace(/\{0\}/,this.local.name);var i=this.newDate(t,e,n);return this._validateLevel--,i}catch(t){throw this._validateLevel--,t}}}),l.prototype=new s,r(l.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return(t=e.year()+(e.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var r=this._validate(t,e,n,c.local.invalidDate||c.regionalOptions[""].invalidDate);t=r.year(),e=r.month(),n=r.day(),t<0&&t++,e<3&&(e+=12,t--);var i=Math.floor(t/100),o=2-i+Math.floor(i/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+n+o-1524.5},fromJD:function(t){var e=Math.floor(t+.5),n=Math.floor((e-1867216.25)/36524.25),r=1524+(n=e+1+n-Math.floor(n/4)),i=Math.floor((r-122.1)/365.25),o=Math.floor(365.25*i),a=Math.floor((r-o)/30.6001),s=r-o-Math.floor(30.6001*a),l=a-(a>13.5?13:1),c=i-(l>2.5?4716:4715);return c<=0&&c--,this.newDate(c,l,s)},toJSDate:function(t,e,n){var r=this._validate(t,e,n,c.local.invalidDate||c.regionalOptions[""].invalidDate),i=new Date(r.year(),r.month()-1,r.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var c=e.exports=new i;c.cdate=o,c.baseCalendar=s,c.calendars.gregorian=l},{"object-assign":176}],238:[function(t,e,n){var r=t("object-assign"),i=t("./main");r(i.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),i.local=i.regionalOptions[""],r(i.cdate.prototype,{formatDate:function(t,e){return"string"!=typeof t&&(e=t,t=""),this._calendar.formatDate(t||"",this,e)}}),r(i.baseCalendar.prototype,{UNIX_EPOCH:i.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:i.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(t,e,n){if("string"!=typeof t&&(n=e,e=t,t=""),!e)return"";if(e.calendar()!==this)throw i.local.invalidFormat||i.regionalOptions[""].invalidFormat;t=t||this.local.dateFormat;for(var r,o,a,s,l=(n=n||{}).dayNamesShort||this.local.dayNamesShort,c=n.dayNames||this.local.dayNames,u=n.monthNumbers||this.local.monthNumbers,d=n.monthNamesShort||this.local.monthNamesShort,f=n.monthNames||this.local.monthNames,h=(n.calculateWeek||this.local.calculateWeek,function(e,n){for(var r=1;k+r<t.length&&t.charAt(k+r)===e;)r++;return k+=r-1,Math.floor(r/(n||1))>1}),p=function(t,e,n,r){var i=""+e;if(h(t,r))for(;i.length<n;)i="0"+i;return i},g=this,m=function(t){return"function"==typeof u?u.call(g,t,h("m")):b(p("m",t.month(),2))},v=function(t,e){return e?"function"==typeof f?f.call(g,t):f[t.month()-g.minMonth]:"function"==typeof d?d.call(g,t):d[t.month()-g.minMonth]},y=this.local.digits,b=function(t){return n.localNumbers&&y?y(t):t},x="",w=!1,k=0;k<t.length;k++)if(w)"'"!==t.charAt(k)||h("'")?x+=t.charAt(k):w=!1;else switch(t.charAt(k)){case"d":x+=b(p("d",e.day(),2));break;case"D":x+=(r="D",o=e.dayOfWeek(),a=l,s=c,h(r)?s[o]:a[o]);break;case"o":x+=p("o",e.dayOfYear(),3);break;case"w":x+=p("w",e.weekOfYear(),2);break;case"m":x+=m(e);break;case"M":x+=v(e,h("M"));break;case"y":x+=h("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":h("Y",2),x+=e.formatYear();break;case"J":x+=e.toJD();break;case"@":x+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":x+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":h("'")?x+="'":w=!0;break;default:x+=t.charAt(k)}return x},parseDate:function(t,e,n){if(null==e)throw i.local.invalidArguments||i.regionalOptions[""].invalidArguments;if(""===(e="object"==typeof e?e.toString():e+""))return null;t=t||this.local.dateFormat;var r=(n=n||{}).shortYearCutoff||this.shortYearCutoff;r="string"!=typeof r?r:this.today().year()%100+parseInt(r,10);for(var o=n.dayNamesShort||this.local.dayNamesShort,a=n.dayNames||this.local.dayNames,s=n.parseMonth||this.local.parseMonth,l=n.monthNumbers||this.local.monthNumbers,c=n.monthNamesShort||this.local.monthNamesShort,u=n.monthNames||this.local.monthNames,d=-1,f=-1,h=-1,p=-1,g=-1,m=!1,v=!1,y=function(e,n){for(var r=1;M+r<t.length&&t.charAt(M+r)===e;)r++;return M+=r-1,Math.floor(r/(n||1))>1},b=function(t,n){var r=y(t,n),o=[2,3,r?4:2,r?4:2,10,11,20]["oyYJ@!".indexOf(t)+1],a=new RegExp("^-?\\d{1,"+o+"}"),s=e.substring(T).match(a);if(!s)throw(i.local.missingNumberAt||i.regionalOptions[""].missingNumberAt).replace(/\{0\}/,T);return T+=s[0].length,parseInt(s[0],10)},x=this,w=function(){if("function"==typeof l){y("m");var t=l.call(x,e.substring(T));return T+=t.length,t}return b("m")},k=function(t,n,r,o){for(var a=y(t,o)?r:n,s=0;s<a.length;s++)if(e.substr(T,a[s].length).toLowerCase()===a[s].toLowerCase())return T+=a[s].length,s+x.minMonth;throw(i.local.unknownNameAt||i.regionalOptions[""].unknownNameAt).replace(/\{0\}/,T)},_=function(){if("function"==typeof u){var t=y("M")?u.call(x,e.substring(T)):c.call(x,e.substring(T));return T+=t.length,t}return k("M",c,u)},A=function(){if(e.charAt(T)!==t.charAt(M))throw(i.local.unexpectedLiteralAt||i.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,T);T++},T=0,M=0;M<t.length;M++)if(v)"'"!==t.charAt(M)||y("'")?A():v=!1;else switch(t.charAt(M)){case"d":p=b("d");break;case"D":k("D",o,a);break;case"o":g=b("o");break;case"w":b("w");break;case"m":h=w();break;case"M":h=_();break;case"y":var E=M;m=!y("y",2),M=E,f=b("y",2);break;case"Y":f=b("Y",2);break;case"J":d=b("J")+.5,"."===e.charAt(T)&&(T++,b("J"));break;case"@":d=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":d=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":T=e.length;break;case"'":y("'")?A():v=!0;break;default:A()}if(T<e.length)throw i.local.unexpectedText||i.regionalOptions[""].unexpectedText;if(-1===f?f=this.today().year():f<100&&m&&(f+=-1===r?1900:this.today().year()-this.today().year()%100-(f<=r?0:100)),"string"==typeof h&&(h=s.call(this,f,h)),g>-1){h=1,p=g;for(var C=this.daysInMonth(f,h);p>C;C=this.daysInMonth(f,h))h++,p-=C}return d>-1?this.fromJD(d):this.newDate(f,h,p)},determineDate:function(t,e,n,r,i){n&&"object"!=typeof n&&(i=r,r=n,n=null),"string"!=typeof r&&(i=r,r="");var o=this;return e=e?e.newDate():null,null==t?e:"string"==typeof t?function(t){try{return o.parseDate(r,t,i)}catch(t){}for(var e=((t=t.toLowerCase()).match(/^c/)&&n?n.newDate():null)||o.today(),a=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=a.exec(t);s;)e.add(parseInt(s[1],10),s[2]||"d"),s=a.exec(t);return e}(t):"number"==typeof t?isNaN(t)||t===1/0||t===-1/0?e:o.today().add(t,"d"):o.newDate(t)}})},{"./main":237,"object-assign":176}],239:[function(t,e,n){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],240:[function(t,e,n){"use strict";var r=t("./arrow_paths"),i=t("../../plots/font_attributes"),o=t("../../plots/cartesian/constants"),a=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),e.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:i({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:i({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":374,"../../plot_api/plot_template":439,"../../plots/cartesian/constants":457,"../../plots/font_attributes":478,"./arrow_paths":239}],241:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("./draw").draw;function a(t){var e=t._fullLayout;r.filterVisible(e.annotations).forEach((function(e){var n=i.getFromId(t,e.xref),r=i.getFromId(t,e.yref),o=i.getRefType(e.xref),a=i.getRefType(e.yref);e._extremes={},"range"===o&&s(e,n),"range"===a&&s(e,r)}))}function s(t,e){var n,r=e._id,o=r.charAt(0),a=t[o],s=t["a"+o],l=t[o+"ref"],c=t["a"+o+"ref"],u=t["_"+o+"padplus"],d=t["_"+o+"padminus"],f={x:1,y:-1}[o]*t[o+"shift"],h=3*t.arrowsize*t.arrowwidth||0,p=h+f,g=h-f,m=3*t.startarrowsize*t.arrowwidth||0,v=m+f,y=m-f;if(c===l){var b=i.findExtremes(e,[e.r2c(a)],{ppadplus:p,ppadminus:g}),x=i.findExtremes(e,[e.r2c(s)],{ppadplus:Math.max(u,v),ppadminus:Math.max(d,y)});n={min:[b.min[0],x.min[0]],max:[b.max[0],x.max[0]]}}else v=s?v+s:v,y=s?y-s:y,n=i.findExtremes(e,[e.r2c(a)],{ppadplus:Math.max(u,p,v),ppadminus:Math.max(d,g,y)});t._extremes[r]=n}e.exports=function(t){var e=t._fullLayout;if(r.filterVisible(e.annotations).length&&t._fullData.length)return r.syncOrAsync([o,a],t)}},{"../../lib":400,"../../plots/cartesian/axes":450,"./draw":246}],242:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry"),o=t("../../plot_api/plot_template").arrayEditor;function a(t,e){var n,r,i,o,a,l,c,u=t._fullLayout.annotations,d=[],f=[],h=[],p=(e||[]).length;for(n=0;n<u.length;n++)if(o=(i=u[n]).clicktoshow){for(r=0;r<p;r++)if(l=(a=e[r]).xaxis,c=a.yaxis,l._id===i.xref&&c._id===i.yref&&l.d2r(a.x)===s(i._xclick,l)&&c.d2r(a.y)===s(i._yclick,c)){(i.visible?"onout"===o?f:h:d).push(n);break}r===p&&i.visible&&"onout"===o&&f.push(n)}return{on:d,off:f,explicitOff:h}}function s(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}e.exports={hasClickToShow:function(t,e){var n=a(t,e);return n.on.length>0||n.explicitOff.length>0},onClick:function(t,e){var n,s,l=a(t,e),c=l.on,u=l.off.concat(l.explicitOff),d={},f=t._fullLayout.annotations;if(c.length||u.length){for(n=0;n<c.length;n++)(s=o(t.layout,"annotations",f[c[n]])).modifyItem("visible",!0),r.extendFlat(d,s.getUpdateObj());for(n=0;n<u.length;n++)(s=o(t.layout,"annotations",f[u[n]])).modifyItem("visible",!1),r.extendFlat(d,s.getUpdateObj());return i.call("update",t,{},d)}}}},{"../../lib":400,"../../plot_api/plot_template":439,"../../registry":490}],243:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../color");e.exports=function(t,e,n,o){o("opacity");var a=o("bgcolor"),s=o("bordercolor"),l=i.opacity(s);o("borderpad");var c=o("borderwidth"),u=o("showarrow");if(o("text",u?" ":n._dfltTitle.annotation),o("textangle"),r.coerceFont(o,"font",n.font),o("width"),o("align"),o("height")&&o("valign"),u){var d,f,h=o("arrowside");-1!==h.indexOf("end")&&(d=o("arrowhead"),f=o("arrowsize")),-1!==h.indexOf("start")&&(o("startarrowhead",d),o("startarrowsize",f)),o("arrowcolor",l?e.bordercolor:i.defaultLine),o("arrowwidth",2*(l&&c||1)),o("standoff"),o("startstandoff")}var p=o("hovertext"),g=n.hoverlabel||{};if(p){var m=o("hoverlabel.bgcolor",g.bgcolor||(i.opacity(a)?i.rgb(a):i.defaultLine)),v=o("hoverlabel.bordercolor",g.bordercolor||i.contrast(m));r.coerceFont(o,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||v})}o("captureevents",!!p)}},{"../../lib":400,"../color":257}],244:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib/to_log_range");e.exports=function(t,e,n,o){e=e||{};var a="log"===n&&"linear"===e.type,s="linear"===n&&"log"===e.type;if(a||s)for(var l,c,u=t._fullLayout.annotations,d=e._id.charAt(0),f=0;f<u.length;f++)l=u[f],c="annotations["+f+"].",l[d+"ref"]===e._id&&h(d),l["a"+d+"ref"]===e._id&&h("a"+d);function h(t){var n=l[t],s=null;s=a?i(n,e.range):Math.pow(10,n),r(s)||(s=null),o(c+t,s)}}},{"../../lib/to_log_range":428,"fast-isnumeric":121}],245:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),a=t("./common_defaults"),s=t("./attributes");function l(t,e,n){function o(n,i){return r.coerce(t,e,s,n,i)}var l=o("visible"),c=o("clicktoshow");if(l||c){a(t,e,n,o);for(var u=e.showarrow,d=["x","y"],f=[-10,-30],h={_fullLayout:n},p=0;p<2;p++){var g=d[p],m=i.coerceRef(t,e,h,g,"","paper");if("paper"!==m&&i.getFromId(h,m)._annIndices.push(e._index),i.coercePosition(e,h,o,m,g,.5),u){var v="a"+g,y=i.coerceRef(t,e,h,v,"pixel",["pixel","paper"]);"pixel"!==y&&y!==m&&(y=e[v]="pixel");var b="pixel"===y?f[p]:.4;i.coercePosition(e,h,o,y,v,b)}o(g+"anchor"),o(g+"shift")}if(r.noneOrAll(t,e,["x","y"]),u&&r.noneOrAll(t,e,["ax","ay"]),c){var x=o("xclick"),w=o("yclick");e._xclick=void 0===x?e.x:i.cleanPosition(x,h,e.xref),e._yclick=void 0===w?e.y:i.cleanPosition(w,h,e.yref)}}}e.exports=function(t,e){o(t,e,{name:"annotations",handleItemDefaults:l})}},{"../../lib":400,"../../plots/array_container_defaults":445,"../../plots/cartesian/axes":450,"./attributes":240,"./common_defaults":243}],246:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../registry"),o=t("../../plots/plots"),a=t("../../lib"),s=a.strTranslate,l=t("../../plots/cartesian/axes"),c=t("../color"),u=t("../drawing"),d=t("../fx"),f=t("../../lib/svg_text_utils"),h=t("../../lib/setcursor"),p=t("../dragelement"),g=t("../../plot_api/plot_template").arrayEditor,m=t("./draw_arrow_head");function v(t,e){var n=t._fullLayout.annotations[e]||{},r=l.getFromId(t,n.xref),i=l.getFromId(t,n.yref);r&&r.setScale(),i&&i.setScale(),b(t,n,e,!1,r,i)}function y(t,e,n,r,i){var o=i[n],a=i[n+"ref"],s=-1!==n.indexOf("y"),c="domain"===l.getRefType(a),u=s?r.h:r.w;return t?c?o+(s?-e:e)/t._length:t.p2r(t.r2p(o)+e):o+(s?-e:e)/u}function b(t,e,n,o,v,b){var x,w,k=t._fullLayout,_=t._fullLayout._size,A=t._context.edits;o?(x="annotation-"+o,w=o+".annotations"):(x="annotation",w="annotations");var T=g(t.layout,w,e),M=T.modifyBase,E=T.modifyItem,C=T.getUpdateObj;k._infolayer.selectAll("."+x+'[data-index="'+n+'"]').remove();var S="clip"+k._uid+"_ann"+n;if(e._input&&!1!==e.visible){var O={x:{},y:{}},L=+e.textangle||0,P=k._infolayer.append("g").classed(x,!0).attr("data-index",String(n)).style("opacity",e.opacity),D=P.append("g").classed("annotation-text-g",!0),R=A[e.showarrow?"annotationTail":"annotationPosition"],I=e.captureevents||A.annotationText||R,z=D.append("g").style("pointer-events",I?"all":null).call(h,"pointer").on("click",(function(){t._dragging=!1,t.emit("plotly_clickannotation",W(r.event))}));e.hovertext&&z.on("mouseover",(function(){var n=e.hoverlabel,r=n.font,i=this.getBoundingClientRect(),o=t.getBoundingClientRect();d.loneHover({x0:i.left-o.left,x1:i.right-o.left,y:(i.top+i.bottom)/2-o.top,text:e.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:t})})).on("mouseout",(function(){d.loneUnhover(k._hoverlayer.node())}));var N=e.borderwidth,B=e.borderpad,F=N+B,j=z.append("rect").attr("class","bg").style("stroke-width",N+"px").call(c.stroke,e.bordercolor).call(c.fill,e.bgcolor),$=e.width||e.height,Z=k._topclips.selectAll("#"+S).data($?[0]:[]);Z.enter().append("clipPath").classed("annclip",!0).attr("id",S).append("rect"),Z.exit().remove();var U=e.font,H=k._meta?a.templateString(e.text,k._meta):e.text,V=z.append("text").classed("annotation-text",!0).text(H);A.annotationText?V.call(f.makeEditable,{delegate:z,gd:t}).call(Y).on("edit",(function(n){e.text=n,this.call(Y),E("text",n),v&&v.autorange&&M(v._name+".autorange",!0),b&&b.autorange&&M(b._name+".autorange",!0),i.call("_guiRelayout",t,C())})):V.call(Y)}else r.selectAll("#"+S).remove();function W(t){var r={index:n,annotation:e._input,fullAnnotation:e,event:t};return o&&(r.subplotId=o),r}function Y(n){return n.call(u.font,U).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),f.convertToTspans(n,t,G),n}function G(){var n=V.selectAll("a");1===n.size()&&n.text()===V.text()&&z.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(j.node());var r=z.select(".annotation-text-math-group"),d=!r.empty(),g=u.bBox((d?r:V).node()),x=g.width,w=g.height,T=e.width||x,I=e.height||w,B=Math.round(T+2*F),U=Math.round(I+2*F);function H(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}for(var Y=!1,G=["x","y"],q=0;q<G.length;q++){var X,J,K,Q,tt,et=G[q],nt=e[et+"ref"]||et,rt=e["a"+et+"ref"],it={x:v,y:b}[et],ot=(L+("x"===et?0:-90))*Math.PI/180,at=B*Math.cos(ot),st=U*Math.sin(ot),lt=Math.abs(at)+Math.abs(st),ct=e[et+"anchor"],ut=e[et+"shift"]*("x"===et?1:-1),dt=O[et],ft=l.getRefType(nt);if(it&&"domain"!==ft){var ht=it.r2fraction(e[et]);(ht<0||ht>1)&&(rt===nt?((ht=it.r2fraction(e["a"+et]))<0||ht>1)&&(Y=!0):Y=!0),X=it._offset+it.r2p(e[et]),Q=.5}else{var pt="domain"===ft;"x"===et?(K=e[et],X=pt?it._offset+it._length*K:X=_.l+_.w*K):(K=1-e[et],X=pt?it._offset+it._length*K:X=_.t+_.h*K),Q=e.showarrow?.5:K}if(e.showarrow){dt.head=X;var gt=e["a"+et];if(tt=at*H(.5,e.xanchor)-st*H(.5,e.yanchor),rt===nt){var mt=l.getRefType(rt);"domain"===mt?("y"===et&&(gt=1-gt),dt.tail=it._offset+it._length*gt):"paper"===mt?"y"===et?(gt=1-gt,dt.tail=_.t+_.h*gt):dt.tail=_.l+_.w*gt:dt.tail=it._offset+it.r2p(gt),J=tt}else dt.tail=X+gt,J=tt+gt;dt.text=dt.tail+tt;var vt=k["x"===et?"width":"height"];if("paper"===nt&&(dt.head=a.constrain(dt.head,1,vt-1)),"pixel"===rt){var yt=-Math.max(dt.tail-3,dt.text),bt=Math.min(dt.tail+3,dt.text)-vt;yt>0?(dt.tail+=yt,dt.text+=yt):bt>0&&(dt.tail-=bt,dt.text-=bt)}dt.tail+=ut,dt.head+=ut}else J=tt=lt*H(Q,ct),dt.text=X+tt;dt.text+=ut,tt+=ut,J+=ut,e["_"+et+"padplus"]=lt/2+J,e["_"+et+"padminus"]=lt/2-J,e["_"+et+"size"]=lt,e["_"+et+"shift"]=tt}if(Y)z.remove();else{var xt=0,wt=0;if("left"!==e.align&&(xt=(T-x)*("center"===e.align?.5:1)),"top"!==e.valign&&(wt=(I-w)*("middle"===e.valign?.5:1)),d)r.select("svg").attr({x:F+xt-1,y:F+wt}).call(u.setClipUrl,$?S:null,t);else{var kt=F+wt-g.top,_t=F+xt-g.left;V.call(f.positionText,_t,kt).call(u.setClipUrl,$?S:null,t)}Z.select("rect").call(u.setRect,F,F,T,I),j.call(u.setRect,N/2,N/2,B-N,U-N),z.call(u.setTranslate,Math.round(O.x.text-B/2),Math.round(O.y.text-U/2)),D.attr({transform:"rotate("+L+","+O.x.text+","+O.y.text+")"});var At,Tt=function(n,r){P.selectAll(".annotation-arrow-g").remove();var l=O.x.head,d=O.y.head,f=O.x.tail+n,h=O.y.tail+r,g=O.x.text+n,x=O.y.text+r,w=a.rotationXYMatrix(L,g,x),k=a.apply2DTransform(w),T=a.apply2DTransform2(w),S=+j.attr("width"),R=+j.attr("height"),I=g-.5*S,N=I+S,B=x-.5*R,F=B+R,$=[[I,B,I,F],[I,F,N,F],[N,F,N,B],[N,B,I,B]].map(T);if(!$.reduce((function(t,e){return t^!!a.segmentsIntersect(l,d,l+1e6,d+1e6,e[0],e[1],e[2],e[3])}),!1)){$.forEach((function(t){var e=a.segmentsIntersect(f,h,l,d,t[0],t[1],t[2],t[3]);e&&(f=e.x,h=e.y)}));var Z=e.arrowwidth,U=e.arrowcolor,H=e.arrowside,V=P.append("g").style({opacity:c.opacity(U)}).classed("annotation-arrow-g",!0),W=V.append("path").attr("d","M"+f+","+h+"L"+l+","+d).style("stroke-width",Z+"px").call(c.stroke,c.rgb(U));if(m(W,H,e),A.annotationPosition&&W.node().parentNode&&!o){var Y=l,G=d;if(e.standoff){var q=Math.sqrt(Math.pow(l-f,2)+Math.pow(d-h,2));Y+=e.standoff*(f-l)/q,G+=e.standoff*(h-d)/q}var X,J,K=V.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(f-Y)+","+(h-G),transform:s(Y,G)}).style("stroke-width",Z+6+"px").call(c.stroke,"rgba(0,0,0,0)").call(c.fill,"rgba(0,0,0,0)");p.init({element:K.node(),gd:t,prepFn:function(){var t=u.getTranslate(z);X=t.x,J=t.y,v&&v.autorange&&M(v._name+".autorange",!0),b&&b.autorange&&M(b._name+".autorange",!0)},moveFn:function(t,n){var r=k(X,J),i=r[0]+t,o=r[1]+n;z.call(u.setTranslate,i,o),E("x",y(v,t,"x",_,e)),E("y",y(b,n,"y",_,e)),e.axref===e.xref&&E("ax",y(v,t,"ax",_,e)),e.ayref===e.yref&&E("ay",y(b,n,"ay",_,e)),V.attr("transform",s(t,n)),D.attr({transform:"rotate("+L+","+i+","+o+")"})},doneFn:function(){i.call("_guiRelayout",t,C());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}};e.showarrow&&Tt(0,0),R&&p.init({element:z.node(),gd:t,prepFn:function(){At=D.attr("transform")},moveFn:function(t,n){var r="pointer";if(e.showarrow)e.axref===e.xref?E("ax",y(v,t,"ax",_,e)):E("ax",e.ax+t),e.ayref===e.yref?E("ay",y(b,n,"ay",_.w,e)):E("ay",e.ay+n),Tt(t,n);else{if(o)return;var i,a;if(v)i=y(v,t,"x",_,e);else{var l=e._xsize/_.w,c=e.x+(e._xshift-e.xshift)/_.w-l/2;i=p.align(c+t/_.w,l,0,1,e.xanchor)}if(b)a=y(b,n,"y",_,e);else{var u=e._ysize/_.h,d=e.y-(e._yshift+e.yshift)/_.h-u/2;a=p.align(d-n/_.h,u,0,1,e.yanchor)}E("x",i),E("y",a),v&&b||(r=p.getCursor(v?.5:i,b?.5:a,e.xanchor,e.yanchor))}D.attr({transform:s(t,n)+At}),h(z,r)},clickFn:function(n,r){e.captureevents&&t.emit("plotly_clickannotation",W(r))},doneFn:function(){h(z),i.call("_guiRelayout",t,C());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}}e.exports={draw:function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var n=0;n<e.annotations.length;n++)e.annotations[n].visible&&v(t,n);return o.previousPromises(t)},drawOne:v,drawRaw:b}},{"../../lib":400,"../../lib/setcursor":421,"../../lib/svg_text_utils":426,"../../plot_api/plot_template":439,"../../plots/cartesian/axes":450,"../../plots/plots":488,"../../registry":490,"../color":257,"../dragelement":276,"../drawing":279,"../fx":297,"./draw_arrow_head":247,"@plotly/d3":14}],247:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../color"),o=t("./arrow_paths"),a=t("../../lib"),s=a.strScale,l=a.strRotate,c=a.strTranslate;e.exports=function(t,e,n){var a,u,d,f,h=t.node(),p=o[n.arrowhead||0],g=o[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),v=(n.arrowwidth||1)*(n.startarrowsize||1),y=e.indexOf("start")>=0,b=e.indexOf("end")>=0,x=p.backoff*m+n.standoff,w=g.backoff*v+n.startstandoff;if("line"===h.nodeName){a={x:+t.attr("x1"),y:+t.attr("y1")},u={x:+t.attr("x2"),y:+t.attr("y2")};var k=a.x-u.x,_=a.y-u.y;if(f=(d=Math.atan2(_,k))+Math.PI,x&&w&&x+w>Math.sqrt(k*k+_*_))return void R();if(x){if(x*x>k*k+_*_)return void R();var A=x*Math.cos(d),T=x*Math.sin(d);u.x+=A,u.y+=T,t.attr({x2:u.x,y2:u.y})}if(w){if(w*w>k*k+_*_)return void R();var M=w*Math.cos(d),E=w*Math.sin(d);a.x-=M,a.y-=E,t.attr({x1:a.x,y1:a.y})}}else if("path"===h.nodeName){var C=h.getTotalLength(),S="";if(C<x+w)return void R();var O=h.getPointAtLength(0),L=h.getPointAtLength(.1);d=Math.atan2(O.y-L.y,O.x-L.x),a=h.getPointAtLength(Math.min(w,C)),S="0px,"+w+"px,";var P=h.getPointAtLength(C),D=h.getPointAtLength(C-.1);f=Math.atan2(P.y-D.y,P.x-D.x),u=h.getPointAtLength(Math.max(0,C-x)),S+=C-(S?w+x:x)+"px,"+C+"px",t.style("stroke-dasharray",S)}function R(){t.style("stroke-dasharray","0px,100px")}function I(e,o,a,u){e.path&&(e.noRotate&&(a=0),r.select(h.parentNode).append("path").attr({class:t.attr("class"),d:e.path,transform:c(o.x,o.y)+l(180*a/Math.PI)+s(u)}).style({fill:i.rgb(n.arrowcolor),"stroke-width":0}))}y&&I(g,a,d,v),b&&I(p,u,f,m)}},{"../../lib":400,"../color":257,"./arrow_paths":239,"@plotly/d3":14}],248:[function(t,e,n){"use strict";var r=t("./draw"),i=t("./click");e.exports={moduleType:"component",name:"annotations",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("annotations"),calcAutorange:t("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":461,"./attributes":240,"./calc_autorange":241,"./click":242,"./convert_coords":244,"./defaults":245,"./draw":246}],249:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),i=t("../../plot_api/edit_types").overrideAll,o=t("../../plot_api/plot_template").templatedArray;e.exports=i(o("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":432,"../../plot_api/plot_template":439,"../annotations/attributes":240}],250:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes");function o(t,e){var n=e.fullSceneLayout.domain,o=e.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},r.extendFlat(t._xa,a),i.setConvert(t._xa),t._xa._offset=o.l+n.x[0]*o.w,t._xa.l2p=function(){return.5*(1+t._pdata[0]/t._pdata[3])*o.w*(n.x[1]-n.x[0])},t._ya={},r.extendFlat(t._ya,a),i.setConvert(t._ya),t._ya._offset=o.t+(1-n.y[1])*o.h,t._ya.l2p=function(){return.5*(1-t._pdata[1]/t._pdata[3])*o.h*(n.y[1]-n.y[0])}}e.exports=function(t){for(var e=t.fullSceneLayout.annotations,n=0;n<e.length;n++)o(e[n],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()}},{"../../lib":400,"../../plots/cartesian/axes":450}],251:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),a=t("../annotations/common_defaults"),s=t("./attributes");function l(t,e,n,o){function l(n,i){return r.coerce(t,e,s,n,i)}function c(t){var r=t+"axis",o={_fullLayout:{}};return o._fullLayout[r]=n[r],i.coercePosition(e,o,l,t,t,.5)}l("visible")&&(a(t,e,o.fullLayout,l),c("x"),c("y"),c("z"),r.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",l("xanchor"),l("yanchor"),l("xshift"),l("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",l("ax",-10),l("ay",-30),r.noneOrAll(t,e,["ax","ay"])))}e.exports=function(t,e,n){o(t,e,{name:"annotations",handleItemDefaults:l,fullLayout:n.fullLayout})}},{"../../lib":400,"../../plots/array_container_defaults":445,"../../plots/cartesian/axes":450,"../annotations/common_defaults":243,"./attributes":249}],252:[function(t,e,n){"use strict";var r=t("../annotations/draw").drawRaw,i=t("../../plots/gl3d/project"),o=["x","y","z"];e.exports=function(t){for(var e=t.fullSceneLayout,n=t.dataScale,a=e.annotations,s=0;s<a.length;s++){for(var l=a[s],c=!1,u=0;u<3;u++){var d=o[u],f=l[d],h=e[d+"axis"].r2fraction(f);if(h<0||h>1){c=!0;break}}c?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+s+'"]').remove():(l._pdata=i(t.glplot.cameraParams,[e.xaxis.r2l(l.x)*n[0],e.yaxis.r2l(l.y)*n[1],e.zaxis.r2l(l.z)*n[2]]),r(t.graphDiv,l,s,t.id,l._xa,l._ya))}}},{"../../plots/gl3d/project":485,"../annotations/draw":246}],253:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib");e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),includeBasePlot:function(t,e){var n=r.subplotsRegistry.gl3d;if(n)for(var o=n.attrRegex,a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];o.test(l)&&(t[l].annotations||[]).length&&(i.pushUnique(e._basePlotModules,n),i.pushUnique(e._subplots.gl3d,l))}},convert:t("./convert"),draw:t("./draw")}},{"../../lib":400,"../../registry":490,"./attributes":249,"./convert":250,"./defaults":251,"./draw":252}],254:[function(t,e,n){"use strict";e.exports=t("world-calendars/dist/main"),t("world-calendars/dist/plus"),t("world-calendars/dist/calendars/chinese"),t("world-calendars/dist/calendars/coptic"),t("world-calendars/dist/calendars/discworld"),t("world-calendars/dist/calendars/ethiopian"),t("world-calendars/dist/calendars/hebrew"),t("world-calendars/dist/calendars/islamic"),t("world-calendars/dist/calendars/julian"),t("world-calendars/dist/calendars/mayan"),t("world-calendars/dist/calendars/nanakshahi"),t("world-calendars/dist/calendars/nepali"),t("world-calendars/dist/calendars/persian"),t("world-calendars/dist/calendars/taiwan"),t("world-calendars/dist/calendars/thai"),t("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":223,"world-calendars/dist/calendars/coptic":224,"world-calendars/dist/calendars/discworld":225,"world-calendars/dist/calendars/ethiopian":226,"world-calendars/dist/calendars/hebrew":227,"world-calendars/dist/calendars/islamic":228,"world-calendars/dist/calendars/julian":229,"world-calendars/dist/calendars/mayan":230,"world-calendars/dist/calendars/nanakshahi":231,"world-calendars/dist/calendars/nepali":232,"world-calendars/dist/calendars/persian":233,"world-calendars/dist/calendars/taiwan":234,"world-calendars/dist/calendars/thai":235,"world-calendars/dist/calendars/ummalqura":236,"world-calendars/dist/main":237,"world-calendars/dist/plus":238}],255:[function(t,e,n){"use strict";var r=t("./calendars"),i=t("../../lib"),o=t("../../constants/numerical"),a=o.EPOCHJD,s=o.ONEDAY,l={valType:"enumerated",values:i.sortObjectKeys(r.calendars),editType:"calc",dflt:"gregorian"},c=function(t,e,n,r){var o={};return o[n]=l,i.coerce(t,e,o,n,r)},u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},d={};function f(t){var e=d[t];return e||(d[t]=r.instance(t))}function h(t){return i.extendFlat({},l,{description:t})}function p(t){return"Sets the calendar system to use with `"+t+"` date data."}var g={xcalendar:h(p("x"))},m=i.extendFlat({},g,{ycalendar:h(p("y"))}),v=i.extendFlat({},m,{zcalendar:h(p("z"))}),y=h(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));e.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:m,bar:m,box:m,heatmap:m,contour:m,histogram:m,histogram2d:m,histogram2dcontour:m,scatter3d:v,surface:v,mesh3d:v,scattergl:m,ohlc:g,candlestick:g},layout:{calendar:h(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:y},yaxis:{calendar:y},scene:{xaxis:{calendar:y},yaxis:{calendar:y},zaxis:{calendar:y}},polar:{radialaxis:{calendar:y}}},transforms:{filter:{valuecalendar:h(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:h(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:l,handleDefaults:c,handleTraceDefaults:function(t,e,n,r){for(var i=0;i<n.length;i++)c(t,e,n[i]+"calendar",r.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:f,worldCalFmt:function(t,e,n){for(var r,i,o,l,c,d=Math.floor((e+.05)/s)+a,h=f(n).fromJD(d),p=0;-1!==(p=t.indexOf("%",p));)"0"===(r=t.charAt(p+1))||"-"===r||"_"===r?(o=3,i=t.charAt(p+2),"_"===r&&(r="-")):(i=r,r="0",o=2),(l=u[i])?(c="##"===l?"##":h.formatDate(l[r]),t=t.substr(0,p)+c+t.substr(p+o),p+=c.length):p+=o;return t}}},{"../../constants/numerical":378,"../../lib":400,"./calendars":254}],256:[function(t,e,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],257:[function(t,e,n){"use strict";var r=t("tinycolor2"),i=t("fast-isnumeric"),o=t("../../lib/array").isTypedArray,a=e.exports={},s=t("./attributes");a.defaults=s.defaults;var l=a.defaultLine=s.defaultLine;a.lightLine=s.lightLine;var c=a.background=s.background;function u(t){if(i(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var n=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var r=n[1].trim().split(/\s*[\s,]\s*/),o="a"===e.charAt(3)&&4===r.length;if(!o&&3!==r.length)return t;for(var a=0;a<r.length;a++){if(!r[a].length)return t;if(r[a]=Number(r[a]),!(r[a]>=0))return t;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return t}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return o?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}a.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},a.rgb=function(t){return a.tinyRGB(r(t))},a.opacity=function(t){return t?r(t).getAlpha():0},a.addOpacity=function(t,e){var n=r(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+e+")"},a.combine=function(t,e){var n=r(t).toRgb();if(1===n.a)return r(t).toRgbString();var i=r(e||c).toRgb(),o=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},a={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return r(a).toRgbString()},a.contrast=function(t,e,n){var i=r(t);return 1!==i.getAlpha()&&(i=r(a.combine(t,c))),(i.isDark()?e?i.lighten(e):c:n?i.darken(n):l).toString()},a.stroke=function(t,e){var n=r(e);t.style({stroke:a.tinyRGB(n),"stroke-opacity":n.getAlpha()})},a.fill=function(t,e){var n=r(e);t.style({fill:a.tinyRGB(n),"fill-opacity":n.getAlpha()})},a.clean=function(t){if(t&&"object"==typeof t){var e,n,r,i,s=Object.keys(t);for(e=0;e<s.length;e++)if(i=t[r=s[e]],"color"===r.substr(r.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=u(i[n]);else t[r]=u(i);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=u(i[n][1]));else if(Array.isArray(i)){var l=i[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(n=0;n<i.length;n++)a.clean(i[n])}else i&&"object"==typeof i&&!o(i)&&a.clean(i)}}},{"../../lib/array":384,"./attributes":256,"fast-isnumeric":121,tinycolor2:205}],258:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/layout_attributes"),i=t("../../plots/font_attributes"),o=t("../../lib/extend").extendFlat,a=t("../../plot_api/edit_types").overrideAll;e.exports=a({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:o({},r.ticks,{dflt:""}),ticklabeloverflow:o({},r.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,ticklabelstep:r.ticklabelstep,showticklabels:r.showticklabels,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:"string"},font:i({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:i({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":392,"../../plot_api/edit_types":432,"../../plots/cartesian/layout_attributes":463,"../../plots/font_attributes":478}],259:[function(t,e,n){"use strict";e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],260:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plot_api/plot_template"),o=t("../../plots/cartesian/tick_value_defaults"),a=t("../../plots/cartesian/tick_mark_defaults"),s=t("../../plots/cartesian/tick_label_defaults"),l=t("../../plots/cartesian/prefix_suffix_defaults"),c=t("./attributes");e.exports=function(t,e,n){var u=i.newContainer(e,"colorbar"),d=t.colorbar||{};function f(t,e){return r.coerce(d,u,c,t,e)}var h=n.margin||{t:0,b:0,l:0,r:0},p=n.width-h.l-h.r,g=n.height-h.t-h.b,m="v"===f("orientation"),v=f("thicknessmode");f("thickness","fraction"===v?30/(m?p:g):30);var y=f("lenmode");f("len","fraction"===y?1:m?g:p),f("x",m?1.02:.5),f("xanchor",m?"left":"center"),f("xpad"),f("y",m?.5:1.02),f("yanchor",m?"middle":"bottom"),f("ypad"),r.noneOrAll(d,u,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var b=r.coerce(d,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:m?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");f("ticklabeloverflow",-1!==b.indexOf("inside")?"hide past domain":"hide past div"),o(d,u,f,"linear");var x=n.font,w={outerTicks:!1,font:x};-1!==b.indexOf("inside")&&(w.bgColor="black"),l(d,u,f,"linear",w),s(d,u,f,"linear",w),a(d,u,f,"linear",w),f("title.text",n._dfltTitle.colorbar);var k=u.tickfont,_=r.extendFlat({},k,{color:x.color,size:r.bigFont(k.size)});r.coerceFont(f,"title.font",_),f("title.side",m?"top":"right")}},{"../../lib":400,"../../plot_api/plot_template":439,"../../plots/cartesian/prefix_suffix_defaults":467,"../../plots/cartesian/tick_label_defaults":471,"../../plots/cartesian/tick_mark_defaults":472,"../../plots/cartesian/tick_value_defaults":473,"./attributes":258}],261:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("tinycolor2"),o=t("../../plots/plots"),a=t("../../registry"),s=t("../../plots/cartesian/axes"),l=t("../dragelement"),c=t("../../lib"),u=c.strTranslate,d=t("../../lib/extend").extendFlat,f=t("../../lib/setcursor"),h=t("../drawing"),p=t("../color"),g=t("../titles"),m=t("../../lib/svg_text_utils"),v=t("../colorscale/helpers").flipScale,y=t("../../plots/cartesian/axis_defaults"),b=t("../../plots/cartesian/position_defaults"),x=t("../../plots/cartesian/layout_attributes"),w=t("../../constants/alignment"),k=w.LINE_SPACING,_=w.FROM_TL,A=w.FROM_BR,T=t("./constants").cn;e.exports={draw:function(t){var e=t._fullLayout._infolayer.selectAll("g."+T.colorbar).data(function(t){var e,n,r,i,o=t._fullLayout,a=t.calcdata,s=[];function l(t){return d(t,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function c(){"function"==typeof i.calc?i.calc(t,r,e):(e._fillgradient=n.reversescale?v(n.colorscale):n.colorscale,e._zrange=[n[i.min],n[i.max]])}for(var u=0;u<a.length;u++){var f=a[u],h=(r=f[0].trace)._module.colorbar;if(!0===r.visible&&h)for(var p=Array.isArray(h),g=p?h:[h],m=0;m<g.length;m++){var y=(i=g[m]).container;(n=y?r[y]:r)&&n.showscale&&((e=l(n.colorbar))._id="cb"+r.uid+(p&&y?"-"+y:""),e._traceIndex=r.index,e._propPrefix=(y?y+".":"")+"colorbar.",e._meta=r._meta,c(),s.push(e))}}for(var b in o._colorAxes)if((n=o[b]).showscale){var x=o._colorAxes[b];(e=l(n.colorbar))._id="cb"+b,e._propPrefix=b+".colorbar.",e._meta=o._meta,i={min:"cmin",max:"cmax"},"heatmap"!==x[0]&&(r=x[1],i.calc=r._module.colorbar.calc),c(),s.push(e)}return s}(t),(function(t){return t._id}));e.enter().append("g").attr("class",(function(t){return t._id})).classed(T.colorbar,!0),e.each((function(e){var n=r.select(this);c.ensureSingle(n,"rect",T.cbbg),c.ensureSingle(n,"g",T.cbfills),c.ensureSingle(n,"g",T.cblines),c.ensureSingle(n,"g",T.cbaxis,(function(t){t.classed(T.crisp,!0)})),c.ensureSingle(n,"g",T.cbtitleunshift,(function(t){t.append("g").classed(T.cbtitle,!0)})),c.ensureSingle(n,"rect",T.cboutline);var v=function(t,e,n){var a="v"===e.orientation,l=e.len,f=e.lenmode,v=e.thickness,w=e.thicknessmode,M=e.outlinewidth,E=e.borderwidth,C=e.bgcolor,S=e.xanchor,O=e.yanchor,L=e.xpad,P=e.ypad,D=e.x,R=a?e.y:1-e.y,I=n._fullLayout,z=I._size,N=e._fillcolor,B=e._line,F=e.title,j=F.side,$=e._zrange||r.extent(("function"==typeof N?N:B.color).domain()),Z="function"==typeof B.color?B.color:function(){return B.color},U="function"==typeof N?N:function(){return N},H=e._levels,V=function(t,e,n){var r,i,o=e._levels,a=[],s=[],l=o.end+o.size/100,c=o.size,u=1.001*n[0]-.001*n[1],d=1.001*n[1]-.001*n[0];for(i=0;i<1e5&&(r=o.start+i*c,!(c>0?r>=l:r<=l));i++)r>u&&r<d&&a.push(r);if(e._fillgradient)s=[0];else if("function"==typeof e._fillcolor){var f=e._filllevels;if(f)for(l=f.end+f.size/100,c=f.size,i=0;i<1e5&&(r=f.start+i*c,!(c>0?r>=l:r<=l));i++)r>n[0]&&r<n[1]&&s.push(r);else(s=a.map((function(t){return t-o.size/2}))).push(s[s.length-1]+o.size)}else e._fillcolor&&"string"==typeof e._fillcolor&&(s=[0]);return o.size<0&&(a.reverse(),s.reverse()),{line:a,fill:s}}(0,e,$),W=V.fill,Y=V.line,G=Math.round(v*("fraction"===w?a?z.w:z.h:1)),q=G/(a?z.w:z.h),X=Math.round(l*("fraction"===f?a?z.h:z.w:1)),J=X/(a?z.h:z.w),K=Math.round(a?D*z.w+L:R*z.h+P),Q={center:.5,right:1}[S]||0,tt={top:1,middle:.5}[O]||0,et=a?D-Q*q:R-tt*q,nt=a?R-tt*J:D-Q*J,rt=Math.round(a?z.h*(1-nt):z.w*nt);e._lenFrac=J,e._thickFrac=q,e._uFrac=et,e._vFrac=nt;var it=e._axis=function(t,e,n){var r=t._fullLayout,i="v"===e.orientation,o={type:"linear",range:n,tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,ticklabelposition:e.ticklabelposition,ticklabeloverflow:e.ticklabeloverflow,ticklabelstep:e.ticklabelstep,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,showexponent:e.showexponent,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,title:e.title,showline:!0,anchor:"free",side:i?"right":"bottom",position:1},a=i?"y":"x",s={type:"linear",_id:a+e._id},l={letter:a,font:r.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:r.calendar};function u(t,e){return c.coerce(o,s,x,t,e)}return y(o,s,u,l,r),b(o,s,u,l),s}(n,e,$);it.position=q+(a?D+L/z.w:R+P/z.h);var ot=-1!==["top","bottom"].indexOf(j);if(a&&ot&&(it.title.side=j,it.titlex=D+L/z.w,it.titley=nt+("top"===F.side?J-P/z.h:P/z.h)),a||ot||(it.title.side=j,it.titley=R+P/z.h,it.titlex=nt+L/z.w),B.color&&"auto"===e.tickmode){it.tickmode="linear",it.tick0=H.start;var at=H.size,st=c.constrain(X/50,4,15)+1,lt=($[1]-$[0])/((e.nticks||st)*at);if(lt>1){var ct=Math.pow(10,Math.floor(Math.log(lt)/Math.LN10));at*=ct*c.roundUp(lt/ct,[2,5,10]),(Math.abs(H.start)/H.size+1e-6)%1<2e-6&&(it.tick0=0)}it.dtick=at}it.domain=a?[nt+P/z.h,nt+J-P/z.h]:[nt+L/z.w,nt+J-L/z.w],it.setScale(),t.attr("transform",u(Math.round(z.l),Math.round(z.t)));var ut,dt=t.select("."+T.cbtitleunshift).attr("transform",u(-Math.round(z.l),-Math.round(z.t))),ft=it.ticklabelposition,ht=it.title.font.size,pt=t.select("."+T.cbaxis),gt=0,mt=0;function vt(r,i){var o={propContainer:it,propName:e._propPrefix+"title",traceIndex:e._traceIndex,_meta:e._meta,placeholder:I._dfltTitle.colorbar,containerGroup:t.select("."+T.cbtitle)},a="h"===r.charAt(0)?r.substr(1):"h"+r;t.selectAll("."+a+",."+a+"-math-group").remove(),g.draw(n,r,d(o,i||{}))}return c.syncOrAsync([o.previousPromises,function(){var t,e;(a&&ot||!a&&!ot)&&("top"===j&&(t=L+z.l+z.w*D,e=P+z.t+z.h*(1-nt-J)+3+.75*ht),"bottom"===j&&(t=L+z.l+z.w*D,e=P+z.t+z.h*(1-nt)-3-.25*ht),"right"===j&&(e=P+z.t+z.h*R+3+.75*ht,t=L+z.l+z.w*nt),vt(it._id+"title",{attributes:{x:t,y:e,"text-anchor":a?"start":"middle"}}))},function(){if(!a&&!ot||a&&ot){var o,l=t.select("."+T.cbtitle),d=l.select("text"),f=[-M/2,M/2],p=l.select(".h"+it._id+"title-math-group").node(),g=15.6;if(d.node()&&(g=parseInt(d.node().style.fontSize,10)*k),p?(o=h.bBox(p),mt=o.width,(gt=o.height)>g&&(f[1]-=(gt-g)/2)):d.node()&&!d.classed(T.jsPlaceholder)&&(o=h.bBox(d.node()),mt=o.width,gt=o.height),a){if(gt){if(gt+=5,"top"===j)it.domain[1]-=gt/z.h,f[1]*=-1;else{it.domain[0]+=gt/z.h;var v=m.lineCount(d);f[1]+=(1-v)*g}l.attr("transform",u(f[0],f[1])),it.setScale()}}else mt&&("right"===j&&(it.domain[0]+=(mt+ht/2)/z.w),l.attr("transform",u(f[0],f[1])),it.setScale())}t.selectAll("."+T.cbfills+",."+T.cblines).attr("transform",a?u(0,Math.round(z.h*(1-it.domain[1]))):u(Math.round(z.w*it.domain[0]),0)),pt.attr("transform",a?u(0,Math.round(-z.t)):u(Math.round(-z.l),0));var y=t.select("."+T.cbfills).selectAll("rect."+T.cbfill).attr("style","").data(W);y.enter().append("rect").classed(T.cbfill,!0).style("stroke","none"),y.exit().remove();var b=$.map(it.c2p).map(Math.round).sort((function(t,e){return t-e}));y.each((function(t,o){var s=[0===o?$[0]:(W[o]+W[o-1])/2,o===W.length-1?$[1]:(W[o]+W[o+1])/2].map(it.c2p).map(Math.round);a&&(s[1]=c.constrain(s[1]+(s[1]>s[0])?1:-1,b[0],b[1]));var l=r.select(this).attr(a?"x":"y",K).attr(a?"y":"x",r.min(s)).attr(a?"width":"height",Math.max(G,2)).attr(a?"height":"width",Math.max(r.max(s)-r.min(s),2));if(e._fillgradient)h.gradient(l,n,e._id,a?"vertical":"horizontalreversed",e._fillgradient,"fill");else{var u=U(t).replace("e-","");l.attr("fill",i(u).toHexString())}}));var x=t.select("."+T.cblines).selectAll("path."+T.cbline).data(B.color&&B.width?Y:[]);x.enter().append("path").classed(T.cbline,!0),x.exit().remove(),x.each((function(t){var e=K,n=Math.round(it.c2p(t))+B.width/2%1;r.select(this).attr("d","M"+(a?e+","+n:n+","+e)+(a?"h":"v")+G).call(h.lineGroupStyle,B.width,Z(t),B.dash)})),pt.selectAll("g."+it._id+"tick,path").remove();var w=K+G+(M||0)/2-("outside"===e.ticks?1:0),_=s.calcTicks(it),A=s.getTickSigns(it)[2];return s.drawTicks(n,it,{vals:"inside"===it.ticks?s.clipEnds(it,_):_,layer:pt,path:s.makeTickPath(it,w,A),transFn:s.makeTransTickFn(it)}),s.drawLabels(n,it,{vals:_,layer:pt,transFn:s.makeTransTickLabelFn(it),labelFns:s.makeLabelFns(it,w)})},function(){if(a&&!ot||!a&&ot){var t,i,o=it.position||0,s=it._offset+it._length/2;if("right"===j)i=s,t=z.l+z.w*o+10+ht*(it.showticklabels?1:.5);else if(t=s,"bottom"===j&&(i=z.t+z.h*o+10+(-1===ft.indexOf("inside")?it.tickfont.size:0)+("intside"!==it.ticks&&e.ticklen||0)),"top"===j){var l=F.text.split("<br>").length;i=z.t+z.h*o+10-G-k*ht*l}vt((a?"h":"v")+it._id+"title",{avoid:{selection:r.select(n).selectAll("g."+it._id+"tick"),side:j,offsetTop:a?0:z.t,offsetLeft:a?z.l:0,maxShift:a?I.width:I.height},attributes:{x:t,y:i,"text-anchor":"middle"},transform:{rotate:a?-90:0,offset:0}})}},o.previousPromises,function(){var r,s=G+M/2;-1===ft.indexOf("inside")&&(r=h.bBox(pt.node()),s+=a?r.width:r.height),ut=dt.select("text");var c=0,d=a&&"top"===j,g=!a&&"right"===j,m=0;if(ut.node()&&!ut.classed(T.jsPlaceholder)){var y,b=dt.select(".h"+it._id+"title-math-group").node();b&&(a&&ot||!a&&!ot)?(c=(r=h.bBox(b)).width,y=r.height):(c=(r=h.bBox(dt.node())).right-z.l-(a?K:rt),y=r.bottom-z.t-(a?rt:K),a||"top"!==j||(s+=r.height,m=r.height)),g&&(ut.attr("transform",u(c/2+ht/2,0)),c*=2),s=Math.max(s,a?c:y)}var x=2*(a?L:P)+s+E+M/2,k=0;!a&&F.text&&"bottom"===O&&R<=0&&(x+=k=x/2,m+=k),I._hColorbarMoveTitle=k,I._hColorbarMoveCBTitle=m;var N=E+M;t.select("."+T.cbbg).attr("x",(a?K:rt)-N/2-(a?L:0)).attr("y",(a?rt:K)-(a?X:P+m-k)).attr(a?"width":"height",Math.max(x-k,2)).attr(a?"height":"width",Math.max(X+N,2)).call(p.fill,C).call(p.stroke,e.bordercolor).style("stroke-width",E);var B=g?Math.max(c-10,0):0;if(t.selectAll("."+T.cboutline).attr("x",(a?K:rt+L)+B).attr("y",(a?rt+P-X:K)+(d?gt:0)).attr(a?"width":"height",Math.max(G,2)).attr(a?"height":"width",Math.max(X-(a?2*P+gt:2*L+B),2)).call(p.stroke,e.outlinecolor).style({fill:"none","stroke-width":M}),t.attr("transform",u(z.l-(a?Q*x:0),z.t-(a?0:(1-tt)*x-m))),!a&&(E||i(C).getAlpha()&&!i.equals(I.paper_bgcolor,C))){var $=pt.selectAll("text"),Z=$[0].length,U=t.select("."+T.cbbg).node(),H=h.bBox(U),V=h.getTranslate(t);$.each((function(t,e){var n=Z-1;if(0===e||e===n){var r,i=h.bBox(this),o=h.getTranslate(this);if(e===n){var a=i.right+o.x;(r=H.right+V.x+rt-E-2+D-a)>0&&(r=0)}else if(0===e){var s=i.left+o.x;(r=H.left+V.x+rt+E+2-s)<0&&(r=0)}r&&(Z<3?this.setAttribute("transform","translate("+r+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}}))}var W={},Y=_[S],q=A[S],J=_[O],et=A[O],nt=x-G;a?("pixels"===f?(W.y=R,W.t=X*J,W.b=X*et):(W.t=W.b=0,W.yt=R+l*J,W.yb=R-l*et),"pixels"===w?(W.x=D,W.l=x*Y,W.r=x*q):(W.l=nt*Y,W.r=nt*q,W.xl=D-v*Y,W.xr=D+v*q)):("pixels"===f?(W.x=D,W.l=X*Y,W.r=X*q):(W.l=W.r=0,W.xl=D+l*Y,W.xr=D-l*q),"pixels"===w?(W.y=1-R,W.t=x*J,W.b=x*et):(W.t=nt*J,W.b=nt*et,W.yt=R-v*J,W.yb=R+v*et)),o.autoMargin(n,e._id,W)}],n)}(n,e,t);v&&v.then&&(t._promises||[]).push(v),t._context.edits.colorbarPosition&&function(t,e,n){var r,i,o,s="v"===e.orientation,c=n._fullLayout._size;l.init({element:t.node(),gd:n,prepFn:function(){r=t.attr("transform"),f(t)},moveFn:function(n,a){t.attr("transform",r+u(n,a)),i=l.align((s?e._uFrac:e._vFrac)+n/c.w,s?e._thickFrac:e._lenFrac,0,1,e.xanchor),o=l.align((s?e._vFrac:1-e._uFrac)-a/c.h,s?e._lenFrac:e._thickFrac,0,1,e.yanchor);var d=l.getCursor(i,o,e.xanchor,e.yanchor);f(t,d)},doneFn:function(){if(f(t),void 0!==i&&void 0!==o){var r={};r[e._propPrefix+"x"]=i,r[e._propPrefix+"y"]=o,void 0!==e._traceIndex?a.call("_guiRestyle",n,r,e._traceIndex):a.call("_guiRelayout",n,r)}}})}(n,e,t)})),e.exit().each((function(e){o.autoMargin(t,e._id)})).remove(),e.order()}}},{"../../constants/alignment":373,"../../lib":400,"../../lib/extend":392,"../../lib/setcursor":421,"../../lib/svg_text_utils":426,"../../plots/cartesian/axes":450,"../../plots/cartesian/axis_defaults":452,"../../plots/cartesian/layout_attributes":463,"../../plots/cartesian/position_defaults":466,"../../plots/plots":488,"../../registry":490,"../color":257,"../colorscale/helpers":268,"../dragelement":276,"../drawing":279,"../titles":366,"./constants":259,"@plotly/d3":14,tinycolor2:205}],262:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t){return r.isPlainObject(t.colorbar)}},{"../../lib":400}],263:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"colorbar",attributes:t("./attributes"),supplyDefaults:t("./defaults"),draw:t("./draw").draw,hasColorbar:t("./has_colorbar")}},{"./attributes":258,"./defaults":260,"./draw":261,"./has_colorbar":262}],264:[function(t,e,n){"use strict";var r=t("../colorbar/attributes"),i=t("../../lib/regex").counter,o=t("../../lib/sort_object_keys"),a=t("./scales.js").scales;function s(t){return"`"+t+"`"}o(a),e.exports=function(t,e){t=t||"";var n,o=(e=e||{}).cLetter||"c",l=("onlyIfNumerical"in e?e.onlyIfNumerical:Boolean(t),"noScale"in e?e.noScale:"marker.line"===t),c="showScaleDflt"in e?e.showScaleDflt:"z"===o,u="string"==typeof e.colorscaleDflt?a[e.colorscaleDflt]:null,d=e.editTypeOverride||"",f=t?t+".":"";"colorAttr"in e?(n=e.colorAttr,e.colorAttr):s(f+(n={z:"z",c:"color"}[o]));var h=o+"auto",p=o+"min",g=o+"max",m=o+"mid",v=(s(f+h),s(f+p),s(f+g),{});v[p]=v[g]=void 0;var y={};y[h]=!1;var b={};return"color"===n&&(b.color={valType:"color",arrayOk:!0,editType:d||"style"},e.anim&&(b.color.anim=!0)),b[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},b[p]={valType:"number",dflt:null,editType:d||"plot",impliedEdits:y},b[g]={valType:"number",dflt:null,editType:d||"plot",impliedEdits:y},b[m]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},b.colorscale={valType:"colorscale",editType:"calc",dflt:u,impliedEdits:{autocolorscale:!1}},b.autocolorscale={valType:"boolean",dflt:!1!==e.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},b.reversescale={valType:"boolean",dflt:!1,editType:"plot"},l||(b.showscale={valType:"boolean",dflt:c,editType:"calc"},b.colorbar=r),e.noColorAxis||(b.coloraxis={valType:"subplotid",regex:i("coloraxis"),dflt:null,editType:"calc"}),b}},{"../../lib/regex":417,"../../lib/sort_object_keys":423,"../colorbar/attributes":258,"./scales.js":272}],265:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("./helpers").extractOpts;e.exports=function(t,e,n){var a,s=t._fullLayout,l=n.vals,c=n.containerStr,u=c?i.nestedProperty(e,c).get():e,d=o(u),f=!1!==d.auto,h=d.min,p=d.max,g=d.mid,m=function(){return i.aggNums(Math.min,null,l)},v=function(){return i.aggNums(Math.max,null,l)};void 0===h?h=m():f&&(h=u._colorAx&&r(h)?Math.min(h,m()):m()),void 0===p?p=v():f&&(p=u._colorAx&&r(p)?Math.max(p,v()):v()),f&&void 0!==g&&(p-g>g-h?h=g-(p-g):p-g<g-h&&(p=g+(g-h))),h===p&&(h-=.5,p+=.5),d._sync("min",h),d._sync("max",p),d.autocolorscale&&(a=h*p<0?s.colorscale.diverging:h>=0?s.colorscale.sequential:s.colorscale.sequentialminus,d._sync("colorscale",a))}},{"../../lib":400,"./helpers":268,"fast-isnumeric":121}],266:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./helpers").hasColorscale,o=t("./helpers").extractOpts;e.exports=function(t,e){function n(t,e){var n=t["_"+e];void 0!==n&&(t[e]=n)}function a(t,i){var a=i.container?r.nestedProperty(t,i.container).get():t;if(a)if(a.coloraxis)a._colorAx=e[a.coloraxis];else{var s=o(a),l=s.auto;(l||void 0===s.min)&&n(a,i.min),(l||void 0===s.max)&&n(a,i.max),s.autocolorscale&&n(a,"colorscale")}}for(var s=0;s<t.length;s++){var l=t[s],c=l._module.colorbar;if(c)if(Array.isArray(c))for(var u=0;u<c.length;u++)a(l,c[u]);else a(l,c);i(l,"marker.line")&&a(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var d in e._colorAxes)a(e[d],{min:"cmin",max:"cmax"})}},{"../../lib":400,"./helpers":268}],267:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../colorbar/has_colorbar"),a=t("../colorbar/defaults"),s=t("./scales").isValid,l=t("../../registry").traceIs;function c(t,e){var n=e.slice(0,e.length-1);return e?i.nestedProperty(t,n).get()||{}:t}e.exports=function t(e,n,u,d,f){var h=f.prefix,p=f.cLetter,g="_module"in n,m=c(e,h),v=c(n,h),y=c(n._template||{},h)||{},b=function(){return delete e.coloraxis,delete n.coloraxis,t(e,n,u,d,f)};if(g){var x=u._colorAxes||{},w=d(h+"coloraxis");if(w){var k=l(n,"contour")&&i.nestedProperty(n,"contours.coloring").get()||"heatmap",_=x[w];return void(_?(_[2].push(b),_[0]!==k&&(_[0]=!1,i.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[w]=[k,n,[b]])}}var A=m[p+"min"],T=m[p+"max"],M=r(A)&&r(T)&&A<T;d(h+p+"auto",!M)?d(h+p+"mid"):(d(h+p+"min"),d(h+p+"max"));var E,C,S=m.colorscale,O=y.colorscale;void 0!==S&&(E=!s(S)),void 0!==O&&(E=!s(O)),d(h+"autocolorscale",E),d(h+"colorscale"),d(h+"reversescale"),"marker.line."!==h&&(h&&g&&(C=o(m)),d(h+"showscale",C)&&(h&&y&&(v._template=y),a(m,v,u)))}},{"../../lib":400,"../../registry":490,"../colorbar/defaults":260,"../colorbar/has_colorbar":262,"./scales":272,"fast-isnumeric":121}],268:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("tinycolor2"),o=t("fast-isnumeric"),a=t("../../lib"),s=t("../color"),l=t("./scales").isValid,c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],u=["min","max","mid","auto"];function d(t){var e,n,r,i=t._colorAx,o=i||t,a={};for(n=0;n<c.length;n++)a[r=c[n]]=o[r];if(i)for(e="c",n=0;n<u.length;n++)a[r=u[n]]=o["c"+r];else{var s;for(n=0;n<u.length;n++)((s="c"+(r=u[n]))in o||(s="z"+r)in o)&&(a[r]=o[s]);e=s.charAt(0)}return a._sync=function(t,n){var r=-1!==u.indexOf(t)?e+t:t;o[r]=o["_"+r]=n},a}function f(t){for(var e=d(t),n=e.min,r=e.max,i=e.reversescale?h(e.colorscale):e.colorscale,o=i.length,a=new Array(o),s=new Array(o),l=0;l<o;l++){var c=i[l];a[l]=n+c[0]*(r-n),s[l]=c[1]}return{domain:a,range:s}}function h(t){for(var e=t.length,n=new Array(e),r=e-1,i=0;r>=0;r--,i++){var o=t[r];n[i]=[1-o[0],o[1]]}return n}function p(t,e){e=e||{};for(var n=t.domain,a=t.range,l=a.length,c=new Array(l),u=0;u<l;u++){var d=i(a[u]).toRgb();c[u]=[d.r,d.g,d.b,d.a]}var f,h=r.scale.linear().domain(n).range(c).clamp(!0),p=e.noNumericCheck,m=e.returnArray;return(f=p&&m?h:p?function(t){return g(h(t))}:m?function(t){return o(t)?h(t):i(t).isValid()?t:s.defaultLine}:function(t){return o(t)?g(h(t)):i(t).isValid()?t:s.defaultLine}).domain=h.domain,f.range=function(){return a},f}function g(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return i(e).toRgbString()}e.exports={hasColorscale:function(t,e,n){var r=e?a.nestedProperty(t,e).get()||{}:t,i=r[n||"color"],s=!1;if(a.isArrayOrTypedArray(i))for(var c=0;c<i.length;c++)if(o(i[c])){s=!0;break}return a.isPlainObject(r)&&(s||!0===r.showscale||o(r.cmin)&&o(r.cmax)||l(r.colorscale)||a.isPlainObject(r.colorbar))},extractOpts:d,extractScale:f,flipScale:h,makeColorScaleFunc:p,makeColorScaleFuncFromTrace:function(t,e){return p(f(t),e)}}},{"../../lib":400,"../color":257,"./scales":272,"@plotly/d3":14,"fast-isnumeric":121,tinycolor2:205}],269:[function(t,e,n){"use strict";var r=t("./scales"),i=t("./helpers");e.exports={moduleType:"component",name:"colorscale",attributes:t("./attributes"),layoutAttributes:t("./layout_attributes"),supplyLayoutDefaults:t("./layout_defaults"),handleDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),calc:t("./calc"),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}},{"./attributes":264,"./calc":265,"./cross_trace_defaults":266,"./defaults":267,"./helpers":268,"./layout_attributes":270,"./layout_defaults":271,"./scales":272}],270:[function(t,e,n){"use strict";var r=t("../../lib/extend").extendFlat,i=t("./attributes"),o=t("./scales").scales;e.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},i("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":392,"./attributes":264,"./scales":272}],271:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plot_api/plot_template"),o=t("./layout_attributes"),a=t("./defaults");e.exports=function(t,e){function n(n,i){return r.coerce(t,e,o,n,i)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var s,l,c=e._colorAxes;function u(t,e){return r.coerce(s,l,o.coloraxis,t,e)}for(var d in c){var f=c[d];if(f[0])s=t[d]||{},(l=i.newContainer(e,d,"coloraxis"))._name=d,a(s,l,e,u,{prefix:"",cLetter:"c"});else{for(var h=0;h<f[2].length;h++)f[2][h]();delete e._colorAxes[d]}}}},{"../../lib":400,"../../plot_api/plot_template":439,"./defaults":267,"./layout_attributes":270}],272:[function(t,e,n){"use strict";var r=t("tinycolor2"),i={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=i.RdBu;function a(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var n=0;n<t.length;n++){var i=t[n];if(2!==i.length||+i[0]<e||!r(i[1]).isValid())return!1;e=+i[0]}return!0}e.exports={scales:i,defaultScale:o,get:function(t,e){if(e||(e=o),!t)return e;function n(){try{t=i[t]||JSON.parse(t)}catch(n){t=e}}return"string"==typeof t&&(n(),"string"==typeof t&&n()),a(t)?t:e},isValid:function(t){return void 0!==i[t]||a(t)}}},{tinycolor2:205}],273:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i){var o=(t-n)/(r-n),a=o+e/(r-n),s=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?s:"right"===i||"top"===i?a:o<2/3-s?o:a>4/3-s?a:s}},{}],274:[function(t,e,n){"use strict";var r=t("../../lib"),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(t,e,n,o){return t="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*t),0,2),e="bottom"===o?0:"middle"===o?1:"top"===o?2:r.constrain(Math.floor(3*e),0,2),i[e][t]}},{"../../lib":400}],275:[function(t,e,n){"use strict";n.selectMode=function(t){return"lasso"===t||"select"===t},n.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},n.openMode=function(t){return"drawline"===t||"drawopenpath"===t},n.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},n.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},n.selectingOrDrawing=function(t){return n.freeMode(t)||n.rectMode(t)}},{}],276:[function(t,e,n){"use strict";var r=t("mouse-event-offset"),i=t("has-hover"),o=t("has-passive-events"),a=t("../../lib").removeElement,s=t("../../plots/cartesian/constants"),l=e.exports={};l.align=t("./align"),l.getCursor=t("./cursor");var c=t("./unhover");function u(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function d(t){return r(t.changedTouches?t.changedTouches[0]:t,document.body)}l.unhover=c.wrapped,l.unhoverRaw=c.raw,l.init=function(t){var e,n,r,c,f,h,p,g,m=t.gd,v=1,y=m._context.doubleClickDelay,b=t.element;m._mouseDownTime||(m._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=w,o?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=w,b.addEventListener("touchstart",w,{passive:!1})):b.ontouchstart=w;var x=t.clampFn||function(t,e,n){return Math.abs(t)<n&&(t=0),Math.abs(e)<n&&(e=0),[t,e]};function w(o){m._dragged=!1,m._dragging=!0;var a=d(o);e=a[0],n=a[1],p=o.target,h=o,g=2===o.buttons||o.ctrlKey,void 0===o.clientX&&void 0===o.clientY&&(o.clientX=e,o.clientY=n),(r=(new Date).getTime())-m._mouseDownTime<y?v+=1:(v=1,m._mouseDownTime=r),t.prepFn&&t.prepFn(o,e,n),i&&!g?(f=u()).style.cursor=window.getComputedStyle(b).cursor:i||(f=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),!1!==t.dragmode&&(o.preventDefault(),document.addEventListener("mousemove",k),document.addEventListener("touchmove",k,{passive:!1}))}function k(r){r.preventDefault();var i=d(r),o=t.minDrag||s.MINDRAG,a=x(i[0]-e,i[1]-n,o),c=a[0],u=a[1];(c||u)&&(m._dragged=!0,l.unhover(m,r)),m._dragged&&t.moveFn&&!g&&(m._dragdata={element:b,dx:c,dy:u},t.moveFn(c,u))}function _(e){if(delete m._dragdata,!1!==t.dragmode&&(e.preventDefault(),document.removeEventListener("mousemove",k),document.removeEventListener("touchmove",k)),document.removeEventListener("mouseup",_),document.removeEventListener("touchend",_),i?a(f):c&&(f.documentElement.style.cursor=c,c=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>y&&(v=Math.max(v-1,1)),m._dragged)t.doneFn&&t.doneFn();else if(t.clickFn&&t.clickFn(v,h),!g){var n;try{n=new MouseEvent("click",e)}catch(t){var r=d(e);(n=document.createEvent("MouseEvents")).initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,r[0],r[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}p.dispatchEvent(n)}m._dragging=!1,m._dragged=!1}else m._dragged=!1}},l.coverSlip=u},{"../../lib":400,"../../plots/cartesian/constants":457,"./align":273,"./cursor":274,"./unhover":277,"has-hover":159,"has-passive-events":160,"mouse-event-offset":171}],277:[function(t,e,n){"use strict";var r=t("../../lib/events"),i=t("../../lib/throttle"),o=t("../../lib/dom").getGraphDiv,a=t("../fx/constants"),s=e.exports={};s.wrapped=function(t,e,n){(t=o(t))._fullLayout&&i.clear(t._fullLayout._uid+a.HOVERID),s.raw(t,e,n)},s.raw=function(t,e){var n=t._fullLayout,i=t._hoverdata;e||(e={}),e.target&&!t._dragged&&!1===r.triggerHandler(t,"plotly_beforehover",e)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&i&&t.emit("plotly_unhover",{event:e,points:i}))}},{"../../lib/dom":390,"../../lib/events":391,"../../lib/throttle":427,"../fx/constants":291}],278:[function(t,e,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},n.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],279:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../lib"),o=i.numberFormat,a=t("fast-isnumeric"),s=t("tinycolor2"),l=t("../../registry"),c=t("../color"),u=t("../colorscale"),d=i.strTranslate,f=t("../../lib/svg_text_utils"),h=t("../../constants/xmlns_namespaces"),p=t("../../constants/alignment").LINE_SPACING,g=t("../../constants/interactions").DESELECTDIM,m=t("../../traces/scatter/subtypes"),v=t("../../traces/scatter/make_bubble_size_func"),y=t("../../components/fx/helpers").appendArrayPointValue,b=e.exports={};function x(t,e,n){var r=e.fillpattern,i=r&&b.getPatternAttr(r.shape,0,"");if(i){var o=b.getPatternAttr(r.bgcolor,0,null),a=b.getPatternAttr(r.fgcolor,0,null),s=r.fgopacity,l=b.getPatternAttr(r.size,0,8),u=b.getPatternAttr(r.solidity,0,.3),d=e.uid;b.pattern(t,"point",n,d,i,l,u,void 0,r.fillmode,o,a,s)}else e.fillcolor&&t.call(c.fill,e.fillcolor)}b.font=function(t,e,n,r){i.isPlainObject(e)&&(r=e.color,n=e.size,e=e.family),e&&t.style("font-family",e),n+1&&t.style("font-size",n+"px"),r&&t.call(c.fill,r)},b.setPosition=function(t,e,n){t.attr("x",e).attr("y",n)},b.setSize=function(t,e,n){t.attr("width",e).attr("height",n)},b.setRect=function(t,e,n,r,i){t.call(b.setPosition,e,n).call(b.setSize,r,i)},b.translatePoint=function(t,e,n,r){var i=n.c2p(t.x),o=r.c2p(t.y);return!!(a(i)&&a(o)&&e.node())&&("text"===e.node().nodeName?e.attr("x",i).attr("y",o):e.attr("transform",d(i,o)),!0)},b.translatePoints=function(t,e,n){t.each((function(t){var i=r.select(this);b.translatePoint(t,i,e,n)}))},b.hideOutsideRangePoint=function(t,e,n,r,i,o){e.attr("display",n.isPtWithinRange(t,i)&&r.isPtWithinRange(t,o)?null:"none")},b.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var n=e.xaxis,i=e.yaxis;t.each((function(e){var o=e[0].trace,a=o.xcalendar,s=o.ycalendar,c=l.traceIs(o,"bar-like")?".bartext":".point,.textpoint";t.selectAll(c).each((function(t){b.hideOutsideRangePoint(t,r.select(this),n,i,a,s)}))}))}},b.crispRound=function(t,e,n){return e&&a(e)?t._context.staticPlot?e:e<1?1:Math.round(e):n||0},b.singleLineStyle=function(t,e,n,r,i){e.style("fill","none");var o=(((t||[])[0]||{}).trace||{}).line||{},a=n||o.width||0,s=i||o.dash||"";c.stroke(e,r||o.color),b.dashLine(e,s,a)},b.lineGroupStyle=function(t,e,n,i){t.style("fill","none").each((function(t){var o=(((t||[])[0]||{}).trace||{}).line||{},a=e||o.width||0,s=i||o.dash||"";r.select(this).call(c.stroke,n||o.color).call(b.dashLine,s,a)}))},b.dashLine=function(t,e,n){n=+n||0,e=b.dashStyle(e,n),t.style({"stroke-dasharray":e,"stroke-width":n+"px"})},b.dashStyle=function(t,e){e=+e||1;var n=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=n+"px,"+n+"px":"dash"===t?t=3*n+"px,"+3*n+"px":"longdash"===t?t=5*n+"px,"+5*n+"px":"dashdot"===t?t=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===t&&(t=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),t},b.singleFillStyle=function(t,e){var n=r.select(t.node());x(t,((n.data()[0]||[])[0]||{}).trace||{},e)},b.fillGroupStyle=function(t,e){t.style("stroke-width",0).each((function(t){var n=r.select(this);t[0].trace&&x(n,t[0].trace,e)}))};var w=t("./symbol_defs");b.symbolNames=[],b.symbolFuncs=[],b.symbolNeedLines={},b.symbolNoDot={},b.symbolNoFill={},b.symbolList=[],Object.keys(w).forEach((function(t){var e=w[t],n=e.n;b.symbolList.push(n,String(n),t,n+100,String(n+100),t+"-open"),b.symbolNames[n]=t,b.symbolFuncs[n]=e.f,e.needLine&&(b.symbolNeedLines[n]=!0),e.noDot?b.symbolNoDot[n]=!0:b.symbolList.push(n+200,String(n+200),t+"-dot",n+300,String(n+300),t+"-open-dot"),e.noFill&&(b.symbolNoFill[n]=!0)}));var k=b.symbolNames.length;function _(t,e){var n=t%100;return b.symbolFuncs[n](e)+(t>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}b.symbolNumber=function(t){if(a(t))t=+t;else if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=b.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=k||t>=400?0:Math.floor(Math.max(t,0))};var A={x1:1,x2:0,y1:0,y2:0},T={x1:0,x2:0,y1:1,y2:0},M=o("~f"),E={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:A},horizontalreversed:{node:"linearGradient",attrs:A,reversed:!0},vertical:{node:"linearGradient",attrs:T},verticalreversed:{node:"linearGradient",attrs:T,reversed:!0}};b.gradient=function(t,e,n,o,a,l){for(var u=a.length,d=E[o],f=new Array(u),h=0;h<u;h++)d.reversed?f[u-1-h]=[M(100*(1-a[h][0])),a[h][1]]:f[h]=[M(100*a[h][0]),a[h][1]];var p=e._fullLayout,g="g"+p._uid+"-"+n,m=p._defs.select(".gradients").selectAll("#"+g).data([o+f.join(";")],i.identity);m.exit().remove(),m.enter().append(d.node).each((function(){var t=r.select(this);d.attrs&&t.attr(d.attrs),t.attr("id",g);var e=t.selectAll("stop").data(f);e.exit().remove(),e.enter().append("stop"),e.each((function(t){var e=s(t[1]);r.select(this).attr({offset:t[0]+"%","stop-color":c.tinyRGB(e),"stop-opacity":e.getAlpha()})}))})),t.style(l,z(g,e)).style(l+"-opacity",null),t.classed("gradient_filled",!0)},b.pattern=function(t,e,n,o,a,s,l,u,d,f,h,p){var g="legend"===e;u&&("overlay"===d?(f=u,h=c.contrast(f)):(f=void 0,h=u));var m,v,y,b,x,w,k,_,A,T,M=n._fullLayout,E="p"+M._uid+"-"+o,C={};switch(a){case"/":m=s*Math.sqrt(2),v=s*Math.sqrt(2),w="path",C={d:y="M-"+m/4+","+v/4+"l"+m/2+",-"+v/2+"M0,"+v+"L"+m+",0M"+m/4*3+","+v/4*5+"l"+m/2+",-"+v/2,opacity:p,stroke:h,"stroke-width":(b=l*s)+"px"};break;case"\\":m=s*Math.sqrt(2),v=s*Math.sqrt(2),w="path",C={d:y="M"+m/4*3+",-"+v/4+"l"+m/2+","+v/2+"M0,0L"+m+","+v+"M-"+m/4+","+v/4*3+"l"+m/2+","+v/2,opacity:p,stroke:h,"stroke-width":(b=l*s)+"px"};break;case"x":m=s*Math.sqrt(2),v=s*Math.sqrt(2),y="M-"+m/4+","+v/4+"l"+m/2+",-"+v/2+"M0,"+v+"L"+m+",0M"+m/4*3+","+v/4*5+"l"+m/2+",-"+v/2+"M"+m/4*3+",-"+v/4+"l"+m/2+","+v/2+"M0,0L"+m+","+v+"M-"+m/4+","+v/4*3+"l"+m/2+","+v/2,b=s-s*Math.sqrt(1-l),w="path",C={d:y,opacity:p,stroke:h,"stroke-width":b+"px"};break;case"|":w="path",w="path",C={d:y="M"+(m=s)/2+",0L"+m/2+","+(v=s),opacity:p,stroke:h,"stroke-width":(b=l*s)+"px"};break;case"-":w="path",w="path",C={d:y="M0,"+(v=s)/2+"L"+(m=s)+","+v/2,opacity:p,stroke:h,"stroke-width":(b=l*s)+"px"};break;case"+":w="path",y="M"+(m=s)/2+",0L"+m/2+","+(v=s)+"M0,"+v/2+"L"+m+","+v/2,b=s-s*Math.sqrt(1-l),w="path",C={d:y,opacity:p,stroke:h,"stroke-width":b+"px"};break;case".":m=s,v=s,l<Math.PI/4?x=Math.sqrt(l*s*s/Math.PI):(k=l,_=Math.PI/4,A=1,x=(T=s/2)+(s/Math.sqrt(2)-T)*(k-_)/(A-_)),w="circle",C={cx:m/2,cy:v/2,r:x,opacity:p,fill:h}}var S=[a||"noSh",f||"noBg",h||"noFg",s,l].join(";"),O=M._defs.select(".patterns").selectAll("#"+E).data([S],i.identity);O.exit().remove(),O.enter().append("pattern").each((function(){var t=r.select(this);if(t.attr({id:E,width:m+"px",height:v+"px",patternUnits:"userSpaceOnUse",patternTransform:g?"scale(0.8)":""}),f){var e=t.selectAll("rect").data([0]);e.exit().remove(),e.enter().append("rect").attr({width:m+"px",height:v+"px",fill:f})}var n=t.selectAll(w).data([0]);n.exit().remove(),n.enter().append(w).attr(C)})),t.style("fill",z(E,n)).style("fill-opacity",null),t.classed("pattern_filled",!0)},b.initGradients=function(t){var e=t._fullLayout;i.ensureSingle(e._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),r.select(t).selectAll(".gradient_filled").classed("gradient_filled",!1)},b.initPatterns=function(t){var e=t._fullLayout;i.ensureSingle(e._defs,"g","patterns").selectAll("pattern").remove(),r.select(t).selectAll(".pattern_filled").classed("pattern_filled",!1)},b.getPatternAttr=function(t,e,n){return t&&i.isArrayOrTypedArray(t)?e<t.length?t[e]:n:t},b.pointStyle=function(t,e,n){if(t.size()){var i=b.makePointStyleFns(e);t.each((function(t){b.singlePointStyle(t,r.select(this),e,i,n)}))}},b.singlePointStyle=function(t,e,n,r,o){var a=n.marker,s=a.line;if(e.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(t):void 0===t.mo?a.opacity:t.mo),r.ms2mrc){var l;l="various"===t.ms||"various"===a.size?3:r.ms2mrc(t.ms),t.mrc=l,r.selectedSizeFn&&(l=t.mrc=r.selectedSizeFn(t));var u=b.symbolNumber(t.mx||a.symbol)||0;t.om=u%200>=100,e.attr("d",_(u,l))}var d,f,h,p=!1;if(t.so)h=s.outlierwidth,f=s.outliercolor,d=a.outliercolor;else{var g=(s||{}).width;h=(t.mlw+1||g+1||(t.trace?(t.trace.marker.line||{}).width:0)+1)-1||0,f="mlc"in t?t.mlcc=r.lineScale(t.mlc):i.isArrayOrTypedArray(s.color)?c.defaultLine:s.color,i.isArrayOrTypedArray(a.color)&&(d=c.defaultLine,p=!0),d="mc"in t?t.mcc=r.markerScale(t.mc):a.color||"rgba(0,0,0,0)",r.selectedColorFn&&(d=r.selectedColorFn(t))}if(t.om)e.call(c.stroke,d).style({"stroke-width":(h||1)+"px",fill:"none"});else{e.style("stroke-width",(t.isBlank?0:h)+"px");var m=a.gradient,v=t.mgt;v?p=!0:v=m&&m.type,i.isArrayOrTypedArray(v)&&(v=v[0],E[v]||(v=0));var y=a.pattern,x=y&&b.getPatternAttr(y.shape,t.i,"");if(v&&"none"!==v){var w=t.mgc;w?p=!0:w=m.color;var k=n.uid;p&&(k+="-"+t.i),b.gradient(e,o,k,v,[[0,w],[1,d]],"fill")}else if(x){var A=b.getPatternAttr(y.bgcolor,t.i,null),T=b.getPatternAttr(y.fgcolor,t.i,null),M=y.fgopacity,C=b.getPatternAttr(y.size,t.i,8),S=b.getPatternAttr(y.solidity,t.i,.3),O=t.mcc||i.isArrayOrTypedArray(y.shape)||i.isArrayOrTypedArray(y.bgcolor)||i.isArrayOrTypedArray(y.size)||i.isArrayOrTypedArray(y.solidity),L=n.uid;O&&(L+="-"+t.i),b.pattern(e,"point",o,L,x,C,S,t.mcc,y.fillmode,A,T,M)}else c.fill(e,d);h&&c.stroke(e,f)}},b.makePointStyleFns=function(t){var e={},n=t.marker;return e.markerScale=b.tryColorscale(n,""),e.lineScale=b.tryColorscale(n,"line"),l.traceIs(t,"symbols")&&(e.ms2mrc=m.isBubble(t)?v(t):function(){return(n.size||6)/2}),t.selectedpoints&&i.extendFlat(e,b.makeSelectedPointStyleFns(t)),e},b.makeSelectedPointStyleFns=function(t){var e={},n=t.selected||{},r=t.unselected||{},o=t.marker||{},a=n.marker||{},s=r.marker||{},c=o.opacity,u=a.opacity,d=s.opacity,f=void 0!==u,h=void 0!==d;(i.isArrayOrTypedArray(c)||f||h)&&(e.selectedOpacityFn=function(t){var e=void 0===t.mo?o.opacity:t.mo;return t.selected?f?u:e:h?d:g*e});var p=o.color,m=a.color,v=s.color;(m||v)&&(e.selectedColorFn=function(t){var e=t.mcc||p;return t.selected?m||e:v||e});var y=o.size,b=a.size,x=s.size,w=void 0!==b,k=void 0!==x;return l.traceIs(t,"symbols")&&(w||k)&&(e.selectedSizeFn=function(t){var e=t.mrc||y/2;return t.selected?w?b/2:e:k?x/2:e}),e},b.makeSelectedTextStyleFns=function(t){var e={},n=t.selected||{},r=t.unselected||{},i=t.textfont||{},o=n.textfont||{},a=r.textfont||{},s=i.color,l=o.color,u=a.color;return e.selectedTextColorFn=function(t){var e=t.tc||s;return t.selected?l||e:u||(l?e:c.addOpacity(e,g))},e},b.selectedPointStyle=function(t,e){if(t.size()&&e.selectedpoints){var n=b.makeSelectedPointStyleFns(e),i=e.marker||{},o=[];n.selectedOpacityFn&&o.push((function(t,e){t.style("opacity",n.selectedOpacityFn(e))})),n.selectedColorFn&&o.push((function(t,e){c.fill(t,n.selectedColorFn(e))})),n.selectedSizeFn&&o.push((function(t,e){var r=e.mx||i.symbol||0,o=n.selectedSizeFn(e);t.attr("d",_(b.symbolNumber(r),o)),e.mrc2=o})),o.length&&t.each((function(t){for(var e=r.select(this),n=0;n<o.length;n++)o[n](e,t)}))}},b.tryColorscale=function(t,e){var n=e?i.nestedProperty(t,e).get():t;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&i.isArrayOrTypedArray(r))return u.makeColorScaleFuncFromTrace(n)}return i.identity};var C={start:1,end:-1,middle:0,bottom:1,top:-1};function S(t,e,n,i,o){var a=r.select(t.node().parentNode),s=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",l=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",c=i?i/.8+1:0,u=(f.lineCount(t)-1)*p+1,h=C[l]*c,g=.75*n+C[s]*c+(C[s]-1)*u*n/2;t.attr("text-anchor",l),o||a.attr("transform",d(h,g))}function O(t,e){var n=t.ts||e.textfont.size;return a(n)&&n>0?n:0}function L(t,e,n,i){var o=t[0]-e[0],a=t[1]-e[1],s=n[0]-e[0],l=n[1]-e[1],c=Math.pow(o*o+a*a,.25),u=Math.pow(s*s+l*l,.25),d=(u*u*o-c*c*s)*i,f=(u*u*a-c*c*l)*i,h=3*u*(c+u),p=3*c*(c+u);return[[r.round(e[0]+(h&&d/h),2),r.round(e[1]+(h&&f/h),2)],[r.round(e[0]-(p&&d/p),2),r.round(e[1]-(p&&f/p),2)]]}b.textPointStyle=function(t,e,n){if(t.size()){var o;if(e.selectedpoints){var a=b.makeSelectedTextStyleFns(e);o=a.selectedTextColorFn}var s=e.texttemplate,l=n._fullLayout;t.each((function(t){var a=r.select(this),c=s?i.extractOption(t,e,"txt","texttemplate"):i.extractOption(t,e,"tx","text");if(c||0===c){if(s){var u=e._module.formatLabels,d=u?u(t,e,l):{},h={};y(h,e,t.i);var p=e._meta||{};c=i.texttemplateString(c,d,l._d3locale,h,t,p)}var g=t.tp||e.textposition,m=O(t,e),v=o?o(t):t.tc||e.textfont.color;a.call(b.font,t.tf||e.textfont.family,m,v).text(c).call(f.convertToTspans,n).call(S,g,m,t.mrc)}else a.remove()}))}},b.selectedTextStyle=function(t,e){if(t.size()&&e.selectedpoints){var n=b.makeSelectedTextStyleFns(e);t.each((function(t){var i=r.select(this),o=n.selectedTextColorFn(t),a=t.tp||e.textposition,s=O(t,e);c.fill(i,o);var u=l.traceIs(e,"bar-like");S(i,a,s,t.mrc2||t.mrc,u)}))}},b.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var n,r="M"+t[0],i=[];for(n=1;n<t.length-1;n++)i.push(L(t[n-1],t[n],t[n+1],e));for(r+="Q"+i[0][0]+" "+t[1],n=2;n<t.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+t[n];return r+"Q"+i[t.length-3][1]+" "+t[t.length-1]},b.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var n,r="M"+t[0],i=t.length-1,o=[L(t[i],t[0],t[1],e)];for(n=1;n<i;n++)o.push(L(t[n-1],t[n],t[n+1],e));for(o.push(L(t[i-1],t[i],t[0],e)),n=1;n<=i;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+t[n];return r+"C"+o[i][1]+" "+o[0][0]+" "+t[0]+"Z"};var P={hv:function(t,e){return"H"+r.round(e[0],2)+"V"+r.round(e[1],2)},vh:function(t,e){return"V"+r.round(e[1],2)+"H"+r.round(e[0],2)},hvh:function(t,e){return"H"+r.round((t[0]+e[0])/2,2)+"V"+r.round(e[1],2)+"H"+r.round(e[0],2)},vhv:function(t,e){return"V"+r.round((t[1]+e[1])/2,2)+"H"+r.round(e[0],2)+"V"+r.round(e[1],2)}},D=function(t,e){return"L"+r.round(e[0],2)+","+r.round(e[1],2)};b.steps=function(t){var e=P[t]||D;return function(t){for(var n="M"+r.round(t[0][0],2)+","+r.round(t[0][1],2),i=1;i<t.length;i++)n+=e(t[i-1],t[i]);return n}},b.makeTester=function(){var t=i.ensureSingleById(r.select("body"),"svg","js-plotly-tester",(function(t){t.attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),e=i.ensureSingle(t,"path","js-reference-point",(function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));b.tester=t,b.testref=e},b.savedBBoxes={};var R=0;function I(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}function z(t,e){if(!t)return null;var n=e._context,r=n._exportedPlot?"":n._baseUrl||"";return r?"url('"+r+"#"+t+"')":"url(#"+t+")"}b.bBox=function(t,e,n){var o,a,s;if(n||(n=I(t)),n){if(o=b.savedBBoxes[n])return i.extendFlat({},o)}else if(1===t.childNodes.length){var l=t.childNodes[0];if(n=I(l)){var c=+l.getAttribute("x")||0,u=+l.getAttribute("y")||0,d=l.getAttribute("transform");if(!d){var h=b.bBox(l,!1,n);return c&&(h.left+=c,h.right+=c),u&&(h.top+=u,h.bottom+=u),h}if(n+="~"+c+"~"+u+"~"+d,o=b.savedBBoxes[n])return i.extendFlat({},o)}}e?a=t:(s=b.tester.node(),a=t.cloneNode(!0),s.appendChild(a)),r.select(a).attr("transform",null).call(f.positionText,0,0);var p=a.getBoundingClientRect(),g=b.testref.node().getBoundingClientRect();e||s.removeChild(a);var m={height:p.height,width:p.width,left:p.left-g.left,top:p.top-g.top,right:p.right-g.left,bottom:p.bottom-g.top};return R>=1e4&&(b.savedBBoxes={},R=0),n&&(b.savedBBoxes[n]=m),R++,i.extendFlat({},m)},b.setClipUrl=function(t,e,n){t.attr("clip-path",z(e,n))},b.getTranslate=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(t,e,n){return[e,n].join(" ")})).split(" ");return{x:+e[0]||0,y:+e[1]||0}},b.setTranslate=function(t,e,n){var r=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",o=t[r]("transform")||"";return e=e||0,n=n||0,o=o.replace(/(\btranslate\(.*?\);?)/,"").trim(),o=(o+=d(e,n)).trim(),t[i]("transform",o),o},b.getScale=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(t,e,n){return[e,n].join(" ")})).split(" ");return{x:+e[0]||1,y:+e[1]||1}},b.setScale=function(t,e,n){var r=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",o=t[r]("transform")||"";return e=e||1,n=n||1,o=o.replace(/(\bscale\(.*?\);?)/,"").trim(),o=(o+="scale("+e+","+n+")").trim(),t[i]("transform",o),o};var N=/\s*sc.*/;b.setPointGroupScale=function(t,e,n){if(e=e||1,n=n||1,t){var r=1===e&&1===n?"":"scale("+e+","+n+")";t.each((function(){var t=(this.getAttribute("transform")||"").replace(N,"");t=(t+=r).trim(),this.setAttribute("transform",t)}))}};var B=/translate\([^)]*\)\s*$/;b.setTextPointsScale=function(t,e,n){t&&t.each((function(){var t,i=r.select(this),o=i.select("text");if(o.node()){var a=parseFloat(o.attr("x")||0),s=parseFloat(o.attr("y")||0),l=(i.attr("transform")||"").match(B);t=1===e&&1===n?[]:[d(a,s),"scale("+e+","+n+")",d(-a,-s)],l&&t.push(l),i.attr("transform",t.join(""))}}))}},{"../../components/fx/helpers":293,"../../constants/alignment":373,"../../constants/interactions":377,"../../constants/xmlns_namespaces":379,"../../lib":400,"../../lib/svg_text_utils":426,"../../registry":490,"../../traces/scatter/make_bubble_size_func":556,"../../traces/scatter/subtypes":564,"../color":257,"../colorscale":269,"./symbol_defs":280,"@plotly/d3":14,"fast-isnumeric":121,tinycolor2:205}],280:[function(t,e,n){"use strict";var r=t("@plotly/d3");e.exports={circle:{n:0,f:function(t){var e=r.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=r.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=r.round(.4*t,2),n=r.round(1.2*t,2);return"M"+n+","+e+"H"+e+"V"+n+"H-"+e+"V"+e+"H-"+n+"V-"+e+"H-"+e+"V-"+n+"H"+e+"V-"+e+"H"+n+"Z"}},x:{n:4,f:function(t){var e=r.round(.8*t/Math.sqrt(2),2),n="l"+e+","+e,i="l"+e+",-"+e,o="l-"+e+",-"+e,a="l-"+e+","+e;return"M0,"+e+n+i+o+i+o+a+o+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+e+","+r.round(t/2,2)+"H"+e+"L0,-"+r.round(t,2)+"Z"}},"triangle-down":{n:6,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+e+",-"+r.round(t/2,2)+"H"+e+"L0,"+r.round(t,2)+"Z"}},"triangle-left":{n:7,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M"+r.round(t/2,2)+",-"+e+"V"+e+"L-"+r.round(t,2)+",0Z"}},"triangle-right":{n:8,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+r.round(t/2,2)+",-"+e+"V"+e+"L"+r.round(t,2)+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M-"+n+",-"+e+"H"+e+"V"+n+"Z"}},"triangle-se":{n:10,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M"+e+",-"+n+"V"+e+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M"+n+","+e+"H-"+e+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M-"+e+","+n+"V-"+e+"H"+n+"Z"}},pentagon:{n:13,f:function(t){var e=r.round(.951*t,2),n=r.round(.588*t,2),i=r.round(-t,2),o=r.round(-.309*t,2);return"M"+e+","+o+"L"+n+","+r.round(.809*t,2)+"H-"+n+"L-"+e+","+o+"L0,"+i+"Z"}},hexagon:{n:14,f:function(t){var e=r.round(t,2),n=r.round(t/2,2),i=r.round(t*Math.sqrt(3)/2,2);return"M"+i+",-"+n+"V"+n+"L0,"+e+"L-"+i+","+n+"V-"+n+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=r.round(t,2),n=r.round(t/2,2),i=r.round(t*Math.sqrt(3)/2,2);return"M-"+n+","+i+"H"+n+"L"+e+",0L"+n+",-"+i+"H-"+n+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=r.round(.924*t,2),n=r.round(.383*t,2);return"M-"+n+",-"+e+"H"+n+"L"+e+",-"+n+"V"+n+"L"+n+","+e+"H-"+n+"L-"+e+","+n+"V-"+n+"Z"}},star:{n:17,f:function(t){var e=1.4*t,n=r.round(.225*e,2),i=r.round(.951*e,2),o=r.round(.363*e,2),a=r.round(.588*e,2),s=r.round(-e,2),l=r.round(-.309*e,2),c=r.round(.118*e,2),u=r.round(.809*e,2);return"M"+n+","+l+"H"+i+"L"+o+","+c+"L"+a+","+u+"L0,"+r.round(.382*e,2)+"L-"+a+","+u+"L-"+o+","+c+"L-"+i+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(t){var e=r.round(.66*t,2),n=r.round(.38*t,2),i=r.round(.76*t,2);return"M-"+i+",0l-"+n+",-"+e+"h"+i+"l"+n+",-"+e+"l"+n+","+e+"h"+i+"l-"+n+","+e+"l"+n+","+e+"h-"+i+"l-"+n+","+e+"l-"+n+",-"+e+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=r.round(t*Math.sqrt(3)*.8,2),n=r.round(.8*t,2),i=r.round(1.6*t,2),o=r.round(4*t,2),a="A "+o+","+o+" 0 0 1 ";return"M-"+e+","+n+a+e+","+n+a+"0,-"+i+a+"-"+e+","+n+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=r.round(t*Math.sqrt(3)*.8,2),n=r.round(.8*t,2),i=r.round(1.6*t,2),o=r.round(4*t,2),a="A "+o+","+o+" 0 0 1 ";return"M"+e+",-"+n+a+"-"+e+",-"+n+a+"0,"+i+a+e+",-"+n+"Z"}},"star-square":{n:21,f:function(t){var e=r.round(1.1*t,2),n=r.round(2*t,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+e+",-"+e+i+"-"+e+","+e+i+e+","+e+i+e+",-"+e+i+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=r.round(1.4*t,2),n=r.round(1.9*t,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+e+",0"+i+"0,"+e+i+e+",0"+i+"0,-"+e+i+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=r.round(.7*t,2),n=r.round(1.4*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=r.round(1.4*t,2),n=r.round(.7*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=r.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=r.round(t,2),n=r.round(t/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=r.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=r.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=r.round(1.3*t,2),n=r.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=r.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t){var e=r.round(1.2*t,2),n=r.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t){var e=r.round(t/2,2),n=r.round(t,2);return"M"+e+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+e+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),i=r.round(.8*t,2);return"M-"+e+","+i+"L0,0M"+e+","+i+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),i=r.round(.8*t,2);return"M-"+e+",-"+i+"L0,0M"+e+",-"+i+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),i=r.round(.8*t,2);return"M"+i+","+e+"L0,0M"+i+",-"+e+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),i=r.round(.8*t,2);return"M-"+i+","+e+"L0,0M-"+i+",-"+e+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t){var e=r.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t){var e=r.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t){var e=r.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(t){var e=r.round(t,2);return"M0,0L-"+e+","+r.round(2*t,2)+"H"+e+"Z"},noDot:!0},"arrow-down":{n:46,f:function(t){var e=r.round(t,2);return"M0,0L-"+e+",-"+r.round(2*t,2)+"H"+e+"Z"},noDot:!0},"arrow-left":{n:47,f:function(t){var e=r.round(2*t,2),n=r.round(t,2);return"M0,0L"+e+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-right":{n:48,f:function(t){var e=r.round(2*t,2),n=r.round(t,2);return"M0,0L-"+e+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(t){var e=r.round(t,2);return"M-"+e+",0H"+e+"M0,0L-"+e+","+r.round(2*t,2)+"H"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(t){var e=r.round(t,2);return"M-"+e+",0H"+e+"M0,0L-"+e+",-"+r.round(2*t,2)+"H"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(t){var e=r.round(2*t,2),n=r.round(t,2);return"M0,-"+n+"V"+n+"M0,0L"+e+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(t){var e=r.round(2*t,2),n=r.round(t,2);return"M0,-"+n+"V"+n+"M0,0L-"+e+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":14}],281:[function(t,e,n){"use strict";e.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],282:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../registry"),o=t("../../plots/cartesian/axes"),a=t("../../lib"),s=t("./compute_error");function l(t,e,n,i){var l=e["error_"+i]||{},c=[];if(l.visible&&-1!==["linear","log"].indexOf(n.type)){for(var u=s(l),d=0;d<t.length;d++){var f=t[d],h=f.i;if(void 0===h)h=d;else if(null===h)continue;var p=f[i];if(r(n.c2l(p))){var g=u(p,h);if(r(g[0])&&r(g[1])){var m=f[i+"s"]=p-g[0],v=f[i+"h"]=p+g[1];c.push(m,v)}}}var y=n._id,b=e._extremes[y],x=o.findExtremes(n,c,a.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(x.min),b.max=b.max.concat(x.max)}}e.exports=function(t){for(var e=t.calcdata,n=0;n<e.length;n++){var r=e[n],a=r[0].trace;if(!0===a.visible&&i.traceIs(a,"errorBarsOK")){var s=o.getFromId(t,a.xaxis),c=o.getFromId(t,a.yaxis);l(r,a,s,"x"),l(r,a,c,"y")}}}},{"../../lib":400,"../../plots/cartesian/axes":450,"../../registry":490,"./compute_error":283,"fast-isnumeric":121}],283:[function(t,e,n){"use strict";function r(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}e.exports=function(t){var e=t.type,n=t.symmetric;if("data"===e){var i=t.array||[];if(n)return function(t,e){var n=+i[e];return[n,n]};var o=t.arrayminus||[];return function(t,e){var n=+i[e],r=+o[e];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var a=r(e,t.value),s=r(e,t.valueminus);return n||void 0===t.valueminus?function(t){var e=a(t);return[e,e]}:function(t){return[s(t),a(t)]}}},{}],284:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../registry"),o=t("../../lib"),a=t("../../plot_api/plot_template"),s=t("./attributes");e.exports=function(t,e,n,l){var c="error_"+l.axis,u=a.newContainer(e,c),d=t[c]||{};function f(t,e){return o.coerce(d,u,s,t,e)}if(!1!==f("visible",void 0!==d.array||void 0!==d.value||"sqrt"===d.type)){var h=f("type","array"in d?"data":"percent"),p=!0;"sqrt"!==h&&(p=f("symmetric",!(("data"===h?"arrayminus":"valueminus")in d))),"data"===h?(f("array"),f("traceref"),p||(f("arrayminus"),f("tracerefminus"))):"percent"!==h&&"constant"!==h||(f("value"),p||f("valueminus"));var g="copy_"+l.inherit+"style";l.inherit&&(e["error_"+l.inherit]||{}).visible&&f(g,!(d.color||r(d.thickness)||r(d.width))),l.inherit&&u[g]||(f("color",n),f("thickness"),f("width",i.traceIs(e,"gl3d")?0:4))}}},{"../../lib":400,"../../plot_api/plot_template":439,"../../registry":490,"./attributes":281,"fast-isnumeric":121}],285:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plot_api/edit_types").overrideAll,o=t("./attributes"),a={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var s={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o),error_z:r.extendFlat({},o)};delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:i(s,"calc","nested"),scattergl:i(a,"calc","nested")}},supplyDefaults:t("./defaults"),calc:t("./calc"),makeComputeError:t("./compute_error"),plot:t("./plot"),style:t("./style"),hoverInfo:function(t,e,n){(e.error_y||{}).visible&&(n.yerr=t.yh-t.y,e.error_y.symmetric||(n.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(n.xerr=t.xh-t.x,e.error_x.symmetric||(n.xerrneg=t.x-t.xs))}}},{"../../lib":400,"../../plot_api/edit_types":432,"./attributes":281,"./calc":282,"./compute_error":283,"./defaults":284,"./plot":286,"./style":287}],286:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("fast-isnumeric"),o=t("../drawing"),a=t("../../traces/scatter/subtypes");e.exports=function(t,e,n,s){var l=n.xaxis,c=n.yaxis,u=s&&s.duration>0;e.each((function(e){var d,f=e[0].trace,h=f.error_x||{},p=f.error_y||{};f.ids&&(d=function(t){return t.id});var g=a.hasMarkers(f)&&f.marker.maxdisplayed>0;p.visible||h.visible||(e=[]);var m=r.select(this).selectAll("g.errorbar").data(e,d);if(m.exit().remove(),e.length){h.visible||m.selectAll("path.xerror").remove(),p.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var v=m.enter().append("g").classed("errorbar",!0);u&&v.style("opacity",0).transition().duration(s.duration).style("opacity",1),o.setClipUrl(m,n.layerClipId,t),m.each((function(t){var e=r.select(this),n=function(t,e,n){var r={x:e.c2p(t.x),y:n.c2p(t.y)};return void 0!==t.yh&&(r.yh=n.c2p(t.yh),r.ys=n.c2p(t.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(t.ys,!0))),void 0!==t.xh&&(r.xh=e.c2p(t.xh),r.xs=e.c2p(t.xs),i(r.xs)||(r.noXS=!0,r.xs=e.c2p(t.xs,!0))),r}(t,l,c);if(!g||t.vis){var o,a=e.select("path.yerror");if(p.visible&&i(n.x)&&i(n.yh)&&i(n.ys)){var d=p.width;o="M"+(n.x-d)+","+n.yh+"h"+2*d+"m-"+d+",0V"+n.ys,n.noYS||(o+="m-"+d+",0h"+2*d),a.size()?u&&(a=a.transition().duration(s.duration).ease(s.easing)):a=e.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),a.attr("d",o)}else a.remove();var f=e.select("path.xerror");if(h.visible&&i(n.y)&&i(n.xh)&&i(n.xs)){var m=(h.copy_ystyle?p:h).width;o="M"+n.xh+","+(n.y-m)+"v"+2*m+"m0,-"+m+"H"+n.xs,n.noXS||(o+="m0,-"+m+"v"+2*m),f.size()?u&&(f=f.transition().duration(s.duration).ease(s.easing)):f=e.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),f.attr("d",o)}else f.remove()}}))}}))}},{"../../traces/scatter/subtypes":564,"../drawing":279,"@plotly/d3":14,"fast-isnumeric":121}],287:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../color");e.exports=function(t){t.each((function(t){var e=t[0].trace,n=e.error_y||{},o=e.error_x||{},a=r.select(this);a.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),o.copy_ystyle&&(o=n),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(i.stroke,o.color)}))}},{"../color":257,"@plotly/d3":14}],288:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("./layout_attributes").hoverlabel,o=t("../../lib/extend").extendFlat;e.exports={hoverlabel:{bgcolor:o({},i.bgcolor,{arrayOk:!0}),bordercolor:o({},i.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:o({},i.align,{arrayOk:!0}),namelength:o({},i.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":392,"../../plots/font_attributes":478,"./layout_attributes":298}],289:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry");function o(t,e,n,i){i=i||r.identity,Array.isArray(t)&&(e[0][n]=i(t))}e.exports=function(t){var e=t.calcdata,n=t._fullLayout;function a(t){return function(e){return r.coerceHoverinfo({hoverinfo:e},{_module:t._module},n)}}for(var s=0;s<e.length;s++){var l=e[s],c=l[0].trace;if(!i.traceIs(c,"pie-like")){var u=i.traceIs(c,"2dMap")?o:r.fillArray;u(c.hoverinfo,l,"hi",a(c)),c.hovertemplate&&u(c.hovertemplate,l,"ht"),c.hoverlabel&&(u(c.hoverlabel.bgcolor,l,"hbg"),u(c.hoverlabel.bordercolor,l,"hbc"),u(c.hoverlabel.font.size,l,"hts"),u(c.hoverlabel.font.color,l,"htc"),u(c.hoverlabel.font.family,l,"htf"),u(c.hoverlabel.namelength,l,"hnl"),u(c.hoverlabel.align,l,"hta"))}}}},{"../../lib":400,"../../registry":490}],290:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("./hover").hover;e.exports=function(t,e,n){var o=r.getComponentMethod("annotations","onClick")(t,t._hoverdata);function a(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==n&&i(t,e,n,!0),t._hoverdata&&e&&e.target&&(o&&o.then?o.then(a):a(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":490,"./hover":294}],291:[function(t,e,n){"use strict";e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],292:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./attributes"),o=t("./hoverlabel_defaults");e.exports=function(t,e,n,a){var s=r.extendFlat({},a.hoverlabel);e.hovertemplate&&(s.namelength=-1),o(t,e,(function(n,o){return r.coerce(t,e,i,n,o)}),s)}},{"../../lib":400,"./attributes":288,"./hoverlabel_defaults":295}],293:[function(t,e,n){"use strict";var r=t("../../lib");n.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},n.isTraceInSubplots=function(t,e){if("splom"===t.type){for(var r=t.xaxes||[],i=t.yaxes||[],o=0;o<r.length;o++)for(var a=0;a<i.length;a++)if(-1!==e.indexOf(r[o]+i[a]))return!0;return!1}return-1!==e.indexOf(n.getSubplot(t))},n.flat=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e;return n},n.p2c=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].p2c(e);return n},n.getDistanceFunction=function(t,e,r,i){return"closest"===t?i||n.quadrature(e,r):"x"===t.charAt(0)?e:r},n.getClosest=function(t,e,n){if(!1!==n.index)n.index>=0&&n.index<t.length?n.distance=0:n.index=!1;else for(var r=0;r<t.length;r++){var i=e(t[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},n.inbox=function(t,e,n){return t*e<0||0===t?n:1/0},n.quadrature=function(t,e){return function(n){var r=t(n),i=e(n);return Math.sqrt(r*r+i*i)}},n.makeEventData=function(t,e,r){var i="index"in t?t.index:t.pointNumber,o={data:e._input,fullData:e,curveNumber:e.index,pointNumber:i};if(e._indexToPoints){var a=e._indexToPoints[i];1===a.length?o.pointIndex=a[0]:o.pointIndices=a}else o.pointIndex=i;return e._module.eventData?o=e._module.eventData(o,t,e,r,i):("xVal"in t?o.x=t.xVal:"x"in t&&(o.x=t.x),"yVal"in t?o.y=t.yVal:"y"in t&&(o.y=t.y),t.xa&&(o.xaxis=t.xa),t.ya&&(o.yaxis=t.ya),void 0!==t.zLabelVal&&(o.z=t.zLabelVal)),n.appendArrayPointValue(o,e,i),o},n.appendArrayPointValue=function(t,e,n){var i=e._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],c=o(l);if(void 0===t[c]){var u=a(r.nestedProperty(e,l).get(),n);void 0!==u&&(t[c]=u)}}},n.appendArrayMultiPointValues=function(t,e,n){var i=e._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],c=o(l);if(void 0===t[c]){for(var u=r.nestedProperty(e,l).get(),d=new Array(n.length),f=0;f<n.length;f++)d[f]=a(u,n[f]);t[c]=d}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(t){return i[t]||t}function a(t,e){return Array.isArray(e)?Array.isArray(t)&&Array.isArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}var s={x:!0,y:!0},l={"x unified":!0,"y unified":!0};n.isUnifiedHover=function(t){return"string"==typeof t&&!!l[t]},n.isXYhover=function(t){return"string"==typeof t&&!!s[t]}},{"../../lib":400}],294:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("fast-isnumeric"),o=t("tinycolor2"),a=t("../../lib"),s=a.strTranslate,l=a.strRotate,c=t("../../lib/events"),u=t("../../lib/svg_text_utils"),d=t("../../lib/override_cursor"),f=t("../drawing"),h=t("../color"),p=t("../dragelement"),g=t("../../plots/cartesian/axes"),m=t("../../registry"),v=t("./helpers"),y=t("./constants"),b=t("../legend/defaults"),x=t("../legend/draw"),w=y.YANGLE,k=Math.PI*w/180,_=1/Math.sin(k),A=Math.cos(k),T=Math.sin(k),M=y.HOVERARROWSIZE,E=y.HOVERTEXTPAD,C={box:!0,ohlc:!0,violin:!0,candlestick:!0},S={scatter:!0,scattergl:!0,splom:!0};function O(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa?t.xa._id:"",t.ya?t.ya._id:""].join(",")}n.hover=function(t,e,n,o){t=a.getGraphDiv(t);var s=e.target;a.throttle(t._fullLayout._uid+y.HOVERID,y.HOVERMINTIME,(function(){!function(t,e,n,o,s){n||(n="xy");var l=Array.isArray(n)?n:[n],u=t._fullLayout,f=u._plots||[],g=f[n],y=u._has("cartesian");if(g){var b=g.overlays.map((function(t){return t.id}));l=l.concat(b)}for(var x=l.length,w=new Array(x),k=new Array(x),A=!1,T=0;T<x;T++){var M=l[T];if(f[M])A=!0,w[T]=f[M].xaxis,k[T]=f[M].yaxis;else{if(!u[M]||!u[M]._subplot)return void a.warn("Unrecognized subplot: "+M);var E=u[M]._subplot;w[T]=E.xaxis,k[T]=E.yaxis}}var L=e.hovermode||u.hovermode;if(L&&!A&&(L="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(L)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return p.unhoverRaw(t,e);var D=u.hoverdistance;-1===D&&(D=1/0);var B=u.spikedistance;-1===B&&(B=1/0);var Z,U,H,V,W,Y,G,q,X,J,K,Q,tt,et=[],nt=[],rt={hLinePoint:null,vLinePoint:null},it=!1;if(Array.isArray(e))for(L="array",H=0;H<e.length;H++)(W=t.calcdata[e[H].curveNumber||0])&&(Y=W[0].trace,"skip"!==W[0].trace.hoverinfo&&(nt.push(W),"h"===Y.orientation&&(it=!0)));else{for(V=0;V<t.calcdata.length;V++)W=t.calcdata[V],"skip"!==(Y=W[0].trace).hoverinfo&&v.isTraceInSubplots(Y,l)&&(nt.push(W),"h"===Y.orientation&&(it=!0));var ot,at;if(s){if(!1===c.triggerHandler(t,"plotly_beforehover",e))return;var st=s.getBoundingClientRect();ot=e.clientX-st.left,at=e.clientY-st.top,u._calcInverseTransform(t);var lt=a.apply3DTransform(u._invTransform)(ot,at);if(ot=lt[0],at=lt[1],ot<0||ot>w[0]._length||at<0||at>k[0]._length)return p.unhoverRaw(t,e)}else ot="xpx"in e?e.xpx:w[0]._length/2,at="ypx"in e?e.ypx:k[0]._length/2;if(e.pointerX=ot+w[0]._offset,e.pointerY=at+k[0]._offset,Z="xval"in e?v.flat(l,e.xval):v.p2c(w,ot),U="yval"in e?v.flat(l,e.yval):v.p2c(k,at),!i(Z[0])||!i(U[0]))return a.warn("Fx.hover failed",e,t),p.unhoverRaw(t,e)}var ct=1/0;function ut(t,n){for(V=0;V<nt.length;V++)if((W=nt[V])&&W[0]&&W[0].trace&&!0===(Y=W[0].trace).visible&&0!==Y._length&&-1===["carpet","contourcarpet"].indexOf(Y._module.name)){if("splom"===Y.type?G=l[q=0]:(G=v.getSubplot(Y),q=l.indexOf(G)),X=L,v.isUnifiedHover(X)&&(X=X.charAt(0)),Q={cd:W,trace:Y,xa:w[q],ya:k[q],maxHoverDistance:D,maxSpikeDistance:B,index:!1,distance:Math.min(ct,D),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:Y.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},u[G]&&(Q.subplot=u[G]._subplot),u._splomScenes&&u._splomScenes[Y.uid]&&(Q.scene=u._splomScenes[Y.uid]),tt=et.length,"array"===X){var r=e[V];"pointNumber"in r?(Q.index=r.pointNumber,X="closest"):(X="","xval"in r&&(J=r.xval,X="x"),"yval"in r&&(K=r.yval,X=X?"closest":"y"))}else void 0!==t&&void 0!==n?(J=t,K=n):(J=Z[q],K=U[q]);if(0!==D)if(Y._module&&Y._module.hoverPoints){var o=Y._module.hoverPoints(Q,J,K,X,{finiteRange:!0,hoverLayer:u._hoverlayer});if(o)for(var s,c=0;c<o.length;c++)s=o[c],i(s.x0)&&i(s.y0)&&et.push(I(s,L))}else a.log("Unrecognized trace type in hover:",Y);if("closest"===L&&et.length>tt&&(et.splice(0,tt),ct=et[0].distance),y&&0!==B&&0===et.length){Q.distance=B,Q.index=!1;var d=Y._module.hoverPoints(Q,J,K,"closest",{hoverLayer:u._hoverlayer});if(d&&(d=d.filter((function(t){return t.spikeDistance<=B}))),d&&d.length){var f,p=d.filter((function(t){return t.xa.showspikes&&"hovered data"!==t.xa.spikesnap}));if(p.length){var g=p[0];i(g.x0)&&i(g.y0)&&(f=ft(g),(!rt.vLinePoint||rt.vLinePoint.spikeDistance>f.spikeDistance)&&(rt.vLinePoint=f))}var m=d.filter((function(t){return t.ya.showspikes&&"hovered data"!==t.ya.spikesnap}));if(m.length){var b=m[0];i(b.x0)&&i(b.y0)&&(f=ft(b),(!rt.hLinePoint||rt.hLinePoint.spikeDistance>f.spikeDistance)&&(rt.hLinePoint=f))}}}}}function dt(t,e,n){for(var r,i=null,o=1/0,a=0;a<t.length;a++)r=t[a].spikeDistance,n&&0===a&&(r=-1/0),r<=o&&r<=e&&(i=t[a],o=r);return i}function ft(t){return t?{xa:t.xa,ya:t.ya,x:void 0!==t.xSpike?t.xSpike:(t.x0+t.x1)/2,y:void 0!==t.ySpike?t.ySpike:(t.y0+t.y1)/2,distance:t.distance,spikeDistance:t.spikeDistance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}ut();var ht={fullLayout:u,container:u._hoverlayer,event:e},pt=t._spikepoints,gt={vLinePoint:rt.vLinePoint,hLinePoint:rt.hLinePoint};t._spikepoints=gt;var mt=function(){et.sort((function(t,e){return t.distance-e.distance})),et=function(t,e){for(var n=e.charAt(0),r=[],i=[],o=[],a=0;a<t.length;a++){var s=t[a];m.traceIs(s.trace,"bar-like")||m.traceIs(s.trace,"box-violin")?o.push(s):s.trace[n+"period"]?i.push(s):r.push(s)}return r.concat(i).concat(o)}(et,L)};mt();var vt=L.charAt(0),yt=("x"===vt||"y"===vt)&&et[0]&&S[et[0].trace.type];if(y&&0!==B&&0!==et.length){var bt=dt(et.filter((function(t){return t.ya.showspikes})),B,yt);rt.hLinePoint=ft(bt);var xt=dt(et.filter((function(t){return t.xa.showspikes})),B,yt);rt.vLinePoint=ft(xt)}if(0===et.length){var wt=p.unhoverRaw(t,e);return!y||null===rt.hLinePoint&&null===rt.vLinePoint||N(pt)&&z(t,rt,ht),wt}if(y&&N(pt)&&z(t,rt,ht),v.isXYhover(X)&&0!==et[0].length&&"splom"!==et[0].trace.type){var kt=et[0],_t=(et=C[kt.trace.type]?et.filter((function(t){return t.trace.index===kt.trace.index})):[kt]).length;ut(F("x",kt,u),F("y",kt,u));var At,Tt=[],Mt={},Et=0,Ct=function(t){var e=C[t.trace.type]?O(t):t.trace.index;if(Mt[e]){var n=Mt[e]-1,r=Tt[n];n>0&&Math.abs(t.distance)<Math.abs(r.distance)&&(Tt[n]=t)}else Et++,Mt[e]=Et,Tt.push(t)};for(At=0;At<_t;At++)Ct(et[At]);for(At=et.length-1;At>_t-1;At--)Ct(et[At]);et=Tt,mt()}var St=t._hoverdata,Ot=[],Lt=j(t),Pt=$(t);for(H=0;H<et.length;H++){var Dt=et[H],Rt=v.makeEventData(Dt,Dt.trace,Dt.cd);if(!1!==Dt.hovertemplate){var It=!1;Dt.cd[Dt.index]&&Dt.cd[Dt.index].ht&&(It=Dt.cd[Dt.index].ht),Dt.hovertemplate=It||Dt.trace.hovertemplate||!1}if(Dt.xa&&Dt.ya){var zt=Dt.x0+Dt.xa._offset,Nt=Dt.x1+Dt.xa._offset,Bt=Dt.y0+Dt.ya._offset,Ft=Dt.y1+Dt.ya._offset,jt=Math.min(zt,Nt),$t=Math.max(zt,Nt),Zt=Math.min(Bt,Ft),Ut=Math.max(Bt,Ft);Rt.bbox={x0:jt+Pt,x1:$t+Pt,y0:Zt+Lt,y1:Ut+Lt}}Dt.eventData=[Rt],Ot.push(Rt)}t._hoverdata=Ot;var Ht="y"===L&&(nt.length>1||et.length>1)||"closest"===L&&it&&et.length>1,Vt=h.combine(u.plot_bgcolor||h.background,u.paper_bgcolor),Wt=P(et,{gd:t,hovermode:L,rotateLabels:Ht,bgColor:Vt,container:u._hoverlayer,outerContainer:u._paper.node(),commonLabelOpts:u.hoverlabel,hoverdistance:u.hoverdistance});if(v.isUnifiedHover(L)||(function(t,e,n){var r,i,o,a,s,l,c,u=0,d=1,f=t.size(),h=new Array(f),p=0;function g(t){var e=t[0],n=t[t.length-1];if(i=e.pmin-e.pos-e.dp+e.size,o=n.pos+n.dp+n.size-e.pmax,i>.01){for(s=t.length-1;s>=0;s--)t[s].dp+=i;r=!1}if(!(o<.01)){if(i<-.01){for(s=t.length-1;s>=0;s--)t[s].dp-=o;r=!1}if(r){var c=0;for(a=0;a<t.length;a++)(l=t[a]).pos+l.dp+l.size>e.pmax&&c++;for(a=t.length-1;a>=0&&!(c<=0);a--)(l=t[a]).pos>e.pmax-1&&(l.del=!0,c--);for(a=0;a<t.length&&!(c<=0);a++)if((l=t[a]).pos<e.pmin+1)for(l.del=!0,c--,o=2*l.size,s=t.length-1;s>=0;s--)t[s].dp-=o;for(a=t.length-1;a>=0&&!(c<=0);a--)(l=t[a]).pos+l.dp+l.size>e.pmax&&(l.del=!0,c--)}}}for(t.each((function(t){var r=t[e],i="x"===r._id.charAt(0),o=r.range;0===p&&o&&o[0]>o[1]!==i&&(d=-1),h[p++]=[{datum:t,traceIndex:t.trace.index,dp:0,pos:t.pos,posref:t.posref,size:t.by*(i?_:1)/2,pmin:0,pmax:i?n.width:n.height}]})),h.sort((function(t,e){return t[0].posref-e[0].posref||d*(e[0].traceIndex-t[0].traceIndex)}));!r&&u<=f;){for(u++,r=!0,a=0;a<h.length-1;){var m=h[a],v=h[a+1],y=m[m.length-1],b=v[0];if((i=y.pos+y.dp+y.size-b.pos-b.dp+b.size)>.01&&y.pmin===b.pmin&&y.pmax===b.pmax){for(s=v.length-1;s>=0;s--)v[s].dp+=i;for(m.push.apply(m,v),h.splice(a+1,1),c=0,s=m.length-1;s>=0;s--)c+=m[s].dp;for(o=c/m.length,s=m.length-1;s>=0;s--)m[s].dp-=o;r=!1}else a++}h.forEach(g)}for(a=h.length-1;a>=0;a--){var x=h[a];for(s=x.length-1;s>=0;s--){var w=x[s],k=w.datum;k.offset=w.dp,k.del=w.del}}}(Wt,Ht?"xa":"ya",u),R(Wt,Ht,u._invScaleX,u._invScaleY)),s&&s.tagName){var Yt=m.getComponentMethod("annotations","hasClickToShow")(t,Ot);d(r.select(s),Yt?"pointer":"")}s&&!o&&function(t,e,n){if(!n||n.length!==t._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],o=t._hoverdata[r];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber)||String(i.pointNumbers)!==String(o.pointNumbers))return!0}return!1}(t,0,St)&&(St&&t.emit("plotly_unhover",{event:e,points:St}),t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:w,yaxes:k,xvals:Z,yvals:U}))}(t,e,n,o,s)}))},n.loneHover=function(t,e){var n=!0;Array.isArray(t)||(n=!1,t=[t]);var i=e.gd,o=j(i),a=$(i),s=P(t.map((function(t){var n=t._x0||t.x0||t.x||0,r=t._x1||t.x1||t.x||0,s=t._y0||t.y0||t.y||0,l=t._y1||t.y1||t.y||0,c=t.eventData;if(c){var u=Math.min(n,r),d=Math.max(n,r),f=Math.min(s,l),p=Math.max(s,l),g=t.trace;if(m.traceIs(g,"gl3d")){var v=i._fullLayout[g.scene]._scene.container,y=v.offsetLeft,b=v.offsetTop;u+=y,d+=y,f+=b,p+=b}c.bbox={x0:u+a,x1:d+a,y0:f+o,y1:p+o},e.inOut_bbox&&e.inOut_bbox.push(c.bbox)}else c=!1;return{color:t.color||h.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,nameLength:t.nameLength,textAlign:t.textAlign,trace:t.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:t.hovertemplate||!1,hovertemplateLabels:t.hovertemplateLabels||!1,eventData:c}})),{gd:i,hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||h.background,container:r.select(e.container),outerContainer:e.outerContainer||e.container}),l=0,c=0;return s.sort((function(t,e){return t.y0-e.y0})).each((function(t,n){var r=t.y0-t.by/2;t.offset=r-5<l?l-r+5:0,l=r+t.by+t.offset,n===e.anchorIndex&&(c=t.offset)})).each((function(t){t.offset-=c})),R(s,!1,i._fullLayout._invScaleX,i._fullLayout._invScaleY),n?s:s.node()};var L=/<extra>([\s\S]*)<\/extra>/;function P(t,e){var n=e.gd,i=n._fullLayout,o=e.hovermode,c=e.rotateLabels,d=e.bgColor,p=e.container,g=e.outerContainer,k=e.commonLabelOpts||{};if(0===t.length)return[[]];var _=e.fontFamily||y.HOVERFONT,A=e.fontSize||y.HOVERFONTSIZE,T=t[0],C=T.xa,S=T.ya,L=o.charAt(0),P=T[L+"Label"],R=Z(n,g),I=R.top,z=R.width,N=R.height,B=void 0!==P&&T.distance<=e.hoverdistance&&("x"===o||"y"===o);if(B){var F,j,$=!0;for(F=0;F<t.length;F++)if($&&void 0===t[F].zLabel&&($=!1),j=t[F].hoverinfo||t[F].trace.hoverinfo){var U=Array.isArray(j)?j:j.split("+");if(-1===U.indexOf("all")&&-1===U.indexOf(o)){B=!1;break}}$&&(B=!1)}var H=p.selectAll("g.axistext").data(B?[0]:[]);if(H.enter().append("g").classed("axistext",!0),H.exit().remove(),H.each((function(){var t=r.select(this),e=a.ensureSingle(t,"path","",(function(t){t.style({"stroke-width":"1px"})})),l=a.ensureSingle(t,"text","",(function(t){t.attr("data-notex",1)})),c=k.bgcolor||h.defaultLine,d=k.bordercolor||h.contrast(c),p=h.contrast(c),g={family:k.font.family||_,size:k.font.size||A,color:k.font.color||p};e.style({fill:c,stroke:d}),l.text(P).call(f.font,g).call(u.positionText,0,0).call(u.convertToTspans,n),t.attr("transform","");var m,v,y=Z(n,l.node());if("x"===o){var b="top"===C.side?"-":"";l.attr("text-anchor","middle").call(u.positionText,0,"top"===C.side?I-y.bottom-M-E:I-y.top+M+E),m=C._offset+(T.x0+T.x1)/2,v=S._offset+("top"===C.side?0:S._length);var x=y.width/2+E;m<x?(m=x,e.attr("d","M-"+(x-M)+",0L-"+(x-2*M)+","+b+M+"H"+(E+y.width/2)+"v"+b+(2*E+y.height)+"H-"+x+"V"+b+M+"Z")):m>i.width-x?(m=i.width-x,e.attr("d","M"+(x-M)+",0L"+x+","+b+M+"v"+b+(2*E+y.height)+"H-"+x+"V"+b+M+"H"+(x-2*M)+"Z")):e.attr("d","M0,0L"+M+","+b+M+"H"+(E+y.width/2)+"v"+b+(2*E+y.height)+"H-"+(E+y.width/2)+"V"+b+M+"H-"+M+"Z")}else{var w,O,L;"right"===S.side?(w="start",O=1,L="",m=C._offset+C._length):(w="end",O=-1,L="-",m=C._offset),v=S._offset+(T.y0+T.y1)/2,l.attr("text-anchor",w),e.attr("d","M0,0L"+L+M+","+M+"V"+(E+y.height/2)+"h"+L+(2*E+y.width)+"V-"+(E+y.height/2)+"H"+L+M+"V-"+M+"Z");var D,R=y.height/2,z=I-y.top-R,N="clip"+i._uid+"commonlabel"+S._id;if(m<y.width+2*E+M){D="M-"+(M+E)+"-"+R+"h-"+(y.width-E)+"V"+R+"h"+(y.width-E)+"Z";var B=y.width-m+E;u.positionText(l,B,z),"end"===w&&l.selectAll("tspan").each((function(){var t=r.select(this),e=f.tester.append("text").text(t.text()).call(f.font,g),i=Z(n,e.node());Math.round(i.width)<Math.round(y.width)&&t.attr("x",B-i.width),e.remove()}))}else u.positionText(l,O*(E+M),z),D=null;var F=i._topclips.selectAll("#"+N).data(D?[0]:[]);F.enter().append("clipPath").attr("id",N).append("path"),F.exit().remove(),F.select("path").attr("d",D),f.setClipUrl(l,D?N:null,n)}t.attr("transform",s(m,v))})),v.isUnifiedHover(o)){p.selectAll("g.hovertext").remove();var V=t.filter((function(t){return"none"!==t.hoverinfo}));if(0===V.length)return;var W=i.hoverlabel,Y=W.font,G={showlegend:!0,legend:{title:{text:P,font:Y},font:Y,bgcolor:W.bgcolor,bordercolor:W.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:"v"}},q={font:Y};b(G,q,n._fullData);var X=q.legend;X.entries=[];for(var J=0;J<V.length;J++){var K=V[J];if("none"!==K.hoverinfo){var Q=D(K,!0,o,i,P),tt=Q[0],et=Q[1];K.name=et,K.text=""!==et?et+" : "+tt:tt;var nt=K.cd[K.index];nt&&(nt.mc&&(K.mc=nt.mc),nt.mcc&&(K.mc=nt.mcc),nt.mlc&&(K.mlc=nt.mlc),nt.mlcc&&(K.mlc=nt.mlcc),nt.mlw&&(K.mlw=nt.mlw),nt.mrc&&(K.mrc=nt.mrc),nt.dir&&(K.dir=nt.dir)),K._distinct=!0,X.entries.push([K])}}X.entries.sort((function(t,e){return t[0].trace.index-e[0].trace.index})),X.layer=p,X._inHover=!0,X._groupTitleFont=W.grouptitlefont,x(n,X);var rt,it,ot,at,st=p.select("g.legend"),lt=Z(n,st.node()),ct=lt.width+2*E,ut=lt.height+2*E,dt=V[0],ft=(dt.x0+dt.x1)/2,ht=(dt.y0+dt.y1)/2,pt=!(m.traceIs(dt.trace,"bar-like")||m.traceIs(dt.trace,"box-violin"));"y"===L?pt?(it=ht-E,rt=ht+E):(it=Math.min.apply(null,V.map((function(t){return Math.min(t.y0,t.y1)}))),rt=Math.max.apply(null,V.map((function(t){return Math.max(t.y0,t.y1)})))):it=rt=a.mean(V.map((function(t){return(t.y0+t.y1)/2})))-ut/2,"x"===L?pt?(ot=ft+E,at=ft-E):(ot=Math.max.apply(null,V.map((function(t){return Math.max(t.x0,t.x1)}))),at=Math.min.apply(null,V.map((function(t){return Math.min(t.x0,t.x1)})))):ot=at=a.mean(V.map((function(t){return(t.x0+t.x1)/2})))-ct/2;var gt,mt,vt=C._offset,yt=S._offset;return at+=vt-ct,it+=yt-ut,gt=(ot+=vt)+ct<z&&ot>=0?ot:at+ct<z&&at>=0?at:vt+ct<z?vt:ot-ft<ft-at+ct?z-ct:0,gt+=E,mt=(rt+=yt)+ut<N&&rt>=0?rt:it+ut<N&&it>=0?it:yt+ut<N?yt:rt-ht<ht-it+ut?N-ut:0,mt+=E,st.attr("transform",s(gt-1,mt-1)),st}var bt=p.selectAll("g.hovertext").data(t,(function(t){return O(t)}));return bt.enter().append("g").classed("hovertext",!0).each((function(){var t=r.select(this);t.append("rect").call(h.fill,h.addOpacity(d,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(f.font,_,A)})),bt.exit().remove(),bt.each((function(t){var e=r.select(this).attr("transform",""),a=t.color;Array.isArray(a)&&(a=a[t.eventData[0].pointNumber]);var p=t.bgcolor||a,g=h.combine(h.opacity(p)?p:h.defaultLine,d),m=h.combine(h.opacity(a)?a:h.defaultLine,d),v=t.borderColor||h.contrast(g),y=D(t,B,o,i,P,e),b=y[0],x=y[1],k=e.select("text.nums").call(f.font,t.fontFamily||_,t.fontSize||A,t.fontColor||v).text(b).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,n),T=e.select("text.name"),C=0,S=0;if(x&&x!==b){T.call(f.font,t.fontFamily||_,t.fontSize||A,m).text(x).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,n);var O=Z(n,T.node());C=O.width+2*E,S=O.height+2*E}else T.remove(),e.select("rect").remove();e.select("path").style({fill:g,stroke:v});var L=t.xa._offset+(t.x0+t.x1)/2,R=t.ya._offset+(t.y0+t.y1)/2,F=Math.abs(t.x1-t.x0),j=Math.abs(t.y1-t.y0),$=Z(n,k.node()),U=$.width/i._invScaleX,H=$.height/i._invScaleY;t.ty0=(I-$.top)/i._invScaleY,t.bx=U+2*E,t.by=Math.max(H+2*E,S),t.anchor="start",t.txwidth=U,t.tx2width=C,t.offset=0;var V,W,Y=(U+M+E+C)*i._invScaleX;if(c)t.pos=L,V=R+j/2+Y<=N,W=R-j/2-Y>=0,"top"!==t.idealAlign&&V||!W?V?(R+=j/2,t.anchor="start"):t.anchor="middle":(R-=j/2,t.anchor="end");else if(t.pos=R,V=L+F/2+Y<=z,W=L-F/2-Y>=0,"left"!==t.idealAlign&&V||!W)if(V)L+=F/2,t.anchor="start";else{t.anchor="middle";var G=Y/2,q=L+G-z,X=L-G;q>0&&(L-=q),X<0&&(L+=-X)}else L-=F/2,t.anchor="end";k.attr("text-anchor",t.anchor),C&&T.attr("text-anchor",t.anchor),e.attr("transform",s(L,R)+(c?l(w):""))})),bt}function D(t,e,n,r,i,o){var s="",l="";void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name&&(t.trace._meta&&(t.name=a.templateString(t.name,t.trace._meta)),s=B(t.name,t.nameLength));var c=n.charAt(0),u="x"===c?"y":"x";void 0!==t.zLabel?(void 0!==t.xLabel&&(l+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(l+="y: "+t.yLabel+"<br>"),"choropleth"!==t.trace.type&&"choroplethmapbox"!==t.trace.type&&(l+=(l?"z: ":"")+t.zLabel)):e&&t[c+"Label"]===i?l=t[u+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&"scattercarpet"!==t.trace.type&&(l=t.yLabel):l=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",!t.text&&0!==t.text||Array.isArray(t.text)||(l+=(l?"<br>":"")+t.text),void 0!==t.extraText&&(l+=(l?"<br>":"")+t.extraText),o&&""===l&&!t.hovertemplate&&(""===s&&o.remove(),l=s);var d=t.hovertemplate||!1;if(d){var f=t.hovertemplateLabels||t;t[c+"Label"]!==i&&(f[c+"other"]=f[c+"Val"],f[c+"otherLabel"]=f[c+"Label"]),l=(l=a.hovertemplateString(d,f,r._d3locale,t.eventData[0]||{},t.trace._meta)).replace(L,(function(e,n){return s=B(n,t.nameLength),""}))}return[l,s]}function R(t,e,n,i){var o=function(t){return t*n},a=function(t){return t*i};t.each((function(t){var n=r.select(this);if(t.del)return n.remove();var i=n.select("text.nums"),s=t.anchor,l="end"===s?-1:1,c={start:1,end:-1,middle:0}[s],d=c*(M+E),h=d+c*(t.txwidth+E),p=0,g=t.offset,m="middle"===s;m&&(d-=t.tx2width/2,h+=t.txwidth/2+E),e&&(g*=-T,p=t.offset*A),n.select("path").attr("d",m?"M-"+o(t.bx/2+t.tx2width/2)+","+a(g-t.by/2)+"h"+o(t.bx)+"v"+a(t.by)+"h-"+o(t.bx)+"Z":"M0,0L"+o(l*M+p)+","+a(M+g)+"v"+a(t.by/2-M)+"h"+o(l*t.bx)+"v-"+a(t.by)+"H"+o(l*M+p)+"V"+a(g-M)+"Z");var v=p+d,y=g+t.ty0-t.by/2+E,b=t.textAlign||"auto";"auto"!==b&&("left"===b&&"start"!==s?(i.attr("text-anchor","start"),v=m?-t.bx/2-t.tx2width/2+E:-t.bx-E):"right"===b&&"end"!==s&&(i.attr("text-anchor","end"),v=m?t.bx/2-t.tx2width/2-E:t.bx+E)),i.call(u.positionText,o(v),a(y)),t.tx2width&&(n.select("text.name").call(u.positionText,o(h+c*E+p),a(g+t.ty0-t.by/2+E)),n.select("rect").call(f.setRect,o(h+(c-1)*t.tx2width/2+p),a(g-t.by/2-1),o(t.tx2width),a(t.by+2)))}))}function I(t,e){var n=t.index,r=t.trace||{},o=t.cd[0],s=t.cd[n]||{};function l(t){return t||i(t)&&0===t}var c=Array.isArray(n)?function(t,e){var i=a.castOption(o,n,t);return l(i)?i:a.extractOption({},r,"",e)}:function(t,e){return a.extractOption(s,r,t,e)};function u(e,n,r){var i=c(n,r);l(i)&&(t[e]=i)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),t.posref="y"===e||"closest"===e&&"h"===r.orientation?t.xa._offset+(t.x0+t.x1)/2:t.ya._offset+(t.y0+t.y1)/2,t.x0=a.constrain(t.x0,0,t.xa._length),t.x1=a.constrain(t.x1,0,t.xa._length),t.y0=a.constrain(t.y0,0,t.ya._length),t.y1=a.constrain(t.y1,0,t.ya._length),void 0!==t.xLabelVal&&(t.xLabel="xLabel"in t?t.xLabel:g.hoverLabelText(t.xa,t.xLabelVal,r.xhoverformat),t.xVal=t.xa.c2d(t.xLabelVal)),void 0!==t.yLabelVal&&(t.yLabel="yLabel"in t?t.yLabel:g.hoverLabelText(t.ya,t.yLabelVal,r.yhoverformat),t.yVal=t.ya.c2d(t.yLabelVal)),void 0!==t.zLabelVal&&void 0===t.zLabel&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var d=g.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+d+" / -"+g.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+=" \xb1 "+d,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var f=g.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+f+" / -"+g.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+=" \xb1 "+f,"y"===e&&(t.distance+=1)}var h=t.hoverinfo||t.trace.hoverinfo;return h&&"all"!==h&&(-1===(h=Array.isArray(h)?h:h.split("+")).indexOf("x")&&(t.xLabel=void 0),-1===h.indexOf("y")&&(t.yLabel=void 0),-1===h.indexOf("z")&&(t.zLabel=void 0),-1===h.indexOf("text")&&(t.text=void 0),-1===h.indexOf("name")&&(t.name=void 0)),t}function z(t,e,n){var r,i,a=n.container,s=n.fullLayout,l=s._size,c=n.event,u=!!e.hLinePoint,d=!!e.vLinePoint;if(a.selectAll(".spikeline").remove(),d||u){var p=h.combine(s.plot_bgcolor,s.paper_bgcolor);if(u){var m,v,y=e.hLinePoint;r=y&&y.xa,"cursor"===(i=y&&y.ya).spikesnap?(m=c.pointerX,v=c.pointerY):(m=r._offset+y.x,v=i._offset+y.y);var b,x,w=o.readability(y.color,p)<1.5?h.contrast(p):y.color,k=i.spikemode,_=i.spikethickness,A=i.spikecolor||w,T=g.getPxPosition(t,i);if(-1!==k.indexOf("toaxis")||-1!==k.indexOf("across")){if(-1!==k.indexOf("toaxis")&&(b=T,x=m),-1!==k.indexOf("across")){var M=i._counterDomainMin,E=i._counterDomainMax;"free"===i.anchor&&(M=Math.min(M,i.position),E=Math.max(E,i.position)),b=l.l+M*l.w,x=l.l+E*l.w}a.insert("line",":first-child").attr({x1:b,x2:x,y1:v,y2:v,"stroke-width":_,stroke:A,"stroke-dasharray":f.dashStyle(i.spikedash,_)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:b,x2:x,y1:v,y2:v,"stroke-width":_+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==k.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:T+("right"!==i.side?_:-_),cy:v,r:_,fill:A}).classed("spikeline",!0)}if(d){var C,S,O=e.vLinePoint;r=O&&O.xa,i=O&&O.ya,"cursor"===r.spikesnap?(C=c.pointerX,S=c.pointerY):(C=r._offset+O.x,S=i._offset+O.y);var L,P,D=o.readability(O.color,p)<1.5?h.contrast(p):O.color,R=r.spikemode,I=r.spikethickness,z=r.spikecolor||D,N=g.getPxPosition(t,r);if(-1!==R.indexOf("toaxis")||-1!==R.indexOf("across")){if(-1!==R.indexOf("toaxis")&&(L=N,P=S),-1!==R.indexOf("across")){var B=r._counterDomainMin,F=r._counterDomainMax;"free"===r.anchor&&(B=Math.min(B,r.position),F=Math.max(F,r.position)),L=l.t+(1-F)*l.h,P=l.t+(1-B)*l.h}a.insert("line",":first-child").attr({x1:C,x2:C,y1:L,y2:P,"stroke-width":I,stroke:z,"stroke-dasharray":f.dashStyle(r.spikedash,I)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:C,x2:C,y1:L,y2:P,"stroke-width":I+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==R.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:C,cy:N-("top"!==r.side?I:-I),r:I,fill:z}).classed("spikeline",!0)}}}function N(t,e){return!e||e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint}function B(t,e){return u.plainText(t||"",{len:e,allowedTags:["br","sub","sup","b","i","em"]})}function F(t,e,n){var r=e[t+"a"],i=e[t+"Val"],o=e.cd[0];if("category"===r.type)i=r._categoriesMap[i];else if("date"===r.type){var a=e.trace[t+"periodalignment"];if(a){var s=e.cd[e.index],l=s[t+"Start"];void 0===l&&(l=s[t]);var c=s[t+"End"];void 0===c&&(c=s[t]);var u=c-l;"end"===a?i+=u:"middle"===a&&(i+=u/2)}i=r.d2c(i)}return o&&o.t&&o.t.posLetter===r._id&&("group"!==n.boxmode&&"group"!==n.violinmode||(i+=o.t.dPos)),i}function j(t){return t.offsetTop+t.clientTop}function $(t){return t.offsetLeft+t.clientLeft}function Z(t,e){var n=t._fullLayout,r=e.getBoundingClientRect(),i=r.x,o=r.y,s=i+r.width,l=o+r.height,c=a.apply3DTransform(n._invTransform)(i,o),u=a.apply3DTransform(n._invTransform)(s,l),d=c[0],f=c[1],h=u[0],p=u[1];return{x:d,y:f,width:h-d,height:p-f,top:Math.min(f,p),left:Math.min(d,h),right:Math.max(d,h),bottom:Math.max(f,p)}}},{"../../lib":400,"../../lib/events":391,"../../lib/override_cursor":411,"../../lib/svg_text_utils":426,"../../plots/cartesian/axes":450,"../../registry":490,"../color":257,"../dragelement":276,"../drawing":279,"../legend/defaults":309,"../legend/draw":310,"./constants":291,"./helpers":293,"@plotly/d3":14,"fast-isnumeric":121,tinycolor2:205}],295:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../color"),o=t("./helpers").isUnifiedHover;e.exports=function(t,e,n,a){a=a||{};var s=e.legend;function l(t){a.font[t]||(a.font[t]=s?e.legend.font[t]:e.font[t])}e&&o(e.hovermode)&&(a.font||(a.font={}),l("size"),l("family"),l("color"),s?(a.bgcolor||(a.bgcolor=i.combine(e.legend.bgcolor,e.paper_bgcolor)),a.bordercolor||(a.bordercolor=e.legend.bordercolor)):a.bgcolor||(a.bgcolor=e.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),r.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}},{"../../lib":400,"../color":257,"./helpers":293}],296:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e){function n(n,o){return void 0!==e[n]?e[n]:r.coerce(t,e,i,n,o)}return n("clickmode"),n("hovermode")}},{"../../lib":400,"./layout_attributes":298}],297:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../lib"),o=t("../dragelement"),a=t("./helpers"),s=t("./layout_attributes"),l=t("./hover");e.exports={moduleType:"component",name:"fx",constants:t("./constants"),schema:{layout:s},attributes:t("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:t("./layout_global_defaults"),supplyDefaults:t("./defaults"),supplyLayoutDefaults:t("./layout_defaults"),calc:t("./calc"),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(t,e,n){return i.castOption(t,e,"hoverlabel."+n)},castHoverinfo:function(t,e,n){return i.castOption(t,n,"hoverinfo",(function(n){return i.coerceHoverinfo({hoverinfo:n},{_module:t._module},e)}))},hover:l.hover,unhover:o.unhover,loneHover:l.loneHover,loneUnhover:function(t){var e=i.isD3Selection(t)?t:r.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()},click:t("./click")}},{"../../lib":400,"../dragelement":276,"./attributes":288,"./calc":289,"./click":290,"./constants":291,"./defaults":292,"./helpers":293,"./hover":294,"./layout_attributes":298,"./layout_defaults":299,"./layout_global_defaults":300,"@plotly/d3":14}],298:[function(t,e,n){"use strict";var r=t("./constants"),i=t("../../plots/font_attributes"),o=i({editType:"none"});o.family.dflt=r.HOVERFONT,o.size.dflt=r.HOVERFONTSIZE,e.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:i({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":478,"./constants":291}],299:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./layout_attributes"),o=t("./hovermode_defaults"),a=t("./hoverlabel_defaults");e.exports=function(t,e){function n(n,o){return r.coerce(t,e,i,n,o)}o(t,e)&&(n("hoverdistance"),n("spikedistance")),"select"===n("dragmode")&&n("selectdirection");var s=e._has("mapbox"),l=e._has("geo"),c=e._basePlotModules.length;"zoom"===e.dragmode&&((s||l)&&1===c||s&&l&&2===c)&&(e.dragmode="pan"),a(t,e,n),r.coerceFont(n,"hoverlabel.grouptitlefont",e.hoverlabel.font)}},{"../../lib":400,"./hoverlabel_defaults":295,"./hovermode_defaults":296,"./layout_attributes":298}],300:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./hoverlabel_defaults"),o=t("./layout_attributes");e.exports=function(t,e){i(t,e,(function(n,i){return r.coerce(t,e,o,n,i)}))}},{"../../lib":400,"./hoverlabel_defaults":295,"./layout_attributes":298}],301:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../lib/regex").counter,o=t("../../plots/domain").attributes,a=t("../../plots/cartesian/constants").idRegex,s=t("../../plot_api/plot_template"),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[i("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function c(t,e,n){var r=e[n+"axes"],i=Object.keys((t._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function u(t,e,n,r,i,o){var a=e(t+"gap",n),s=e("domain."+t);e(t+"side",r);for(var l=new Array(i),c=s[0],u=(s[1]-c)/(i-a),d=u*(1-a),f=0;f<i;f++){var h=c+u*f;l[o?i-1-f:f]=[h,h+d]}return l}function d(t,e,n,r,i){var o,a=new Array(n);function s(t,n){-1!==e.indexOf(n)&&void 0===r[n]?(a[t]=n,r[n]=t):a[t]=""}if(Array.isArray(t))for(o=0;o<n;o++)s(o,t[o]);else for(s(0,i),o=1;o<n;o++)s(o,i+(o+1));return a}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function(t,e){var n=t.grid||{},i=c(e,n,"x"),o=c(e,n,"y");if(t.grid||i||o){var a,d,f=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),h=Array.isArray(i),p=Array.isArray(o),g=h&&i!==n.xaxes&&p&&o!==n.yaxes;f?(a=n.subplots.length,d=n.subplots[0].length):(p&&(a=o.length),h&&(d=i.length));var m=s.newContainer(e,"grid"),v=A("rows",a),y=A("columns",d);if(v*y>1){f||h||p||"independent"===A("pattern")&&(f=!0),m._hasSubplotGrid=f;var b,x,w="top to bottom"===A("roworder"),k=f?.2:.1,_=f?.3:.1;g&&e._splomGridDflt&&(b=e._splomGridDflt.xside,x=e._splomGridDflt.yside),m._domains={x:u("x",A,k,b,y),y:u("y",A,_,x,v,w)}}else delete e.grid}function A(t,e){return r.coerce(n,m,l,t,e)}},contentDefaults:function(t,e){var n=e.grid;if(n&&n._domains){var r,i,o,a,s,l,u,f=t.grid||{},h=e._subplots,p=n._hasSubplotGrid,g=n.rows,m=n.columns,v="independent"===n.pattern,y=n._axisMap={};if(p){var b=f.subplots||[];l=n.subplots=new Array(g);var x=1;for(r=0;r<g;r++){var w=l[r]=new Array(m),k=b[r]||[];for(i=0;i<m;i++)if(v?(s=1===x?"xy":"x"+x+"y"+x,x++):s=k[i],w[i]="",-1!==h.cartesian.indexOf(s)){if(u=s.indexOf("y"),o=s.slice(0,u),a=s.slice(u),void 0!==y[o]&&y[o]!==i||void 0!==y[a]&&y[a]!==r)continue;w[i]=s,y[o]=i,y[a]=r}}}else{var _=c(e,f,"x"),A=c(e,f,"y");n.xaxes=d(_,h.xaxis,m,y,"x"),n.yaxes=d(A,h.yaxis,g,y,"y")}var T=n._anchors={},M="top to bottom"===n.roworder;for(var E in y){var C,S,O,L=E.charAt(0),P=n[L+"side"];if(P.length<8)T[E]="free";else if("x"===L){if("t"===P.charAt(0)===M?(C=0,S=1,O=g):(C=g-1,S=-1,O=-1),p){var D=y[E];for(r=C;r!==O;r+=S)if((s=l[r][D])&&(u=s.indexOf("y"),s.slice(0,u)===E)){T[E]=s.slice(u);break}}else for(r=C;r!==O;r+=S)if(a=n.yaxes[r],-1!==h.cartesian.indexOf(E+a)){T[E]=a;break}}else if("l"===P.charAt(0)?(C=0,S=1,O=m):(C=m-1,S=-1,O=-1),p){var R=y[E];for(r=C;r!==O;r+=S)if((s=l[R][r])&&(u=s.indexOf("y"),s.slice(u)===E)){T[E]=s.slice(0,u);break}}else for(r=C;r!==O;r+=S)if(o=n.xaxes[r],-1!==h.cartesian.indexOf(o+E)){T[E]=o;break}}}}}},{"../../lib":400,"../../lib/regex":417,"../../plot_api/plot_template":439,"../../plots/cartesian/constants":457,"../../plots/domain":477}],302:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/constants"),i=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),e.exports=i("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":374,"../../plot_api/plot_template":439,"../../plots/cartesian/constants":457}],303:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib/to_log_range");e.exports=function(t,e,n,o){e=e||{};var a="log"===n&&"linear"===e.type,s="linear"===n&&"log"===e.type;if(a||s)for(var l,c,u=t._fullLayout.images,d=e._id.charAt(0),f=0;f<u.length;f++)if(c="images["+f+"].",(l=u[f])[d+"ref"]===e._id){var h=l[d],p=l["size"+d],g=null,m=null;if(a){g=i(h,e.range);var v=p/Math.pow(10,g)/2;m=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else m=(g=Math.pow(10,h))*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(g)?r(m)||(m=null):(g=null,m=null),o(c+d,g),o(c+"size"+d,m)}}},{"../../lib/to_log_range":428,"fast-isnumeric":121}],304:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),a=t("./attributes");function s(t,e,n){function o(n,i){return r.coerce(t,e,a,n,i)}var s=o("source");if(!o("visible",!!s))return e;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var l={_fullLayout:n},c=["x","y"],u=0;u<2;u++){var d=c[u],f=i.coerceRef(t,e,l,d,"paper",void 0);"paper"!==f&&i.getFromId(l,f)._imgIndices.push(e._index),i.coercePosition(e,l,o,f,d,0)}return e}e.exports=function(t,e){o(t,e,{name:"images",handleItemDefaults:s})}},{"../../lib":400,"../../plots/array_container_defaults":445,"../../plots/cartesian/axes":450,"./attributes":302}],305:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../drawing"),o=t("../../plots/cartesian/axes"),a=t("../../plots/cartesian/axis_ids"),s=t("../../constants/xmlns_namespaces");e.exports=function(t){var e,n,l=t._fullLayout,c=[],u={},d=[];for(n=0;n<l.images.length;n++){var f=l.images[n];if(f.visible)if("below"===f.layer&&"paper"!==f.xref&&"paper"!==f.yref){e=a.ref2id(f.xref)+a.ref2id(f.yref);var h=l._plots[e];if(!h){d.push(f);continue}h.mainplot&&(e=h.mainplot.id),u[e]||(u[e]=[]),u[e].push(f)}else"above"===f.layer?c.push(f):d.push(f)}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},g={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function m(e){var n=r.select(this);if(this._imgSrc!==e.source)if(n.attr("xmlns",s.svg),e.source&&"data:"===e.source.slice(0,5))n.attr("xlink:href",e.source),this._imgSrc=e.source;else{var i=new Promise(function(t){var r=new Image;function i(){n.remove(),t()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=i,r.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var r=e.toDataURL("image/png");n.attr("xlink:href",r),t()},n.on("error",i),r.src=e.source,this._imgSrc=e.source}.bind(this));t._promises.push(i)}}function v(e){var n,a,s=r.select(this),c=o.getFromId(t,e.xref),u=o.getFromId(t,e.yref),d="domain"===o.getRefType(e.xref),f="domain"===o.getRefType(e.yref),h=l._size;n=void 0!==c?"string"==typeof e.xref&&d?c._length*e.sizex:Math.abs(c.l2p(e.sizex)-c.l2p(0)):e.sizex*h.w,a=void 0!==u?"string"==typeof e.yref&&f?u._length*e.sizey:Math.abs(u.l2p(e.sizey)-u.l2p(0)):e.sizey*h.h;var m,v,y=n*p[e.xanchor].offset,b=a*g[e.yanchor].offset,x=p[e.xanchor].sizing+g[e.yanchor].sizing;switch(m=void 0!==c?"string"==typeof e.xref&&d?c._length*e.x+c._offset:c.r2p(e.x)+c._offset:e.x*h.w+h.l,m+=y,v=void 0!==u?"string"==typeof e.yref&&f?u._length*(1-e.y)+u._offset:u.r2p(e.y)+u._offset:h.h-e.y*h.h+h.t,v+=b,e.sizing){case"fill":x+=" slice";break;case"stretch":x="none"}s.attr({x:m,y:v,width:n,height:a,preserveAspectRatio:x,opacity:e.opacity});var w=(c&&"domain"!==o.getRefType(e.xref)?c._id:"")+(u&&"domain"!==o.getRefType(e.yref)?u._id:"");i.setClipUrl(s,w?"clip"+l._uid+w:null,t)}var y=l._imageLowerLayer.selectAll("image").data(d),b=l._imageUpperLayer.selectAll("image").data(c);y.enter().append("image"),b.enter().append("image"),y.exit().remove(),b.exit().remove(),y.each((function(t){m.bind(this)(t),v.bind(this)(t)})),b.each((function(t){m.bind(this)(t),v.bind(this)(t)}));var x=Object.keys(l._plots);for(n=0;n<x.length;n++){e=x[n];var w=l._plots[e];if(w.imagelayer){var k=w.imagelayer.selectAll("image").data(u[e]||[]);k.enter().append("image"),k.exit().remove(),k.each((function(t){m.bind(this)(t),v.bind(this)(t)}))}}}},{"../../constants/xmlns_namespaces":379,"../../plots/cartesian/axes":450,"../../plots/cartesian/axis_ids":454,"../drawing":279,"@plotly/d3":14}],306:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("images"),draw:t("./draw"),convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":461,"./attributes":302,"./convert_coords":303,"./defaults":304,"./draw":305}],307:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../color/attributes");e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),grouptitlefont:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:r({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":478,"../color/attributes":256}],308:[function(t,e,n){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],309:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("../../plot_api/plot_template"),a=t("../../plots/attributes"),s=t("./attributes"),l=t("../../plots/layout_attributes"),c=t("./helpers");e.exports=function(t,e,n){var u,d=t.legend||{},f=o.newContainer(e,"legend");function h(t,e){return i.coerce(d,f,s,t,e)}for(var p=function(t,e){var n=u._input,r=u;return i.coerce(n,r,a,t,e)},g=e.font||{},m=i.coerceFont(h,"grouptitlefont",i.extendFlat({},g,{size:Math.round(1.1*g.size)})),v=0,y=!1,b="normal",x=0;x<n.length;x++)(u=n[x]).visible&&((u.showlegend||u._dfltShowLegend&&!(u._module&&u._module.attributes&&u._module.attributes.showlegend&&!1===u._module.attributes.showlegend.dflt))&&(v++,u.showlegend&&(y=!0,(r.traceIs(u,"pie-like")||!0===u._input.showlegend)&&v++),i.coerceFont(p,"legendgrouptitle.font",m)),(r.traceIs(u,"bar")&&"stack"===e.barmode||-1!==["tonextx","tonexty"].indexOf(u.fill))&&(b=c.isGrouped({traceorder:b})?"grouped+reversed":"reversed"),void 0!==u.legendgroup&&""!==u.legendgroup&&(b=c.isReversed({traceorder:b})?"reversed+grouped":"grouped"));var w=i.coerce(t,e,l,"showlegend",y&&v>1);if(!1===w&&(e.legend=void 0),(!1!==w||d.uirevision)&&(h("uirevision",e.uirevision),!1!==w)){h("bgcolor",e.paper_bgcolor),h("bordercolor"),h("borderwidth");var k,_,A,T=i.coerceFont(h,"font",e.font),M="h"===h("orientation");if(M?(k=0,r.getComponentMethod("rangeslider","isVisible")(t.xaxis)?(_=1.1,A="bottom"):(_=-.1,A="top")):(k=1.02,_=1,A="auto"),h("traceorder",b),c.isGrouped(e.legend)&&h("tracegroupgap"),h("itemsizing"),h("itemwidth"),h("itemclick"),h("itemdoubleclick"),h("groupclick"),h("x",k),h("xanchor"),h("y",_),h("yanchor",A),h("valign"),i.noneOrAll(d,f,["x","y"]),h("title.text")){h("title.side",M?"left":"top");var E=i.extendFlat({},T,{size:i.bigFont(T.size)});i.coerceFont(h,"title.font",E)}}}},{"../../lib":400,"../../plot_api/plot_template":439,"../../plots/attributes":446,"../../plots/layout_attributes":486,"../../registry":490,"./attributes":307,"./helpers":313}],310:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../lib"),o=t("../../plots/plots"),a=t("../../registry"),s=t("../../lib/events"),l=t("../dragelement"),c=t("../drawing"),u=t("../color"),d=t("../../lib/svg_text_utils"),f=t("./handle_click"),h=t("./constants"),p=t("../../constants/alignment"),g=p.LINE_SPACING,m=p.FROM_TL,v=p.FROM_BR,y=t("./get_legend_data"),b=t("./style"),x=t("./helpers");function w(t,e,n,r,i){var o=n.data()[0][0].trace,l={event:i,node:n.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};o._group&&(l.group=o._group),a.traceIs(o,"pie-like")&&(l.label=n.datum()[0].label),!1!==s.triggerHandler(t,"plotly_legendclick",l)&&(1===r?e._clickTimeout=setTimeout((function(){t._fullLayout&&f(n,t,r)}),t._context.doubleClickDelay):2===r&&(e._clickTimeout&&clearTimeout(e._clickTimeout),t._legendMouseDownTime=0,!1!==s.triggerHandler(t,"plotly_legenddoubleclick",l)&&f(n,t,r)))}function k(t,e,n){var r,o,s=t.data()[0][0],l=s.trace,u=a.traceIs(l,"pie-like"),f=!n._inHover&&e._context.edits.legendText&&!u,p=n._maxNameLength;s.groupTitle?(r=s.groupTitle.text,o=s.groupTitle.font):(o=n.font,n.entries?r=s.text:(r=u?s.label:l.name,l._meta&&(r=i.templateString(r,l._meta))));var g=i.ensureSingle(t,"text","legendtext");g.attr("text-anchor","start").call(c.font,o).text(f?_(r,p):r);var m=n.itemwidth+2*h.itemGap;d.positionText(g,m,0),f?g.call(d.makeEditable,{gd:e,text:r}).call(T,t,e,n).on("edit",(function(r){this.text(_(r,p)).call(T,t,e,n);var o=s.trace._fullInput||{},c={};if(a.hasTransform(o,"groupby")){var u=a.getTransformIndices(o,"groupby"),d=u[u.length-1],f=i.keyedContainer(o,"transforms["+d+"].styles","target","value.name");f.set(s.trace._group,r),c=f.constructUpdate()}else c.name=r;return a.call("_guiRestyle",e,c,l.index)})):T(g,t,e,n)}function _(t,e){var n=Math.max(4,e);if(t&&t.trim().length>=n/2)return t;for(var r=n-(t=t||"").length;r>0;r--)t+=" ";return t}function A(t,e){var n,o=e._context.doubleClickDelay,a=1,s=i.ensureSingle(t,"rect","legendtoggle",(function(t){e._context.staticPlot||t.style("cursor","pointer").attr("pointer-events","all"),t.call(u.fill,"rgba(0,0,0,0)")}));e._context.staticPlot||(s.on("mousedown",(function(){(n=(new Date).getTime())-e._legendMouseDownTime<o?a+=1:(a=1,e._legendMouseDownTime=n)})),s.on("mouseup",(function(){if(!e._dragged&&!e._editing){var n=e._fullLayout.legend;(new Date).getTime()-e._legendMouseDownTime>o&&(a=Math.max(a-1,1)),w(e,n,t,a,r.event)}})))}function T(t,e,n,r,i){r._inHover&&t.attr("data-notex",!0),d.convertToTspans(t,n,(function(){!function(t,e,n,r){var i=t.data()[0][0];if(n._inHover||!i||i.trace.showlegend){var o=t.select("g[class*=math-group]"),a=o.node();n||(n=e._fullLayout.legend);var s,l,u=n.borderwidth,f=(1===r?n.title.font:i.groupTitle?i.groupTitle.font:n.font).size*g;if(a){var p=c.bBox(a);s=p.height,l=p.width,1===r?c.setTranslate(o,u,u+.75*s):c.setTranslate(o,0,.25*s)}else{var m=t.select(1===r?".legendtitletext":".legendtext"),v=d.lineCount(m),y=m.node();if(s=f*v,l=y?c.bBox(y).width:0,1===r)"left"===n.title.side&&(l+=2*h.itemGap),d.positionText(m,u+h.titlePad,u+f);else{var b=2*h.itemGap+n.itemwidth;i.groupTitle&&(b=h.itemGap,l-=n.itemwidth),d.positionText(m,b,-f*((v-1)/2-.3))}}1===r?(n._titleWidth=l,n._titleHeight=s):(i.lineHeight=f,i.height=Math.max(s,16)+3,i.width=l)}else t.remove()}(e,n,r,i)}))}function M(t){return i.isRightAnchor(t)?"right":i.isCenterAnchor(t)?"center":"left"}function E(t){return i.isBottomAnchor(t)?"bottom":i.isMiddleAnchor(t)?"middle":"top"}e.exports=function(t,e){return e||(e=t._fullLayout.legend||{}),function(t,e){var n,s,d=t._fullLayout,f="legend"+d._uid,p=e._inHover;if(p?(n=e.layer,f+="-hover"):n=d._infolayer,n){if(t._legendMouseDownTime||(t._legendMouseDownTime=0),p){if(!e.entries)return;s=y(e.entries,e)}else{if(!t.calcdata)return;s=d.showlegend&&y(t.calcdata,e)}var g=d.hiddenlabels||[];if(!(p||d.showlegend&&s.length))return n.selectAll(".legend").remove(),d._topdefs.select("#"+f).remove(),o.autoMargin(t,"legend");var _=i.ensureSingle(n,"g","legend",(function(t){p||t.attr("pointer-events","all")})),C=i.ensureSingleById(d._topdefs,"clipPath",f,(function(t){t.append("rect")})),S=i.ensureSingle(_,"rect","bg",(function(t){t.attr("shape-rendering","crispEdges")}));S.call(u.stroke,e.bordercolor).call(u.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px");var O=i.ensureSingle(_,"g","scrollbox"),L=e.title;if(e._titleWidth=0,e._titleHeight=0,L.text){var P=i.ensureSingle(O,"text","legendtitletext");P.attr("text-anchor","start").call(c.font,L.font).text(L.text),T(P,O,t,e,1)}else O.selectAll(".legendtitletext").remove();var D=i.ensureSingle(_,"rect","scrollbar",(function(t){t.attr(h.scrollBarEnterAttrs).call(u.fill,h.scrollBarColor)})),R=O.selectAll("g.groups").data(s);R.enter().append("g").attr("class","groups"),R.exit().remove();var I=R.selectAll("g.traces").data(i.identity);I.enter().append("g").attr("class","traces"),I.exit().remove(),I.style("opacity",(function(t){var e=t[0].trace;return a.traceIs(e,"pie-like")?-1!==g.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1})).each((function(){r.select(this).call(k,t,e)})).call(b,t,e).each((function(){p||r.select(this).call(A,t)})),i.syncOrAsync([o.previousPromises,function(){return function(t,e,n,i){var o=t._fullLayout;i||(i=o.legend);var a=o._size,s=x.isVertical(i),l=x.isGrouped(i),u=i.borderwidth,d=2*u,f=h.itemGap,p=i.itemwidth+2*f,g=2*(u+f),m=E(i),v=i.y<0||0===i.y&&"top"===m,y=i.y>1||1===i.y&&"bottom"===m,b=i.tracegroupgap;i._maxHeight=Math.max(v||y?o.height/2:a.h,30);var w=0;i._width=0,i._height=0;var k=function(t){var e=0,n=0,r=t.title.side;return r&&(-1!==r.indexOf("left")&&(e=t._titleWidth),-1!==r.indexOf("top")&&(n=t._titleHeight)),[e,n]}(i);if(s)n.each((function(t){var e=t[0].height;c.setTranslate(this,u+k[0],u+k[1]+i._height+e/2+f),i._height+=e,i._width=Math.max(i._width,t[0].width)})),w=p+i._width,i._width+=f+p+d,i._height+=g,l&&(e.each((function(t,e){c.setTranslate(this,0,e*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var _=M(i),A=i.x<0||0===i.x&&"right"===_,T=i.x>1||1===i.x&&"left"===_,C=y||v,S=o.width/2;i._maxWidth=Math.max(A?C&&"left"===_?a.l+a.w:S:T?C&&"right"===_?a.r+a.w:S:a.w,2*p);var O=0,L=0;n.each((function(t){var e=t[0].width+p;O=Math.max(O,e),L+=e})),w=null;var P=0;if(l){var D=0,R=0,I=0;e.each((function(){var t=0,e=0;r.select(this).selectAll("g.traces").each((function(n){var r=n[0].width,i=n[0].height;c.setTranslate(this,k[0],k[1]+u+f+i/2+e),e+=i,t=Math.max(t,p+r)}));var n=t+f;R>0&&n+u+R>i._maxWidth?(P=Math.max(P,R),R=0,I+=D+b,D=e):D=Math.max(D,e),c.setTranslate(this,R,I),R+=n})),i._width=Math.max(P,R)+u,i._height=I+D+g}else{var z=n.size(),N=L+d+(z-1)*f<i._maxWidth,B=0,F=0,j=0,$=0;n.each((function(t){var e=t[0].height,n=p+t[0].width,r=(N?n:O)+f;r+u+F-f>=i._maxWidth&&(P=Math.max(P,$),F=0,j+=B,i._height+=B,B=0),c.setTranslate(this,k[0]+u+F,k[1]+u+j+e/2+f),$=F+n+f,F+=r,B=Math.max(B,e)})),N?(i._width=F+d,i._height=B+g):(i._width=Math.max(P,$)+d,i._height+=B+g)}}i._width=Math.ceil(Math.max(i._width+k[0],i._titleWidth+2*(u+h.titlePad))),i._height=Math.ceil(Math.max(i._height+k[1],i._titleHeight+2*(u+h.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var Z=t._context.edits,U=Z.legendText||Z.legendPosition;n.each((function(t){var e=r.select(this).select(".legendtoggle"),n=t[0].height,i=U?p:w||p+t[0].width;s||(i+=f/2),c.setRect(e,0,-n/2,i,n)}))}(t,R,I,e)},function(){var s,u,g,y,b=d._size,x=e.borderwidth;if(!p){if(function(t){var e=t._fullLayout.legend,n=M(e),r=E(e);return o.autoMargin(t,"legend",{x:e.x,y:e.y,l:e._width*m[n],r:e._width*v[n],b:e._effHeight*v[r],t:e._effHeight*m[r]})}(t))return;var k=b.l+b.w*e.x-m[M(e)]*e._width,A=b.t+b.h*(1-e.y)-m[E(e)]*e._effHeight;if(d.margin.autoexpand){var T=k,L=A;k=i.constrain(k,0,d.width-e._width),A=i.constrain(A,0,d.height-e._effHeight),k!==T&&i.log("Constrain legend.x to make legend fit inside graph"),A!==L&&i.log("Constrain legend.y to make legend fit inside graph")}c.setTranslate(_,k,A)}if(D.on(".drag",null),_.on("wheel",null),p||e._height<=e._maxHeight||t._context.staticPlot){var P=e._effHeight;p&&(P=e._height),S.attr({width:e._width-x,height:P-x,x:x/2,y:x/2}),c.setTranslate(O,0,0),C.select("rect").attr({width:e._width-2*x,height:P-2*x,x:x,y:x}),c.setClipUrl(O,f,t),c.setRect(D,0,0,0,0),delete e._scrollY}else{var R,I,z,N=Math.max(h.scrollBarMinHeight,e._effHeight*e._effHeight/e._height),B=e._effHeight-N-2*h.scrollBarMargin,F=e._height-e._effHeight,j=B/F,$=Math.min(e._scrollY||0,F);S.attr({width:e._width-2*x+h.scrollBarWidth+h.scrollBarMargin,height:e._effHeight-x,x:x/2,y:x/2}),C.select("rect").attr({width:e._width-2*x+h.scrollBarWidth+h.scrollBarMargin,height:e._effHeight-2*x,x:x,y:x+$}),c.setClipUrl(O,f,t),H($,N,j),_.on("wheel",(function(){H($=i.constrain(e._scrollY+r.event.deltaY/B*F,0,F),N,j),0!==$&&$!==F&&r.event.preventDefault()}));var Z=r.behavior.drag().on("dragstart",(function(){var t=r.event.sourceEvent;R="touchstart"===t.type?t.changedTouches[0].clientY:t.clientY,z=$})).on("drag",(function(){var t=r.event.sourceEvent;2===t.buttons||t.ctrlKey||(I="touchmove"===t.type?t.changedTouches[0].clientY:t.clientY,H($=function(t,e,n){var r=(n-e)/j+t;return i.constrain(r,0,F)}(z,R,I),N,j))}));D.call(Z);var U=r.behavior.drag().on("dragstart",(function(){var t=r.event.sourceEvent;"touchstart"===t.type&&(R=t.changedTouches[0].clientY,z=$)})).on("drag",(function(){var t=r.event.sourceEvent;"touchmove"===t.type&&(I=t.changedTouches[0].clientY,H($=function(t,e,n){var r=(e-n)/j+t;return i.constrain(r,0,F)}(z,R,I),N,j))}));O.call(U)}function H(n,r,i){e._scrollY=t._fullLayout.legend._scrollY=n,c.setTranslate(O,0,-n),c.setRect(D,e._width,h.scrollBarMargin+n*i,h.scrollBarWidth,r),C.select("rect").attr("y",x+n)}t._context.edits.legendPosition&&(_.classed("cursor-move",!0),l.init({element:_.node(),gd:t,prepFn:function(){var t=c.getTranslate(_);g=t.x,y=t.y},moveFn:function(t,n){var r=g+t,i=y+n;c.setTranslate(_,r,i),s=l.align(r,0,b.l,b.l+b.w,e.xanchor),u=l.align(i,0,b.t+b.h,b.t,e.yanchor)},doneFn:function(){void 0!==s&&void 0!==u&&a.call("_guiRelayout",t,{"legend.x":s,"legend.y":u})},clickFn:function(e,r){var i=n.selectAll("g.traces").filter((function(){var t=this.getBoundingClientRect();return r.clientX>=t.left&&r.clientX<=t.right&&r.clientY>=t.top&&r.clientY<=t.bottom}));i.size()>0&&w(t,_,i,e,r)}}))}],t)}}(t,e)}},{"../../constants/alignment":373,"../../lib":400,"../../lib/events":391,"../../lib/svg_text_utils":426,"../../plots/plots":488,"../../registry":490,"../color":257,"../dragelement":276,"../drawing":279,"./constants":308,"./get_legend_data":311,"./handle_click":312,"./helpers":313,"./style":315,"@plotly/d3":14}],311:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("./helpers");e.exports=function(t,e){var n,o,a=e._inHover,s=i.isGrouped(e),l=i.isReversed(e),c={},u=[],d=!1,f={},h=0,p=0;function g(t,n){if(""!==t&&i.isGrouped(e))-1===u.indexOf(t)?(u.push(t),d=!0,c[t]=[n]):c[t].push(n);else{var r="~~i"+h;u.push(r),c[r]=[n],h++}}for(n=0;n<t.length;n++){var m=t[n],v=m[0],y=v.trace,b=y.legendgroup;if(a||y.visible&&y.showlegend)if(r.traceIs(y,"pie-like"))for(f[b]||(f[b]={}),o=0;o<m.length;o++){var x=m[o].label;f[b][x]||(g(b,{label:x,color:m[o].color,i:m[o].i,trace:y,pts:m[o].pts}),f[b][x]=!0,p=Math.max(p,(x||"").length))}else g(b,v),p=Math.max(p,(y.name||"").length)}if(!u.length)return[];var w=!d||!s,k=[];for(n=0;n<u.length;n++){var _=c[u[n]];w?k.push(_[0]):k.push(_)}for(w&&(k=[k]),n=0;n<k.length;n++){var A=1/0;for(o=0;o<k[n].length;o++){var T=k[n][o].trace.legendrank;A>T&&(A=T)}k[n][0]._groupMinRank=A,k[n][0]._preGroupSort=n}var M=function(t,e){return t.trace.legendrank-e.trace.legendrank||t._preSort-e._preSort};for(k.forEach((function(t,e){t[0]._preGroupSort=e})),k.sort((function(t,e){return t[0]._groupMinRank-e[0]._groupMinRank||t[0]._preGroupSort-e[0]._preGroupSort})),n=0;n<k.length;n++){k[n].forEach((function(t,e){t._preSort=e})),k[n].sort(M);var E=k[n][0].trace,C=null;for(o=0;o<k[n].length;o++){var S=k[n][o].trace.legendgrouptitle;if(S&&S.text){C=S,a&&(S.font=e._groupTitleFont);break}}if(l&&k[n].reverse(),C){var O=!1;for(o=0;o<k[n].length;o++)if(r.traceIs(k[n][o].trace,"pie-like")){O=!0;break}k[n].unshift({i:-1,groupTitle:C,noClick:O,trace:{showlegend:E.showlegend,legendgroup:E.legendgroup,visible:"toggleitem"===e.groupclick||E.visible}})}for(o=0;o<k[n].length;o++)k[n][o]=[k[n][o]]}return e._lgroupsLength=k.length,e._maxNameLength=p,k}},{"../../registry":490,"./helpers":313}],312:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry"),o=!0;e.exports=function(t,e,n){var a=e._fullLayout;if(!e._dragged&&!e._editing){var s,l=a.legend.itemclick,c=a.legend.itemdoubleclick,u=a.legend.groupclick;if(1===n&&"toggle"===l&&"toggleothers"===c&&o&&e.data&&e._context.showTips?(r.notifier(r._(e,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,1===n?s=l:2===n&&(s=c),s){var d="togglegroup"===u,f=a.hiddenlabels?a.hiddenlabels.slice():[],h=t.data()[0][0];if(!h.groupTitle||!h.noClick){var p,g,m,v,y,b=e._fullData,x=h.trace,w=x.legendgroup,k={},_=[],A=[],T=[];if(i.traceIs(x,"pie-like")){var M=h.label,E=f.indexOf(M);"toggle"===s?-1===E?f.push(M):f.splice(E,1):"toggleothers"===s&&(f=[],e.calcdata[0].forEach((function(t){M!==t.label&&f.push(t.label)})),e._fullLayout.hiddenlabels&&e._fullLayout.hiddenlabels.length===f.length&&-1===E&&(f=[])),i.call("_guiRelayout",e,"hiddenlabels",f)}else{var C,S=w&&w.length,O=[];if(S)for(p=0;p<b.length;p++)(C=b[p]).visible&&C.legendgroup===w&&O.push(p);if("toggle"===s){var L;switch(x.visible){case!0:L="legendonly";break;case!1:L=!1;break;case"legendonly":L=!0}if(S)if(d)for(p=0;p<b.length;p++)!1!==b[p].visible&&b[p].legendgroup===w&&j(b[p],L);else j(x,L);else j(x,L)}else if("toggleothers"===s){var P,D,R,I,z=!0;for(p=0;p<b.length;p++)if(P=b[p]===x,R=!0!==b[p].showlegend,!(P||R||(D=S&&b[p].legendgroup===w)||!0!==b[p].visible||i.traceIs(b[p],"notLegendIsolatable"))){z=!1;break}for(p=0;p<b.length;p++)if(!1!==b[p].visible&&!i.traceIs(b[p],"notLegendIsolatable"))switch(x.visible){case"legendonly":j(b[p],!0);break;case!0:I=!!z||"legendonly",P=b[p]===x,R=!0!==b[p].showlegend&&!b[p].legendgroup,D=P||S&&b[p].legendgroup===w,j(b[p],!(!D&&!R)||I)}}for(p=0;p<A.length;p++)if(m=A[p]){var N=m.constructUpdate(),B=Object.keys(N);for(g=0;g<B.length;g++)v=B[g],(k[v]=k[v]||[])[T[p]]=N[v]}for(y=Object.keys(k),p=0;p<y.length;p++)for(v=y[p],g=0;g<_.length;g++)k[v].hasOwnProperty(g)||(k[v][g]=void 0);i.call("_guiRestyle",e,k,_)}}}}function F(t,e,n){var r=_.indexOf(t),i=k[e];return i||(i=k[e]=[]),-1===_.indexOf(t)&&(_.push(t),r=_.length-1),i[r]=n,r}function j(t,e){if(!h.groupTitle||d){var n=t._fullInput;if(i.hasTransform(n,"groupby")){var o=A[n.index];if(!o){var a=i.getTransformIndices(n,"groupby"),s=a[a.length-1];o=r.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),A[n.index]=o}var l=o.get(t._group);void 0===l&&(l=!0),!1!==l&&o.set(t._group,e),T[n.index]=F(n.index,"visible",!1!==n.visible)}else{var c=!1!==n.visible&&e;F(n.index,"visible",c)}}}}},{"../../lib":400,"../../registry":490}],313:[function(t,e,n){"use strict";n.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},n.isVertical=function(t){return"h"!==t.orientation},n.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},{}],314:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),style:t("./style")}},{"./attributes":307,"./defaults":309,"./draw":310,"./style":315}],315:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../registry"),o=t("../../lib"),a=o.strTranslate,s=t("../drawing"),l=t("../color"),c=t("../colorscale/helpers").extractOpts,u=t("../../traces/scatter/subtypes"),d=t("../../traces/pie/style_one"),f=t("../../traces/pie/helpers").castOption,h=t("./constants");function p(t,e){return(e?"radial":"horizontal")+(t?"":"reversed")}function g(t){var e=t[0].trace,n=e.contours,r=u.hasLines(e),i=u.hasMarkers(e),o=e.visible&&e.fill&&"none"!==e.fill,a=!1,s=!1;if(n){var l=n.coloring;"lines"===l?a=!0:r="none"===l||"heatmap"===l||n.showlines,"constraint"===n.type?o="="!==n._operation:"fill"!==l&&"heatmap"!==l||(s=!0)}return{showMarker:i,showLine:r,showFill:o,showGradientLine:a,showGradientFill:s,anyLine:r||a,anyFill:o||s}}function m(t,e,n){return t&&o.isArrayOrTypedArray(t)?e:t>n?n:t}e.exports=function(t,e,n){var v=e._fullLayout;n||(n=v.legend);var y="constant"===n.itemsizing,b=n.itemwidth,x=(b+2*h.itemGap)/2,w=a(x,0),k=function(t,e,n,r){var i;if(t+1)i=t;else{if(!(e&&e.width>0))return 0;i=e.width}return y?r:Math.min(i,n)};function _(t,o,a){var u=t[0].trace,d=u.marker||{},f=d.line||{},h=a?u.visible&&u.type===a:i.traceIs(u,"bar"),p=r.select(o).select("g.legendpoints").selectAll("path.legend"+a).data(h?[t]:[]);p.enter().append("path").classed("legend"+a,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",w),p.exit().remove(),p.each((function(t){var i=r.select(this),o=t[0],a=k(o.mlw,d.line,5,2);i.style("stroke-width",a+"px");var h=o.mcc;if(!n._inHover&&"mc"in o){var p=c(d),g=p.mid;void 0===g&&(g=(p.max+p.min)/2),h=s.tryColorscale(d,"")(g)}var v=h||o.mc||d.color,y=d.pattern,b=y&&s.getPatternAttr(y.shape,0,"");if(b){var x=s.getPatternAttr(y.bgcolor,0,null),w=s.getPatternAttr(y.fgcolor,0,null),_=y.fgopacity,A=m(y.size,8,10),T=m(y.solidity,.5,1),M="legend-"+u.uid;i.call(s.pattern,"legend",e,M,b,A,T,h,y.fillmode,x,w,_)}else i.call(l.fill,v);a&&l.stroke(i,o.mlc||f.color)}))}function A(t,e,n){var a=t[0],s=a.trace,l=n?s.visible&&s.type===n:i.traceIs(s,n),c=r.select(e).select("g.legendpoints").selectAll("path.legend"+n).data(l?[t]:[]);if(c.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",w),c.exit().remove(),c.size()){var u=(s.marker||{}).line,h=k(f(u.width,a.pts),u,5,2),p=o.minExtend(s,{marker:{line:{width:h}}});p.marker.line.color=u.color;var g=o.minExtend(a,{trace:p});d(c,g,p)}}t.each((function(t){var e=r.select(this),i=o.ensureSingle(e,"g","layers");i.style("opacity",t[0].trace.opacity);var s=n.valign,l=t[0].lineHeight,c=t[0].height;if("middle"!==s&&l&&c){var u={top:1,bottom:-1}[s]*(.5*(l-c+3));i.attr("transform",a(0,u))}else i.attr("transform",null);i.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var d=i.selectAll("g.legendsymbols").data([t]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)})).each((function(t){var n,i=t[0].trace,a=[];if(i.visible)switch(i.type){case"histogram2d":case"heatmap":a=[["M-15,-2V4H15V-2Z"]],n=!0;break;case"choropleth":case"choroplethmapbox":a=[["M-6,-6V6H6V-6Z"]],n=!0;break;case"densitymapbox":a=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],n="radial";break;case"cone":a=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],n=!1;break;case"streamtube":a=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],n=!1;break;case"surface":a=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],n=!0;break;case"mesh3d":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!1;break;case"volume":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!0;break;case"isosurface":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],n=!1}var u=r.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(a);u.enter().append("path").classed("legend3dandfriends",!0).attr("transform",w).style("stroke-miterlimit",1),u.exit().remove(),u.each((function(t,a){var u,d=r.select(this),f=c(i),h=f.colorscale,g=f.reversescale;if(h){if(!n){var m=h.length;u=0===a?h[g?m-1:0][1]:1===a?h[g?0:m-1][1]:h[Math.floor((m-1)/2)][1]}}else{var v=i.vertexcolor||i.facecolor||i.color;u=o.isArrayOrTypedArray(v)?v[a]||v[0]:v}d.attr("d",t[0]),u?d.call(l.fill,u):d.call((function(t){if(t.size()){var r="legendfill-"+i.uid;s.gradient(t,e,r,p(g,"radial"===n),h,"fill")}}))}))})).each((function(t){var e=t[0].trace,n="waterfall"===e.type;if(t[0]._distinct&&n){var i=t[0].trace[t[0].dir].marker;return t[0].mc=i.color,t[0].mlw=i.line.width,t[0].mlc=i.line.color,_(t,this,"waterfall")}var o=[];e.visible&&n&&(o=t[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var a=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(o);a.enter().append("path").classed("legendwaterfall",!0).attr("transform",w).style("stroke-miterlimit",1),a.exit().remove(),a.each((function(t){var n=r.select(this),i=e[t[0]].marker,o=k(void 0,i.line,5,2);n.attr("d",t[1]).style("stroke-width",o+"px").call(l.fill,i.color),o&&n.call(l.stroke,i.line.color)}))})).each((function(t){_(t,this,"funnel")})).each((function(t){_(t,this)})).each((function(t){var n=t[0].trace,a=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&i.traceIs(n,"box-violin")?[t]:[]);a.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",w),a.exit().remove(),a.each((function(){var t=r.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==l.opacity(n.fillcolor)||0!==l.opacity((n.line||{}).color)){var i=k(void 0,n.line,5,2);t.style("stroke-width",i+"px").call(l.fill,n.fillcolor),i&&l.stroke(t,n.line.color)}else{var c=o.minExtend(n,{marker:{size:y?12:o.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});a.call(s.pointStyle,c,e)}}))})).each((function(t){A(t,this,"funnelarea")})).each((function(t){A(t,this,"pie")})).each((function(t){var n,i,a=g(t),l=a.showFill,d=a.showLine,f=a.showGradientLine,h=a.showGradientFill,m=a.anyFill,v=a.anyLine,y=t[0],x=y.trace,w=c(x),_=w.colorscale,A=w.reversescale,T=u.hasMarkers(x)||!m?"M5,0":v?"M5,-2":"M5,-3",M=r.select(this),E=M.select(".legendfill").selectAll("path").data(l||h?[t]:[]);if(E.enter().append("path").classed("js-fill",!0),E.exit().remove(),E.attr("d",T+"h"+b+"v6h-"+b+"z").call((function(t){if(t.size())if(l)s.fillGroupStyle(t,e);else{var n="legendfill-"+x.uid;s.gradient(t,e,n,p(A),_,"fill")}})),d||f){var C=k(void 0,x.line,10,5);i=o.minExtend(x,{line:{width:C}}),n=[o.minExtend(y,{trace:i})]}var S=M.select(".legendlines").selectAll("path").data(d||f?[n]:[]);S.enter().append("path").classed("js-line",!0),S.exit().remove(),S.attr("d",T+(f?"l"+b+",0.0001":"h"+b)).call(d?s.lineGroupStyle:function(t){if(t.size()){var n="legendline-"+x.uid;s.lineGroupStyle(t),s.gradient(t,e,n,p(A),_,"stroke")}})})).each((function(t){var n,i,a=g(t),l=a.anyFill,c=a.anyLine,d=a.showLine,f=a.showMarker,h=t[0],p=h.trace,m=!f&&!c&&!l&&u.hasText(p);function v(t,e,n,r){var i=o.nestedProperty(p,t).get(),a=o.isArrayOrTypedArray(i)&&e?e(i):i;if(y&&a&&void 0!==r&&(a=r),n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function b(t){return h._distinct&&h.index&&t[h.index]?t[h.index]:t[0]}if(f||m||d){var x={},k={};if(f){x.mc=v("marker.color",b),x.mx=v("marker.symbol",b),x.mo=v("marker.opacity",o.mean,[.2,1]),x.mlc=v("marker.line.color",b),x.mlw=v("marker.line.width",o.mean,[0,5],2),k.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var _=v("marker.size",o.mean,[2,16],12);x.ms=_,k.marker.size=_}d&&(k.line={width:v("line.width",b,[0,10],5)}),m&&(x.tx="Aa",x.tp=v("textposition",b),x.ts=10,x.tc=v("textfont.color",b),x.tf=v("textfont.family",b)),n=[o.minExtend(h,x)],(i=o.minExtend(p,k)).selectedpoints=null,i.texttemplate=null}var A=r.select(this).select("g.legendpoints"),T=A.selectAll("path.scatterpts").data(f?n:[]);T.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",w),T.exit().remove(),T.call(s.pointStyle,i,e),f&&(n[0].mrc=3);var M=A.selectAll("g.pointtext").data(m?n:[]);M.enter().append("g").classed("pointtext",!0).append("text").attr("transform",w),M.exit().remove(),M.selectAll("text").call(s.textPointStyle,i,e)})).each((function(t){var e=t[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(e.visible&&"candlestick"===e.type?[t,t]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",(function(t,e){return e?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",w).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(t,n){var i=r.select(this),o=e[n?"increasing":"decreasing"],a=k(void 0,o.line,5,2);i.style("stroke-width",a+"px").call(l.fill,o.fillcolor),a&&l.stroke(i,o.line.color)}))})).each((function(t){var e=t[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(e.visible&&"ohlc"===e.type?[t,t]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",(function(t,e){return e?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",w).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(t,n){var i=r.select(this),o=e[n?"increasing":"decreasing"],a=k(void 0,o.line,5,2);i.style("fill","none").call(s.dashLine,o.line.dash,a),a&&l.stroke(i,o.line.color)}))}))}},{"../../lib":400,"../../registry":490,"../../traces/pie/helpers":532,"../../traces/pie/style_one":533,"../../traces/scatter/subtypes":564,"../color":257,"../colorscale/helpers":268,"../drawing":279,"./constants":308,"@plotly/d3":14}],316:[function(t,e,n){"use strict";t("./constants"),e.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":318}],317:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../plots/plots"),o=t("../../plots/cartesian/axis_ids"),a=t("../../fonts/ploticon"),s=t("../shapes/draw").eraseActiveShape,l=t("../../lib"),c=l._,u=e.exports={};function d(t,e){var n,i,a=e.currentTarget,s=a.getAttribute("data-attr"),l=a.getAttribute("data-val")||!0,c=t._fullLayout,u={},d=o.list(t,null,!0),f=c._cartesianSpikesEnabled;if("zoom"===s){var h,p="in"===l?.5:2,g=(1+p)/2,m=(1-p)/2;for(i=0;i<d.length;i++)if(!(n=d[i]).fixedrange)if(h=n._name,"auto"===l)u[h+".autorange"]=!0;else if("reset"===l){if(void 0===n._rangeInitial)u[h+".autorange"]=!0;else{var v=n._rangeInitial.slice();u[h+".range[0]"]=v[0],u[h+".range[1]"]=v[1]}void 0!==n._showSpikeInitial&&(u[h+".showspikes"]=n._showSpikeInitial,"on"!==f||n._showSpikeInitial||(f="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[g*y[0]+m*y[1],g*y[1]+m*y[0]];u[h+".range[0]"]=n.l2r(b[0]),u[h+".range[1]"]=n.l2r(b[1])}}else"hovermode"!==s||"x"!==l&&"y"!==l||(l=c._isHoriz?"y":"x",a.setAttribute("data-val",l)),u[s]=l;c._cartesianSpikesEnabled=f,r.call("_guiRelayout",t,u)}function f(t,e){for(var n=e.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=t._fullLayout._subplots.gl3d||[],s={},l=i.split("."),c=0;c<a.length;c++)s[a[c]+"."+l[1]]=o;var u="pan"===o?o:"zoom";s.dragmode=u,r.call("_guiRelayout",t,s)}function h(t,e){for(var n=e.currentTarget.getAttribute("data-attr"),i="resetLastSave"===n,o="resetDefault"===n,a=t._fullLayout,s=a._subplots.gl3d||[],l={},c=0;c<s.length;c++){var u,d=s[c],f=d+".camera",h=d+".aspectratio",p=d+".aspectmode",g=a[d]._scene;i?(l[f+".up"]=g.viewInitial.up,l[f+".eye"]=g.viewInitial.eye,l[f+".center"]=g.viewInitial.center,u=!0):o&&(l[f+".up"]=null,l[f+".eye"]=null,l[f+".center"]=null,u=!0),u&&(l[h+".x"]=g.viewInitial.aspectratio.x,l[h+".y"]=g.viewInitial.aspectratio.y,l[h+".z"]=g.viewInitial.aspectratio.z,l[p]=g.viewInitial.aspectmode)}r.call("_guiRelayout",t,l)}function p(t,e){var n=e.currentTarget,r=n._previousVal,i=t._fullLayout,o=i._subplots.gl3d||[],a=["xaxis","yaxis","zaxis"],s={},l={};if(r)l=r,n._previousVal=null;else{for(var c=0;c<o.length;c++){var u=o[c],d=i[u],f=u+".hovermode";s[f]=d.hovermode,l[f]=!1;for(var h=0;h<3;h++){var p=a[h],g=u+"."+p+".showspikes";l[g]=!1,s[g]=d[p].showspikes}}n._previousVal=s}return l}function g(t,e){for(var n=e.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=t._fullLayout,s=a._subplots.geo||[],l=0;l<s.length;l++){var c=s[l],u=a[c];if("zoom"===i){var d=u.projection.scale,f="in"===o?2*d:.5*d;r.call("_guiRelayout",t,c+".projection.scale",f)}}"reset"===i&&b(t,"geo")}function m(t){var e=t._fullLayout;return!e.hovermode&&(e._has("cartesian")?e._isHoriz?"y":"x":"closest")}function v(t){var e=m(t);r.call("_guiRelayout",t,"hovermode",e)}function y(t,e){for(var n=e.currentTarget.getAttribute("data-val"),i=t._fullLayout,o=i._subplots.mapbox||[],a={},s=0;s<o.length;s++){var l=o[s],c=i[l].zoom,u="in"===n?1.05*c:c/1.05;a[l+".zoom"]=u}r.call("_guiRelayout",t,a)}function b(t,e){for(var n=t._fullLayout,i=n._subplots[e]||[],o={},a=0;a<i.length;a++)for(var s=i[a],l=n[s]._subplot.viewInitial,c=Object.keys(l),u=0;u<c.length;u++){var d=c[u];o[s+"."+d]=l[d]}r.call("_guiRelayout",t,o)}u.toImage={name:"toImage",title:function(t){var e=(t._context.toImageButtonOptions||{}).format||"png";return c(t,"png"===e?"Download plot as a png":"Download plot")},icon:a.camera,click:function(t){var e=t._context.toImageButtonOptions,n={format:e.format||"png"};l.notifier(c(t,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&l.isIE()&&(l.notifier(c(t,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach((function(t){t in e&&(n[t]=e[t])})),r.call("downloadImage",t,n).then((function(e){l.notifier(c(t,"Snapshot succeeded")+" - "+e,"long")})).catch((function(){l.notifier(c(t,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},u.sendDataToCloud={name:"sendDataToCloud",title:function(t){return c(t,"Edit in Chart Studio")},icon:a.disk,click:function(t){i.sendDataToCloud(t)}},u.editInChartStudio={name:"editInChartStudio",title:function(t){return c(t,"Edit in Chart Studio")},icon:a.pencil,click:function(t){i.sendDataToCloud(t)}},u.zoom2d={name:"zoom2d",_cat:"zoom",title:function(t){return c(t,"Zoom")},attr:"dragmode",val:"zoom",icon:a.zoombox,click:d},u.pan2d={name:"pan2d",_cat:"pan",title:function(t){return c(t,"Pan")},attr:"dragmode",val:"pan",icon:a.pan,click:d},u.select2d={name:"select2d",_cat:"select",title:function(t){return c(t,"Box Select")},attr:"dragmode",val:"select",icon:a.selectbox,click:d},u.lasso2d={name:"lasso2d",_cat:"lasso",title:function(t){return c(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:a.lasso,click:d},u.drawclosedpath={name:"drawclosedpath",title:function(t){return c(t,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:a.drawclosedpath,click:d},u.drawopenpath={name:"drawopenpath",title:function(t){return c(t,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:a.drawopenpath,click:d},u.drawline={name:"drawline",title:function(t){return c(t,"Draw line")},attr:"dragmode",val:"drawline",icon:a.drawline,click:d},u.drawrect={name:"drawrect",title:function(t){return c(t,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:a.drawrect,click:d},u.drawcircle={name:"drawcircle",title:function(t){return c(t,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:a.drawcircle,click:d},u.eraseshape={name:"eraseshape",title:function(t){return c(t,"Erase active shape")},icon:a.eraseshape,click:s},u.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:d},u.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:d},u.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(t){return c(t,"Autoscale")},attr:"zoom",val:"auto",icon:a.autoscale,click:d},u.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(t){return c(t,"Reset axes")},attr:"zoom",val:"reset",icon:a.home,click:d},u.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(t){return c(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:d},u.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(t){return c(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:a.tooltip_compare,gravity:"ne",click:d},u.zoom3d={name:"zoom3d",_cat:"zoom",title:function(t){return c(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:a.zoombox,click:f},u.pan3d={name:"pan3d",_cat:"pan",title:function(t){return c(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:a.pan,click:f},u.orbitRotation={name:"orbitRotation",title:function(t){return c(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:a["3d_rotate"],click:f},u.tableRotation={name:"tableRotation",title:function(t){return c(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:a["z-axis"],click:f},u.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(t){return c(t,"Reset camera to default")},attr:"resetDefault",icon:a.home,click:h},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(t){return c(t,"Reset camera to last save")},attr:"resetLastSave",icon:a.movie,click:h},u.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(t,e){var n=p(t,e);r.call("_guiRelayout",t,n)}},u.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:g},u.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:g},u.resetGeo={name:"resetGeo",_cat:"reset",title:function(t){return c(t,"Reset")},attr:"reset",val:null,icon:a.autoscale,click:g},u.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:v},u.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:v},u.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:v},u.resetViewSankey={name:"resetSankeyGroup",title:function(t){return c(t,"Reset view")},icon:a.home,click:function(t){for(var e={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<t._fullData.length;n++){var i=t._fullData[n]._viewInitial;e["node.groups"].push(i.node.groups.slice()),e["node.x"].push(i.node.x.slice()),e["node.y"].push(i.node.y.slice())}r.call("restyle",t,e)}},u.toggleHover={name:"toggleHover",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(t,e){var n=p(t,e);n.hovermode=m(t),r.call("_guiRelayout",t,n)}},u.resetViews={name:"resetViews",title:function(t){return c(t,"Reset views")},icon:a.home,click:function(t,e){var n=e.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),d(t,e),n.setAttribute("data-attr","resetLastSave"),h(t,e),b(t,"geo"),b(t,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(t){return c(t,"Toggle Spike Lines")},icon:a.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout,n=e._cartesianSpikesEnabled;e._cartesianSpikesEnabled="on"===n?"off":"on",r.call("_guiRelayout",t,function(t){for(var e="on"===t._fullLayout._cartesianSpikesEnabled,n=o.list(t,null,!0),r={},i=0;i<n.length;i++){var a=n[i];r[a._name+".showspikes"]=!!e||a._showSpikeInitial}return r}(t))}},u.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(t){return c(t,"Reset view")},attr:"reset",icon:a.home,click:function(t){b(t,"mapbox")}},u.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:y},u.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:y}},{"../../fonts/ploticon":381,"../../lib":400,"../../plots/cartesian/axis_ids":454,"../../plots/plots":488,"../../registry":490,"../shapes/draw":352}],318:[function(t,e,n){"use strict";var r=t("./buttons"),i=Object.keys(r),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],a=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),s=[];i.forEach((function(t){!function(t){if(-1===a.indexOf(t._cat||t.name)){var e=t.name,n=(t._cat||t.name).toLowerCase();-1===s.indexOf(e)&&s.push(e),-1===s.indexOf(n)&&s.push(n)}}(r[t])})),s.sort(),e.exports={DRAW_MODES:o,backButtons:a,foreButtons:s}},{"./buttons":317}],319:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../color"),o=t("../../plot_api/plot_template"),a=t("./attributes");e.exports=function(t,e){var n=t.modebar||{},s=o.newContainer(e,"modebar");function l(t,e){return r.coerce(n,s,a,t,e)}l("orientation"),l("bgcolor",i.addOpacity(e.paper_bgcolor,.5));var c=i.contrast(i.rgb(e.modebar.bgcolor));l("color",i.addOpacity(c,.3)),l("activecolor",i.addOpacity(c,.7)),l("uirevision",e.uirevision),l("add"),l("remove")}},{"../../lib":400,"../../plot_api/plot_template":439,"../color":257,"./attributes":316}],320:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"modebar",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),manage:t("./manage")}},{"./attributes":316,"./defaults":319,"./manage":321}],321:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axis_ids"),i=t("../../traces/scatter/subtypes"),o=t("../../registry"),a=t("../fx/helpers").isUnifiedHover,s=t("./modebar"),l=t("./buttons"),c=t("./constants").DRAW_MODES,u=t("../../lib").extendDeep;e.exports=function(t){var e=t._fullLayout,n=t._context,d=e._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var f,h=n.modeBarButtons;f=Array.isArray(h)&&h.length?function(t){for(var e=u([],t),n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++){var o=r[i];if("string"==typeof o){if(void 0===l[o])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[n][i]=l[o]}}return e}(h):!n.displayModeBar&&n.watermark?[]:function(t){var e=t._fullLayout,n=t._fullData,s=t._context;function u(t,e){if("string"==typeof e){if(e.toLowerCase()===t.toLowerCase())return!0}else{var n=e.name,r=e._cat||e.name;if(n===t||r===t.toLowerCase())return!0}return!1}var d=e.modebar.add;"string"==typeof d&&(d=[d]);var f=e.modebar.remove;"string"==typeof f&&(f=[f]);var h=s.modeBarButtonsToAdd.concat(d.filter((function(t){for(var e=0;e<s.modeBarButtonsToRemove.length;e++)if(u(t,s.modeBarButtonsToRemove[e]))return!1;return!0}))),p=s.modeBarButtonsToRemove.concat(f.filter((function(t){for(var e=0;e<s.modeBarButtonsToAdd.length;e++)if(u(t,s.modeBarButtonsToAdd[e]))return!1;return!0}))),g=e._has("cartesian"),m=e._has("gl3d"),v=e._has("geo"),y=e._has("pie"),b=e._has("funnelarea"),x=e._has("gl2d"),w=e._has("ternary"),k=e._has("mapbox"),_=e._has("polar"),A=e._has("smith"),T=e._has("sankey"),M=function(t){for(var e=r.list({_fullLayout:t},null,!0),n=0;n<e.length;n++)if(!e[n].fixedrange)return!1;return!0}(e),E=a(e.hovermode),C=[];function S(t){if(t.length){for(var e=[],n=0;n<t.length;n++){for(var r=t[n],i=l[r],o=i.name.toLowerCase(),a=(i._cat||i.name).toLowerCase(),s=!1,c=0;c<p.length;c++){var u=p[c].toLowerCase();if(u===o||u===a){s=!0;break}}s||e.push(l[r])}C.push(e)}}var O=["toImage"];s.showEditInChartStudio?O.push("editInChartStudio"):s.showSendToCloud&&O.push("sendDataToCloud"),S(O);var L=[],P=[],D=[],R=[];(g||x||y||b||w)+v+m+k+_+A>1?(P=["toggleHover"],D=["resetViews"]):v?(L=["zoomInGeo","zoomOutGeo"],P=["hoverClosestGeo"],D=["resetGeo"]):m?(P=["hoverClosest3d"],D=["resetCameraDefault3d","resetCameraLastSave3d"]):k?(L=["zoomInMapbox","zoomOutMapbox"],P=["toggleHover"],D=["resetViewMapbox"]):x?P=["hoverClosestGl2d"]:y?P=["hoverClosestPie"]:T?(P=["hoverClosestCartesian","hoverCompareCartesian"],D=["resetViewSankey"]):P=["toggleHover"],g&&(P=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(t){for(var e=0;e<t.length;e++)if(!o.traceIs(t[e],"noHover"))return!1;return!0}(n)||E)&&(P=[]),!g&&!x||M||(L=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==D[0]&&(D=["resetScale2d"])),m?R=["zoom3d","pan3d","orbitRotation","tableRotation"]:(g||x)&&!M||w?R=["zoom2d","pan2d"]:k||v?R=["pan2d"]:_&&(R=["zoom2d"]),function(t){for(var e=!1,n=0;n<t.length&&!e;n++){var r=t[n];r._module&&r._module.selectPoints&&(o.traceIs(r,"scatter-like")?(i.hasMarkers(r)||i.hasText(r))&&(e=!0):o.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(e=!0))}return e}(n)&&R.push("select2d","lasso2d");var I=[],z=function(t){-1===I.indexOf(t)&&-1!==P.indexOf(t)&&I.push(t)};if(Array.isArray(h)){for(var N=[],B=0;B<h.length;B++){var F=h[B];"string"==typeof F?(F=F.toLowerCase(),-1!==c.indexOf(F)?(e._has("mapbox")||e._has("cartesian"))&&R.push(F):"togglespikelines"===F?z("toggleSpikelines"):"togglehover"===F?z("toggleHover"):"hovercompare"===F?z("hoverCompareCartesian"):"hoverclosest"===F?(z("hoverClosestCartesian"),z("hoverClosestGeo"),z("hoverClosest3d"),z("hoverClosestGl2d"),z("hoverClosestPie")):"v1hovermode"===F&&(z("toggleHover"),z("hoverClosestCartesian"),z("hoverCompareCartesian"),z("hoverClosestGeo"),z("hoverClosest3d"),z("hoverClosestGl2d"),z("hoverClosestPie"))):N.push(F)}h=N}return S(R),S(L.concat(D)),S(I),function(t,e){if(e.length)if(Array.isArray(e[0]))for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(C,h)}(t),d?d.update(t,f):e._modeBar=s(t,f)}else d&&(d.destroy(),delete e._modeBar)}},{"../../lib":400,"../../plots/cartesian/axis_ids":454,"../../registry":490,"../../traces/scatter/subtypes":564,"../fx/helpers":293,"./buttons":317,"./constants":318,"./modebar":322}],322:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("fast-isnumeric"),o=t("../../lib"),a=t("../../fonts/ploticon"),s=t("../../version").version,l=new DOMParser;function c(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var u=c.prototype;u.update=function(t,e){this.graphInfo=t;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",e=e.reverse());var a=r.modebar,s="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(i),o.addRelatedStyleRule(i,s+"#"+i+" .modebar-group","background-color: "+a.bgcolor),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+a.color),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+a.activecolor),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+a.activecolor);var l=!this.hasButtons(e),c=this.hasLogo!==n.displaylogo,u=this.locale!==n.locale;if(this.locale=n.locale,(l||c||u)&&(this.removeAllButtons(),this.updateButtons(e),n.watermark||n.displaylogo)){var d=this.getLogo();n.watermark&&(d.className=d.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},u.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(t){var n=e.createGroup();t.forEach((function(t){var r=t.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");e.buttonsNames.push(r);var i=e.createButton(t);e.buttonElements.push(i),n.appendChild(i)})),e.element.appendChild(n)}))},u.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},u.createButton=function(t){var e=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var i=t.title;void 0===i?i=t.name:"function"==typeof i&&(i=i(this.graphInfo)),(i||0===i)&&n.setAttribute("data-title",i),void 0!==t.attr&&n.setAttribute("data-attr",t.attr);var o=t.val;if(void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),n.setAttribute("data-val",o)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){t.click(e.graphInfo,n),e.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",t.toggle||!1),t.toggle&&r.select(n).classed("active",!0);var s=t.icon;return"function"==typeof s?n.appendChild(s()):n.appendChild(this.createIcon(s||a.question)),n.setAttribute("data-gravity",t.gravity||"n"),n},u.createIcon=function(t){var e,n=i(t.height)?Number(t.height):t.ascent-t.descent,r="http://www.w3.org/2000/svg";if(t.path){(e=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,t.width,n].join(" ")),e.setAttribute("class","icon");var o=document.createElementNS(r,"path");o.setAttribute("d",t.path),t.transform?o.setAttribute("transform",t.transform):void 0!==t.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),e.appendChild(o)}return t.svg&&(e=l.parseFromString(t.svg,"application/xml").childNodes[0]),e.setAttribute("height","1em"),e.setAttribute("width","1em"),e},u.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,n=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach((function(t){var i=t.getAttribute("data-val")||!0,a=t.getAttribute("data-attr"),s="true"===t.getAttribute("data-toggle"),l=r.select(t);if(s)a===n&&l.classed("active",!l.classed("active"));else{var c=null===a?a:o.nestedProperty(e,a).get();l.classed("active",c===i)}}))},u.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r].name!==e[n][r].name)return!1}return!0},u.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plotly.com/",e.target="_blank",e.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly.js")+" (v"+s+")"),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(a.newplotlylogo)),t.appendChild(e),t},u.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},u.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},e.exports=function(t,e){var n=t._fullLayout,i=new c({graphInfo:t,container:n._modebardiv.node(),buttons:e});return n._privateplot&&r.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}},{"../../fonts/ploticon":381,"../../lib":400,"../../version":599,"@plotly/d3":14,"fast-isnumeric":121}],323:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../color/attributes"),o=(0,t("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});e.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":439,"../../plots/font_attributes":478,"../color/attributes":256}],324:[function(t,e,n){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],325:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../color"),o=t("../../plot_api/plot_template"),a=t("../../plots/array_container_defaults"),s=t("./attributes"),l=t("./constants");function c(t,e,n,i){var o=i.calendar;function a(n,i){return r.coerce(t,e,s.buttons,n,i)}if(a("visible")){var l=a("step");"all"!==l&&(!o||"gregorian"===o||"month"!==l&&"year"!==l?a("stepmode"):e.stepmode="backward",a("count")),a("label")}}e.exports=function(t,e,n,u,d){var f=t.rangeselector||{},h=o.newContainer(e,"rangeselector");function p(t,e){return r.coerce(f,h,s,t,e)}if(p("visible",a(f,h,{name:"buttons",handleItemDefaults:c,calendar:d}).length>0)){var g=function(t,e,n){for(var r=n.filter((function(n){return e[n].anchor===t._id})),i=0,o=0;o<r.length;o++){var a=e[r[o]].domain;a&&(i=Math.max(a[1],i))}return[t.domain[0],i+l.yPad]}(e,n,u);p("x",g[0]),p("y",g[1]),r.noneOrAll(t,e,["x","y"]),p("xanchor"),p("yanchor"),r.coerceFont(p,"font",n.font);var m=p("bgcolor");p("activecolor",i.contrast(m,l.lightAmount,l.darkAmount)),p("bordercolor"),p("borderwidth")}}},{"../../lib":400,"../../plot_api/plot_template":439,"../../plots/array_container_defaults":445,"../color":257,"./attributes":323,"./constants":324}],326:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../registry"),o=t("../../plots/plots"),a=t("../color"),s=t("../drawing"),l=t("../../lib"),c=l.strTranslate,u=t("../../lib/svg_text_utils"),d=t("../../plots/cartesian/axis_ids"),f=t("../../constants/alignment"),h=f.LINE_SPACING,p=f.FROM_TL,g=f.FROM_BR,m=t("./constants"),v=t("./get_update_object");function y(t){return t._id}function b(t,e,n){var r=l.ensureSingle(t,"rect","selector-rect",(function(t){t.attr("shape-rendering","crispEdges")}));r.attr({rx:m.rx,ry:m.ry}),r.call(a.stroke,e.bordercolor).call(a.fill,function(t,e){return e._isActive||e._isHovered?t.activecolor:t.bgcolor}(e,n)).style("stroke-width",e.borderwidth+"px")}function x(t,e,n,r){l.ensureSingle(t,"text","selector-text",(function(t){t.attr("text-anchor","middle")})).call(s.font,e.font).text(function(t,e){return t.label?e?l.templateString(t.label,e):t.label:"all"===t.step?"all":t.count+t.step.charAt(0)}(n,r._fullLayout._meta)).call((function(t){u.convertToTspans(t,r)}))}e.exports=function(t){var e=t._fullLayout._infolayer.selectAll(".rangeselector").data(function(t){for(var e=d.list(t,"x",!0),n=[],r=0;r<e.length;r++){var i=e[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}(t),y);e.enter().append("g").classed("rangeselector",!0),e.exit().remove(),e.style({cursor:"pointer","pointer-events":"all"}),e.each((function(e){var n=r.select(this),a=e,d=a.rangeselector,f=n.selectAll("g.button").data(l.filterVisible(d.buttons));f.enter().append("g").classed("button",!0),f.exit().remove(),f.each((function(e){var n=r.select(this),o=v(a,e);e._isActive=function(t,e,n){if("all"===e.step)return!0===t.autorange;var r=Object.keys(n);return t.range[0]===n[r[0]]&&t.range[1]===n[r[1]]}(a,e,o),n.call(b,d,e),n.call(x,d,e,t),n.on("click",(function(){t._dragged||i.call("_guiRelayout",t,o)})),n.on("mouseover",(function(){e._isHovered=!0,n.call(b,d,e)})),n.on("mouseout",(function(){e._isHovered=!1,n.call(b,d,e)}))})),function(t,e,n,i,a){var d=0,f=0,v=n.borderwidth;e.each((function(){var t=r.select(this).select(".selector-text"),e=n.font.size*h,i=Math.max(e*u.lineCount(t),16)+3;f=Math.max(f,i)})),e.each((function(){var t=r.select(this),e=t.select(".selector-rect"),i=t.select(".selector-text"),o=i.node()&&s.bBox(i.node()).width,a=n.font.size*h,l=u.lineCount(i),p=Math.max(o+10,m.minButtonWidth);t.attr("transform",c(v+d,v)),e.attr({x:0,y:0,width:p,height:f}),u.positionText(i,p/2,f/2-(l-1)*a/2+3),d+=p+5}));var y=t._fullLayout._size,b=y.l+y.w*n.x,x=y.t+y.h*(1-n.y),w="left";l.isRightAnchor(n)&&(b-=d,w="right"),l.isCenterAnchor(n)&&(b-=d/2,w="center");var k="top";l.isBottomAnchor(n)&&(x-=f,k="bottom"),l.isMiddleAnchor(n)&&(x-=f/2,k="middle"),d=Math.ceil(d),f=Math.ceil(f),b=Math.round(b),x=Math.round(x),o.autoMargin(t,i+"-range-selector",{x:n.x,y:n.y,l:d*p[w],r:d*g[w],b:f*g[k],t:f*p[k]}),a.attr("transform",c(b,x))}(t,f,d,a._name,n)}))}},{"../../constants/alignment":373,"../../lib":400,"../../lib/svg_text_utils":426,"../../plots/cartesian/axis_ids":454,"../../plots/plots":488,"../../registry":490,"../color":257,"../drawing":279,"./constants":324,"./get_update_object":327,"@plotly/d3":14}],327:[function(t,e,n){"use strict";var r=t("d3-time"),i=t("../../lib").titleCase;e.exports=function(t,e){var n=t._name,o={};if("all"===e.step)o[n+".autorange"]=!0;else{var a=function(t,e){var n,o=t.range,a=new Date(t.r2l(o[1])),s=e.step,l=r["utc"+i(s)],c=e.count;switch(e.stepmode){case"backward":n=t.l2r(+l.offset(a,-c));break;case"todate":var u=l.offset(a,-c);n=t.l2r(+l.ceil(u))}return[n,o[1]]}(t,e);o[n+".range[0]"]=a[0],o[n+".range[1]"]=a[1]}return o}},{"../../lib":400,"d3-time":55}],328:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":323,"./defaults":325,"./draw":326}],329:[function(t,e,n){"use strict";var r=t("../color/attributes");e.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":256}],330:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axis_ids").list,i=t("../../plots/cartesian/autorange").getAutoRange,o=t("./constants");e.exports=function(t){for(var e=r(t,"x",!0),n=0;n<e.length;n++){var a=e[n],s=a[o.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=i(t,a))}}},{"../../plots/cartesian/autorange":449,"../../plots/cartesian/axis_ids":454,"./constants":331}],331:[function(t,e,n){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],332:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plot_api/plot_template"),o=t("../../plots/cartesian/axis_ids"),a=t("./attributes"),s=t("./oppaxis_attributes");e.exports=function(t,e,n){var l=t[n],c=e[n];if(l.rangeslider||e._requestRangeslider[c._id]){r.isPlainObject(l.rangeslider)||(l.rangeslider={});var u,d,f=l.rangeslider,h=i.newContainer(c,"rangeslider");if(w("visible")){w("bgcolor",e.plot_bgcolor),w("bordercolor"),w("borderwidth"),w("thickness"),w("autorange",!c.isValidRange(f.range)),w("range");var p=e._subplots;if(p)for(var g=p.cartesian.filter((function(t){return t.substr(0,t.indexOf("y"))===o.name2id(n)})).map((function(t){return t.substr(t.indexOf("y"),t.length)})),m=r.simpleMap(g,o.id2name),v=0;v<m.length;v++){var y=m[v];u=f[y]||{},d=i.newContainer(h,y,"yaxis");var b,x=e[y];u.range&&x.isValidRange(u.range)&&(b="fixed"),"match"!==k("rangemode",b)&&k("range",x.range.slice())}h._input=f}}function w(t,e){return r.coerce(f,h,a,t,e)}function k(t,e){return r.coerce(u,d,s,t,e)}}},{"../../lib":400,"../../plot_api/plot_template":439,"../../plots/cartesian/axis_ids":454,"./attributes":329,"./oppaxis_attributes":336}],333:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../registry"),o=t("../../plots/plots"),a=t("../../lib"),s=a.strTranslate,l=t("../drawing"),c=t("../color"),u=t("../titles"),d=t("../../plots/cartesian"),f=t("../../plots/cartesian/axis_ids"),h=t("../dragelement"),p=t("../../lib/setcursor"),g=t("./constants");function m(t,e,n,r){var i=a.ensureSingle(t,"rect",g.bgClassName,(function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),o=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,c=-r._offsetShift,u=l.crispRound(e,r.borderwidth);i.attr({width:r._width+o,height:r._height+o,transform:s(c,c),fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":u})}function v(t,e,n,r){var i=e._fullLayout;a.ensureSingleById(i._topdefs,"clipPath",r._clipId,(function(t){t.append("rect").attr({x:0,y:0})})).select("rect").attr({width:r._width,height:r._height})}function y(t,e,n,i){var s,c=e.calcdata,u=t.selectAll("g."+g.rangePlotClassName).data(n._subplotsWith,a.identity);u.enter().append("g").attr("class",(function(t){return g.rangePlotClassName+" "+t})).call(l.setClipUrl,i._clipId,e),u.order(),u.exit().remove(),u.each((function(t,a){var l=r.select(this),u=0===a,h=f.getFromId(e,t,"y"),p=h._name,g=i[p],m={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:i.range.slice(),calendar:n.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:e._context};n.rangebreaks&&(m.layout.xaxis.rangebreaks=n.rangebreaks),m.layout[p]={type:h.type,domain:[0,1],range:"match"!==g.rangemode?g.range.slice():h.range.slice(),calendar:h.calendar},h.rangebreaks&&(m.layout[p].rangebreaks=h.rangebreaks),o.supplyDefaults(m);var v=m._fullLayout.xaxis,y=m._fullLayout[p];v.clearCalc(),v.setScale(),y.clearCalc(),y.setScale();var b={id:t,plotgroup:l,xaxis:v,yaxis:y,isRangePlot:!0};u?s=b:(b.mainplot="xy",b.mainplotinfo=s),d.rangePlot(e,b,function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i[0].trace;o.xaxis+o.yaxis===e&&n.push(i)}return n}(c,t))}))}function b(t,e,n,r,i){a.ensureSingle(t,"rect",g.maskMinClassName,(function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(c.fill,g.maskColor),a.ensureSingle(t,"rect",g.maskMaxClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(c.fill,g.maskColor),"match"!==i.rangemode&&(a.ensureSingle(t,"rect",g.maskMinOppAxisClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).call(c.fill,g.maskOppAxisColor),a.ensureSingle(t,"rect",g.maskMaxOppAxisClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).style("border-top",g.maskOppBorder).call(c.fill,g.maskOppAxisColor))}function x(t,e,n,r){e._context.staticPlot||a.ensureSingle(t,"rect",g.slideBoxClassName,(function(t){t.attr({y:0,cursor:g.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:r._height,fill:g.slideBoxFill})}function w(t,e,n,r){var i=a.ensureSingle(t,"g",g.grabberMinClassName),o=a.ensureSingle(t,"g",g.grabberMaxClassName),s={x:0,width:g.handleWidth,rx:g.handleRadius,fill:c.background,stroke:c.defaultLine,"stroke-width":g.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(r._height/4),height:Math.round(r._height/2)};a.ensureSingle(i,"rect",g.handleMinClassName,(function(t){t.attr(s)})).attr(l),a.ensureSingle(o,"rect",g.handleMaxClassName,(function(t){t.attr(s)})).attr(l);var u={width:g.grabAreaWidth,x:0,y:0,fill:g.grabAreaFill,cursor:e._context.staticPlot?void 0:g.grabAreaCursor};a.ensureSingle(i,"rect",g.grabAreaMinClassName,(function(t){t.attr(u)})).attr("height",r._height),a.ensureSingle(o,"rect",g.grabAreaMaxClassName,(function(t){t.attr(u)})).attr("height",r._height)}e.exports=function(t){for(var e=t._fullLayout,n=e._rangeSliderData,o=0;o<n.length;o++){var l=n[o][g.name];l._clipId=l._id+"-"+e._uid}var c=e._infolayer.selectAll("g."+g.containerClassName).data(n,(function(t){return t._name}));c.exit().each((function(t){var n=t[g.name];e._topdefs.select("#"+n._clipId).remove()})).remove(),0!==n.length&&(c.enter().append("g").classed(g.containerClassName,!0).attr("pointer-events","all"),c.each((function(n){var o=r.select(this),l=n[g.name],c=e[f.id2name(n.anchor)],d=l[f.id2name(n.anchor)];if(l.range){var k,_=a.simpleMap(l.range,n.r2l),A=a.simpleMap(n.range,n.r2l);k=A[0]<A[1]?[Math.min(_[0],A[0]),Math.max(_[1],A[1])]:[Math.max(_[0],A[0]),Math.min(_[1],A[1])],l.range=l._input.range=a.simpleMap(k,n.l2r)}n.cleanRange("rangeslider.range");var T=e._size,M=n.domain;l._width=T.w*(M[1]-M[0]);var E=Math.round(T.l+T.w*M[0]),C=Math.round(T.t+T.h*(1-n._counterDomainMin)+("bottom"===n.side?n._depth:0)+l._offsetShift+g.extraPad);o.attr("transform",s(E,C)),l._rl=a.simpleMap(l.range,n.r2l);var S=l._rl[0],O=l._rl[1],L=O-S;if(l.p2d=function(t){return t/l._width*L+S},l.d2p=function(t){return(t-S)/L*l._width},n.rangebreaks){var P=n.locateBreaks(S,O);if(P.length){var D,R,I=0;for(D=0;D<P.length;D++)I+=(R=P[D]).max-R.min;var z=l._width/(O-S-I),N=[-z*S];for(D=0;D<P.length;D++)R=P[D],N.push(N[N.length-1]-z*(R.max-R.min));for(l.d2p=function(t){for(var e=N[0],n=0;n<P.length;n++){var r=P[n];if(t>=r.max)e=N[n+1];else if(t<r.min)break}return e+z*t},D=0;D<P.length;D++)(R=P[D]).pmin=l.d2p(R.min),R.pmax=l.d2p(R.max);l.p2d=function(t){for(var e=N[0],n=0;n<P.length;n++){var r=P[n];if(t>=r.pmax)e=N[n+1];else if(t<r.pmin)break}return(t-e)/z}}}if("match"!==d.rangemode){var B=c.r2l(d.range[0]),F=c.r2l(d.range[1])-B;l.d2pOppAxis=function(t){return(t-B)/F*l._height}}o.call(m,t,n,l).call(v,t,n,l).call(y,t,n,l).call(b,t,n,l,d).call(x,t,n,l).call(w,t,n,l),function(t,e,n,o){if(!e._context.staticPlot){var s=t.select("rect."+g.slideBoxClassName).node(),l=t.select("rect."+g.grabAreaMinClassName).node(),c=t.select("rect."+g.grabAreaMaxClassName).node();t.on("mousedown",u),t.on("touchstart",u)}function u(){var u=r.event,d=u.target,f=u.clientX||u.touches[0].clientX,g=f-t.node().getBoundingClientRect().left,m=o.d2p(n._rl[0]),v=o.d2p(n._rl[1]),y=h.coverSlip();function b(t){var u,h,b,x=+(t.clientX||t.touches[0].clientX)-f;switch(d){case s:b="ew-resize",u=m+x,h=v+x;break;case l:b="col-resize",u=m+x,h=v;break;case c:b="col-resize",u=m,h=v+x;break;default:b="ew-resize",u=g,h=g+x}if(h<u){var w=h;h=u,u=w}o._pixelMin=u,o._pixelMax=h,p(r.select(y),b),function(t,e,n,r){function o(t){return n.l2r(a.constrain(t,r._rl[0],r._rl[1]))}var s=o(r.p2d(r._pixelMin)),l=o(r.p2d(r._pixelMax));window.requestAnimationFrame((function(){i.call("_guiRelayout",e,n._name+".range",[s,l])}))}(0,e,n,o)}function x(){y.removeEventListener("mousemove",b),y.removeEventListener("mouseup",x),this.removeEventListener("touchmove",b),this.removeEventListener("touchend",x),a.removeElement(y)}this.addEventListener("touchmove",b),this.addEventListener("touchend",x),y.addEventListener("mousemove",b),y.addEventListener("mouseup",x)}}(o,t,n,l),function(t,e,n,r,i,o){var l=g.handleWidth/2;function c(t){return a.constrain(t,0,r._width)}function u(t){return a.constrain(t,0,r._height)}function d(t){return a.constrain(t,-l,r._width+l)}var f=c(r.d2p(n._rl[0])),h=c(r.d2p(n._rl[1]));if(t.select("rect."+g.slideBoxClassName).attr("x",f).attr("width",h-f),t.select("rect."+g.maskMinClassName).attr("width",f),t.select("rect."+g.maskMaxClassName).attr("x",h).attr("width",r._width-h),"match"!==o.rangemode){var p=r._height-u(r.d2pOppAxis(i._rl[1])),m=r._height-u(r.d2pOppAxis(i._rl[0]));t.select("rect."+g.maskMinOppAxisClassName).attr("x",f).attr("height",p).attr("width",h-f),t.select("rect."+g.maskMaxOppAxisClassName).attr("x",f).attr("y",m).attr("height",r._height-m).attr("width",h-f),t.select("rect."+g.slideBoxClassName).attr("y",p).attr("height",m-p)}var v=Math.round(d(f-l))-.5,y=Math.round(d(h-l))+.5;t.select("g."+g.grabberMinClassName).attr("transform",s(v,.5)),t.select("g."+g.grabberMaxClassName).attr("transform",s(y,.5))}(o,0,n,l,c,d),"bottom"===n.side&&u.draw(t,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:e._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:C+l._height+l._offsetShift+10+1.5*n.title.font.size,"text-anchor":"middle"}})})))}},{"../../lib":400,"../../lib/setcursor":421,"../../plots/cartesian":462,"../../plots/cartesian/axis_ids":454,"../../plots/plots":488,"../../registry":490,"../color":257,"../dragelement":276,"../drawing":279,"../titles":366,"./constants":331,"@plotly/d3":14}],334:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axis_ids"),i=t("../../lib/svg_text_utils"),o=t("./constants"),a=t("../../constants/alignment").LINE_SPACING,s=o.name;function l(t){var e=t&&t[s];return e&&e.visible}n.isVisible=l,n.makeData=function(t){var e=r.list({_fullLayout:t},"x",!0),n=t.margin,i=[];if(!t._has("gl2d"))for(var o=0;o<e.length;o++){var a=e[o];if(l(a)){i.push(a);var c=a[s];c._id=s+a._id,c._height=(t.height-n.b-n.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}t._rangeSliderData=i},n.autoMarginOpts=function(t,e){var n=t._fullLayout,r=e[s],l=e._id.charAt(0),c=0,u=0;return"bottom"===e.side&&(c=e._depth,e.title.text!==n._dfltTitle[l]&&(u=1.5*e.title.font.size+10+r._offsetShift,u+=(e.title.text.match(i.BR_TAG_ALL)||[]).length*e.title.font.size*a)),{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:r._height+c+Math.max(n.margin.b,u),pad:o.extraPad+2*r._offsetShift}}},{"../../constants/alignment":373,"../../lib/svg_text_utils":426,"../../plots/cartesian/axis_ids":454,"./constants":331}],335:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./attributes"),o=t("./oppaxis_attributes"),a=t("./helpers");e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:o})}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:t("./draw"),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}},{"../../lib":400,"./attributes":329,"./calc_autorange":330,"./defaults":332,"./draw":333,"./helpers":334,"./oppaxis_attributes":336}],336:[function(t,e,n){"use strict";e.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],337:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),i=t("../../traces/scatter/attributes").line,o=t("../drawing/attributes").dash,a=t("../../lib/extend").extendFlat,s=t("../../plot_api/edit_types").overrideAll,l=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),e.exports=s(l("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:a({},r.xref,{}),yref:a({},r.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:i.color,width:a({},i.width,{min:1,dflt:1}),dash:a({},o,{dflt:"dot"})}}),"arraydraw","from-root")},{"../../constants/axis_placeable_objects":374,"../../lib/extend":392,"../../plot_api/edit_types":432,"../../plot_api/plot_template":439,"../../traces/scatter/attributes":539,"../annotations/attributes":240,"../drawing/attributes":278}],338:[function(t,e,n){"use strict";e.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},{}],339:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),a=t("./attributes"),s=t("../shapes/helpers");function l(t,e,n){function o(n,i){return r.coerce(t,e,a,n,i)}var l=o("path"),c="path"!==o("type",l?"path":"rect");c&&delete e.path,o("opacity"),o("line.color"),o("line.width"),o("line.dash");for(var u=["x","y"],d=0;d<2;d++){var f,h,p,g=u[d],m={_fullLayout:n},v=i.coerceRef(t,e,m,g);if((f=i.getFromId(m,v))._selectionIndices.push(e._index),p=s.rangeToShapePosition(f),h=s.shapePositionToRange(f),c){var y=g+"0",b=g+"1",x=t[y],w=t[b];t[y]=h(t[y],!0),t[b]=h(t[b],!0),i.coercePosition(e,m,o,v,y),i.coercePosition(e,m,o,v,b);var k=e[y],_=e[b];void 0!==k&&void 0!==_&&(e[y]=p(k),e[b]=p(_),t[y]=x,t[b]=w)}}c&&r.noneOrAll(t,e,["x0","x1","y0","y1"])}e.exports=function(t,e){o(t,e,{name:"selections",handleItemDefaults:l});for(var n=e.selections,r=0;r<n.length;r++){var i=n[r];i&&void 0===i.path&&(void 0!==i.x0&&void 0!==i.x1&&void 0!==i.y0&&void 0!==i.y1||(e.selections[r]=null))}}},{"../../lib":400,"../../plots/array_container_defaults":445,"../../plots/cartesian/axes":450,"../shapes/helpers":359,"./attributes":337}],340:[function(t,e,n){"use strict";var r=t("../shapes/draw_newshape/helpers").readPaths,i=t("../shapes/display_outlines"),o=t("../shapes/handle_outline").clearOutlineControllers,a=t("../color"),s=t("../drawing"),l=t("../../plot_api/plot_template").arrayEditor,c=t("../shapes/helpers"),u=c.getPathString;function d(t){var e=t._fullLayout;for(var n in o(t),e._selectionLayer.selectAll("path").remove(),e._plots){var r=e._plots[n].selectionLayer;r&&r.selectAll("path").remove()}for(var i=0;i<e.selections.length;i++)h(t,i)}function f(t){return t._context.editSelection}function h(t,e){t._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+e+'"]').remove();var n=c.makeSelectionsOptionsAndPlotinfo(t,e),o=n.options,h=n.plotinfo;o._input&&function(n){var c=u(t,o),m={"data-index":e,"fill-rule":"evenodd",d:c},v=o.opacity,y="rgba(0,0,0,0)",b=o.line.color||a.contrast(t._fullLayout.plot_bgcolor),x=o.line.width,w=o.line.dash;x||(x=5,w="solid");var k=f(t)&&t._fullLayout._activeSelectionIndex===e;k&&(y=t._fullLayout.activeselection.fillcolor,v=t._fullLayout.activeselection.opacity);for(var _=[],A=1;A>=0;A--){var T=n.append("path").attr(m).style("opacity",A?.1:v).call(a.stroke,b).call(a.fill,y).call(s.dashLine,A?"solid":w,A?4+x:x);if(p(T,t,o),k){var M=l(t.layout,"selections",o);T.style({cursor:"move"});var E={element:T.node(),plotinfo:h,gd:t,editHelpers:M,isActiveSelection:!0},C=r(c,t);i(C,T,E)}else T.style("pointer-events",A?"all":"none");_[A]=T}var S=_[0];_[1].node().addEventListener("click",(function(){return function(t,e){if(f(t)){var n=+e.node().getAttribute("data-index");if(n>=0){if(n===t._fullLayout._activeSelectionIndex)return void g(t);t._fullLayout._activeSelectionIndex=n,t._fullLayout._deactivateSelection=g,d(t)}}}(t,S)}))}(t._fullLayout._selectionLayer)}function p(t,e,n){var r=n.xref+n.yref;s.setClipUrl(t,"clip"+e._fullLayout._uid+r,e)}function g(t){f(t)&&t._fullLayout._activeSelectionIndex>=0&&(o(t),delete t._fullLayout._activeSelectionIndex,d(t))}e.exports={draw:d,drawOne:h,activateLastSelection:function(t){if(f(t)){var e=t._fullLayout.selections.length-1;t._fullLayout._activeSelectionIndex=e,t._fullLayout._deactivateSelection=g,d(t)}}}},{"../../plot_api/plot_template":439,"../color":257,"../drawing":279,"../shapes/display_outlines":351,"../shapes/draw_newshape/helpers":356,"../shapes/handle_outline":358,"../shapes/helpers":359}],341:[function(t,e,n){"use strict";var r=t("../../drawing/attributes").dash,i=t("../../../lib/extend").extendFlat;e.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:i({},r,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":392,"../../drawing/attributes":278}],342:[function(t,e,n){"use strict";e.exports=function(t,e,n){n("newselection.mode"),n("newselection.line.width")&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}},{}],343:[function(t,e,n){"use strict";var r=t("../../dragelement/helpers").selectMode,i=t("../../shapes/handle_outline").clearOutline,o=t("../../shapes/draw_newshape/helpers"),a=o.readPaths,s=o.writePaths,l=o.fixDatesForPaths;e.exports=function(t,e){if(t.length){var n=t[0][0];if(n){var o=n.getAttribute("d"),c=e.gd,u=c._fullLayout.newselection,d=e.plotinfo,f=d.xaxis,h=d.yaxis,p=e.isActiveSelection,g=e.dragmode,m=(c.layout||{}).selections||[];if(!r(g)&&void 0!==p){var v=c._fullLayout._activeSelectionIndex;if(v<m.length)switch(c._fullLayout.selections[v].type){case"rect":g="select";break;case"path":g="lasso"}}var y,b=a(o,c,d,p),x={xref:f._id,yref:h._id,opacity:u.opacity,line:{color:u.line.color,width:u.line.width,dash:u.line.dash}};1===b.length&&(y=b[0]),y&&5===y.length&&"select"===g?(x.type="rect",x.x0=y[0][1],x.y0=y[0][2],x.x1=y[2][1],x.y1=y[2][2]):(x.type="path",f&&h&&l(b,f,h),x.path=s(b),y=null),i(c);for(var w=e.editHelpers,k=(w||{}).modifyItem,_=[],A=0;A<m.length;A++){var T=c._fullLayout.selections[A];if(T){if(_[A]=T._input,void 0!==p&&A===c._fullLayout._activeSelectionIndex){var M=x;switch(T.type){case"rect":k("x0",M.x0),k("x1",M.x1),k("y0",M.y0),k("y1",M.y1);break;case"path":k("path",M.path)}}}else _[A]=T}return void 0===p?(_.push(x),_):w?w.getUpdateObj():{}}}}},{"../../dragelement/helpers":275,"../../shapes/draw_newshape/helpers":356,"../../shapes/handle_outline":358}],344:[function(t,e,n){"use strict";var r=t("../../lib").strTranslate;function i(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}e.exports={p2r:i,r2p:function(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}},axValue:function(t){var e="y"===t._id.charAt(0)?1:0;return function(n){return i(t,n[e])}},getTransform:function(t){return r(t.xaxis._offset,t.yaxis._offset)}}},{"../../lib":400}],345:[function(t,e,n){"use strict";var r=t("./draw"),i=t("./select");e.exports={moduleType:"component",name:"selections",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),supplyDrawNewSelectionDefaults:t("./draw_newselection/defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("selections"),draw:r.draw,drawOne:r.drawOne,reselect:i.reselect,prepSelect:i.prepSelect,clearOutline:i.clearOutline,clearSelectionsCache:i.clearSelectionsCache,selectOnClick:i.selectOnClick}},{"../../plots/cartesian/include_components":461,"./attributes":337,"./defaults":339,"./draw":340,"./draw_newselection/defaults":342,"./select":346}],346:[function(t,e,n){"use strict";var r=t("polybooljs"),i=t("point-in-polygon/nested"),o=t("../../registry"),a=t("../drawing").dashStyle,s=t("../color"),l=t("../fx"),c=t("../fx/helpers").makeEventData,u=t("../dragelement/helpers"),d=u.freeMode,f=u.rectMode,h=u.drawMode,p=u.openMode,g=u.selectMode,m=t("../shapes/helpers"),v=t("../shapes/constants"),y=t("../shapes/display_outlines"),b=t("../shapes/handle_outline").clearOutline,x=t("../shapes/draw_newshape/helpers"),w=x.handleEllipse,k=x.readPaths,_=t("../shapes/draw_newshape/newshapes"),A=t("./draw_newselection/newselections"),T=t("./draw").activateLastSelection,M=t("../../lib"),E=M.sorterAsc,C=t("../../lib/polygon"),S=t("../../lib/throttle"),O=t("../../plots/cartesian/axis_ids").getFromId,L=t("../../lib/clear_gl_canvases"),P=t("../../plot_api/subroutines").redrawReglTraces,D=t("./constants"),R=D.MINSELECT,I=C.filter,z=C.tester,N=t("./helpers"),B=N.p2r,F=N.axValue,j=N.getTransform;function $(t){return void 0!==t.subplot}function Z(t,e,n,r,i,o,a){var s,l,c,u,d,f,h,g,m,v=e._hoverdata,b=e._fullLayout.clickmode.indexOf("event")>-1,x=[];if(function(t){return t&&Array.isArray(t)&&!0!==t[0].hoverOnBox}(v)){W(t,e,o);var w=function(t,e){var n,r,i=t[0],o=-1,a=[];for(r=0;r<e.length;r++)if(n=e[r],i.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?o=i.pointNumber:void 0!==i.binNumber&&(o=i.binNumber,a=i.pointNumbers);break}return{pointNumber:o,pointNumbers:a,searchInfo:n}}(v,s=q(e,n,r,i));if(w.pointNumbers.length>0?function(t,e){var n,r,i,o=[];for(i=0;i<t.length;i++)(n=t[i]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&o.push(n);if(1===o.length&&o[0]===e.searchInfo&&(r=e.searchInfo.cd[0].trace).selectedpoints.length===e.pointNumbers.length){for(i=0;i<e.pointNumbers.length;i++)if(r.selectedpoints.indexOf(e.pointNumbers[i])<0)return!1;return!0}return!1}(s,w):function(t){var e,n,r=0;for(n=0;n<t.length;n++)if((e=t[n].cd[0].trace).selectedpoints){if(e.selectedpoints.length>1)return!1;if((r+=e.selectedpoints.length)>1)return!1}return 1===r}(s)&&(f=J(w))){for(a&&a.remove(),m=0;m<s.length;m++)(l=s[m])._module.selectPoints(l,!1);K(e,s),Y(o),b&&ft(e)}else{for(h=t.shiftKey&&(void 0!==f?f:J(w)),c=function(t,e,n){return{pointNumber:t,searchInfo:e,subtract:!!n}}(w.pointNumber,w.searchInfo,h),u=V(o.selectionDefs.concat([c])),m=0;m<s.length;m++)if(d=tt(s[m]._module.selectPoints(s[m],u),s[m]),x.length)for(var k=0;k<d.length;k++)x.push(d[k]);else x=d;if(K(e,s,g={points:x}),c&&o&&o.selectionDefs.push(c),a){var _=o.mergedPolygons,A=p(o.dragmode);y(et(_,A),a,o)}b&&dt(e,g)}}}function U(t){return"pointNumber"in t&&"searchInfo"in t}function H(t){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(e,n,r,i){var o=t.searchInfo.cd[0].trace._expandedIndex;return i.cd[0].trace._expandedIndex===o&&r===t.pointNumber},isRect:!1,degenerate:!1,subtract:!!t.subtract}}function V(t){if(t.length){for(var e=[],n=U(t[0])?0:t[0][0][0],r=n,i=U(t[0])?0:t[0][0][1],o=i,a=0;a<t.length;a++)if(U(t[a]))e.push(H(t[a]));else{var s=z(t[a]);s.subtract=!!t[a].subtract,e.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),o=Math.max(o,s.ymax)}return{xmin:n,xmax:r,ymin:i,ymax:o,pts:[],contains:function(t,n,r,i){for(var o=!1,a=0;a<e.length;a++)e[a].contains(t,n,r,i)&&(o=!e[a].subtract);return o},isRect:!1,degenerate:!1}}}function W(t,e,n){var r=e._fullLayout,i=n.plotinfo,o=n.dragmode,a=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=(t.shiftKey||t.altKey)&&!(h(o)&&p(o));a&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):s&&i.selection||Y(n),a||(b(e),r._lastSelectedSubplot=i.id)}function Y(t,e){var n=t.dragmode,r=t.plotinfo,i=t.gd;(function(t){return t._fullLayout._activeShapeIndex>=0})(i)&&i._fullLayout._deactivateShape(i),function(t){return t._fullLayout._activeSelectionIndex>=0}(i)&&i._fullLayout._deactivateSelection(i);var a=i._fullLayout._zoomlayer,s=h(n),l=g(n);if(s||l){var c,u,d=a.selectAll(".select-outline-"+r.id);d&&i._fullLayout._outlining&&(s&&(c=_(d,t)),c&&o.call("_guiRelayout",i,{shapes:c}),l&&!$(t)&&(u=A(d,t)),u&&(i._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",i,{selections:u}).then((function(){e&&T(i)}))),i._fullLayout._outlining=!1)}r.selection={},r.selection.selectionDefs=t.selectionDefs=[],r.selection.mergedPolygons=t.mergedPolygons=[]}function G(t){return t._id}function q(t,e,n,r){if(!t.calcdata)return[];var i,o,a,s=[],l=e.map(G),c=n.map(G);for(a=0;a<t.calcdata.length;a++)if(!0===(o=(i=t.calcdata[a])[0].trace).visible&&o._module&&o._module.selectPoints)if(!$({subplot:r})||o.subplot!==r&&o.geo!==r)if("splom"===o.type){if(o._xaxes[l[0]]&&o._yaxes[c[0]]){var u=X(o._module,i,e[0],n[0]);u.scene=t._fullLayout._splomScenes[o.uid],s.push(u)}}else if("sankey"===o.type){var d=X(o._module,i,e[0],n[0]);s.push(d)}else{if(-1===l.indexOf(o.xaxis))continue;if(-1===c.indexOf(o.yaxis))continue;s.push(X(o._module,i,O(t,o.xaxis),O(t,o.yaxis)))}else s.push(X(o._module,i,e[0],n[0]));return s}function X(t,e,n,r){return{_module:t,cd:e,xaxis:n,yaxis:r}}function J(t){var e=t.searchInfo.cd[0].trace,n=t.pointNumber,r=t.pointNumbers,i=r.length>0?r[0]:n;return!!e.selectedpoints&&e.selectedpoints.indexOf(i)>-1}function K(t,e,n){var r,i;for(r=0;r<e.length;r++){var a=e[r].cd[0].trace._fullInput,s=t._fullLayout._tracePreGUI[a.uid]||{};void 0===s.selectedpoints&&(s.selectedpoints=a._input.selectedpoints||null)}if(n){var l=n.points||[];for(r=0;r<e.length;r++)(i=e[r].cd[0].trace)._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(var c=0;c<l.length;c++){var u=l[c],d=u.data,f=u.fullData,h=u.pointIndex,p=u.pointIndices;p?([].push.apply(d.selectedpoints,p),i._fullInput!==i&&[].push.apply(f.selectedpoints,p)):(d.selectedpoints.push(h),i._fullInput!==i&&f.selectedpoints.push(h))}}else for(r=0;r<e.length;r++)delete(i=e[r].cd[0].trace).selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;!function(t,e){for(var n=!1,r=0;r<e.length;r++){var i=e[r],a=i.cd;o.traceIs(a[0].trace,"regl")&&(n=!0);var s=i._module,l=s.styleOnSelect||s.style;l&&(l(t,a,a[0].node3),a[0].nodeRangePlot3&&l(t,a,a[0].nodeRangePlot3))}n&&(L(t),P(t))}(t,e)}function Q(t,e,n){for(var i=(n?r.difference:r.union)({regions:t},{regions:[e]}).regions.reverse(),o=0;o<i.length;o++){var a=i[o];a.subtract=st(a,i.slice(0,o))}return i}function tt(t,e){if(Array.isArray(t))for(var n=e.cd,r=e.cd[0].trace,i=0;i<t.length;i++)t[i]=c(t[i],r,n);return t}function et(t,e){for(var n=[],r=0;r<t.length;r++){n[r]=[];for(var i=0;i<t[r].length;i++){n[r][i]=[],n[r][i][0]=i?"L":"M";for(var o=0;o<t[r][i].length;o++)n[r][i].push(t[r][i][o])}e||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}function nt(t,e){for(var n,r,i=[],o=[],a=0;a<e.length;a++){var s=e[a];r=s._module.selectPoints(s,t),o.push(r),n=tt(r,s),i=i.concat(n)}return i}function rt(t,e,n,r,i){var o,a,s,l=!!r;i&&(o=i.plotinfo,a=i.xaxes[0]._id,s=i.yaxes[0]._id);var c=[],u=[],d=at(t),f=t._fullLayout;if(o){var p=f._zoomlayer,m=f.dragmode,v=h(m),y=g(m);if(v||y){var b=O(t,a,"x"),x=O(t,s,"y");if(b&&x){var w=p.selectAll(".select-outline-"+o.id);if(w&&t._fullLayout._outlining&&w.length){for(var _=w[0][0].getAttribute("d"),A=k(_,t,o),T=[],M=0;M<A.length;M++){for(var E=A[M],C=[],S=0;S<E.length;S++)C.push([lt(b,E[S][1]),lt(x,E[S][2])]);C.xref=a,C.yref=s,C.subtract=st(C,T),T.push(C)}d=d.concat(T)}}}}var L=a&&s?[a+s]:f._subplots.cartesian;!function(t){var e=t.calcdata;if(e)for(var n=0;n<e.length;n++){var r=e[n][0].trace,i=t._fullLayout._splomScenes;if(i){var o=i[r.uid];o&&(o.selectBatch=[])}}}(t);for(var P={},D=0;D<L.length;D++){var R=L[D],I=R.indexOf("y"),z=R.slice(0,I),N=R.slice(I),B=a&&s?n:void 0;if(B=ot(d,z,N,B)){var F=r;if(!l){var j=O(t,z,"x"),$=O(t,N,"y");F=q(t,[j],[$],R);for(var Z=0;Z<F.length;Z++){var U=F[Z],H=U.cd[0],V=H.trace;if("scattergl"===U._module.name&&!H.t.xpx){var W=V.x,Y=V.y,G=V._length;H.t.xpx=[],H.t.ypx=[];for(var X=0;X<G;X++)H.t.xpx[X]=j.c2p(W[X]),H.t.ypx[X]=$.c2p(Y[X])}"splom"===U._module.name&&(P[V.uid]||(P[V.uid]=!0))}}var J=nt(B,F);c=c.concat(J),u=u.concat(F)}}var Q={points:c};K(t,u,Q);var tt=f.clickmode.indexOf("event")>-1&&e;if(!o&&e){var et=at(t,!0);if(et.length){var rt=et[0].xref,ht=et[0].yref;if(rt&&ht){var pt=ct(et);ut([O(t,rt,"x"),O(t,ht,"y")])(Q,pt)}}t._fullLayout._noEmitSelectedAtStart?t._fullLayout._noEmitSelectedAtStart=!1:tt&&dt(t,Q),f._reselect=!1}if(!o&&f._deselect){var gt=f._deselect;(function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];if(i.xaxis&&i.xaxis._id===t&&i.yaxis&&i.yaxis._id===e)return!0}return!1})(a=gt.xref,s=gt.yref,u)||it(t,a,s,r),tt&&(Q.points.length?dt(t,Q):ft(t)),f._deselect=!1}return{eventData:Q,selectionTesters:n}}function it(t,e,n,r){r=q(t,[O(t,e,"x")],[O(t,n,"y")],e+n);for(var i=0;i<r.length;i++){var o=r[i];o._module.selectPoints(o,!1)}K(t,r)}function ot(t,e,n,r){for(var i,o=0;o<t.length;o++){var a=t[o];e===a.xref&&n===a.yref&&(i?r=V(i=Q(i,a,!!a.subtract)):(i=[a],r=z(a)))}return r}function at(t,e){for(var n=[],r=t._fullLayout,i=r.selections,o=i.length,a=0;a<o;a++)if(!e||a===r._activeSelectionIndex){var s=i[a];if(s){var l,c,u,d,f,h=s.xref,p=s.yref,g=O(t,h,"x"),y=O(t,p,"y");if("rect"===s.type){f=[];var b=lt(g,s.x0),x=lt(g,s.x1),w=lt(y,s.y0),k=lt(y,s.y1);f=[[b,w],[b,k],[x,k],[x,w]],l=Math.min(b,x),c=Math.max(b,x),u=Math.min(w,k),d=Math.max(w,k),f.xmin=l,f.xmax=c,f.ymin=u,f.ymax=d,f.xref=h,f.yref=p,f.subtract=!1,f.isRect=!0,n.push(f)}else if("path"===s.type)for(var _=s.path.split("Z"),A=[],T=0;T<_.length;T++){var M=_[T];if(M){M+="Z";var E=m.extractPathCoords(M,v.paramIsX,"raw"),C=m.extractPathCoords(M,v.paramIsY,"raw");l=1/0,c=-1/0,u=1/0,d=-1/0,f=[];for(var S=0;S<E.length;S++){var L=lt(g,E[S]),P=lt(y,C[S]);f.push([L,P]),l=Math.min(L,l),c=Math.max(L,c),u=Math.min(P,u),d=Math.max(P,d)}f.xmin=l,f.xmax=c,f.ymin=u,f.ymax=d,f.xref=h,f.yref=p,f.subtract=st(f,A),A.push(f),n.push(f)}}}}return n}function st(t,e){for(var n=!1,r=0;r<e.length;r++)for(var o=e[r],a=0;a<t.length;a++)if(i(t[a],o)){n=!n;break}return n}function lt(t,e){return"date"===t.type&&(e=e.replace("_"," ")),"log"===t.type?t.c2p(e):t.r2p(e,null,t.calendar)}function ct(t){for(var e=t.length,n=[],r=0;r<e;r++){var i=t[r];n=(n=n.concat(i)).concat([i[0]])}return function(t){return t.isRect=5===t.length&&t[0][0]===t[4][0]&&t[0][1]===t[4][1]&&t[0][0]===t[1][0]&&t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]||t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0],t.isRect&&(t.xmin=Math.min(t[0][0],t[2][0]),t.xmax=Math.max(t[0][0],t[2][0]),t.ymin=Math.min(t[0][1],t[2][1]),t.ymax=Math.max(t[0][1],t[2][1])),t}(n)}function ut(t){return function(e,n){for(var r,i,o=0;o<t.length;o++){var a=t[o],s=a._id,l=s.charAt(0);if(n.isRect){r||(r={});var c=n[l+"min"],u=n[l+"max"];void 0!==c&&void 0!==u&&(r[s]=[B(a,c),B(a,u)].sort(E))}else i||(i={}),i[s]=n.map(F(a))}r&&(e.range=r),i&&(e.lassoPoints=i)}}function dt(t,e){e&&(e.selections=(t.layout||{}).selections||[]),t.emit("plotly_selected",e)}function ft(t){t.emit("plotly_deselect",null)}e.exports={reselect:rt,prepSelect:function(t,e,n,r,i){var c=!$(r),u=d(i),m=f(i),v=p(i),b=h(i),x=g(i),k="drawcircle"===i,_="drawline"===i||k,A=r.gd,T=A._fullLayout,E=x&&"immediate"===T.newselection.mode&&c,C=T._zoomlayer,O=r.element.getBoundingClientRect(),L=r.plotinfo,P=j(L),N=e-O.left,B=n-O.top;T._calcInverseTransform(A);var F=M.apply3DTransform(T._invTransform)(N,B);N=F[0],B=F[1];var U,H,G,X,J,tt,ot,at=T._invScaleX,st=T._invScaleY,lt=N,ht=B,pt="M"+N+","+B,gt=r.xaxes[0],mt=r.yaxes[0],vt=gt._length,yt=mt._length,bt=t.altKey&&!(h(i)&&v);W(t,A,r),u&&(U=I([[N,B]],D.BENDPX));var xt=C.selectAll("path.select-outline-"+L.id).data([1]),wt=b?T.newshape:T.newselection;xt.enter().append("path").attr("class","select-outline select-outline-"+L.id).style({opacity:b?wt.opacity/2:1,fill:b&&!v?wt.fillcolor:"none",stroke:wt.line.color||(c?s.contrast(A._fullLayout.plot_bgcolor):"#7f7f7f"),"stroke-dasharray":a(wt.line.dash,wt.line.width),"stroke-width":wt.line.width+"px","shape-rendering":"crispEdges"}).attr("fill-rule","evenodd").classed("cursor-move",!!b).attr("transform",P).attr("d",pt+"Z");var kt=C.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1}).attr("transform",P).attr("d","M0,0Z"),_t=T._uid+D.SELECTID,At=[],Tt=q(A,r.xaxes,r.yaxes,r.subplot);E&&!t.shiftKey&&(r._clearSubplotSelections=function(){if(c){var t=gt._id,e=mt._id;it(A,t,e,Tt);for(var n=(A.layout||{}).selections||[],r=[],i=!1,a=0;a<n.length;a++){var s=T.selections[a];s.xref!==t||s.yref!==e?r.push(n[a]):i=!0}i&&(A._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",A,{selections:r}))}});var Mt=function(t){return t.plotinfo.fillRangeItems||ut(t.xaxes.concat(t.yaxes))}(r);r.moveFn=function(t,e){r._clearSubplotSelections&&(r._clearSubplotSelections(),r._clearSubplotSelections=void 0),lt=Math.max(0,Math.min(vt,at*t+N)),ht=Math.max(0,Math.min(yt,st*e+B));var n=Math.abs(lt-N),i=Math.abs(ht-B);if(m){var o,a,s;if(x){var l=T.selectdirection;switch(o="any"===l?i<Math.min(.6*n,R)?"h":n<Math.min(.6*i,R)?"v":"d":l){case"h":a=k?yt/2:0,s=yt;break;case"v":a=k?vt/2:0,s=vt}}if(b)switch(T.newshape.drawdirection){case"vertical":o="h",a=k?yt/2:0,s=yt;break;case"horizontal":o="v",a=k?vt/2:0,s=vt;break;case"ortho":n<i?(o="h",a=B,s=ht):(o="v",a=N,s=lt);break;default:o="d"}"h"===o?((X=_?w(k,[lt,a],[lt,s]):[[N,a],[N,s],[lt,s],[lt,a]]).xmin=_?lt:Math.min(N,lt),X.xmax=_?lt:Math.max(N,lt),X.ymin=Math.min(a,s),X.ymax=Math.max(a,s),kt.attr("d","M"+X.xmin+","+(B-R)+"h-4v"+2*R+"h4ZM"+(X.xmax-1)+","+(B-R)+"h4v"+2*R+"h-4Z")):"v"===o?((X=_?w(k,[a,ht],[s,ht]):[[a,B],[a,ht],[s,ht],[s,B]]).xmin=Math.min(a,s),X.xmax=Math.max(a,s),X.ymin=_?ht:Math.min(B,ht),X.ymax=_?ht:Math.max(B,ht),kt.attr("d","M"+(N-R)+","+X.ymin+"v-4h"+2*R+"v4ZM"+(N-R)+","+(X.ymax-1)+"v4h"+2*R+"v-4Z")):"d"===o&&((X=_?w(k,[N,B],[lt,ht]):[[N,B],[N,ht],[lt,ht],[lt,B]]).xmin=Math.min(N,lt),X.xmax=Math.max(N,lt),X.ymin=Math.min(B,ht),X.ymax=Math.max(B,ht),kt.attr("d","M0,0Z"))}else u&&(U.addPt([lt,ht]),X=U.filtered);if(r.selectionDefs&&r.selectionDefs.length?(G=Q(r.mergedPolygons,X,bt),X.subtract=bt,H=V(r.selectionDefs.concat([X]))):(G=[X],H=z(X)),y(et(G,v),xt,r),x){var c,d=rt(A,!1),f=d.eventData?d.eventData.points.slice():[];d=rt(A,!1,H,Tt,r),H=d.selectionTesters,ot=d.eventData,c=U?U.filtered:ct(G),S.throttle(_t,D.SELECTDELAY,(function(){for(var t=(At=nt(H,Tt)).slice(),e=0;e<f.length;e++){for(var n=f[e],r=!1,i=0;i<t.length;i++)if(t[i].curveNumber===n.curveNumber&&t[i].pointNumber===n.pointNumber){r=!0;break}r||t.push(n)}t.length&&(ot||(ot={}),ot.points=t),Mt(ot,c),function(t,e){t.emit("plotly_selecting",e)}(A,ot)}))}},r.clickFn=function(t,e){if(kt.remove(),A._fullLayout._activeShapeIndex>=0)A._fullLayout._deactivateShape(A);else if(!b){var n=T.clickmode;S.done(_t).then((function(){if(S.clear(_t),2===t){for(xt.remove(),J=0;J<Tt.length;J++)(tt=Tt[J])._module.selectPoints(tt,!1);if(K(A,Tt),Y(r),ft(A),Tt.length){var i=Tt[0].xaxis,a=Tt[0].yaxis;if(i&&a){for(var s=[],c=A._fullLayout.selections,u=0;u<c.length;u++){var d=c[u];d&&(d.xref===i._id&&d.yref===a._id||s.push(d))}s.length<c.length&&(A._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",A,{selections:s}))}}}else n.indexOf("select")>-1&&Z(e,A,r.xaxes,r.yaxes,r.subplot,r,xt),"event"===n&&dt(A,void 0);l.click(A,e)})).catch(M.error)}},r.doneFn=function(){kt.remove(),S.done(_t).then((function(){S.clear(_t),!E&&X&&r.selectionDefs&&(X.subtract=bt,r.selectionDefs.push(X),r.mergedPolygons.length=0,[].push.apply(r.mergedPolygons,G)),(E||b)&&Y(r,E),r.doneFnCompleted&&r.doneFnCompleted(At),x&&dt(A,ot)})).catch(M.error)}},clearOutline:b,clearSelectionsCache:Y,selectOnClick:Z}},{"../../lib":400,"../../lib/clear_gl_canvases":386,"../../lib/polygon":412,"../../lib/throttle":427,"../../plot_api/subroutines":440,"../../plots/cartesian/axis_ids":454,"../../registry":490,"../color":257,"../dragelement/helpers":275,"../drawing":279,"../fx":297,"../fx/helpers":293,"../shapes/constants":349,"../shapes/display_outlines":351,"../shapes/draw_newshape/helpers":356,"../shapes/draw_newshape/newshapes":357,"../shapes/handle_outline":358,"../shapes/helpers":359,"./constants":338,"./draw":340,"./draw_newselection/newselections":343,"./helpers":344,"point-in-polygon/nested":183,polybooljs:184}],347:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),i=t("../../traces/scatter/attributes").line,o=t("../drawing/attributes").dash,a=t("../../lib/extend").extendFlat,s=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),e.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:a({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:a({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:a({},i.color,{editType:"arraydraw"}),width:a({},i.width,{editType:"calc+arraydraw"}),dash:a({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":374,"../../lib/extend":392,"../../plot_api/plot_template":439,"../../traces/scatter/attributes":539,"../annotations/attributes":240,"../drawing/attributes":278}],348:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("./constants"),a=t("./helpers");function s(t){return c(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function l(t){return c(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function c(t,e,n,i,s,l){var c=t/2,u=l;if("pixel"===e){var d=s?a.extractPathCoords(s,l?o.paramIsY:o.paramIsX):[n,i],f=r.aggNums(Math.max,null,d),h=r.aggNums(Math.min,null,d),p=h<0?Math.abs(h)+c:c,g=f>0?f+c:c;return{ppad:c,ppadplus:u?p:g,ppadminus:u?g:p}}return{ppad:c}}function u(t,e,n,r,i){var s="category"===t.type||"multicategory"===t.type?t.r2c:t.d2c;if(void 0!==e)return[s(e),s(n)];if(r){var l,c,u,d,f=1/0,h=-1/0,p=r.match(o.segmentRE);for("date"===t.type&&(s=a.decodeDate(s)),l=0;l<p.length;l++)void 0!==(c=i[p[l].charAt(0)].drawn)&&(!(u=p[l].substr(1).match(o.paramRE))||u.length<c||((d=s(u[c]))<f&&(f=d),d>h&&(h=d)));return h>=f?[f,h]:void 0}}e.exports=function(t){var e=t._fullLayout,n=r.filterVisible(e.shapes);if(n.length&&t._fullData.length)for(var a=0;a<n.length;a++){var c,d,f=n[a];f._extremes={};var h=i.getRefType(f.xref),p=i.getRefType(f.yref);if("paper"!==f.xref&&"domain"!==h){var g="pixel"===f.xsizemode?f.xanchor:f.x0,m="pixel"===f.xsizemode?f.xanchor:f.x1;(d=u(c=i.getFromId(t,f.xref),g,m,f.path,o.paramIsX))&&(f._extremes[c._id]=i.findExtremes(c,d,s(f)))}if("paper"!==f.yref&&"domain"!==p){var v="pixel"===f.ysizemode?f.yanchor:f.y0,y="pixel"===f.ysizemode?f.yanchor:f.y1;(d=u(c=i.getFromId(t,f.yref),v,y,f.path,o.paramIsY))&&(f._extremes[c._id]=i.findExtremes(c,d,l(f)))}}}},{"../../lib":400,"../../plots/cartesian/axes":450,"./constants":349,"./helpers":359}],349:[function(t,e,n){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],350:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),a=t("./attributes"),s=t("./helpers");function l(t,e,n){function o(n,i){return r.coerce(t,e,a,n,i)}if(o("visible")){var l=o("path"),c="path"!==o("type",l?"path":"rect");c&&delete e.path,o("editable"),o("layer"),o("opacity"),o("fillcolor"),o("fillrule"),o("line.width")&&(o("line.color"),o("line.dash"));for(var u=o("xsizemode"),d=o("ysizemode"),f=["x","y"],h=0;h<2;h++){var p,g,m,v=f[h],y=v+"anchor",b="x"===v?u:d,x={_fullLayout:n},w=i.coerceRef(t,e,x,v,void 0,"paper");if("range"===i.getRefType(w)?((p=i.getFromId(x,w))._shapeIndices.push(e._index),m=s.rangeToShapePosition(p),g=s.shapePositionToRange(p)):g=m=r.identity,c){var k=v+"0",_=v+"1",A=t[k],T=t[_];t[k]=g(t[k],!0),t[_]=g(t[_],!0),"pixel"===b?(o(k,0),o(_,10)):(i.coercePosition(e,x,o,w,k,.25),i.coercePosition(e,x,o,w,_,.75)),e[k]=m(e[k]),e[_]=m(e[_]),t[k]=A,t[_]=T}if("pixel"===b){var M=t[y];t[y]=g(t[y],!0),i.coercePosition(e,x,o,w,y,.25),e[y]=m(e[y]),t[y]=M}}c&&r.noneOrAll(t,e,["x0","x1","y0","y1"])}}e.exports=function(t,e){o(t,e,{name:"shapes",handleItemDefaults:l})}},{"../../lib":400,"../../plots/array_container_defaults":445,"../../plots/cartesian/axes":450,"./attributes":347,"./helpers":359}],351:[function(t,e,n){"use strict";var r=t("../../lib").strTranslate,i=t("../dragelement"),o=t("../dragelement/helpers"),a=o.drawMode,s=o.selectMode,l=t("../../registry"),c=t("../color"),u=t("./draw_newshape/constants"),d=u.i000,f=u.i090,h=u.i180,p=u.i270,g=t("./handle_outline").clearOutlineControllers,m=t("./draw_newshape/helpers"),v=m.pointsOnRectangle,y=m.pointsOnEllipse,b=m.writePaths,x=t("./draw_newshape/newshapes"),w=t("../selections/draw_newselection/newselections");function k(t,e){var n,r,i,o=t[e][1],a=t[e][2],s=t.length;return r=t[n=(e+1)%s][1],i=t[n][2],r===o&&i===a&&(r=t[n=(e+2)%s][1],i=t[n][2]),[n,r,i]}e.exports=function t(e,n,o,u){u||(u=0);var m=o.gd;function _(){t(e,n,o,u++),y(e[0])&&A({redrawing:!0})}function A(t){var e={};void 0!==o.isActiveShape&&(o.isActiveShape=!1,e=x(n,o)),void 0!==o.isActiveSelection&&(o.isActiveSelection=!1,e=w(n,o),m._fullLayout._reselect=!0),Object.keys(e).length&&l.call((t||{}).redrawing?"relayout":"_guiRelayout",m,e)}var T,M,E,C,S,O=m._fullLayout._zoomlayer,L=o.dragmode,P=a(L),D=s(L);function R(t){E=+t.srcElement.getAttribute("data-i"),C=+t.srcElement.getAttribute("data-j"),T[E][C].moveFn=I}function I(t,n){if(e.length){var r=S[E][C][1],i=S[E][C][2],a=e[E],s=a.length;if(v(a)){var l=t,c=n;o.isActiveSelection&&(k(a,C)[1]===a[C][1]?c=0:l=0);for(var u=0;u<s;u++)if(u!==C){var d=a[u];d[1]===a[C][1]&&(d[1]=r+l),d[2]===a[C][2]&&(d[2]=i+c)}if(a[C][1]=r+l,a[C][2]=i+c,!v(a))for(var f=0;f<s;f++)for(var h=0;h<a[f].length;h++)a[f][h]=S[E][f][h]}else a[C][1]=r+t,a[C][2]=i+n;_()}}function z(){A()}function N(t,n){if(2===t){E=+n.srcElement.getAttribute("data-i"),C=+n.srcElement.getAttribute("data-j");var r=e[E];v(r)||y(r)||function(){if(e.length&&e[E]&&e[E].length){for(var t=[],n=0;n<e[E].length;n++)n!==C&&t.push(e[E][n]);t.length>1&&(2!==t.length||"Z"!==t[1][0])&&(0===C&&(t[0][0]="M"),e[E]=t,_(),A())}}()}}function B(t,n){!function(t,n){if(e.length)for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)for(var o=0;o+2<e[r][i].length;o+=2)e[r][i][o+1]=S[r][i][o+1]+t,e[r][i][o+2]=S[r][i][o+2]+n}(t,n),_()}function F(t){(E=+t.srcElement.getAttribute("data-i"))||(E=0),M[E].moveFn=B}function j(){A()}function $(t){2===t&&function(t){if(s(t._fullLayout.dragmode)){g(t);var e=t._fullLayout._activeSelectionIndex,n=(t.layout||{}).selections||[];if(e<n.length){for(var r=[],i=0;i<n.length;i++)i!==e&&r.push(n[i]);delete t._fullLayout._activeSelectionIndex;var o=t._fullLayout.selections[e];t._fullLayout._deselect={xref:o.xref,yref:o.yref},l.call("_guiRelayout",t,{selections:r})}}}(m)}(P||D)&&(m._fullLayout._outlining=!0),g(m),n.attr("d",b(e)),u||!o.isActiveShape&&!o.isActiveSelection||(S=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t[n]=[];for(var i=0;i<r.length;i++){t[n][i]=[];for(var o=0;o<r[i].length;o++)t[n][i][o]=r[i][o]}}return t}([],e),function(t){T=[];for(var n=0;n<e.length;n++){var a=e[n],s=v(a),l=!s&&y(a);T[n]=[];for(var u=a.length,g=0;g<u;g++)if("Z"!==a[g][0]&&(!l||g===d||g===f||g===h||g===p)){var b,x=s&&o.isActiveSelection;x&&(b=k(a,g));var w=a[g][1],_=a[g][2],A=t.append(x?"rect":"circle").attr("data-i",n).attr("data-j",g).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(x){var M=b[1]-w,E=b[2]-_,C=E?5:Math.max(Math.min(25,Math.abs(M)-5),5),S=M?5:Math.max(Math.min(25,Math.abs(E)-5),5);A.classed(E?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",C).attr("height",S).attr("x",w-C/2).attr("y",_-S/2).attr("transform",r(M/2,E/2))}else A.classed("cursor-grab",!0).attr("r",5).attr("cx",w).attr("cy",_);T[n][g]={element:A.node(),gd:m,prepFn:R,doneFn:z,clickFn:N},i.init(T[n][g])}}}(O.append("g").attr("class","outline-controllers")),M=[],e.length&&(M[0]={element:n[0][0],gd:m,prepFn:F,doneFn:j,clickFn:$},i.init(M[0])))}},{"../../lib":400,"../../registry":490,"../color":257,"../dragelement":276,"../dragelement/helpers":275,"../selections/draw_newselection/newselections":343,"./draw_newshape/constants":354,"./draw_newshape/helpers":356,"./draw_newshape/newshapes":357,"./handle_outline":358}],352:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("../../plots/cartesian/axes"),a=t("./draw_newshape/helpers").readPaths,s=t("./display_outlines"),l=t("./handle_outline").clearOutlineControllers,c=t("../color"),u=t("../drawing"),d=t("../../plot_api/plot_template").arrayEditor,f=t("../dragelement"),h=t("../../lib/setcursor"),p=t("./constants"),g=t("./helpers"),m=g.getPathString;function v(t){var e=t._fullLayout;for(var n in e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._plots){var r=e._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<e.shapes.length;i++)e.shapes[i].visible&&x(t,i)}function y(t){return!!t._fullLayout._outlining}function b(t){return!t._context.edits.shapePosition}function x(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var n=g.makeShapesOptionsAndPlotinfo(t,e),l=n.options,x=n.plotinfo;function A(n){var A=m(t,l),T={"data-index":e,"fill-rule":l.fillrule,d:A},M=l.opacity,E=l.fillcolor,C=l.line.width?l.line.color:"rgba(0,0,0,0)",S=l.line.width,O=l.line.dash;S||!0!==l.editable||(S=5,O="solid");var L="Z"!==A[A.length-1],P=b(t)&&l.editable&&t._fullLayout._activeShapeIndex===e;P&&(E=L?"rgba(0,0,0,0)":t._fullLayout.activeshape.fillcolor,M=t._fullLayout.activeshape.opacity);var D,R=n.append("path").attr(T).style("opacity",M).call(c.stroke,C).call(c.fill,E).call(u.dashLine,O,S);if(w(R,t,l),(P||t._context.edits.shapePosition)&&(D=d(t.layout,"shapes",l)),P){R.style({cursor:"move"});var I={element:R.node(),plotinfo:x,gd:t,editHelpers:D,isActiveShape:!0},z=a(A,t);s(z,R,I)}else t._context.edits.shapePosition?function(t,e,n,a,s,l){var c,d,v,b,x,_,A,T,M,E,C,S,O,L,P,D,R="pixel"===n.xsizemode,I="pixel"===n.ysizemode,z="line"===n.type,N="path"===n.type,B=l.modifyItem,F=o.getFromId(t,n.xref),j=o.getRefType(n.xref),$=o.getFromId(t,n.yref),Z=o.getRefType(n.yref),U=g.getDataToPixel(t,F,!1,j),H=g.getDataToPixel(t,$,!0,Z),V=g.getPixelToData(t,F,!1,j),W=g.getPixelToData(t,$,!0,Z),Y=z?function(){var t=Math.max(n.line.width,10),r=s.append("g").attr("data-index",a);r.append("path").attr("d",e.attr("d")).style({cursor:"move","stroke-width":t,"stroke-opacity":"0"});var i={"fill-opacity":"0"},o=Math.max(t/2,10);return r.append("circle").attr({"data-line-point":"start-point",cx:R?U(n.xanchor)+n.x0:U(n.x0),cy:I?H(n.yanchor)-n.y0:H(n.y0),r:o}).style(i).classed("cursor-grab",!0),r.append("circle").attr({"data-line-point":"end-point",cx:R?U(n.xanchor)+n.x1:U(n.x1),cy:I?H(n.yanchor)-n.y1:H(n.y1),r:o}).style(i).classed("cursor-grab",!0),r}():e,G={element:Y.node(),gd:t,prepFn:function(r){y(t)||(R&&(x=U(n.xanchor)),I&&(_=H(n.yanchor)),"path"===n.type?P=n.path:(c=R?n.x0:U(n.x0),d=I?n.y0:H(n.y0),v=R?n.x1:U(n.x1),b=I?n.y1:H(n.y1)),c<v?(M=c,O="x0",E=v,L="x1"):(M=v,O="x1",E=c,L="x0"),!I&&d<b||I&&d>b?(A=d,C="y0",T=b,S="y1"):(A=b,C="y1",T=d,S="y0"),q(r),K(s,n),function(t,e,n){var r=e.xref,i=e.yref,a=o.getFromId(n,r),s=o.getFromId(n,i),l="";"paper"===r||a.autorange||(l+=r),"paper"===i||s.autorange||(l+=i),u.setClipUrl(t,l?"clip"+n._fullLayout._uid+l:null,n)}(e,n,t),G.moveFn="move"===D?X:J,G.altKey=r.altKey)},doneFn:function(){y(t)||(h(e),Q(s),w(e,t,n),r.call("_guiRelayout",t,l.getUpdateObj()))},clickFn:function(){y(t)||Q(s)}};function q(n){if(y(t))D=null;else if(z)D="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=G.element.getBoundingClientRect(),i=r.right-r.left,o=r.bottom-r.top,a=n.clientX-r.left,s=n.clientY-r.top,l=!N&&i>10&&o>10&&!n.shiftKey?f.getCursor(a/i,1-s/o):"move";h(e,l),D=l.split("-")[0]}}function X(r,i){if("path"===n.type){var o=function(t){return t},a=o,l=o;R?B("xanchor",n.xanchor=V(x+r)):(a=function(t){return V(U(t)+r)},F&&"date"===F.type&&(a=g.encodeDate(a))),I?B("yanchor",n.yanchor=W(_+i)):(l=function(t){return W(H(t)+i)},$&&"date"===$.type&&(l=g.encodeDate(l))),B("path",n.path=k(P,a,l))}else R?B("xanchor",n.xanchor=V(x+r)):(B("x0",n.x0=V(c+r)),B("x1",n.x1=V(v+r))),I?B("yanchor",n.yanchor=W(_+i)):(B("y0",n.y0=W(d+i)),B("y1",n.y1=W(b+i)));e.attr("d",m(t,n)),K(s,n)}function J(r,i){if(N){var o=function(t){return t},a=o,l=o;R?B("xanchor",n.xanchor=V(x+r)):(a=function(t){return V(U(t)+r)},F&&"date"===F.type&&(a=g.encodeDate(a))),I?B("yanchor",n.yanchor=W(_+i)):(l=function(t){return W(H(t)+i)},$&&"date"===$.type&&(l=g.encodeDate(l))),B("path",n.path=k(P,a,l))}else if(z){if("resize-over-start-point"===D){var u=c+r,f=I?d-i:d+i;B("x0",n.x0=R?u:V(u)),B("y0",n.y0=I?f:W(f))}else if("resize-over-end-point"===D){var h=v+r,p=I?b-i:b+i;B("x1",n.x1=R?h:V(h)),B("y1",n.y1=I?p:W(p))}}else{var y=function(t){return-1!==D.indexOf(t)},w=y("n"),j=y("s"),Z=y("w"),Y=y("e"),G=w?A+i:A,q=j?T+i:T,X=Z?M+r:M,J=Y?E+r:E;I&&(w&&(G=A-i),j&&(q=T-i)),(!I&&q-G>10||I&&G-q>10)&&(B(C,n[C]=I?G:W(G)),B(S,n[S]=I?q:W(q))),J-X>10&&(B(O,n[O]=R?X:V(X)),B(L,n[L]=R?J:V(J)))}e.attr("d",m(t,n)),K(s,n)}function K(t,e){(R||I)&&function(){var n="path"!==e.type,r=t.selectAll(".visual-cue").data([0]);r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var o=U(R?e.xanchor:i.midRange(n?[e.x0,e.x1]:g.extractPathCoords(e.path,p.paramIsX))),a=H(I?e.yanchor:i.midRange(n?[e.y0,e.y1]:g.extractPathCoords(e.path,p.paramIsY)));if(o=g.roundPositionForSharpStrokeRendering(o,1),a=g.roundPositionForSharpStrokeRendering(a,1),R&&I){var s="M"+(o-1-1)+","+(a-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",s)}else if(R){var l="M"+(o-1-1)+","+(a-9-1)+"v18 h2 v-18 Z";r.attr("d",l)}else{var c="M"+(o-9-1)+","+(a-1-1)+"h18 v2 h-18 Z";r.attr("d",c)}}()}function Q(t){t.selectAll(".visual-cue").remove()}f.init(G),Y.node().onmousemove=q}(t,R,l,e,n,D):!0===l.editable&&R.style("pointer-events",L||c.opacity(E)*M<=.5?"stroke":"all");R.node().addEventListener("click",(function(){return function(t,e){if(b(t)){var n=+e.node().getAttribute("data-index");if(n>=0){if(n===t._fullLayout._activeShapeIndex)return void _(t);t._fullLayout._activeShapeIndex=n,t._fullLayout._deactivateShape=_,v(t)}}}(t,R)}))}l._input&&!1!==l.visible&&("below"!==l.layer?A(t._fullLayout._shapeUpperLayer):"paper"===l.xref||"paper"===l.yref?A(t._fullLayout._shapeLowerLayer):x._hadPlotinfo?A((x.mainplotinfo||x).shapelayer):A(t._fullLayout._shapeLowerLayer))}function w(t,e,n){var r=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(t,r?"clip"+e._fullLayout._uid+r:null,e)}function k(t,e,n){return t.replace(p.segmentRE,(function(t){var r=0,i=t.charAt(0),o=p.paramIsX[i],a=p.paramIsY[i],s=p.numParams[i];return i+t.substr(1).replace(p.paramRE,(function(t){return r>=s||(o[r]?t=e(t):a[r]&&(t=n(t)),r++),t}))}))}function _(t){b(t)&&t._fullLayout._activeShapeIndex>=0&&(l(t),delete t._fullLayout._activeShapeIndex,v(t))}e.exports={draw:v,drawOne:x,eraseActiveShape:function(t){if(b(t)){l(t);var e=t._fullLayout._activeShapeIndex,n=(t.layout||{}).shapes||[];if(e<n.length){for(var i=[],o=0;o<n.length;o++)o!==e&&i.push(n[o]);delete t._fullLayout._activeShapeIndex,r.call("_guiRelayout",t,{shapes:i})}}}}},{"../../lib":400,"../../lib/setcursor":421,"../../plot_api/plot_template":439,"../../plots/cartesian/axes":450,"../../registry":490,"../color":257,"../dragelement":276,"../drawing":279,"./constants":349,"./display_outlines":351,"./draw_newshape/helpers":356,"./handle_outline":358,"./helpers":359}],353:[function(t,e,n){"use strict";var r=t("../../drawing/attributes").dash,i=t("../../../lib/extend").extendFlat;e.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:i({},r,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":392,"../../drawing/attributes":278}],354:[function(t,e,n){"use strict";e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],355:[function(t,e,n){"use strict";var r=t("../../color");e.exports=function(t,e,n){if(n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")){var i=(t||{}).plot_bgcolor||"#FFF";n("newshape.line.color",r.contrast(i)),n("newshape.line.dash")}n("activeshape.fillcolor"),n("activeshape.opacity")}},{"../../color":257}],356:[function(t,e,n){"use strict";var r=t("parse-svg-path"),i=t("./constants"),o=i.CIRCLE_SIDES,a=i.SQRT2,s=t("../../selections/helpers"),l=s.p2r,c=s.r2p,u=[0,3,4,5,6,1,2],d=[0,3,4,1,2];function f(t,e){return Math.abs(t-e)<=1e-6}function h(t,e){var n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+r*r)}n.writePaths=function(t){var e=t.length;if(!e)return"M0,0Z";for(var n="",r=0;r<e;r++)for(var i=t[r].length,o=0;o<i;o++){var a=t[r][o][0];if("Z"===a)n+="Z";else for(var s=t[r][o].length,l=0;l<s;l++){var c=l;"Q"===a||"S"===a?c=d[l]:"C"===a&&(c=u[l]),n+=t[r][o][c],l>0&&l<s-1&&(n+=",")}}return n},n.readPaths=function(t,e,n,i){var a,s,u,d=r(t),f=[],h=-1,p=0,g=0,m=function(){s=p,u=g};m();for(var v=0;v<d.length;v++){var y,b,x,w,k=[],_=d[v][0],A=_;switch(_){case"M":f[++h]=[],p=+d[v][1],g=+d[v][2],k.push([A,p,g]),m();break;case"Q":case"S":y=+d[v][1],x=+d[v][2],p=+d[v][3],g=+d[v][4],k.push([A,p,g,y,x]);break;case"C":y=+d[v][1],x=+d[v][2],b=+d[v][3],w=+d[v][4],p=+d[v][5],g=+d[v][6],k.push([A,p,g,y,x,b,w]);break;case"T":case"L":p=+d[v][1],g=+d[v][2],k.push([A,p,g]);break;case"H":A="L",p=+d[v][1],k.push([A,p,g]);break;case"V":A="L",g=+d[v][1],k.push([A,p,g]);break;case"A":A="L";var T=+d[v][1],M=+d[v][2];+d[v][4]||(T=-T,M=-M);var E=p-T,C=g;for(a=1;a<=o/2;a++){var S=2*Math.PI*a/o;k.push([A,E+T*Math.cos(S),C+M*Math.sin(S)])}break;case"Z":p===s&&g===u||(p=s,g=u,k.push([A,p,g]))}for(var O=(n||{}).domain,L=e._fullLayout._size,P=n&&"pixel"===n.xsizemode,D=n&&"pixel"===n.ysizemode,R=!1===i,I=0;I<k.length;I++){for(a=0;a+2<7;a+=2){var z=k[I][a+1],N=k[I][a+2];void 0!==z&&void 0!==N&&(p=z,g=N,n&&(n.xaxis&&n.xaxis.p2r?(R&&(z-=n.xaxis._offset),z=P?c(n.xaxis,n.xanchor)+z:l(n.xaxis,z)):(R&&(z-=L.l),O?z=O.x[0]+z/L.w:z/=L.w),n.yaxis&&n.yaxis.p2r?(R&&(N-=n.yaxis._offset),N=D?c(n.yaxis,n.yanchor)-N:l(n.yaxis,N)):(R&&(N-=L.t),N=O?O.y[1]-N/L.h:1-N/L.h)),k[I][a+1]=z,k[I][a+2]=N)}f[h].push(k[I].slice())}}return f},n.pointsOnRectangle=function(t){if(5!==t.length)return!1;for(var e=1;e<3;e++){if(!f(t[0][e]-t[1][e],t[3][e]-t[2][e]))return!1;if(!f(t[0][e]-t[3][e],t[1][e]-t[2][e]))return!1}return!(!f(t[0][1],t[1][1])&&!f(t[0][1],t[3][1]))&&!!(h(t[0],t[1])*h(t[0],t[3]))},n.pointsOnEllipse=function(t){var e=t.length;if(e!==o+1)return!1;e=o;for(var n=0;n<e;n++){var r=(2*e-n)%e,i=(e/2+r)%e,a=(e/2+n)%e;if(!f(h(t[n],t[a]),h(t[r],t[i])))return!1}return!0},n.handleEllipse=function(t,e,r){if(!t)return[e,r];var i=n.ellipseOver({x0:e[0],y0:e[1],x1:r[0],y1:r[1]}),s=(i.x1+i.x0)/2,l=(i.y1+i.y0)/2,c=(i.x1-i.x0)/2,u=(i.y1-i.y0)/2;c||(c=u/=a),u||(u=c/=a);for(var d=[],f=0;f<o;f++){var h=2*f*Math.PI/o;d.push([s+c*Math.cos(h),l+u*Math.sin(h)])}return d},n.ellipseOver=function(t){var e=t.x0,n=t.y0,r=t.x1,i=t.y1,o=r-e,s=i-n,l=((e-=o)+r)/2,c=((n-=s)+i)/2;return{x0:l-(o*=a),y0:c-(s*=a),x1:l+o,y1:c+s}},n.fixDatesForPaths=function(t,e,n){var r="date"===e.type,i="date"===n.type;if(!r&&!i)return t;for(var o=0;o<t.length;o++)for(var a=0;a<t[o].length;a++)for(var s=0;s+2<t[o][a].length;s+=2)r&&(t[o][a][s+1]=t[o][a][s+1].replace(" ","_")),i&&(t[o][a][s+2]=t[o][a][s+2].replace(" ","_"));return t}},{"../../selections/helpers":344,"./constants":354,"parse-svg-path":179}],357:[function(t,e,n){"use strict";var r=t("../../dragelement/helpers"),i=r.drawMode,o=r.openMode,a=t("./constants"),s=a.i000,l=a.i090,c=a.i180,u=a.i270,d=a.cos45,f=a.sin45,h=t("../../selections/helpers"),p=h.p2r,g=h.r2p,m=t(".././handle_outline").clearOutline,v=t("./helpers"),y=v.readPaths,b=v.writePaths,x=v.ellipseOver,w=v.fixDatesForPaths;e.exports=function(t,e){if(t.length){var n=t[0][0];if(n){var r=n.getAttribute("d"),a=e.gd,h=a._fullLayout.newshape,v=e.plotinfo,k=v.xaxis,_=v.yaxis,A=!!v.domain||!v.xaxis,T=!!v.domain||!v.yaxis,M=e.isActiveShape,E=e.dragmode,C=(a.layout||{}).shapes||[];if(!i(E)&&void 0!==M){var S=a._fullLayout._activeShapeIndex;if(S<C.length)switch(a._fullLayout.shapes[S].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var O=C[S].path||"";E="Z"===O[O.length-1]?"drawclosedpath":"drawopenpath"}}var L,P=o(E),D=y(r,a,v,M),R={editable:!0,xref:A?"paper":k._id,yref:T?"paper":_._id,layer:h.layer,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}};if(P||(R.fillcolor=h.fillcolor,R.fillrule=h.fillrule),1===D.length&&(L=D[0]),L&&5===L.length&&"drawrect"===E)R.type="rect",R.x0=L[0][1],R.y0=L[0][2],R.x1=L[2][1],R.y1=L[2][2];else if(L&&"drawline"===E)R.type="line",R.x0=L[0][1],R.y0=L[0][2],R.x1=L[1][1],R.y1=L[1][2];else if(L&&"drawcircle"===E){R.type="circle";var I=L[s][1],z=L[l][1],N=L[c][1],B=L[u][1],F=L[s][2],j=L[l][2],$=L[c][2],Z=L[u][2],U=v.xaxis&&("date"===v.xaxis.type||"log"===v.xaxis.type),H=v.yaxis&&("date"===v.yaxis.type||"log"===v.yaxis.type);U&&(I=g(v.xaxis,I),z=g(v.xaxis,z),N=g(v.xaxis,N),B=g(v.xaxis,B)),H&&(F=g(v.yaxis,F),j=g(v.yaxis,j),$=g(v.yaxis,$),Z=g(v.yaxis,Z));var V=(z+B)/2,W=(F+$)/2,Y=x({x0:V,y0:W,x1:V+(B-z+N-I)/2*d,y1:W+(Z-j+$-F)/2*f});U&&(Y.x0=p(v.xaxis,Y.x0),Y.x1=p(v.xaxis,Y.x1)),H&&(Y.y0=p(v.yaxis,Y.y0),Y.y1=p(v.yaxis,Y.y1)),R.x0=Y.x0,R.y0=Y.y0,R.x1=Y.x1,R.y1=Y.y1}else R.type="path",k&&_&&w(D,k,_),R.path=b(D),L=null;m(a);for(var G=e.editHelpers,q=(G||{}).modifyItem,X=[],J=0;J<C.length;J++){var K=a._fullLayout.shapes[J];if(X[J]=K._input,void 0!==M&&J===a._fullLayout._activeShapeIndex){var Q=R;switch(K.type){case"line":case"rect":case"circle":q("x0",Q.x0),q("x1",Q.x1),q("y0",Q.y0),q("y1",Q.y1);break;case"path":q("path",Q.path)}}}return void 0===M?(X.push(R),X):G?G.getUpdateObj():{}}}}},{"../../dragelement/helpers":275,"../../selections/helpers":344,".././handle_outline":358,"./constants":354,"./helpers":356}],358:[function(t,e,n){"use strict";e.exports={clearOutlineControllers:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._outlining=!1}}},{}],359:[function(t,e,n){"use strict";var r=t("./constants"),i=t("../../lib"),o=t("../../plots/cartesian/axes");n.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},n.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},n.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},n.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},n.extractPathCoords=function(t,e,n){var o=[];return t.match(r.segmentRE).forEach((function(t){var a=e[t.charAt(0)].drawn;if(void 0!==a){var s=t.substr(1).match(r.paramRE);if(s&&!(s.length<a)){var l=s[a],c=n?l:i.cleanNumber(l);o.push(c)}}})),o},n.getDataToPixel=function(t,e,r,i){var o,a=t._fullLayout._size;if(e)if("domain"===i)o=function(t){return e._length*(r?1-t:t)+e._offset};else{var s=n.shapePositionToRange(e);o=function(t){return e._offset+e.r2p(s(t,!0))},"date"===e.type&&(o=n.decodeDate(o))}else o=r?function(t){return a.t+a.h*(1-t)}:function(t){return a.l+a.w*t};return o},n.getPixelToData=function(t,e,r,i){var o,a=t._fullLayout._size;if(e)if("domain"===i)o=function(t){var n=(t-e._offset)/e._length;return r?1-n:n};else{var s=n.rangeToShapePosition(e);o=function(t){return s(e.p2r(t-e._offset))}}else o=r?function(t){return 1-(t-a.t)/a.h}:function(t){return(t-a.l)/a.w};return o},n.roundPositionForSharpStrokeRendering=function(t,e){var n=1===Math.round(e%2),r=Math.round(t);return n?r+.5:r},n.makeShapesOptionsAndPlotinfo=function(t,e){var n=t._fullLayout.shapes[e]||{},r=t._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=t._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=t._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}},n.makeSelectionsOptionsAndPlotinfo=function(t,e){var n=t._fullLayout.selections[e]||{},r=t._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&(r.xaxis=t._fullLayout[n.xref+"axis"]),n.yref&&(r.yaxis=t._fullLayout[n.yref+"axis"])),{options:n,plotinfo:r}},n.getPathString=function(t,e){var a,s,l,c,u,d,f,h,p=e.type,g=o.getRefType(e.xref),m=o.getRefType(e.yref),v=o.getFromId(t,e.xref),y=o.getFromId(t,e.yref),b=t._fullLayout._size;if(v?"domain"===g?s=function(t){return v._offset+v._length*t}:(a=n.shapePositionToRange(v),s=function(t){return v._offset+v.r2p(a(t,!0))}):s=function(t){return b.l+b.w*t},y?"domain"===m?c=function(t){return y._offset+y._length*(1-t)}:(l=n.shapePositionToRange(y),c=function(t){return y._offset+y.r2p(l(t,!0))}):c=function(t){return b.t+b.h*(1-t)},"path"===p)return v&&"date"===v.type&&(s=n.decodeDate(s)),y&&"date"===y.type&&(c=n.decodeDate(c)),function(t,e,n){var o=t.path,a=t.xsizemode,s=t.ysizemode,l=t.xanchor,c=t.yanchor;return o.replace(r.segmentRE,(function(t){var o=0,u=t.charAt(0),d=r.paramIsX[u],f=r.paramIsY[u],h=r.numParams[u],p=t.substr(1).replace(r.paramRE,(function(t){return d[o]?t="pixel"===a?e(l)+Number(t):e(t):f[o]&&(t="pixel"===s?n(c)-Number(t):n(t)),++o>h&&(t="X"),t}));return o>h&&(p=p.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+t)),u+p}))}(e,s,c);if("pixel"===e.xsizemode){var x=s(e.xanchor);u=x+e.x0,d=x+e.x1}else u=s(e.x0),d=s(e.x1);if("pixel"===e.ysizemode){var w=c(e.yanchor);f=w-e.y0,h=w-e.y1}else f=c(e.y0),h=c(e.y1);if("line"===p)return"M"+u+","+f+"L"+d+","+h;if("rect"===p)return"M"+u+","+f+"H"+d+"V"+h+"H"+u+"Z";var k=(u+d)/2,_=(f+h)/2,A=Math.abs(k-u),T=Math.abs(_-f),M="A"+A+","+T,E=k+A+","+_;return"M"+E+M+" 0 1,1 "+k+","+(_-T)+M+" 0 0,1 "+E+"Z"}},{"../../lib":400,"../../plots/cartesian/axes":450,"./constants":349}],360:[function(t,e,n){"use strict";var r=t("./draw");e.exports={moduleType:"component",name:"shapes",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),supplyDrawNewShapeDefaults:t("./draw_newshape/defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("shapes"),calcAutorange:t("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":461,"./attributes":347,"./calc_autorange":348,"./defaults":350,"./draw":352,"./draw_newshape/defaults":355}],361:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../../plots/pad_attributes"),o=t("../../lib/extend").extendDeepAll,a=t("../../plot_api/edit_types").overrideAll,s=t("../../plots/animation_attributes"),l=t("../../plot_api/plot_template").templatedArray,c=t("./constants"),u=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});e.exports=a(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:u,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(i({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:c.gripBgActiveColor},bgcolor:{valType:"color",dflt:c.railBgColor},bordercolor:{valType:"color",dflt:c.railBorderColor},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth},ticklen:{valType:"number",min:0,dflt:c.tickLength},tickcolor:{valType:"color",dflt:c.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":392,"../../plot_api/edit_types":432,"../../plot_api/plot_template":439,"../../plots/animation_attributes":444,"../../plots/font_attributes":478,"../../plots/pad_attributes":487,"./constants":362}],362:[function(t,e,n){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],363:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/array_container_defaults"),o=t("./attributes"),a=t("./constants").name,s=o.steps;function l(t,e,n){function a(n,i){return r.coerce(t,e,o,n,i)}for(var s=i(t,e,{name:"steps",handleItemDefaults:c}),l=0,u=0;u<s.length;u++)s[u].visible&&l++;if(l<2?e.visible=!1:a("visible")){e._stepCount=l;var d=e._visibleSteps=r.filterVisible(s);(s[a("active")]||{}).visible||(e.active=d[0]._index),a("x"),a("y"),r.noneOrAll(t,e,["x","y"]),a("xanchor"),a("yanchor"),a("len"),a("lenmode"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("currentvalue.visible")&&(a("currentvalue.xanchor"),a("currentvalue.prefix"),a("currentvalue.suffix"),a("currentvalue.offset"),r.coerceFont(a,"currentvalue.font",e.font)),a("transition.duration"),a("transition.easing"),a("bgcolor"),a("activebgcolor"),a("bordercolor"),a("borderwidth"),a("ticklen"),a("tickwidth"),a("tickcolor"),a("minorticklen")}}function c(t,e){function n(n,i){return r.coerce(t,e,s,n,i)}if("skip"===t.method||Array.isArray(t.args)?n("visible"):e.visible=!1){n("method"),n("args");var i=n("label","step-"+e._index);n("value",i),n("execute")}}e.exports=function(t,e){i(t,e,{name:a,handleItemDefaults:l})}},{"../../lib":400,"../../plots/array_container_defaults":445,"./attributes":361,"./constants":362}],364:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../plots/plots"),o=t("../color"),a=t("../drawing"),s=t("../../lib"),l=s.strTranslate,c=t("../../lib/svg_text_utils"),u=t("../../plot_api/plot_template").arrayEditor,d=t("./constants"),f=t("../../constants/alignment"),h=f.LINE_SPACING,p=f.FROM_TL,g=f.FROM_BR;function m(t){return d.autoMarginIdRoot+t._index}function v(t){return t._index}function y(t,e){var n=a.tester.selectAll("g."+d.labelGroupClass).data(e._visibleSteps);n.enter().append("g").classed(d.labelGroupClass,!0);var o=0,l=0;n.each((function(t){var n=w(r.select(this),{step:t},e).node();if(n){var i=a.bBox(n);l=Math.max(l,i.height),o=Math.max(o,i.width)}})),n.remove();var u=e._dims={};u.inputAreaWidth=Math.max(d.railWidth,d.gripHeight);var f=t._fullLayout._size;u.lx=f.l+f.w*e.x,u.ly=f.t+f.h*(1-e.y),"fraction"===e.lenmode?u.outerLength=Math.round(f.w*e.len):u.outerLength=e.len,u.inputAreaStart=0,u.inputAreaLength=Math.round(u.outerLength-e.pad.l-e.pad.r);var h=(u.inputAreaLength-2*d.stepInset)/(e._stepCount-1),v=o+d.labelPadding;if(u.labelStride=Math.max(1,Math.ceil(v/h)),u.labelHeight=l,u.currentValueMaxWidth=0,u.currentValueHeight=0,u.currentValueTotalHeight=0,u.currentValueMaxLines=1,e.currentvalue.visible){var y=a.tester.append("g");n.each((function(t){var n=b(y,e,t.label),r=n.node()&&a.bBox(n.node())||{width:0,height:0},i=c.lineCount(n);u.currentValueMaxWidth=Math.max(u.currentValueMaxWidth,Math.ceil(r.width)),u.currentValueHeight=Math.max(u.currentValueHeight,Math.ceil(r.height)),u.currentValueMaxLines=Math.max(u.currentValueMaxLines,i)})),u.currentValueTotalHeight=u.currentValueHeight+e.currentvalue.offset,y.remove()}u.height=u.currentValueTotalHeight+d.tickOffset+e.ticklen+d.labelOffset+u.labelHeight+e.pad.t+e.pad.b;var x="left";s.isRightAnchor(e)&&(u.lx-=u.outerLength,x="right"),s.isCenterAnchor(e)&&(u.lx-=u.outerLength/2,x="center");var k="top";s.isBottomAnchor(e)&&(u.ly-=u.height,k="bottom"),s.isMiddleAnchor(e)&&(u.ly-=u.height/2,k="middle"),u.outerLength=Math.ceil(u.outerLength),u.height=Math.ceil(u.height),u.lx=Math.round(u.lx),u.ly=Math.round(u.ly);var _={y:e.y,b:u.height*g[k],t:u.height*p[k]};"fraction"===e.lenmode?(_.l=0,_.xl=e.x-e.len*p[x],_.r=0,_.xr=e.x+e.len*g[x]):(_.x=e.x,_.l=u.outerLength*p[x],_.r=u.outerLength*g[x]),i.autoMargin(t,m(e),_)}function b(t,e,n){if(e.currentvalue.visible){var r,i,o=e._dims;switch(e.currentvalue.xanchor){case"right":r=o.inputAreaLength-d.currentValueInset-o.currentValueMaxWidth,i="left";break;case"center":r=.5*o.inputAreaLength,i="middle";break;default:r=d.currentValueInset,i="left"}var l=s.ensureSingle(t,"text",d.labelClass,(function(t){t.attr({"text-anchor":i,"data-notex":1})})),u=e.currentvalue.prefix?e.currentvalue.prefix:"";if("string"==typeof n)u+=n;else{var f=e.steps[e.active].label,p=e._gd._fullLayout._meta;p&&(f=s.templateString(f,p)),u+=f}e.currentvalue.suffix&&(u+=e.currentvalue.suffix),l.call(a.font,e.currentvalue.font).text(u).call(c.convertToTspans,e._gd);var g=c.lineCount(l),m=(o.currentValueMaxLines+1-g)*e.currentvalue.font.size*h;return c.positionText(l,r,m),l}}function x(t,e,n){s.ensureSingle(t,"rect",d.gripRectClass,(function(r){r.call(T,e,t,n).style("pointer-events","all")})).attr({width:d.gripWidth,height:d.gripHeight,rx:d.gripRadius,ry:d.gripRadius}).call(o.stroke,n.bordercolor).call(o.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function w(t,e,n){var r=s.ensureSingle(t,"text",d.labelClass,(function(t){t.attr({"text-anchor":"middle","data-notex":1})})),i=e.step.label,o=n._gd._fullLayout._meta;return o&&(i=s.templateString(i,o)),r.call(a.font,n.font).text(i).call(c.convertToTspans,n._gd),r}function k(t,e){var n=s.ensureSingle(t,"g",d.labelsClass),i=e._dims,o=n.selectAll("g."+d.labelGroupClass).data(i.labelSteps);o.enter().append("g").classed(d.labelGroupClass,!0),o.exit().remove(),o.each((function(t){var n=r.select(this);n.call(w,t,e),a.setTranslate(n,C(e,t.fraction),d.tickOffset+e.ticklen+e.font.size*h+d.labelOffset+i.currentValueTotalHeight)}))}function _(t,e,n,r,i){var o=Math.round(r*(n._stepCount-1)),a=n._visibleSteps[o]._index;a!==n.active&&A(t,e,n,a,!0,i)}function A(t,e,n,r,o,a){var s=n.active;n.active=r,u(t.layout,d.name,n).applyUpdate("active",r);var l=n.steps[n.active];e.call(E,n,a),e.call(b,n),t.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:o,previousActive:s}),l&&l.method&&o&&(e._nextMethod?(e._nextMethod.step=l,e._nextMethod.doCallback=o,e._nextMethod.doTransition=a):(e._nextMethod={step:l,doCallback:o,doTransition:a},e._nextMethodRaf=window.requestAnimationFrame((function(){var n=e._nextMethod.step;n.method&&(n.execute&&i.executeAPICommand(t,n.method,n.args),e._nextMethod=null,e._nextMethodRaf=null)}))))}function T(t,e,n){var i=n.node(),a=r.select(e);function s(){return n.data()[0]}function l(){var t=s();e.emit("plotly_sliderstart",{slider:t});var l=n.select("."+d.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),l.call(o.fill,t.activebgcolor);var c=S(t,r.mouse(i)[0]);function u(){var t=s(),o=S(t,r.mouse(i)[0]);_(e,n,t,o,!1)}function f(){var t=s();t._dragging=!1,l.call(o.fill,t.bgcolor),a.on("mouseup",null),a.on("mousemove",null),a.on("touchend",null),a.on("touchmove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})}_(e,n,t,c,!0),t._dragging=!0,a.on("mousemove",u),a.on("touchmove",u),a.on("mouseup",f),a.on("touchend",f)}t.on("mousedown",l),t.on("touchstart",l)}function M(t,e){var n=t.selectAll("rect."+d.tickRectClass).data(e._visibleSteps),i=e._dims;n.enter().append("rect").classed(d.tickRectClass,!0),n.exit().remove(),n.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),n.each((function(t,n){var s=n%i.labelStride==0,l=r.select(this);l.attr({height:s?e.ticklen:e.minorticklen}).call(o.fill,e.tickcolor),a.setTranslate(l,C(e,n/(e._stepCount-1))-.5*e.tickwidth,(s?d.tickOffset:d.minorTickOffset)+i.currentValueTotalHeight)}))}function E(t,e,n){for(var r=t.select("rect."+d.gripRectClass),i=0,o=0;o<e._stepCount;o++)if(e._visibleSteps[o]._index===e.active){i=o;break}var a=C(e,i/(e._stepCount-1));if(!e._invokingCommand){var s=r;n&&e.transition.duration>0&&(s=s.transition().duration(e.transition.duration).ease(e.transition.easing)),s.attr("transform",l(a-.5*d.gripWidth,e._dims.currentValueTotalHeight))}}function C(t,e){var n=t._dims;return n.inputAreaStart+d.stepInset+(n.inputAreaLength-2*d.stepInset)*Math.min(1,Math.max(0,e))}function S(t,e){var n=t._dims;return Math.min(1,Math.max(0,(e-d.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*d.stepInset-2*n.inputAreaStart)))}function O(t,e,n){var r=n._dims,i=s.ensureSingle(t,"rect",d.railTouchRectClass,(function(r){r.call(T,e,t,n).style("pointer-events","all")}));i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,d.tickOffset+n.ticklen+r.labelHeight)}).call(o.fill,n.bgcolor).attr("opacity",0),a.setTranslate(i,0,r.currentValueTotalHeight)}function L(t,e){var n=e._dims,r=n.inputAreaLength-2*d.railInset,i=s.ensureSingle(t,"rect",d.railRectClass);i.attr({width:r,height:d.railWidth,rx:d.railRadius,ry:d.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),a.setTranslate(i,d.railInset,.5*(n.inputAreaWidth-d.railWidth)+n.currentValueTotalHeight)}e.exports=function(t){var e=t._fullLayout,n=function(t,e){for(var n=t[d.name],r=[],i=0;i<n.length;i++){var o=n[i];o.visible&&(o._gd=e,r.push(o))}return r}(e,t),o=e._infolayer.selectAll("g."+d.containerClassName).data(n.length>0?[0]:[]);function s(e){e._commandObserver&&(e._commandObserver.remove(),delete e._commandObserver),i.autoMargin(t,m(e))}if(o.enter().append("g").classed(d.containerClassName,!0).style("cursor","ew-resize"),o.exit().each((function(){r.select(this).selectAll("g."+d.groupClassName).each(s)})).remove(),0!==n.length){var l=o.selectAll("g."+d.groupClassName).data(n,v);l.enter().append("g").classed(d.groupClassName,!0),l.exit().each(s).remove();for(var c=0;c<n.length;c++){var u=n[c];y(t,u)}l.each((function(e){var n=r.select(this);!function(t){var e=t._dims;e.labelSteps=[];for(var n=t._stepCount,r=0;r<n;r+=e.labelStride)e.labelSteps.push({fraction:r/(n-1),step:t._visibleSteps[r]})}(e),i.manageCommandObserver(t,e,e._visibleSteps,(function(e){var r=n.data()[0];r.active!==e.index&&(r._dragging||A(t,n,r,e.index,!1,!0))})),function(t,e,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),e.call(b,n).call(L,n).call(k,n).call(M,n).call(O,t,n).call(x,t,n);var r=n._dims;a.setTranslate(e,r.lx+n.pad.l,r.ly+n.pad.t),e.call(E,n,!1),e.call(b,n)}(t,r.select(this),e)}))}}},{"../../constants/alignment":373,"../../lib":400,"../../lib/svg_text_utils":426,"../../plot_api/plot_template":439,"../../plots/plots":488,"../color":257,"../drawing":279,"./constants":362,"@plotly/d3":14}],365:[function(t,e,n){"use strict";var r=t("./constants");e.exports={moduleType:"component",name:r.name,layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":361,"./constants":362,"./defaults":363,"./draw":364}],366:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("fast-isnumeric"),o=t("../../plots/plots"),a=t("../../registry"),s=t("../../lib"),l=s.strTranslate,c=t("../drawing"),u=t("../color"),d=t("../../lib/svg_text_utils"),f=t("../../constants/interactions"),h=t("../../constants/alignment").OPPOSITE_SIDE,p=/ [XY][0-9]* /;e.exports={draw:function(t,e,n){var g,m=n.propContainer,v=n.propName,y=n.placeholder,b=n.traceIndex,x=n.avoid||{},w=n.attributes,k=n.transform,_=n.containerGroup,A=t._fullLayout,T=1,M=!1,E=m.title,C=(E&&E.text?E.text:"").trim(),S=E&&E.font?E.font:{},O=S.family,L=S.size,P=S.color;"title.text"===v?g="titleText":-1!==v.indexOf("axis")?g="axisTitleText":v.indexOf(!0)&&(g="colorbarTitleText");var D=t._context.edits[g];""===C?T=0:C.replace(p," % ")===y.replace(p," % ")&&(T=.2,M=!0,D||(C="")),n._meta?C=s.templateString(C,n._meta):A._meta&&(C=s.templateString(C,A._meta));var R,I=C||D;_||(_=s.ensureSingle(A._infolayer,"g","g-"+e),R=A._hColorbarMoveTitle);var z=_.selectAll("text").data(I?[0]:[]);if(z.enter().append("text"),z.text(C).attr("class",e),z.exit().remove(),!I)return _;function N(t){s.syncOrAsync([B,F],t)}function B(e){var n;return!k&&R&&(k={}),k?(n="",k.rotate&&(n+="rotate("+[k.rotate,w.x,w.y]+")"),(k.offset||R)&&(n+=l(0,(k.offset||0)-(R||0)))):n=null,e.attr("transform",n),e.style({"font-family":O,"font-size":r.round(L,2)+"px",fill:u.rgb(P),opacity:T*u.opacity(P),"font-weight":o.fontWeight}).attr(w).call(d.convertToTspans,t),o.previousPromises(t)}function F(t){var e=r.select(t.node().parentNode);if(x&&x.selection&&x.side&&C){e.attr("transform",null);var n=h[x.side],o="left"===x.side||"top"===x.side?-1:1,a=i(x.pad)?x.pad:2,u=c.bBox(e.node()),d={left:0,top:0,right:A.width,bottom:A.height},f=x.maxShift||o*(d[x.side]-u[x.side]),p=0;if(f<0)p=f;else{var g=x.offsetLeft||0,m=x.offsetTop||0;u.left-=g,u.right-=g,u.top-=m,u.bottom-=m,x.selection.each((function(){var t=c.bBox(this);s.bBoxIntersect(u,t,a)&&(p=Math.max(p,o*(t[x.side]-u[n])+a))})),p=Math.min(f,p)}if(p>0||f<0){var v={left:[-p,0],right:[p,0],top:[0,-p],bottom:[0,p]}[x.side];e.attr("transform",l(v[0],v[1]))}}}return z.call(N),D&&(C?z.on(".opacity",null):(T=0,M=!0,z.text(y).on("mouseover.opacity",(function(){r.select(this).transition().duration(f.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(f.HIDE_PLACEHOLDER).style("opacity",0)}))),z.call(d.makeEditable,{gd:t}).on("edit",(function(e){void 0!==b?a.call("_guiRestyle",t,v,e,b):a.call("_guiRelayout",t,v,e)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(N)})).on("input",(function(t){this.text(t||" ").call(d.positionText,w.x,w.y)}))),z.classed("js-placeholder",M),_}}},{"../../constants/alignment":373,"../../constants/interactions":377,"../../lib":400,"../../lib/svg_text_utils":426,"../../plots/plots":488,"../../registry":490,"../color":257,"../drawing":279,"@plotly/d3":14,"fast-isnumeric":121}],367:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../color/attributes"),o=t("../../lib/extend").extendFlat,a=t("../../plot_api/edit_types").overrideAll,s=t("../../plots/pad_attributes"),l=t("../../plot_api/plot_template").templatedArray,c=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});e.exports=a(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(s({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:i.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":392,"../../plot_api/edit_types":432,"../../plot_api/plot_template":439,"../../plots/font_attributes":478,"../../plots/pad_attributes":487,"../color/attributes":256}],368:[function(t,e,n){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],369:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/array_container_defaults"),o=t("./attributes"),a=t("./constants").name,s=o.buttons;function l(t,e,n){function a(n,i){return r.coerce(t,e,o,n,i)}a("visible",i(t,e,{name:"buttons",handleItemDefaults:c}).length>0)&&(a("active"),a("direction"),a("type"),a("showactive"),a("x"),a("y"),r.noneOrAll(t,e,["x","y"]),a("xanchor"),a("yanchor"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("bgcolor",n.paper_bgcolor),a("bordercolor"),a("borderwidth"))}function c(t,e){function n(n,i){return r.coerce(t,e,s,n,i)}n("visible","skip"===t.method||Array.isArray(t.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}e.exports=function(t,e){i(t,e,{name:a,handleItemDefaults:l})}},{"../../lib":400,"../../plots/array_container_defaults":445,"./attributes":367,"./constants":368}],370:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../plots/plots"),o=t("../color"),a=t("../drawing"),s=t("../../lib"),l=t("../../lib/svg_text_utils"),c=t("../../plot_api/plot_template").arrayEditor,u=t("../../constants/alignment").LINE_SPACING,d=t("./constants"),f=t("./scrollbox");function h(t){return t._index}function p(t,e){return+t.attr(d.menuIndexAttrName)===e._index}function g(t,e,n,r,i,o,a,s){e.active=a,c(t.layout,d.name,e).applyUpdate("active",a),"buttons"===e.type?v(t,r,null,null,e):"dropdown"===e.type&&(i.attr(d.menuIndexAttrName,"-1"),m(t,r,i,o,e),s||v(t,r,i,o,e))}function m(t,e,n,r,i){var o=s.ensureSingle(e,"g",d.headerClassName,(function(t){t.style("pointer-events","all")})),l=i._dims,c=i.active,u=i.buttons[c]||d.blankHeaderOpts,f={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},h={width:l.headerWidth,height:l.headerHeight};o.call(y,i,u,t).call(M,i,f,h),s.ensureSingle(e,"text",d.headerArrowClassName,(function(t){t.attr("text-anchor","end").call(a.font,i.font).text(d.arrowSymbol[i.direction])})).attr({x:l.headerWidth-d.arrowOffsetX+i.pad.l,y:l.headerHeight/2+d.textOffsetY+i.pad.t}),o.on("click",(function(){n.call(E,String(p(n,i)?-1:i._index)),v(t,e,n,r,i)})),o.on("mouseover",(function(){o.call(k)})),o.on("mouseout",(function(){o.call(_,i)})),a.setTranslate(e,l.lx,l.ly)}function v(t,e,n,o,a){n||(n=e).attr("pointer-events","all");var l=function(t){return-1==+t.attr(d.menuIndexAttrName)}(n)&&"buttons"!==a.type?[]:a.buttons,c="dropdown"===a.type?d.dropdownButtonClassName:d.buttonClassName,u=n.selectAll("g."+c).data(s.filterVisible(l)),f=u.enter().append("g").classed(c,!0),h=u.exit();"dropdown"===a.type?(f.attr("opacity","0").transition().attr("opacity","1"),h.transition().attr("opacity","0").remove()):h.remove();var p=0,m=0,v=a._dims,b=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(b?m=v.headerHeight+d.gapButtonHeader:p=v.headerWidth+d.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(m=-d.gapButtonHeader+d.gapButton-v.openHeight),"dropdown"===a.type&&"left"===a.direction&&(p=-d.gapButtonHeader+d.gapButton-v.openWidth);var x={x:v.lx+p+a.pad.l,y:v.ly+m+a.pad.t,yPad:d.gapButton,xPad:d.gapButton,index:0},A={l:x.x+a.borderwidth,t:x.y+a.borderwidth};u.each((function(s,l){var c=r.select(this);c.call(y,a,s,t).call(M,a,x),c.on("click",(function(){r.event.defaultPrevented||(s.execute&&(s.args2&&a.active===l?(g(t,a,0,e,n,o,-1),i.executeAPICommand(t,s.method,s.args2)):(g(t,a,0,e,n,o,l),i.executeAPICommand(t,s.method,s.args))),t.emit("plotly_buttonclicked",{menu:a,button:s,active:a.active}))})),c.on("mouseover",(function(){c.call(k)})),c.on("mouseout",(function(){c.call(_,a),u.call(w,a)}))})),u.call(w,a),b?(A.w=Math.max(v.openWidth,v.headerWidth),A.h=x.y-A.t):(A.w=x.x-A.l,A.h=Math.max(v.openHeight,v.headerHeight)),A.direction=a.direction,o&&(u.size()?function(t,e,n,r,i,o){var a,s,l,c=i.direction,u="up"===c||"down"===c,f=i._dims,h=i.active;if(u)for(s=0,l=0;l<h;l++)s+=f.heights[l]+d.gapButton;else for(a=0,l=0;l<h;l++)a+=f.widths[l]+d.gapButton;r.enable(o,a,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,o,a,A):function(t){var e=!!t.hbar,n=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",(function(){e=!1,n||t.disable()})),n&&t.vbar.transition().attr("opacity","0").each("end",(function(){n=!1,e||t.disable()}))}(o))}function y(t,e,n,r){t.call(b,e).call(x,e,n,r)}function b(t,e){s.ensureSingle(t,"rect",d.itemRectClassName,(function(t){t.attr({rx:d.rx,ry:d.ry,"shape-rendering":"crispEdges"})})).call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function x(t,e,n,r){var i=s.ensureSingle(t,"text",d.itemTextClassName,(function(t){t.attr({"text-anchor":"start","data-notex":1})})),o=n.label,c=r._fullLayout._meta;c&&(o=s.templateString(o,c)),i.call(a.font,e.font).text(o).call(l.convertToTspans,r)}function w(t,e){var n=e.active;t.each((function(t,i){var a=r.select(this);i===n&&e.showactive&&a.select("rect."+d.itemRectClassName).call(o.fill,d.activeColor)}))}function k(t){t.select("rect."+d.itemRectClassName).call(o.fill,d.hoverColor)}function _(t,e){t.select("rect."+d.itemRectClassName).call(o.fill,e.bgcolor)}function A(t,e){var n=e._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},o=a.tester.selectAll("g."+d.dropdownButtonClassName).data(s.filterVisible(e.buttons));o.enter().append("g").classed(d.dropdownButtonClassName,!0);var c=-1!==["up","down"].indexOf(e.direction);o.each((function(i,o){var s=r.select(this);s.call(y,e,i,t);var f=s.select("."+d.itemTextClassName),h=f.node()&&a.bBox(f.node()).width,p=Math.max(h+d.textPadX,d.minWidth),g=e.font.size*u,m=l.lineCount(f),v=Math.max(g*m,d.minHeight)+d.textOffsetY;v=Math.ceil(v),p=Math.ceil(p),n.widths[o]=p,n.heights[o]=v,n.height1=Math.max(n.height1,v),n.width1=Math.max(n.width1,p),c?(n.totalWidth=Math.max(n.totalWidth,p),n.openWidth=n.totalWidth,n.totalHeight+=v+d.gapButton,n.openHeight+=v+d.gapButton):(n.totalWidth+=p+d.gapButton,n.openWidth+=p+d.gapButton,n.totalHeight=Math.max(n.totalHeight,v),n.openHeight=n.totalHeight)})),c?n.totalHeight-=d.gapButton:n.totalWidth-=d.gapButton,n.headerWidth=n.width1+d.arrowPadX,n.headerHeight=n.height1,"dropdown"===e.type&&(c?(n.width1+=d.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=d.arrowPadX),o.remove();var f=n.totalWidth+e.pad.l+e.pad.r,h=n.totalHeight+e.pad.t+e.pad.b,p=t._fullLayout._size;n.lx=p.l+p.w*e.x,n.ly=p.t+p.h*(1-e.y);var g="left";s.isRightAnchor(e)&&(n.lx-=f,g="right"),s.isCenterAnchor(e)&&(n.lx-=f/2,g="center");var m="top";s.isBottomAnchor(e)&&(n.ly-=h,m="bottom"),s.isMiddleAnchor(e)&&(n.ly-=h/2,m="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),i.autoMargin(t,T(e),{x:e.x,y:e.y,l:f*({right:1,center:.5}[g]||0),r:f*({left:1,center:.5}[g]||0),b:h*({top:1,middle:.5}[m]||0),t:h*({bottom:1,middle:.5}[m]||0)})}function T(t){return d.autoMarginIdRoot+t._index}function M(t,e,n,r){r=r||{};var i=t.select("."+d.itemRectClassName),o=t.select("."+d.itemTextClassName),s=e.borderwidth,c=n.index,f=e._dims;a.setTranslate(t,s+n.x,s+n.y);var h=-1!==["up","down"].indexOf(e.direction),p=r.height||(h?f.heights[c]:f.height1);i.attr({x:0,y:0,width:r.width||(h?f.width1:f.widths[c]),height:p});var g=e.font.size*u,m=(l.lineCount(o)-1)*g/2;l.positionText(o,d.textOffsetX,p/2-m+d.textOffsetY),h?n.y+=f.heights[c]+n.yPad:n.x+=f.widths[c]+n.xPad,n.index++}function E(t,e){t.attr(d.menuIndexAttrName,e||"-1").selectAll("g."+d.dropdownButtonClassName).remove()}e.exports=function(t){var e=t._fullLayout,n=s.filterVisible(e[d.name]);function o(e){i.autoMargin(t,T(e))}var a=e._menulayer.selectAll("g."+d.containerClassName).data(n.length>0?[0]:[]);if(a.enter().append("g").classed(d.containerClassName,!0).style("cursor","pointer"),a.exit().each((function(){r.select(this).selectAll("g."+d.headerGroupClassName).each(o)})).remove(),0!==n.length){var l=a.selectAll("g."+d.headerGroupClassName).data(n,h);l.enter().append("g").classed(d.headerGroupClassName,!0);for(var c=s.ensureSingle(a,"g",d.dropdownButtonGroupClassName,(function(t){t.style("pointer-events","all")})),u=0;u<n.length;u++){var y=n[u];A(t,y)}var b="updatemenus"+e._uid,x=new f(t,c,b);l.enter().size()&&(c.node().parentNode.appendChild(c.node()),c.call(E)),l.exit().each((function(t){c.call(E),o(t)})).remove(),l.each((function(e){var n=r.select(this),o="dropdown"===e.type?c:null;i.manageCommandObserver(t,e,e.buttons,(function(r){g(t,e,e.buttons[r.index],n,o,x,r.index,!0)})),"dropdown"===e.type?(m(t,n,c,x,e),p(c,e)&&v(t,n,c,x,e)):v(t,n,null,null,e)}))}}},{"../../constants/alignment":373,"../../lib":400,"../../lib/svg_text_utils":426,"../../plot_api/plot_template":439,"../../plots/plots":488,"../color":257,"../drawing":279,"./constants":368,"./scrollbox":372,"@plotly/d3":14}],371:[function(t,e,n){arguments[4][365][0].apply(n,arguments)},{"./attributes":367,"./constants":368,"./defaults":369,"./draw":370,dup:365}],372:[function(t,e,n){"use strict";e.exports=s;var r=t("@plotly/d3"),i=t("../color"),o=t("../drawing"),a=t("../../lib");function s(t,e,n){this.gd=t,this.container=e,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(t,e,n){var a=this.gd._fullLayout,l=a.width,c=a.height;this.position=t;var u,d,f,h,p=this.position.l,g=this.position.w,m=this.position.t,v=this.position.h,y=this.position.direction,b="down"===y,x="left"===y,w="up"===y,k=g,_=v;b||x||"right"===y||w||(this.position.direction="down",b=!0),b||w?(d=(u=p)+k,b?(f=m,_=(h=Math.min(f+_,c))-f):_=(h=m+_)-(f=Math.max(h-_,0))):(h=(f=m)+_,x?k=(d=p+k)-(u=Math.max(d-k,0)):(u=p,k=(d=Math.min(u+k,l))-u)),this._box={l:u,t:f,w:k,h:_};var A=g>k,T=s.barLength+2*s.barPad,M=s.barWidth+2*s.barPad,E=p,C=m+v;C+M>c&&(C=c-M);var S=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);S.exit().on(".drag",null).remove(),S.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,s.barColor),A?(this.hbar=S.attr({rx:s.barRadius,ry:s.barRadius,x:E,y:C,width:T,height:M}),this._hbarXMin=E+T/2,this._hbarTranslateMax=k-T):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=v>_,L=s.barWidth+2*s.barPad,P=s.barLength+2*s.barPad,D=p+g,R=m;D+L>l&&(D=l-L);var I=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);I.exit().on(".drag",null).remove(),I.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,s.barColor),O?(this.vbar=I.attr({rx:s.barRadius,ry:s.barRadius,x:D,y:R,width:L,height:P}),this._vbarYMin=R+P/2,this._vbarTranslateMax=_-P):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var z=this.id,N=u-.5,B=O?d+L+.5:d+.5,F=f-.5,j=A?h+M+.5:h+.5,$=a._topdefs.selectAll("#"+z).data(A||O?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",z).append("rect"),A||O?(this._clipRect=$.select("rect").attr({x:Math.floor(N),y:Math.floor(F),width:Math.ceil(B)-Math.floor(N),height:Math.ceil(j)-Math.floor(F)}),this.container.call(o.setClipUrl,z,this.gd),this.bg.attr({x:p,y:m,width:g,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),A||O){var Z=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Z);var U=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(U),O&&this.vbar.on(".drag",null).call(U)}this.setTranslate(e,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=r.event.dx),this.vbar&&(e-=r.event.dy),this.setTranslate(t,e)},s.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=r.event.deltaY),this.vbar&&(e+=r.event.deltaY),this.setTranslate(t,e)},s.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var n=t+this._hbarXMin,i=n+this._hbarTranslateMax;t=(a.constrain(r.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var o=e+this._vbarYMin,s=o+this._vbarTranslateMax;e=(a.constrain(r.event.y,o,s)-o)/(s-o)*(this.position.h-this._box.h)}this.setTranslate(t,e)},s.prototype.setTranslate=function(t,e){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(t=a.constrain(t||0,0,n),e=a.constrain(e||0,0,r),this.translateX=t,this.translateY=e,this.container.call(o.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var i=t/n;this.hbar.call(o.setTranslate,t+i*this._hbarTranslateMax,e)}if(this.vbar){var s=e/r;this.vbar.call(o.setTranslate,t,e+s*this._vbarTranslateMax)}}},{"../../lib":400,"../color":257,"../drawing":279,"@plotly/d3":14}],373:[function(t,e,n){"use strict";e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],374:[function(t,e,n){"use strict";e.exports={axisRefDescription:function(t,e,n){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+n+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",e,"and the",n,"of the domain of the","second",t,"axis."].join(" ")}}},{}],375:[function(t,e,n){"use strict";e.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],376:[function(t,e,n){"use strict";e.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],377:[function(t,e,n){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],378:[function(t,e,n){"use strict";e.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],379:[function(t,e,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],380:[function(t,e,n){"use strict";n.version=t("./version").version,t("native-promise-only"),t("../build/plotcss");for(var r=t("./registry"),i=n.register=r.register,o=t("./plot_api"),a=Object.keys(o),s=0;s<a.length;s++){var l=a[s];"_"!==l.charAt(0)&&(n[l]=o[l]),i({moduleType:"apiMethod",name:l,fn:o[l]})}i(t("./traces/scatter")),i([t("./components/legend"),t("./components/fx"),t("./components/annotations"),t("./components/annotations3d"),t("./components/selections"),t("./components/shapes"),t("./components/images"),t("./components/updatemenus"),t("./components/sliders"),t("./components/rangeslider"),t("./components/rangeselector"),t("./components/grid"),t("./components/errorbars"),t("./components/colorscale"),t("./components/colorbar"),t("./components/modebar")]),i([t("./locale-en"),t("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),n.Icons=t("./fonts/ploticon");var c=t("./components/fx"),u=t("./plots/plots");n.Plots={resize:u.resize,graphJson:u.graphJson,sendDataToCloud:u.sendDataToCloud},n.Fx={hover:c.hover,unhover:c.unhover,loneHover:c.loneHover,loneUnhover:c.loneUnhover},n.Snapshot=t("./snapshot"),n.PlotSchema=t("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":248,"./components/annotations3d":253,"./components/colorbar":263,"./components/colorscale":269,"./components/errorbars":285,"./components/fx":297,"./components/grid":301,"./components/images":306,"./components/legend":314,"./components/modebar":320,"./components/rangeselector":328,"./components/rangeslider":335,"./components/selections":345,"./components/shapes":360,"./components/sliders":365,"./components/updatemenus":371,"./fonts/ploticon":381,"./locale-en":430,"./locale-en-us":429,"./plot_api":434,"./plot_api/plot_schema":438,"./plots/plots":488,"./registry":490,"./snapshot":495,"./traces/scatter":551,"./version":599,"native-promise-only":174}],381:[function(t,e,n){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},{}],382:[function(t,e,n){"use strict";n.isLeftAnchor=function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},n.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},n.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},n.isTopAnchor=function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},n.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},n.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}},{}],383:[function(t,e,n){"use strict";var r=t("./mod"),i=r.mod,o=r.modHalf,a=Math.PI,s=2*a;function l(t){return Math.abs(t[1]-t[0])>s-1e-14}function c(t,e){return o(e-t,s)}function u(t,e){if(l(e))return!0;var n,r;e[0]<e[1]?(n=e[0],r=e[1]):(n=e[1],r=e[0]),(n=i(n,s))>(r=i(r,s))&&(r+=s);var o=i(t,s),a=o+s;return o>=n&&o<=r||a>=n&&a<=r}function d(t,e,n,r,i,o,c){i=i||0,o=o||0;var u,d,f,h,p,g=l([n,r]);function m(t,e){return[t*Math.cos(e)+i,o-t*Math.sin(e)]}g?(u=0,d=a,f=s):n<r?(u=n,f=r):(u=r,f=n),t<e?(h=t,p=e):(h=e,p=t);var v,y=Math.abs(f-u)<=a?0:1;function b(t,e,n){return"A"+[t,t]+" "+[0,y,n]+" "+m(t,e)}return g?v=null===h?"M"+m(p,u)+b(p,d,0)+b(p,f,0)+"Z":"M"+m(h,u)+b(h,d,0)+b(h,f,0)+"ZM"+m(p,u)+b(p,d,1)+b(p,f,1)+"Z":null===h?(v="M"+m(p,u)+b(p,f,0),c&&(v+="L0,0Z")):v="M"+m(h,u)+"L"+m(p,u)+b(p,f,0)+"L"+m(h,f)+b(h,u,1)+"Z",v}e.exports={deg2rad:function(t){return t/180*a},rad2deg:function(t){return t/a*180},angleDelta:c,angleDist:function(t,e){return Math.abs(c(t,e))},isFullCircle:l,isAngleInsideSector:u,isPtInsideSector:function(t,e,n,r){return!!u(e,r)&&(n[0]<n[1]?(i=n[0],o=n[1]):(i=n[1],o=n[0]),t>=i&&t<=o);var i,o},pathArc:function(t,e,n,r,i){return d(null,t,e,n,r,i,0)},pathSector:function(t,e,n,r,i){return d(null,t,e,n,r,i,1)},pathAnnulus:function(t,e,n,r,i,o){return d(t,e,n,r,i,o,1)}}},{"./mod":407}],384:[function(t,e,n){"use strict";var r=Array.isArray,i=ArrayBuffer,o=DataView;function a(t){return i.isView(t)&&!(t instanceof o)}function s(t){return r(t)||a(t)}function l(t,e,n){if(s(t)){if(s(t[0])){for(var r=n,i=0;i<t.length;i++)r=e(r,t[i].length);return r}return t.length}return 0}n.isTypedArray=a,n.isArrayOrTypedArray=s,n.isArray1D=function(t){return!s(t[0])},n.ensureArray=function(t,e){return r(t)||(t=[]),t.length=e,t},n.concat=function(){var t,e,n,i,o,a,s,l,c=[],u=!0,d=0;for(n=0;n<arguments.length;n++)(a=(i=arguments[n]).length)&&(e?c.push(i):(e=i,o=a),r(i)?t=!1:(u=!1,d?t!==i.constructor&&(t=!1):t=i.constructor),d+=a);if(!d)return[];if(!c.length)return e;if(u)return e.concat.apply(e,c);if(t){for((s=new t(d)).set(e),n=0;n<c.length;n++)i=c[n],s.set(i,o),o+=i.length;return s}for(s=new Array(d),l=0;l<e.length;l++)s[l]=e[l];for(n=0;n<c.length;n++){for(i=c[n],l=0;l<i.length;l++)s[o+l]=i[l];o+=l}return s},n.maxRowLength=function(t){return l(t,Math.max,0)},n.minRowLength=function(t){return l(t,Math.min,1/0)}},{}],385:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(t){return"string"==typeof t&&(t=t.replace(o,"")),r(t)?Number(t):i}},{"../constants/numerical":378,"fast-isnumeric":121}],386:[function(t,e,n){"use strict";e.exports=function(t){var e=t._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each((function(t){t.regl&&t.regl.clear({color:!0,depth:!0})}))}},{}],387:[function(t,e,n){"use strict";e.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},{}],388:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("tinycolor2"),o=t("../plots/attributes"),a=t("../components/colorscale/scales"),s=t("../components/color"),l=t("../constants/interactions").DESELECTDIM,c=t("./nested_property"),u=t("./regex").counter,d=t("./mod").modHalf,f=t("./array").isArrayOrTypedArray;function h(t,e){var r=n.valObjectMeta[e.valType];if(e.arrayOk&&f(t))return!0;if(r.validateFunction)return r.validateFunction(t,e);var i={},o=i,a={set:function(t){o=t}};return r.coerceFunction(t,a,i,e),o!==i}n.valObjectMeta={data_array:{coerceFunction:function(t,e,n){f(t)?e.set(t):void 0!==n&&e.set(n)}},enumerated:{coerceFunction:function(t,e,n,r){r.coerceNumber&&(t=+t),-1===r.values.indexOf(t)?e.set(n):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var n=e.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(t))return!0}else if(t===n[r])return!0}return!1}},boolean:{coerceFunction:function(t,e,n){!0===t||!1===t?e.set(t):e.set(n)}},number:{coerceFunction:function(t,e,n,i){!r(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?e.set(n):e.set(+t)}},integer:{coerceFunction:function(t,e,n,i){t%1||!r(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?e.set(n):e.set(+t)}},string:{coerceFunction:function(t,e,n,r){if("string"!=typeof t){var i="number"==typeof t;!0!==r.strict&&i?e.set(String(t)):e.set(n)}else r.noBlank&&!t?e.set(n):e.set(t)}},color:{coerceFunction:function(t,e,n){i(t).isValid()?e.set(t):e.set(n)}},colorlist:{coerceFunction:function(t,e,n){Array.isArray(t)&&t.length&&t.every((function(t){return i(t).isValid()}))?e.set(t):e.set(n)}},colorscale:{coerceFunction:function(t,e,n){e.set(a.get(t,n))}},angle:{coerceFunction:function(t,e,n){"auto"===t?e.set("auto"):r(t)?e.set(d(+t,360)):e.set(n)}},subplotid:{coerceFunction:function(t,e,n,r){var i=r.regex||u(n);"string"==typeof t&&i.test(t)?e.set(t):e.set(n)},validateFunction:function(t,e){var n=e.dflt;return t===n||"string"==typeof t&&!!u(n).test(t)}},flaglist:{coerceFunction:function(t,e,n,r){if(-1===(r.extras||[]).indexOf(t))if("string"==typeof t){for(var i=t.split("+"),o=0;o<i.length;){var a=i[o];-1===r.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}i.length?e.set(i.join("+")):e.set(n)}else e.set(n);else e.set(t)}},any:{coerceFunction:function(t,e,n){void 0===t?e.set(n):e.set(t)}},info_array:{coerceFunction:function(t,e,r,i){function o(t,e,r){var i,o={set:function(t){i=t}};return void 0===r&&(r=e.dflt),n.valObjectMeta[e.valType].coerceFunction(t,o,r,e),i}var a=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(t)&&Array.isArray(t[0]);if(Array.isArray(t)){var s,l,c,u,d,f,h=i.items,p=[],g=Array.isArray(h),m=g&&a&&Array.isArray(h[0]),v=a&&g&&!m,y=g&&!v?h.length:t.length;if(r=Array.isArray(r)?r:[],a)for(s=0;s<y;s++)for(p[s]=[],c=Array.isArray(t[s])?t[s]:[],d=v?h.length:g?h[s].length:c.length,l=0;l<d;l++)u=v?h[l]:g?h[s][l]:h,void 0!==(f=o(c[l],u,(r[s]||[])[l]))&&(p[s][l]=f);else for(s=0;s<y;s++)void 0!==(f=o(t[s],g?h[s]:h,r[s]))&&(p[s]=f);e.set(p)}else e.set(r)},validateFunction:function(t,e){if(!Array.isArray(t))return!1;var n=e.items,r=Array.isArray(n),i=2===e.dimensions;if(!e.freeLength&&t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(i){if(!Array.isArray(t[o])||!e.freeLength&&t[o].length!==n[o].length)return!1;for(var a=0;a<t[o].length;a++)if(!h(t[o][a],r?n[o][a]:n))return!1}else if(!h(t[o],r?n[o]:n))return!1;return!0}}},n.coerce=function(t,e,r,i,o){var a=c(r,i).get(),s=c(t,i),l=c(e,i),u=s.get(),d=e._template;if(void 0===u&&d&&(u=c(d,i).get(),d=0),void 0===o&&(o=a.dflt),a.arrayOk&&f(u))return l.set(u),u;var p=n.valObjectMeta[a.valType].coerceFunction;p(u,l,o,a);var g=l.get();return d&&g===o&&!h(u,a)&&(p(u=c(d,i).get(),l,o,a),g=l.get()),g},n.coerce2=function(t,e,r,i,o){var a=c(t,i),s=n.coerce(t,e,r,i,o);return null!=a.get()&&s},n.coerceFont=function(t,e,n){var r={};return n=n||{},r.family=t(e+".family",n.family),r.size=t(e+".size",n.size),r.color=t(e+".color",n.color),r},n.coercePattern=function(t,e,n,r){if(t(e+".shape")){t(e+".solidity"),t(e+".size");var i="overlay"===t(e+".fillmode");if(!r){var o=t(e+".bgcolor",i?n:void 0);t(e+".fgcolor",i?s.contrast(o):n)}t(e+".fgopacity",i?.5:1)}},n.coerceHoverinfo=function(t,e,r){var i,a=e._module.attributes,s=a.hoverinfo?a:o,l=s.hoverinfo;if(1===r._dataLength){var c="all"===l.dflt?l.flags.slice():l.dflt.split("+");c.splice(c.indexOf("name"),1),i=c.join("+")}return n.coerce(t,e,s,"hoverinfo",i)},n.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var n,r,i=t.marker.opacity;void 0!==i&&(f(i)||t.selected||t.unselected||(n=i,r=l*i),e("selected.marker.opacity",n),e("unselected.marker.opacity",r))}},n.validate=h},{"../components/color":257,"../components/colorscale/scales":272,"../constants/interactions":377,"../plots/attributes":446,"./array":384,"./mod":407,"./nested_property":408,"./regex":417,"fast-isnumeric":121,tinycolor2:205}],389:[function(t,e,n){"use strict";var r,i,o=t("d3-time-format").timeFormat,a=t("fast-isnumeric"),s=t("./loggers"),l=t("./mod").mod,c=t("../constants/numerical"),u=c.BADNUM,d=c.ONEDAY,f=c.ONEHOUR,h=c.ONEMIN,p=c.ONESEC,g=c.EPOCHJD,m=t("../registry"),v=t("d3-time-format").utcFormat,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=(new Date).getFullYear()-70;function w(t){return t&&m.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function k(t,e){return String(t+Math.pow(10,e)).substr(1)}n.dateTick0=function(t,e){var r=function(t,e){return w(t)?e?m.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:m.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"}(t,!!e);if(e<2)return r;var i=n.dateTime2ms(r,t);return i+=d*(e-1),n.ms2DateTime(i,0,t)},n.dfltRange=function(t){return w(t)?m.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},n.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},n.dateTime2ms=function(t,e){if(n.isJSDate(t)){var o=t.getTimezoneOffset()*h,a=(t.getUTCMinutes()-t.getMinutes())*h+(t.getUTCSeconds()-t.getSeconds())*p+(t.getUTCMilliseconds()-t.getMilliseconds());if(a){var s=3*h;o=o-s/2+l(a-o+s/2,s)}return(t=Number(t)-o)>=r&&t<=i?t:u}if("string"!=typeof t&&"number"!=typeof t)return u;t=String(t);var c=w(e),v=t.charAt(0);!c||"G"!==v&&"g"!==v||(t=t.substr(1),e="");var k=c&&"chinese"===e.substr(0,7),_=t.match(k?b:y);if(!_)return u;var A=_[1],T=_[3]||"1",M=Number(_[5]||1),E=Number(_[7]||0),C=Number(_[9]||0),S=Number(_[11]||0);if(c){if(2===A.length)return u;var O;A=Number(A);try{var L=m.getComponentMethod("calendars","getCal")(e);if(k){var P="i"===T.charAt(T.length-1);T=parseInt(T,10),O=L.newDate(A,L.toMonthIndex(A,T,P),M)}else O=L.newDate(A,Number(T),M)}catch(t){return u}return O?(O.toJD()-g)*d+E*f+C*h+S*p:u}A=2===A.length?(Number(A)+2e3-x)%100+x:Number(A),T-=1;var D=new Date(Date.UTC(2e3,T,M,E,C));return D.setUTCFullYear(A),D.getUTCMonth()!==T||D.getUTCDate()!==M?u:D.getTime()+S*p},r=n.MIN_MS=n.dateTime2ms("-9999"),i=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(t,e){return n.dateTime2ms(t,e)!==u};var _=90*d,A=3*f,T=5*h;function M(t,e,n,r,i){if((e||n||r||i)&&(t+=" "+k(e,2)+":"+k(n,2),(r||i)&&(t+=":"+k(r,2),i))){for(var o=4;i%10==0;)o-=1,i/=10;t+="."+k(i,o)}return t}n.ms2DateTime=function(t,e,n){if("number"!=typeof t||!(t>=r&&t<=i))return u;e||(e=0);var o,a,s,c,y,b,x=Math.floor(10*l(t+.05,1)),k=Math.round(t-x/10);if(w(n)){var E=Math.floor(k/d)+g,C=Math.floor(l(t,d));try{o=m.getComponentMethod("calendars","getCal")(n).fromJD(E).formatDate("yyyy-mm-dd")}catch(t){o=v("G%Y-%m-%d")(new Date(k))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;a=e<_?Math.floor(C/f):0,s=e<_?Math.floor(C%f/h):0,c=e<A?Math.floor(C%h/p):0,y=e<T?C%p*10+x:0}else b=new Date(k),o=v("%Y-%m-%d")(b),a=e<_?b.getUTCHours():0,s=e<_?b.getUTCMinutes():0,c=e<A?b.getUTCSeconds():0,y=e<T?10*b.getUTCMilliseconds()+x:0;return M(o,a,s,c,y)},n.ms2DateTimeLocal=function(t){if(!(t>=r+d&&t<=i-d))return u;var e=Math.floor(10*l(t+.05,1)),n=new Date(Math.round(t-e/10));return M(o("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+e)},n.cleanDate=function(t,e,r){if(t===u)return e;if(n.isJSDate(t)||"number"==typeof t&&isFinite(t)){if(w(r))return s.error("JS Dates and milliseconds are incompatible with world calendars",t),e;if(!(t=n.ms2DateTimeLocal(+t))&&void 0!==e)return e}else if(!n.isDateTime(t,r))return s.error("unrecognized date",t),e;return t};var E=/%\d?f/g,C=/%h/g,S={1:"1",2:"1",3:"2",4:"2"};function O(t,e,n,r){t=t.replace(E,(function(t){var n=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(e+.05));if(t=t.replace(C,(function(){return S[n("%q")(i)]})),w(r))try{t=m.getComponentMethod("calendars","worldCalFmt")(t,e,r)}catch(t){return"Invalid"}return n(t)(i)}var L=[59,59.9,59.99,59.999,59.9999];n.formatDate=function(t,e,n,r,i,o){if(i=w(i)&&i,!e)if("y"===n)e=o.year;else if("m"===n)e=o.month;else{if("d"!==n)return function(t,e){var n=l(t+.05,d),r=k(Math.floor(n/f),2)+":"+k(l(Math.floor(n/h),60),2);if("M"!==e){a(e)||(e=0);var i=(100+Math.min(l(t/p,60),L[e])).toFixed(e).substr(1);e>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+i}return r}(t,n)+"\n"+O(o.dayMonthYear,t,r,i);e=o.dayMonth+"\n"+o.year}return O(e,t,r,i)};var P=3*d;n.incrementMonth=function(t,e,n){n=w(n)&&n;var r=l(t,d);if(t=Math.round(t-r),n)try{var i=Math.round(t/d)+g,o=m.getComponentMethod("calendars","getCal")(n),a=o.fromJD(i);return e%12?o.add(a,e,"m"):o.add(a,e/12,"y"),(a.toJD()-g)*d+r}catch(e){s.error("invalid ms "+t+" in calendar "+n)}var c=new Date(t+P);return c.setUTCMonth(c.getUTCMonth()+e)+r-P},n.findExactDates=function(t,e){for(var n,r,i=0,o=0,s=0,l=0,c=w(e)&&m.getComponentMethod("calendars","getCal")(e),u=0;u<t.length;u++)if(r=t[u],a(r)){if(!(r%d))if(c)try{1===(n=c.fromJD(r/d+g)).day()?1===n.month()?i++:o++:s++}catch(t){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?i++:o++:s++}else l++;s+=o+=i;var f=t.length-l;return{exactYears:i/f,exactMonths:o/f,exactDays:s/f}}},{"../constants/numerical":378,"../registry":490,"./loggers":404,"./mod":407,"d3-time-format":53,"fast-isnumeric":121}],390:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("./loggers"),o=t("./matrix"),a=t("gl-mat4");function s(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function l(t,e,n){var r="plotly.js-style-"+t,o=document.getElementById(r);o||((o=document.createElement("style")).setAttribute("id",r),o.appendChild(document.createTextNode("")),document.head.appendChild(o));var a=o.sheet;a.insertRule?a.insertRule(e+"{"+n+"}",0):a.addRule?a.addRule(e,n,0):i.warn("addStyleRule failed")}function c(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");return"none"===n?null:n.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(t){return+t}))}function u(t){for(var e=[];d(t);)e.push(t),t=t.parentNode;return e}function d(t){return t&&(t instanceof Element||t instanceof HTMLElement)}e.exports={getGraphDiv:function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null==t)throw new Error("DOM element provided is null or undefined");return t},isPlotDiv:function(t){var e=r.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},removeElement:s,addStyleRule:function(t,e){l("global",t,e)},addRelatedStyleRule:l,deleteRelatedStyleRule:function(t){var e="plotly.js-style-"+t,n=document.getElementById(e);n&&s(n)},getFullTransformMatrix:function(t){var e=u(t),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach((function(t){var e=c(t);if(e){var r=o.convertCssMatrix(e);n=a.multiply(n,n,r)}})),n},getElementTransformMatrix:c,getElementAndAncestors:u,equalDomRects:function(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&t.top===e.top&&t.left===e.left&&t.right===e.right&&t.bottom===e.bottom}}},{"./loggers":404,"./matrix":406,"@plotly/d3":14,"gl-mat4":141}],391:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i={init:function(t){if(t._ev instanceof r)return t;var e=new r,n=new r;return t._ev=e,t._internalEv=n,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=n.on.bind(n),t._internalOnce=n.once.bind(n),t._removeInternalListener=n.removeListener.bind(n),t._removeAllInternalListeners=n.removeAllListeners.bind(n),t.emit=function(r,i){"undefined"!=typeof jQuery&&jQuery(t).trigger(r,i),e.emit(r,i),n.emit(r,i)},t},triggerHandler:function(t,e,n){var r,i;"undefined"!=typeof jQuery&&(r=jQuery(t).triggerHandler(e,n));var o=t._ev;if(!o)return r;var a,s=o._events[e];if(!s)return r;function l(t){return t.listener?(o.removeListener(e,t.listener),t.fired?void 0:(t.fired=!0,t.listener.apply(o,[n]))):t.apply(o,[n])}for(s=Array.isArray(s)?s:[s],a=0;a<s.length-1;a++)l(s[a]);return i=l(s[a]),void 0!==r?r:i},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};e.exports=i},{events:30}],392:[function(t,e,n){"use strict";var r=t("./is_plain_object.js"),i=Array.isArray;function o(t,e,n,a){var s,l,c,u,d,f,h=t[0],p=t.length;if(2===p&&i(h)&&i(t[1])&&0===h.length){if(function(t,e){var n,r;for(n=0;n<t.length;n++){if(null!==(r=t[n])&&"object"==typeof r)return!1;void 0!==r&&(e[n]=r)}return!0}(t[1],h))return h;h.splice(0,h.length)}for(var g=1;g<p;g++)for(l in s=t[g])c=h[l],u=s[l],a&&i(u)?h[l]=u:e&&u&&(r(u)||(d=i(u)))?(d?(d=!1,f=c&&i(c)?c:[]):f=c&&r(c)?c:{},h[l]=o([f,u],e,n,a)):(void 0!==u||n)&&(h[l]=u);return h}n.extendFlat=function(){return o(arguments,!1,!1,!1)},n.extendDeep=function(){return o(arguments,!0,!1,!1)},n.extendDeepAll=function(){return o(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":401}],393:[function(t,e,n){"use strict";e.exports=function(t){for(var e={},n=[],r=0,i=0;i<t.length;i++){var o=t[i];1!==e[o]&&(e[o]=1,n[r++]=o)}return n}},{}],394:[function(t,e,n){"use strict";function r(t){return!0===t.visible}function i(t){var e=t[0].trace;return!0===e.visible&&0!==e._length}e.exports=function(t){for(var e,n=(e=t,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?i:r),o=[],a=0;a<t.length;a++){var s=t[a];n(s)&&o.push(s)}return o}},{}],395:[function(t,e,n){"use strict";var r,i,o,a=t("./mod").mod;function s(t,e,n,r,i,o,a,s){var l=n-t,c=i-t,u=a-i,d=r-e,f=o-e,h=s-o,p=l*h-u*d;if(0===p)return null;var g=(c*h-u*f)/p,m=(c*d-l*f)/p;return m<0||m>1||g<0||g>1?null:{x:t+l*g,y:e+d*g}}function l(t,e,n,r,i){var o=r*t+i*e;if(o<0)return r*r+i*i;if(o>n){var a=r-t,s=i-e;return a*a+s*s}var l=r*e-i*t;return l*l/n}n.segmentsIntersect=s,n.segmentDistance=function(t,e,n,r,i,o,a,c){if(s(t,e,n,r,i,o,a,c))return 0;var u=n-t,d=r-e,f=a-i,h=c-o,p=u*u+d*d,g=f*f+h*h,m=Math.min(l(u,d,p,i-t,o-e),l(u,d,p,a-t,c-e),l(f,h,g,t-i,e-o),l(f,h,g,n-i,r-o));return Math.sqrt(m)},n.getTextLocation=function(t,e,n,s){if(t===i&&s===o||(r={},i=t,o=s),r[n])return r[n];var l=t.getPointAtLength(a(n-s/2,e)),c=t.getPointAtLength(a(n+s/2,e)),u=Math.atan((c.y-l.y)/(c.x-l.x)),d=t.getPointAtLength(a(n,e)),f={x:(4*d.x+l.x+c.x)/6,y:(4*d.y+l.y+c.y)/6,theta:u};return r[n]=f,f},n.clearLocationCache=function(){i=null},n.getVisibleSegment=function(t,e,n){var r,i,o=e.left,a=e.right,s=e.top,l=e.bottom,c=0,u=t.getTotalLength(),d=u;function f(e){var n=t.getPointAtLength(e);0===e?r=n:e===u&&(i=n);var c=n.x<o?o-n.x:n.x>a?n.x-a:0,d=n.y<s?s-n.y:n.y>l?n.y-l:0;return Math.sqrt(c*c+d*d)}for(var h=f(c);h;){if((c+=h+n)>d)return;h=f(c)}for(h=f(d);h;){if(c>(d-=h+n))return;h=f(d)}return{min:c,max:d,len:d-c,total:u,isClosed:0===c&&d===u&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},n.findPointOnPath=function(t,e,n,r){for(var i,o,a,s=(r=r||{}).pathLength||t.getTotalLength(),l=r.tolerance||.001,c=r.iterationLimit||30,u=t.getPointAtLength(0)[n]>t.getPointAtLength(s)[n]?-1:1,d=0,f=0,h=s;d<c;){if(i=(f+h)/2,a=(o=t.getPointAtLength(i))[n]-e,Math.abs(a)<l)return o;u*a>0?h=i:f=i,d++}return o}},{"./mod":407}],396:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("tinycolor2"),o=t("color-normalize"),a=t("../components/colorscale"),s=t("../components/color/attributes").defaultLine,l=t("./array").isArrayOrTypedArray,c=o(s);function u(t,e){var n=t;return n[3]*=e,n}function d(t){if(r(t))return c;var e=o(t);return e.length?e:c}function f(t){return r(t)?t:1}e.exports={formatColor:function(t,e,n){var r,i,s,h,p,g=t.color,m=l(g),v=l(e),y=a.extractOpts(t),b=[];if(r=void 0!==y.colorscale?a.makeColorScaleFuncFromTrace(t):d,i=m?function(t,e){return void 0===t[e]?c:o(r(t[e]))}:d,s=v?function(t,e){return void 0===t[e]?1:f(t[e])}:f,m||v)for(var x=0;x<n;x++)h=i(g,x),p=s(e,x),b[x]=u(h,p);else b=u(o(g),e);return b},parseColorScale:function(t){var e=a.extractOpts(t),n=e.colorscale;return e.reversescale&&(n=a.flipScale(e.colorscale)),n.map((function(t){var e=t[0],n=i(t[1]).toRgb();return{index:e,rgb:[n.r,n.g,n.b,n.a]}}))}}},{"../components/color/attributes":256,"../components/colorscale":269,"./array":384,"color-normalize":35,"fast-isnumeric":121,tinycolor2:205}],397:[function(t,e,n){"use strict";var r=t("./identity");function i(t){return[t]}e.exports={keyFun:function(t){return t.key},repeat:i,descend:r,wrap:i,unwrap:function(t){return t[0]}}},{"./identity":398}],398:[function(t,e,n){"use strict";e.exports=function(t){return t}},{}],399:[function(t,e,n){"use strict";e.exports=function(t,e){if(!e)return t;var n=1/Math.abs(e),r=n>1?(n*t+n*e)/n:t+e,i=String(r).length;if(i>16){var o=String(e).length;if(i>=String(t).length+o){var a=parseFloat(r).toPrecision(12);-1===a.indexOf("e+")&&(r=+a)}}return r}},{}],400:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("d3-time-format").utcFormat,o=t("d3-format").format,a=t("fast-isnumeric"),s=t("../constants/numerical"),l=s.FP_SAFE,c=-l,u=s.BADNUM,d=e.exports={};d.adjustFormat=function(t){return!t||/^\d[.]\df/.test(t)||/[.]\d%/.test(t)?t:"0.f"===t?"~f":/^\d%/.test(t)?"~%":/^\ds/.test(t)?"~s":!/^[~,.0$]/.test(t)&&/[&fps]/.test(t)?"~"+t:t};var f={};d.warnBadFormat=function(t){var e=String(t);f[e]||(f[e]=1,d.warn('encountered bad format: "'+e+'"'))},d.noFormat=function(t){return String(t)},d.numberFormat=function(t){var e;try{e=o(d.adjustFormat(t))}catch(e){return d.warnBadFormat(t),d.noFormat}return e},d.nestedProperty=t("./nested_property"),d.keyedContainer=t("./keyed_container"),d.relativeAttr=t("./relative_attr"),d.isPlainObject=t("./is_plain_object"),d.toLogRange=t("./to_log_range"),d.relinkPrivateKeys=t("./relink_private");var h=t("./array");d.isTypedArray=h.isTypedArray,d.isArrayOrTypedArray=h.isArrayOrTypedArray,d.isArray1D=h.isArray1D,d.ensureArray=h.ensureArray,d.concat=h.concat,d.maxRowLength=h.maxRowLength,d.minRowLength=h.minRowLength;var p=t("./mod");d.mod=p.mod,d.modHalf=p.modHalf;var g=t("./coerce");d.valObjectMeta=g.valObjectMeta,d.coerce=g.coerce,d.coerce2=g.coerce2,d.coerceFont=g.coerceFont,d.coercePattern=g.coercePattern,d.coerceHoverinfo=g.coerceHoverinfo,d.coerceSelectionMarkerOpacity=g.coerceSelectionMarkerOpacity,d.validate=g.validate;var m=t("./dates");d.dateTime2ms=m.dateTime2ms,d.isDateTime=m.isDateTime,d.ms2DateTime=m.ms2DateTime,d.ms2DateTimeLocal=m.ms2DateTimeLocal,d.cleanDate=m.cleanDate,d.isJSDate=m.isJSDate,d.formatDate=m.formatDate,d.incrementMonth=m.incrementMonth,d.dateTick0=m.dateTick0,d.dfltRange=m.dfltRange,d.findExactDates=m.findExactDates,d.MIN_MS=m.MIN_MS,d.MAX_MS=m.MAX_MS;var v=t("./search");d.findBin=v.findBin,d.sorterAsc=v.sorterAsc,d.sorterDes=v.sorterDes,d.distinctVals=v.distinctVals,d.roundUp=v.roundUp,d.sort=v.sort,d.findIndexOfMin=v.findIndexOfMin,d.sortObjectKeys=t("./sort_object_keys");var y=t("./stats");d.aggNums=y.aggNums,d.len=y.len,d.mean=y.mean,d.median=y.median,d.midRange=y.midRange,d.variance=y.variance,d.stdev=y.stdev,d.interp=y.interp;var b=t("./matrix");d.init2dArray=b.init2dArray,d.transposeRagged=b.transposeRagged,d.dot=b.dot,d.translationMatrix=b.translationMatrix,d.rotationMatrix=b.rotationMatrix,d.rotationXYMatrix=b.rotationXYMatrix,d.apply3DTransform=b.apply3DTransform,d.apply2DTransform=b.apply2DTransform,d.apply2DTransform2=b.apply2DTransform2,d.convertCssMatrix=b.convertCssMatrix,d.inverseTransformMatrix=b.inverseTransformMatrix;var x=t("./angles");d.deg2rad=x.deg2rad,d.rad2deg=x.rad2deg,d.angleDelta=x.angleDelta,d.angleDist=x.angleDist,d.isFullCircle=x.isFullCircle,d.isAngleInsideSector=x.isAngleInsideSector,d.isPtInsideSector=x.isPtInsideSector,d.pathArc=x.pathArc,d.pathSector=x.pathSector,d.pathAnnulus=x.pathAnnulus;var w=t("./anchor_utils");d.isLeftAnchor=w.isLeftAnchor,d.isCenterAnchor=w.isCenterAnchor,d.isRightAnchor=w.isRightAnchor,d.isTopAnchor=w.isTopAnchor,d.isMiddleAnchor=w.isMiddleAnchor,d.isBottomAnchor=w.isBottomAnchor;var k=t("./geometry2d");d.segmentsIntersect=k.segmentsIntersect,d.segmentDistance=k.segmentDistance,d.getTextLocation=k.getTextLocation,d.clearLocationCache=k.clearLocationCache,d.getVisibleSegment=k.getVisibleSegment,d.findPointOnPath=k.findPointOnPath;var _=t("./extend");d.extendFlat=_.extendFlat,d.extendDeep=_.extendDeep,d.extendDeepAll=_.extendDeepAll,d.extendDeepNoArrays=_.extendDeepNoArrays;var A=t("./loggers");d.log=A.log,d.warn=A.warn,d.error=A.error;var T=t("./regex");d.counterRegex=T.counter;var M=t("./throttle");d.throttle=M.throttle,d.throttleDone=M.done,d.clearThrottle=M.clear;var E=t("./dom");function C(t){var e={};for(var n in t)for(var r=t[n],i=0;i<r.length;i++)e[r[i]]=+n;return e}d.getGraphDiv=E.getGraphDiv,d.isPlotDiv=E.isPlotDiv,d.removeElement=E.removeElement,d.addStyleRule=E.addStyleRule,d.addRelatedStyleRule=E.addRelatedStyleRule,d.deleteRelatedStyleRule=E.deleteRelatedStyleRule,d.getFullTransformMatrix=E.getFullTransformMatrix,d.getElementTransformMatrix=E.getElementTransformMatrix,d.getElementAndAncestors=E.getElementAndAncestors,d.equalDomRects=E.equalDomRects,d.clearResponsive=t("./clear_responsive"),d.preserveDrawingBuffer=t("./preserve_drawing_buffer"),d.makeTraceGroups=t("./make_trace_groups"),d._=t("./localize"),d.notifier=t("./notifier"),d.filterUnique=t("./filter_unique"),d.filterVisible=t("./filter_visible"),d.pushUnique=t("./push_unique"),d.increment=t("./increment"),d.cleanNumber=t("./clean_number"),d.ensureNumber=function(t){return a(t)?(t=Number(t))>l||t<c?u:t:u},d.isIndex=function(t,e){return!(void 0!==e&&t>=e)&&a(t)&&t>=0&&t%1==0},d.noop=t("./noop"),d.identity=t("./identity"),d.repeat=function(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n},d.swapAttrs=function(t,e,n,r){n||(n="x"),r||(r="y");for(var i=0;i<e.length;i++){var o=e[i],a=d.nestedProperty(t,o.replace("?",n)),s=d.nestedProperty(t,o.replace("?",r)),l=a.get();a.set(s.get()),s.set(l)}},d.raiseToTop=function(t){t.parentNode.appendChild(t)},d.cancelTransition=function(t){return t.transition().duration(0)},d.constrain=function(t,e,n){return e>n?Math.max(n,Math.min(e,t)):Math.max(e,Math.min(n,t))},d.bBoxIntersect=function(t,e,n){return n=n||0,t.left<=e.right+n&&e.left<=t.right+n&&t.top<=e.bottom+n&&e.top<=t.bottom+n},d.simpleMap=function(t,e,n,r,i){for(var o=t.length,a=new Array(o),s=0;s<o;s++)a[s]=e(t[s],n,r,i);return a},d.randstr=function t(e,n,r,i){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var o,a,s=Math.log(Math.pow(2,n))/Math.log(r),l="";for(o=2;s===1/0;o*=2)s=Math.log(Math.pow(2,n/o))/Math.log(r)*o;var c=s-Math.floor(s);for(o=0;o<Math.floor(s);o++)l=Math.floor(Math.random()*r).toString(r)+l;c&&(a=Math.pow(r,c),l=Math.floor(Math.random()*a).toString(r)+l);var u=parseInt(l,r);return e&&e[l]||u!==1/0&&u>=Math.pow(2,n)?i>10?(d.warn("randstr failed uniqueness"),l):t(e,n,r,(i||0)+1):l},d.OptionControl=function(t,e){t||(t={}),e||(e="opt");var n={optionList:[],_newoption:function(r){r[e]=t,n[r.name]=r,n.optionList.push(r)}};return n["_"+e]=t,n},d.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var n,r,i,o,a=t.length,s=2*a,l=2*e-1,c=new Array(l),u=new Array(a);for(n=0;n<l;n++)c[n]=(1-Math.cos(Math.PI*(n+1)/e))/(2*e);for(n=0;n<a;n++){for(o=0,r=0;r<l;r++)(i=n+r+1-e)<-a?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=a&&(i=s-1-i),o+=t[i]*c[r];u[n]=o}return u},d.syncOrAsync=function(t,e,n){var r;function i(){return d.syncOrAsync(t,e,n)}for(;t.length;)if((r=(0,t.splice(0,1)[0])(e))&&r.then)return r.then(i);return n&&n(e)},d.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},d.noneOrAll=function(t,e,n){if(t){var r,i=!1,o=!0;for(r=0;r<n.length;r++)null!=t[n[r]]?i=!0:o=!1;if(i&&!o)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}},d.mergeArray=function(t,e,n,r){var i="function"==typeof r;if(d.isArrayOrTypedArray(t))for(var o=Math.min(t.length,e.length),a=0;a<o;a++){var s=t[a];e[a][n]=i?r(s):s}},d.mergeArrayCastPositive=function(t,e,n){return d.mergeArray(t,e,n,(function(t){var e=+t;return isFinite(e)&&e>0?e:0}))},d.fillArray=function(t,e,n,r){if(r=r||d.identity,d.isArrayOrTypedArray(t))for(var i=0;i<e.length;i++)e[i][n]=r(t[i])},d.castOption=function(t,e,n,r){r=r||d.identity;var i=d.nestedProperty(t,n).get();return d.isArrayOrTypedArray(i)?Array.isArray(e)&&d.isArrayOrTypedArray(i[e[0]])?r(i[e[0]][e[1]]):r(i[e]):i},d.extractOption=function(t,e,n,r){if(n in t)return t[n];var i=d.nestedProperty(e,r).get();return Array.isArray(i)?void 0:i},d.tagSelected=function(t,e,n){var r,i,o=e.selectedpoints,a=e._indexToPoints;a&&(r=C(a));for(var s=0;s<o.length;s++){var l=o[s];if(d.isIndex(l)||d.isArrayOrTypedArray(l)&&d.isIndex(l[0])&&d.isIndex(l[1])){var c=r?r[l]:l,u=n?n[c]:c;void 0!==(i=u)&&i<t.length&&(t[u].selected=1)}}},d.selIndices2selPoints=function(t){var e=t.selectedpoints,n=t._indexToPoints;if(n){for(var r=C(n),i=[],o=0;o<e.length;o++){var a=e[o];if(d.isIndex(a)){var s=r[a];d.isIndex(s)&&i.push(s)}}return i}return e},d.getTargetArray=function(t,e){var n=e.target;if("string"==typeof n&&n){var r=d.nestedProperty(t,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},d.minExtend=function(t,e){var n={};"object"!=typeof e&&(e={});var r,i,o,a=Object.keys(t);for(r=0;r<a.length;r++)o=t[i=a[r]],"_"!==i.charAt(0)&&"function"!=typeof o&&("module"===i?n[i]=o:Array.isArray(o)?n[i]="colorscale"===i?o.slice():o.slice(0,3):d.isTypedArray(o)?n[i]=o.subarray(0,3):n[i]=o&&"object"==typeof o?d.minExtend(t[i],e[i]):o);for(a=Object.keys(e),r=0;r<a.length;r++)"object"==typeof(o=e[i=a[r]])&&i in n&&"object"==typeof n[i]||(n[i]=o);return n},d.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},d.containsAny=function(t,e){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1},d.isIE=function(){return void 0!==window.navigator.msSaveBlob};var S=/Version\/[\d\.]+.*Safari/;d.isSafari=function(){return S.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;d.isIOS=function(){return O.test(window.navigator.userAgent)};var L=/Firefox\/(\d+)\.\d+/;d.getFirefoxVersion=function(){var t=L.exec(window.navigator.userAgent);if(t&&2===t.length){var e=parseInt(t[1]);if(!isNaN(e))return e}return null},d.isD3Selection=function(t){return t instanceof r.selection},d.ensureSingle=function(t,e,n,r){var i=t.select(e+(n?"."+n:""));if(i.size())return i;var o=t.append(e);return n&&o.classed(n,!0),r&&o.call(r),o},d.ensureSingleById=function(t,e,n,r){var i=t.select(e+"#"+n);if(i.size())return i;var o=t.append(e).attr("id",n);return r&&o.call(r),o},d.objectFromPath=function(t,e){for(var n,r=t.split("."),i=n={},o=0;o<r.length;o++){var a=r[o],s=null,l=r[o].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],n=n[a]=[],o===r.length-1?n[s]=e:n[s]={},n=n[s]):(o===r.length-1?n[a]=e:n[a]={},n=n[a])}return i};var P=/^([^\[\.]+)\.(.+)?/,D=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;d.expandObjectPaths=function(t){var e,n,r,i,o,a,s;if("object"==typeof t&&!Array.isArray(t))for(n in t)t.hasOwnProperty(n)&&((e=n.match(P))?(i=t[n],r=e[1],delete t[n],t[r]=d.extendDeepNoArrays(t[r]||{},d.objectFromPath(n,d.expandObjectPaths(i))[r])):(e=n.match(D))?(i=t[n],r=e[1],o=parseInt(e[2]),delete t[n],t[r]=t[r]||[],"."===e[3]?(s=e[4],a=t[r][o]=t[r][o]||{},d.extendDeepNoArrays(a,d.objectFromPath(s,d.expandObjectPaths(i)))):t[r][o]=d.expandObjectPaths(i)):t[n]=d.expandObjectPaths(t[n]));return t},d.numSeparate=function(t,e,n){if(n||(n=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var r=/(\d+)(\d{3})/,i=e.charAt(0),o=e.charAt(1),a=t.split("."),s=a[0],l=a.length>1?i+a[1]:"";if(o&&(a.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+o+"$2");return s+l},d.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var R=/^\w*$/;d.templateString=function(t,e){var n={};return t.replace(d.TEMPLATE_STRING_REGEX,(function(t,r){var i;return R.test(r)?i=e[r]:(n[r]=n[r]||d.nestedProperty(e,r).get,i=n[r]()),d.isValidTextValue(i)?i:""}))};var I={max:10,count:0,name:"hovertemplate"};d.hovertemplateString=function(){return B.apply(I,arguments)};var z={max:10,count:0,name:"texttemplate"};d.texttemplateString=function(){return B.apply(z,arguments)};var N=/^[:|\|]/;function B(t,e,n){var r=this,o=arguments;e||(e={});var a={};return t.replace(d.TEMPLATE_STRING_REGEX,(function(t,s,l){var c,u,f,h="_xother"===s||"_yother"===s,p="_xother_"===s||"_yother_"===s,g="xother_"===s||"yother_"===s,m="xother"===s||"yother"===s||h||g||p,v=s;if((h||p)&&(v=v.substring(1)),(g||p)&&(v=v.substring(0,v.length-1)),m){if(void 0===(c=e[v]))return""}else for(f=3;f<o.length;f++)if(u=o[f]){if(u.hasOwnProperty(v)){c=u[v];break}if(R.test(v)||(c=d.nestedProperty(u,v).get(),(c=a[v]||d.nestedProperty(u,v).get())&&(a[v]=c)),void 0!==c)break}if(void 0===c&&r)return r.count<r.max&&(d.warn("Variable '"+v+"' in "+r.name+" could not be found!"),c=t),r.count===r.max&&d.warn("Too many "+r.name+" warnings - additional warnings will be suppressed"),r.count++,t;if(l){var y;if(":"===l[0]&&(c=(y=n?n.numberFormat:d.numberFormat)(l.replace(N,""))(c)),"|"===l[0]){y=n?n.timeFormat:i;var b=d.dateTime2ms(c);c=d.formatDate(b,l.replace(N,""),!1,y)}}else{var x=v+"Label";e.hasOwnProperty(x)&&(c=e[x])}return m&&(c="("+c+")",(h||p)&&(c=" "+c),(g||p)&&(c+=" ")),c}))}d.subplotSort=function(t,e){for(var n=Math.min(t.length,e.length)+1,r=0,i=0,o=0;o<n;o++){var a=t.charCodeAt(o)||0,s=e.charCodeAt(o)||0,l=a>=48&&a<=57,c=s>=48&&s<=57;if(l&&(r=10*r+a-48),c&&(i=10*i+s-48),!l||!c){if(r!==i)return r-i;if(a!==s)return a-s}}return i-r};var F=2e9;d.seedPseudoRandom=function(){F=2e9},d.pseudoRandom=function(){var t=F;return F=(69069*F+1)%4294967296,Math.abs(F-t)<429496729?d.pseudoRandom():F/4294967296},d.fillText=function(t,e,n){var r=Array.isArray(n)?function(t){n.push(t)}:function(t){n.text=t},i=d.extractOption(t,e,"htx","hovertext");if(d.isValidTextValue(i))return r(i);var o=d.extractOption(t,e,"tx","text");return d.isValidTextValue(o)?r(o):void 0},d.isValidTextValue=function(t){return t||0===t},d.formatPercent=function(t,e){e=e||0;for(var n=(Math.round(100*t*Math.pow(10,e))*Math.pow(.1,e)).toFixed(e)+"%",r=0;r<e;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},d.isHidden=function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e},d.strTranslate=function(t,e){return t||e?"translate("+t+","+e+")":""},d.strRotate=function(t){return t?"rotate("+t+")":""},d.strScale=function(t){return 1!==t?"scale("+t+")":""},d.getTextTransform=function(t){var e=t.noCenter,n=t.textX,r=t.textY,i=t.targetX,o=t.targetY,a=t.anchorX||0,s=t.anchorY||0,l=t.rotate,c=t.scale;return c?c>1&&(c=1):c=0,d.strTranslate(i-c*(n+a),o-c*(r+s))+d.strScale(c)+(l?"rotate("+l+(e?"":" "+n+" "+r)+")":"")},d.ensureUniformFontSize=function(t,e){var n=d.extendFlat({},e);return n.size=Math.max(e.size,t._fullLayout.uniformtext.minsize||0),n},d.join2=function(t,e,n){var r=t.length;return r>1?t.slice(0,-1).join(e)+n+t[r-1]:t.join(e)},d.bigFont=function(t){return Math.round(1.2*t)};var j=d.getFirefoxVersion(),$=null!==j&&j<86;d.getPositionFromD3Event=function(){return $?[r.event.layerX,r.event.layerY]:[r.event.offsetX,r.event.offsetY]}},{"../constants/numerical":378,"./anchor_utils":382,"./angles":383,"./array":384,"./clean_number":385,"./clear_responsive":387,"./coerce":388,"./dates":389,"./dom":390,"./extend":392,"./filter_unique":393,"./filter_visible":394,"./geometry2d":395,"./identity":398,"./increment":399,"./is_plain_object":401,"./keyed_container":402,"./localize":403,"./loggers":404,"./make_trace_groups":405,"./matrix":406,"./mod":407,"./nested_property":408,"./noop":409,"./notifier":410,"./preserve_drawing_buffer":414,"./push_unique":415,"./regex":417,"./relative_attr":418,"./relink_private":419,"./search":420,"./sort_object_keys":423,"./stats":424,"./throttle":427,"./to_log_range":428,"@plotly/d3":14,"d3-format":52,"d3-time-format":53,"fast-isnumeric":121}],401:[function(t,e,n){"use strict";e.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},{}],402:[function(t,e,n){"use strict";var r=t("./nested_property"),i=/^\w*$/;e.exports=function(t,e,n,o){var a,s,l;n=n||"name",o=o||"value";var c={};e&&e.length?(l=r(t,e),s=l.get()):s=t,e=e||"";var u={};if(s)for(a=0;a<s.length;a++)u[s[a][n]]=a;var d=i.test(o),f={set:function(t,e){var i=null===e?4:0;if(!s){if(!l||4===i)return;s=[],l.set(s)}var a=u[t];if(void 0===a){if(4===i)return;i|=3,a=s.length,u[t]=a}else e!==(d?s[a][o]:r(s[a],o).get())&&(i|=2);var h=s[a]=s[a]||{};return h[n]=t,d?h[o]=e:r(h,o).set(e),null!==e&&(i&=-5),c[a]=c[a]|i,f},get:function(t){if(s){var e=u[t];return void 0===e?void 0:d?s[e][o]:r(s[e],o).get()}},rename:function(t,e){var r=u[t];return void 0===r||(c[r]=1|c[r],u[e]=r,delete u[t],s[r][n]=e),f},remove:function(t){var e=u[t];if(void 0===e)return f;var i=s[e];if(Object.keys(i).length>2)return c[e]=2|c[e],f.set(t,null);if(d){for(a=e;a<s.length;a++)c[a]=3|c[a];for(a=e;a<s.length;a++)u[s[a][n]]--;s.splice(e,1),delete u[t]}else r(i,o).set(null),c[e]=6|c[e];return f},constructUpdate:function(){for(var t,i,a={},l=Object.keys(c),u=0;u<l.length;u++)i=l[u],t=e+"["+i+"]",s[i]?(1&c[i]&&(a[t+"."+n]=s[i][n]),2&c[i]&&(a[t+"."+o]=d?4&c[i]?null:s[i][o]:4&c[i]?null:r(s[i],o).get())):a[t]=null;return a}};return f}},{"./nested_property":408}],403:[function(t,e,n){"use strict";var r=t("../registry");e.exports=function(t,e){for(var n=t._context.locale,i=0;i<2;i++){for(var o=t._context.locales,a=0;a<2;a++){var s=(o[n]||{}).dictionary;if(s){var l=s[e];if(l)return l}o=r.localeRegistry}var c=n.split("-")[0];if(c===n)break;n=c}return e}},{"../registry":490}],404:[function(t,e,n){"use strict";var r=t("../plot_api/plot_config").dfltConfig,i=t("./notifier"),o=e.exports={};o.log=function(){var t;if(r.logging>1){var e=["LOG:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(r.notifyOnLogging>1){var n=[];for(t=0;t<arguments.length;t++)n.push(arguments[t]);i(n.join("<br>"),"long")}},o.warn=function(){var t;if(r.logging>0){var e=["WARN:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(r.notifyOnLogging>0){var n=[];for(t=0;t<arguments.length;t++)n.push(arguments[t]);i(n.join("<br>"),"stick")}},o.error=function(){var t;if(r.logging>0){var e=["ERROR:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.error.apply(console,e)}if(r.notifyOnLogging>0){var n=[];for(t=0;t<arguments.length;t++)n.push(arguments[t]);i(n.join("<br>"),"stick")}}},{"../plot_api/plot_config":437,"./notifier":410}],405:[function(t,e,n){"use strict";var r=t("@plotly/d3");e.exports=function(t,e,n){var i=t.selectAll("g."+n.replace(/\s/g,".")).data(e,(function(t){return t[0].trace.uid}));i.exit().remove(),i.enter().append("g").attr("class",n),i.order();var o=t.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each((function(t){t[0][o]=r.select(this)})),i}},{"@plotly/d3":14}],406:[function(t,e,n){"use strict";var r=t("gl-mat4");n.init2dArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=new Array(e);return n},n.transposeRagged=function(t){var e,n,r=0,i=t.length;for(e=0;e<i;e++)r=Math.max(r,t[e].length);var o=new Array(r);for(e=0;e<r;e++)for(o[e]=new Array(i),n=0;n<i;n++)o[e][n]=t[n][e];return o},n.dot=function(t,e){if(!t.length||!e.length||t.length!==e.length)return null;var r,i,o=t.length;if(t[0].length)for(r=new Array(o),i=0;i<o;i++)r[i]=n.dot(t[i],e);else if(e[0].length){var a=n.transposeRagged(e);for(r=new Array(a.length),i=0;i<a.length;i++)r[i]=n.dot(t,a[i])}else for(r=0,i=0;i<o;i++)r+=t[i]*e[i];return r},n.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},n.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},n.rotationXYMatrix=function(t,e,r){return n.dot(n.dot(n.translationMatrix(e,r),n.rotationMatrix(t)),n.translationMatrix(-e,-r))},n.apply3DTransform=function(t){return function(){var e=arguments,r=1===arguments.length?e[0]:[e[0],e[1],e[2]||0];return n.dot(t,[r[0],r[1],r[2],1]).slice(0,3)}},n.apply2DTransform=function(t){return function(){var e=arguments;3===e.length&&(e=e[0]);var r=1===arguments.length?e[0]:[e[0],e[1]];return n.dot(t,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(t){var e=n.apply2DTransform(t);return function(t){return e(t.slice(0,2)).concat(e(t.slice(2,4)))}},n.convertCssMatrix=function(t){if(t){var e=t.length;if(16===e)return t;if(6===e)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},n.inverseTransformMatrix=function(t){var e=[];return r.invert(e,t),[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}},{"gl-mat4":141}],407:[function(t,e,n){"use strict";e.exports={mod:function(t,e){var n=t%e;return n<0?n+e:n},modHalf:function(t,e){return Math.abs(t)>e/2?t-Math.round(t/e)*e:t}}},{}],408:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("./array").isArrayOrTypedArray;function o(t,e){return function(){var n,r,a,s,l,c=t;for(s=0;s<e.length-1;s++){if(-1===(n=e[s])){for(r=!0,a=[],l=0;l<c.length;l++)a[l]=o(c[l],e.slice(s+1))(),a[l]!==a[0]&&(r=!1);return r?a[0]:a}if("number"==typeof n&&!i(c))return;if("object"!=typeof(c=c[n])||null===c)return}if("object"==typeof c&&null!==c&&null!==(a=c[e[s]]))return a}}e.exports=function(t,e){if(r(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var n,i,a,s=0,c=e.split(".");s<c.length;){if(n=String(c[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])c[s]=n[1];else{if(0!==s)throw"bad property string";c.splice(0,1)}for(i=n[2].substr(1,n[2].length-2).split("]["),a=0;a<i.length;a++)s++,c.splice(s,0,Number(i[a]))}s++}return"object"!=typeof t?function(t,e,n){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:n,obj:t}}(t,e,c):{set:l(t,c,e),get:o(t,c),astr:e,parts:c,obj:t}};var a=/(^|\.)args\[/;function s(t,e){return void 0===t||null===t&&!e.match(a)}function l(t,e,n){return function(r){var o,a,l=t,f="",h=[[t,f]],p=s(r,n);for(a=0;a<e.length-1;a++){if("number"==typeof(o=e[a])&&!i(l))throw"array index but container is not an array";if(-1===o){if(p=!u(l,e.slice(a+1),r,n))break;return}if(!d(l,o,e[a+1],p))break;if("object"!=typeof(l=l[o])||null===l)throw"container is not an object";f=c(f,o),h.push([l,f])}if(p){if(a===e.length-1&&(delete l[e[a]],Array.isArray(l)&&+e[a]==l.length-1))for(;l.length&&void 0===l[l.length-1];)l.pop()}else l[e[a]]=r}}function c(t,e){var n=e;return r(e)?n="["+e+"]":t&&(n="."+e),t+n}function u(t,e,n,r){var o,a=i(n),c=!0,u=n,f=r.replace("-1",0),h=!a&&s(n,f),p=e[0];for(o=0;o<t.length;o++)f=r.replace("-1",o),a&&(h=s(u=n[o%n.length],f)),h&&(c=!1),d(t,o,p,h)&&l(t[o],e,r.replace("-1",o))(u);return c}function d(t,e,n,r){if(void 0===t[e]){if(r)return!1;t[e]="number"==typeof n?[]:{}}return!0}},{"./array":384,"fast-isnumeric":121}],409:[function(t,e,n){"use strict";e.exports=function(){}},{}],410:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("fast-isnumeric"),o=[];e.exports=function(t,e){if(-1===o.indexOf(t)){o.push(t);var n=1e3;i(e)?n=e:"long"===e&&(n=3e3);var a=r.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(t){var i=r.select(this);i.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){i.transition().call(s)}));for(var o=i.append("p"),a=t.split(/<br\s*\/?>/g),l=0;l<a.length;l++)l&&o.append("br"),o.append("span").text(a[l]);"stick"===e?i.transition().duration(350).style("opacity",1):i.transition().duration(700).style("opacity",1).transition().delay(n).call(s)}))}function s(t){t.duration(700).style("opacity",0).each("end",(function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1),r.select(this).remove()}))}}},{"@plotly/d3":14,"fast-isnumeric":121}],411:[function(t,e,n){"use strict";var r=t("./setcursor"),i="data-savedcursor";e.exports=function(t,e){var n=t.attr(i);if(e){if(!n){for(var o=(t.attr("class")||"").split(" "),a=0;a<o.length;a++){var s=o[a];0===s.indexOf("cursor-")&&t.attr(i,s.substr(7)).classed(s,!1)}t.attr(i)||t.attr(i,"!!")}r(t,e)}else n&&(t.attr(i,null),"!!"===n?r(t):r(t,n))}},{"./setcursor":421}],412:[function(t,e,n){"use strict";var r=t("./matrix").dot,i=t("../constants/numerical").BADNUM,o=e.exports={};o.tester=function(t){var e,n=t.slice(),r=n[0][0],o=r,a=n[0][1],s=a;for(n[n.length-1][0]===n[0][0]&&n[n.length-1][1]===n[0][1]||n.push(n[0]),e=1;e<n.length;e++)r=Math.min(r,n[e][0]),o=Math.max(o,n[e][0]),a=Math.min(a,n[e][1]),s=Math.max(s,n[e][1]);var l,c=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(c=!0,l=function(t){return t[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(c=!0,l=function(t){return t[1]===n[0][1]}));var u=!0,d=n[0];for(e=1;e<n.length;e++)if(d[0]!==n[e][0]||d[1]!==n[e][1]){u=!1;break}return{xmin:r,xmax:o,ymin:a,ymax:s,pts:n,contains:c?function(t,e){var n=t[0],c=t[1];return!(n===i||n<r||n>o||c===i||c<a||c>s)&&(!e||!l(t))}:function(t,e){var l=t[0],c=t[1];if(l===i||l<r||l>o||c===i||c<a||c>s)return!1;var u,d,f,h,p,g=n.length,m=n[0][0],v=n[0][1],y=0;for(u=1;u<g;u++)if(d=m,f=v,m=n[u][0],v=n[u][1],!(l<(h=Math.min(d,m))||l>Math.max(d,m)||c>Math.max(f,v)))if(c<Math.min(f,v))l!==h&&y++;else{if(c===(p=m===d?c:f+(l-d)*(v-f)/(m-d)))return 1!==u||!e;c<=p&&l!==h&&y++}return y%2==1},isRect:c,degenerate:u}},o.isSegmentBent=function(t,e,n,i){var o,a,s,l=t[e],c=[t[n][0]-l[0],t[n][1]-l[1]],u=r(c,c),d=Math.sqrt(u),f=[-c[1]/d,c[0]/d];for(o=e+1;o<n;o++)if(a=[t[o][0]-l[0],t[o][1]-l[1]],(s=r(a,c))<0||s>u||Math.abs(r(a,f))>i)return!0;return!1},o.filter=function(t,e){var n=[t[0]],r=0,i=0;function a(a){t.push(a);var s=n.length,l=r;n.splice(i+1);for(var c=l+1;c<t.length;c++)(c===t.length-1||o.isSegmentBent(t,l,c+1,e))&&(n.push(t[c]),n.length<s-2&&(r=c,i=n.length-1),l=c)}return t.length>1&&a(t.pop()),{addPt:a,raw:t,filtered:n}}},{"../constants/numerical":378,"./matrix":406}],413:[function(t,e,r){(function(n){(function(){"use strict";var r=t("./show_no_webgl_msg"),i=t("regl");e.exports=function(t,e,o){var a=t._fullLayout,s=!0;return a._glcanvas.each((function(r){if(r.regl)r.regl.preloadCachedCode(o);else if(!r.pick||a._has("parcoords")){try{r.regl=i({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:t._context.plotGlPixelRatio||n.devicePixelRatio,extensions:e||[],cachedCode:o||{}})}catch(t){s=!1}r.regl||(s=!1),s&&this.addEventListener("webglcontextlost",(function(e){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:e,layer:r.key})}),!1)}})),s||r({container:a._glcontainer.node()}),s}}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./show_no_webgl_msg":422,regl:198}],414:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("is-mobile");e.exports=function(t){var e;if("string"!=typeof(e=t&&t.hasOwnProperty("userAgent")?t.userAgent:function(){var t;return"undefined"!=typeof navigator&&(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),t}()))return!0;var n=i({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!n)for(var o=e.split(" "),a=1;a<o.length;a++)if(-1!==o[a].indexOf("Safari"))for(var s=a-1;s>-1;s--){var l=o[s];if("Version/"===l.substr(0,8)){var c=l.substr(8).split(".")[0];if(r(c)&&(c=+c),c>=13)return!0}}return n}},{"fast-isnumeric":121,"is-mobile":164}],415:[function(t,e,n){"use strict";e.exports=function(t,e){if(e instanceof RegExp){for(var n=e.toString(),r=0;r<t.length;r++)if(t[r]instanceof RegExp&&t[r].toString()===n)return t;t.push(e)}else!e&&0!==e||-1!==t.indexOf(e)||t.push(e);return t}},{}],416:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plot_api/plot_config").dfltConfig,o={add:function(t,e,n,r,o){var a,s;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},s=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(s,t.undoQueue.queue.length-s,a),t.undoQueue.index+=1):a=t.undoQueue.queue[s-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(o)),t.undoQueue.queue.length>i.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,n;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.undo.calls.length;n++)o.plotDo(t,e.undo.calls[n],e.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,n;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.redo.calls.length;n++)o.plotDo(t,e.redo.calls[n],e.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},plotDo:function(t,e,n){t.autoplay=!0,n=function(t,e){for(var n,i=[],o=0;o<e.length;o++)n=e[o],i[o]=n===t?n:"object"==typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return i}(t,n),e.apply(null,n)}};e.exports=o},{"../lib":400,"../plot_api/plot_config":437}],417:[function(t,e,n){"use strict";n.counter=function(t,e,n,r){var i=(e||"")+(n?"":"$"),o=!1===r?"":"^";return"xy"===t?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(o+t+"([2-9]|[1-9][0-9]+)?"+i)}},{}],418:[function(t,e,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;e.exports=function(t,e){for(;e;){var n=t.match(r);if(n)t=n[1];else{if(!t.match(i))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e}},{}],419:[function(t,e,n){"use strict";var r=t("./array").isArrayOrTypedArray,i=t("./is_plain_object");e.exports=function t(e,n){for(var o in n){var a=n[o],s=e[o];if(s!==a)if("_"===o.charAt(0)||"function"==typeof a){if(o in e)continue;e[o]=a}else if(r(a)&&r(s)&&i(a[0])){if("customdata"===o||"ids"===o)continue;for(var l=Math.min(a.length,s.length),c=0;c<l;c++)s[c]!==a[c]&&i(a[c])&&i(s[c])&&t(s[c],a[c])}else i(a)&&i(s)&&(t(s,a),Object.keys(s).length||delete e[o])}}},{"./array":384,"./is_plain_object":401}],420:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("./loggers"),o=t("./identity"),a=t("../constants/numerical").BADNUM;function s(t,e){return t<e}function l(t,e){return t<=e}function c(t,e){return t>e}function u(t,e){return t>=e}n.findBin=function(t,e,n){if(r(e.start))return n?Math.ceil((t-e.start)/e.size-1e-9)-1:Math.floor((t-e.start)/e.size+1e-9);var o,a,d=0,f=e.length,h=0,p=f>1?(e[f-1]-e[0])/(f-1):1;for(a=p>=0?n?s:l:n?u:c,t+=1e-9*p*(n?-1:1)*(p>=0?1:-1);d<f&&h++<100;)a(e[o=Math.floor((d+f)/2)],t)?d=o+1:f=o;return h>90&&i.log("Long binary search..."),d-1},n.sorterAsc=function(t,e){return t-e},n.sorterDes=function(t,e){return e-t},n.distinctVals=function(t){var e,r=t.slice();for(r.sort(n.sorterAsc),e=r.length-1;e>-1&&r[e]===a;e--);for(var i,o=r[e]-r[0]||1,s=o/(e||1)/1e4,l=[],c=0;c<=e;c++){var u=r[c],d=u-i;void 0===i?(l.push(u),i=u):d>s&&(o=Math.min(o,d),l.push(u),i=u)}return{vals:l,minDiff:o}},n.roundUp=function(t,e,n){for(var r,i=0,o=e.length-1,a=0,s=n?0:1,l=n?1:0,c=n?Math.ceil:Math.floor;i<o&&a++<100;)e[r=c((i+o)/2)]<=t?i=r+s:o=r-l;return e[i]},n.sort=function(t,e){for(var n=0,r=0,i=1;i<t.length;i++){var o=e(t[i],t[i-1]);if(o<0?n=1:o>0&&(r=1),n&&r)return t.sort(e)}return r?t:t.reverse()},n.findIndexOfMin=function(t,e){e=e||o;for(var n,r=1/0,i=0;i<t.length;i++){var a=e(t[i]);a<r&&(r=a,n=i)}return n}},{"../constants/numerical":378,"./identity":398,"./loggers":404,"fast-isnumeric":121}],421:[function(t,e,n){"use strict";e.exports=function(t,e){(t.attr("class")||"").split(" ").forEach((function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)})),e&&t.classed("cursor-"+e,!0)}},{}],422:[function(t,e,n){"use strict";var r=t("../components/color"),i=function(){};e.exports=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=i);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=r.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=r.lightLine,n.style["z-index"]=30;var o=document.createElement("p");return o.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",o.style.position="relative",o.style.top="50%",o.style.left="50%",o.style.height="30%",o.style.width="50%",o.style.margin="-15% 0 0 -25%",n.appendChild(o),t.container.appendChild(n),t.container.style.background="#FFFFFF",t.container.onclick=function(){window.open("https://get.webgl.org")},!1}},{"../components/color":257}],423:[function(t,e,n){"use strict";e.exports=function(t){return Object.keys(t).sort()}},{}],424:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("./array").isArrayOrTypedArray;n.aggNums=function(t,e,o,a){var s,l;if((!a||a>o.length)&&(a=o.length),r(e)||(e=!1),i(o[0])){for(l=new Array(a),s=0;s<a;s++)l[s]=n.aggNums(t,e,o[s]);o=l}for(s=0;s<a;s++)r(e)?r(o[s])&&(e=t(+e,+o[s])):e=o[s];return e},n.len=function(t){return n.aggNums((function(t){return t+1}),0,t)},n.mean=function(t,e){return e||(e=n.len(t)),n.aggNums((function(t,e){return t+e}),0,t)/e},n.midRange=function(t){if(void 0!==t&&0!==t.length)return(n.aggNums(Math.max,null,t)+n.aggNums(Math.min,null,t))/2},n.variance=function(t,e,i){return e||(e=n.len(t)),r(i)||(i=n.mean(t,e)),n.aggNums((function(t,e){return t+Math.pow(e-i,2)}),0,t)/e},n.stdev=function(t,e,r){return Math.sqrt(n.variance(t,e,r))},n.median=function(t){var e=t.slice().sort();return n.interp(e,.5)},n.interp=function(t,e){if(!r(e))throw"n should be a finite number";if((e=e*t.length-.5)<0)return t[0];if(e>t.length-1)return t[t.length-1];var n=e%1;return n*t[Math.ceil(e)]+(1-n)*t[Math.floor(e)]}},{"./array":384,"fast-isnumeric":121}],425:[function(t,e,n){"use strict";var r=t("color-normalize");e.exports=function(t){return t?r(t):[0,0,0,1]}},{"color-normalize":35}],426:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../lib"),o=i.strTranslate,a=t("../constants/xmlns_namespaces"),s=t("../constants/alignment").LINE_SPACING,l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(t,e,g){var M=t.text(),E=!t.attr("data-notex")&&e&&e._context.typesetMath&&"undefined"!=typeof MathJax&&M.match(l),O=r.select(t.node().parentNode);if(!O.empty()){var L=t.attr("class")?t.attr("class").split(" ")[0]:"text";return L+="-math",O.selectAll("svg."+L).remove(),O.selectAll("g."+L+"-group").remove(),t.style("display",null).attr({"data-unformatted":M,"data-math":"N"}),E?(e&&e._promises||[]).push(new Promise((function(e){t.style("display","none");var n=parseInt(t.node().style.fontSize,10),a={fontSize:n};!function(t,e,n){var o,a,s,l,f=parseInt((MathJax.version||"").split(".")[0]);if(2===f||3===f){var h=function(){var n="math-output-"+i.randstr({},64),o=(l=r.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute","font-size":e.fontSize+"px"}).text(t.replace(c,"\\lt ").replace(u,"\\gt "))).node();return 2===f?MathJax.Hub.Typeset(o):MathJax.typeset([o])},p=function(){var e=l.select(2===f?".MathJax_SVG":".MathJax"),o=!e.empty()&&l.select("svg").node();if(o){var a,s=o.getBoundingClientRect();a=2===f?r.select("body").select("#MathJax_SVG_glyphs"):e.select("defs"),n(e,a,s)}else i.log("There was an error in the tex syntax.",t),n();l.remove()};2===f?MathJax.Hub.Queue((function(){return a=i.extendDeepAll({},MathJax.Hub.config),s=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:d},displayAlign:"left"})}),(function(){if("SVG"!==(o=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),h,p,(function(){if("SVG"!==o)return MathJax.Hub.setRenderer(o)}),(function(){return void 0!==s&&(MathJax.Hub.processSectionDelay=s),MathJax.Hub.Config(a)})):3===f&&(a=i.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=d,"svg"!==(o=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then((function(){h(),p(),"svg"!==o&&(MathJax.config.startup.output=o),MathJax.config=a})))}else i.warn("No MathJax version:",MathJax.version)}(E[2],a,(function(r,i,a){O.selectAll("svg."+L).remove(),O.selectAll("g."+L+"-group").remove();var s=r&&r.select("svg");if(!s||!s.node())return P(),void e();var l=O.append("g").classed(L+"-group",!0).attr({"pointer-events":"none","data-unformatted":M,"data-math":"Y"});l.node().appendChild(s.node()),i&&i.node()&&s.node().insertBefore(i.node().cloneNode(!0),s.node().firstChild);var c=a.width,u=a.height;s.attr({class:L,height:u,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var d=t.node().style.fill||"black",f=s.select("g");f.attr({fill:d,stroke:d});var h=f.node().getBoundingClientRect(),p=h.width,m=h.height;(p>c||m>u)&&(s.style("overflow","hidden"),p=(h=s.node().getBoundingClientRect()).width,m=h.height);var v=+t.attr("x"),y=+t.attr("y"),b=-(n||t.node().getBoundingClientRect().height)/4;if("y"===L[0])l.attr({transform:"rotate("+[-90,v,y]+")"+o(-p/2,b-m/2)});else if("l"===L[0])y=b-m/2;else if("a"===L[0]&&0!==L.indexOf("atitle"))v=0,y=b;else{var x=t.attr("text-anchor");v-=p*("middle"===x?.5:"end"===x?1:0),y=y+b-m/2}s.attr({x:v,y:y}),g&&g.call(t,l),e(l)}))}))):P(),t}function P(){O.empty()||(L=t.attr("class")+"-math",O.select("svg."+L).remove()),t.text("").style("white-space","pre"),function(t,e){e=e.replace(m," ");var n,o=!1,l=[],c=-1;function u(){c++;var e=document.createElementNS(a.svg,"tspan");r.select(e).attr({class:"line",dy:c*s+"em"}),t.appendChild(e),n=e;var i=l;if(l=[{node:e}],i.length>1)for(var o=1;o<i.length;o++)d(i[o])}function d(t){var e,i=t.type,o={};if("a"===i){e="a";var s=t.target,c=t.href,u=t.popup;c&&(o={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":c},u&&(o.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+u+'");return false;'))}else e="tspan";t.style&&(o.style=t.style);var d=document.createElementNS(a.svg,e);if("sup"===i||"sub"===i){g(n,"\u200b"),n.appendChild(d);var f=document.createElementNS(a.svg,"tspan");g(f,"\u200b"),r.select(f).attr("dy",p[i]),o.dy=h[i],n.appendChild(d),n.appendChild(f)}else n.appendChild(d);r.select(d).attr(o),n=t.node=d,l.push(t)}function g(t,e){t.appendChild(document.createTextNode(e))}function M(t){if(1!==l.length){var r=l.pop();t!==r.type&&i.log("Start tag <"+r.type+"> doesnt match end tag <"+t+">. Pretending it did match.",e),n=l[l.length-1].node}else i.log("Ignoring unexpected end tag </"+t+">.",e)}b.test(e)?u():(n=t,l=[{node:t}]);for(var E=e.split(v),O=0;O<E.length;O++){var L=E[O],P=L.match(y),D=P&&P[2].toLowerCase(),R=f[D];if("br"===D)u();else if(void 0===R)g(n,C(L));else if(P[1])M(D);else{var I=P[4],z={type:D},N=A(I,x);if(N?(N=N.replace(T,"$1 fill:"),R&&(N+=";"+R)):R&&(N=R),N&&(z.style=N),"a"===D){o=!0;var B=A(I,w);if(B){var F=S(B);F&&(z.href=F,z.target=A(I,k)||"_blank",z.popup=A(I,_))}}d(z)}}return o}(t.node(),M)&&t.style("pointer-events","all"),n.positionText(t),g&&g.call(t)}};var c=/(<|&lt;|&#60;)/g,u=/(>|&gt;|&#62;)/g,d=[["$","$"],["\\(","\\)"]],f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},h={sub:"0.3em",sup:"-0.6em"},p={sub:"-0.21em",sup:"0.42em"},g=["http:","https:","mailto:","",void 0,":"],m=n.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,y=/<(\/?)([^ >]*)(\s+(.*))?>/i,b=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,_=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(t,e){if(!t)return null;var n=t.match(e),r=n&&(n[3]||n[4]);return r&&C(r)}var T=/(^|;)\s*color:/;n.plainText=function(t,e){for(var n=void 0!==(e=e||{}).len&&-1!==e.len?e.len:1/0,r=void 0!==e.allowedTags?e.allowedTags:["br"],i="...".length,o=t.split(v),a=[],s="",l=0,c=0;c<o.length;c++){var u=o[c],d=u.match(y),f=d&&d[2].toLowerCase();if(f)-1!==r.indexOf(f)&&(a.push(u),s=f);else{var h=u.length;if(l+h<n)a.push(u),l+=h;else if(l<n){var p=n-l;s&&("br"!==s||p<=i||h<=i)&&a.pop(),n>i?a.push(u.substr(0,p-i)+"..."):a.push(u.substr(0,p));break}s=""}}return a.join("")};var M={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function C(t){return t.replace(E,(function(t,e){return("#"===e.charAt(0)?function(t){if(!(t>1114111)){var e=String.fromCodePoint;if(e)return e(t);var n=String.fromCharCode;return t<=65535?n(t):n(55232+(t>>10),t%1024+56320)}}("x"===e.charAt(1)?parseInt(e.substr(2),16):parseInt(e.substr(1),10)):M[e])||t}))}function S(t){var e=encodeURI(decodeURI(t)),n=document.createElement("a"),r=document.createElement("a");n.href=t,r.href=e;var i=n.protocol,o=r.protocol;return-1!==g.indexOf(i)&&-1!==g.indexOf(o)?e:""}function O(t,e,n){var r,o,a,s=n.horizontalAlign,l=n.verticalAlign||"top",c=t.node().getBoundingClientRect(),u=e.node().getBoundingClientRect();return o="bottom"===l?function(){return c.bottom-r.height}:"middle"===l?function(){return c.top+(c.height-r.height)/2}:function(){return c.top},a="right"===s?function(){return c.right-r.width}:"center"===s?function(){return c.left+(c.width-r.width)/2}:function(){return c.left},function(){r=this.node().getBoundingClientRect();var t=a()-u.left,e=o()-u.top,s=n.gd||{};if(n.gd){s._fullLayout._calcInverseTransform(s);var l=i.apply3DTransform(s._fullLayout._invTransform)(t,e);t=l[0],e=l[1]}return this.style({top:e+"px",left:t+"px","z-index":1e3}),this}}n.convertEntities=C,n.sanitizeHTML=function(t){t=t.replace(m," ");for(var e=document.createElement("p"),n=e,i=[],o=t.split(v),a=0;a<o.length;a++){var s=o[a],l=s.match(y),c=l&&l[2].toLowerCase();if(c in f)if(l[1])i.length&&(n=i.pop());else{var u=l[4],d=A(u,x),h=d?{style:d}:{};if("a"===c){var p=A(u,w);if(p){var g=S(p);if(g){h.href=g;var b=A(u,k);b&&(h.target=b)}}}var _=document.createElement(c);n.appendChild(_),r.select(_).attr(h),n=_,i.push(_)}else n.appendChild(document.createTextNode(C(s)))}return e.innerHTML},n.lineCount=function(t){return t.selectAll("tspan.line").size()||1},n.positionText=function(t,e,n){return t.each((function(){var t=r.select(this);function i(e,n){return void 0===n?null===(n=t.attr(e))&&(t.attr(e,0),n=0):t.attr(e,n),n}var o=i("x",e),a=i("y",n);"text"===this.nodeName&&t.selectAll("tspan.line").attr({x:o,y:a})}))},n.makeTextShadow=function(t){var e="1px ",n="1px ",r="1px ";return e+n+r+t+", -"+e+"-"+n+r+t+", "+e+"-"+n+r+t+", -"+e+n+r+t},n.makeEditable=function(t,e){var n=e.gd,i=e.delegate,o=r.dispatch("edit","input","cancel"),a=i||t;if(t.style({"pointer-events":i?"none":"all"}),1!==t.size())throw new Error("boo");function s(){!function(){var i=r.select(n).select(".svg-container"),a=i.append("div"),s=t.node().style,c=parseFloat(s.fontSize||12),u=e.text;void 0===u&&(u=t.attr("data-unformatted")),a.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":c,color:e.fill||s.fill||"black",opacity:1,"background-color":e.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(u).call(O(t,i,e)).on("blur",(function(){n._editing=!1,t.text(this.textContent).style({opacity:1});var e,i=r.select(this).attr("class");(e=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(t.node().parentNode).select(e).style({opacity:0});var a=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),o.edit.call(t,a)})).on("focus",(function(){var t=this;n._editing=!0,r.select(document).on("mouseup",(function(){if(r.event.target===t)return!1;document.activeElement===a.node()&&a.node().blur()}))})).on("keyup",(function(){27===r.event.which?(n._editing=!1,t.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),o.cancel.call(t,this.textContent)):(o.input.call(t,this.textContent),r.select(this).call(O(t,i,e)))})).on("keydown",(function(){13===r.event.which&&this.blur()})).call(l)}(),t.style({opacity:0});var i,s=a.attr("class");(i=s?"."+s.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(t.node().parentNode).select(i).style({opacity:0})}function l(t){var e=t.node(),n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),e.focus()}return e.immediate?s():a.on("click",s),r.rebind(t,o,"on")}},{"../constants/alignment":373,"../constants/xmlns_namespaces":379,"../lib":400,"@plotly/d3":14}],427:[function(t,e,n){"use strict";var r={};function i(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}n.throttle=function(t,e,n){var o=r[t],a=Date.now();if(!o){for(var s in r)r[s].ts<a-6e4&&delete r[s];o=r[t]={ts:0,timer:null}}function l(){n(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}i(o),a>o.ts+e?l():o.timer=setTimeout((function(){l(),o.timer=null}),e)},n.done=function(t){var e=r[t];return e&&e.timer?new Promise((function(t){var n=e.onDone;e.onDone=function(){n&&n(),t(),e.onDone=null}})):Promise.resolve()},n.clear=function(t){if(t)i(r[t]),delete r[t];else for(var e in r)n.clear(e)}},{}],428:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var n=Math.log(Math.min(e[0],e[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),n}},{"fast-isnumeric":121}],429:[function(t,e,n){"use strict";e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],430:[function(t,e,n){"use strict";e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],431:[function(t,e,n){"use strict";var r=t("../registry");e.exports=function(t){for(var e,n,i=r.layoutArrayContainers,o=r.layoutArrayRegexes,a=t.split("[")[0],s=0;s<o.length;s++)if((n=t.match(o[s]))&&0===n.index){e=n[0];break}if(e||(e=i[i.indexOf(a)]),!e)return!1;var l=t.substr(e.length);return l?!!(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(n[1]),property:n[3]||""}:{array:e,index:"",property:""}}},{"../registry":490}],432:[function(t,e,n){"use strict";var r=t("../lib"),i=r.extendFlat,o=r.isPlainObject,a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},s={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=a.flags.slice().concat(["fullReplot"]),c=s.flags.slice().concat("layoutReplot");function u(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!1;return e}function d(t,e,n){var r=i({},t);for(var a in r){var s=r[a];o(s)&&(r[a]=f(s,e,n,a))}return"from-root"===n&&(r.editType=e),r}function f(t,e,n,r){if(t.valType){var o=i({},t);if(o.editType=e,Array.isArray(t.items)){o.items=new Array(t.items.length);for(var a=0;a<t.items.length;a++)o.items[a]=f(t.items[a],e,"from-root")}return o}return d(t,e,"_"===r.charAt(0)?"nested":"from-root")}e.exports={traces:a,layout:s,traceFlags:function(){return u(l)},layoutFlags:function(){return u(c)},update:function(t,e){var n=e.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)t[r[i]]=!0},overrideAll:d}},{"../lib":400}],433:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("gl-mat4/fromQuat"),o=t("../registry"),a=t("../lib"),s=t("../plots/plots"),l=t("../plots/cartesian/axis_ids"),c=t("../components/color"),u=l.cleanId,d=l.getFromTrace,f=o.traceIs;function h(t,e){var n=t[e],r=e.charAt(0);n&&"paper"!==n&&(t[e]=u(n,r,!0))}function p(t){function e(e,n){var r=t[e],i=t.title&&t.title[n];r&&!i&&(t.title||(t.title={}),t.title[n]=t[e],delete t[e])}t&&("string"!=typeof t.title&&"number"!=typeof t.title||(t.title={text:t.title}),e("titlefont","font"),e("titleposition","position"),e("titleside","side"),e("titleoffset","offset"))}function g(t){if(!a.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,("string"==typeof e||"number"==typeof e)&&String(e)}function m(t,e,n,r){if(n&&!r)return t;if(r&&!n)return e;if(!t.trim())return e;if(!e.trim())return t;var i,o=Math.min(t.length,e.length);for(i=0;i<o&&t.charAt(i)===e.charAt(i);i++);return t.substr(0,i).trim()}function v(t){var e="middle",n="center";return"string"==typeof t&&(-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?n="left":-1!==t.indexOf("right")&&(n="right")),e+" "+n}function y(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}n.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&a.log("Clearing previous rejected promises from queue."),t._promises=[]},n.cleanLayout=function(t){var e,r;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var o=(s.subplotsRegistry.cartesian||{}).attrRegex,l=(s.subplotsRegistry.polar||{}).attrRegex,d=(s.subplotsRegistry.ternary||{}).attrRegex,f=(s.subplotsRegistry.gl3d||{}).attrRegex,g=Object.keys(t);for(e=0;e<g.length;e++){var m=g[e];if(o&&o.test(m)){var v=t[m];v.anchor&&"free"!==v.anchor&&(v.anchor=u(v.anchor)),v.overlaying&&(v.overlaying=u(v.overlaying)),v.type||(v.isdate?v.type="date":v.islog?v.type="log":!1===v.isdate&&!1===v.islog&&(v.type="linear")),"withzero"!==v.autorange&&"tozero"!==v.autorange||(v.autorange=!0,v.rangemode="tozero"),delete v.islog,delete v.isdate,delete v.categories,y(v,"domain")&&delete v.domain,void 0!==v.autotick&&(void 0===v.tickmode&&(v.tickmode=v.autotick?"auto":"linear"),delete v.autotick),p(v)}else if(l&&l.test(m))p(t[m].radialaxis);else if(d&&d.test(m)){var b=t[m];p(b.aaxis),p(b.baxis),p(b.caxis)}else if(f&&f.test(m)){var x=t[m],w=x.cameraposition;if(Array.isArray(w)&&4===w[0].length){var k=w[0],_=w[1],A=w[2],T=i([],k),M=[];for(r=0;r<3;++r)M[r]=_[r]+A*T[2+4*r];x.camera={eye:{x:M[0],y:M[1],z:M[2]},center:{x:_[0],y:_[1],z:_[2]},up:{x:0,y:0,z:1}},delete x.cameraposition}p(x.xaxis),p(x.yaxis),p(x.zaxis)}}var E=Array.isArray(t.annotations)?t.annotations.length:0;for(e=0;e<E;e++){var C=t.annotations[e];a.isPlainObject(C)&&(C.ref&&("paper"===C.ref?(C.xref="paper",C.yref="paper"):"data"===C.ref&&(C.xref="x",C.yref="y"),delete C.ref),h(C,"xref"),h(C,"yref"))}var S=Array.isArray(t.shapes)?t.shapes.length:0;for(e=0;e<S;e++){var O=t.shapes[e];a.isPlainObject(O)&&(h(O,"xref"),h(O,"yref"))}var L=Array.isArray(t.images)?t.images.length:0;for(e=0;e<L;e++){var P=t.images[e];a.isPlainObject(P)&&(h(P,"xref"),h(P,"yref"))}var D=t.legend;return D&&(D.x>3?(D.x=1.02,D.xanchor="left"):D.x<-2&&(D.x=-.02,D.xanchor="right"),D.y>3?(D.y=1.02,D.yanchor="bottom"):D.y<-2&&(D.y=-.02,D.yanchor="top")),p(t),"rotate"===t.dragmode&&(t.dragmode="orbit"),c.clean(t),t.template&&t.template.layout&&n.cleanLayout(t.template.layout),t},n.cleanData=function(t){for(var e=0;e<t.length;e++){var r,i=t[e];if("histogramy"===i.type&&"xbins"in i&&!("ybins"in i)&&(i.ybins=i.xbins,delete i.xbins),i.error_y&&"opacity"in i.error_y){var l=c.defaults,d=i.error_y.color||(f(i,"bar")?c.defaultLine:l[e%l.length]);i.error_y.color=c.addOpacity(c.rgb(d),c.opacity(d)*i.error_y.opacity),delete i.error_y.opacity}if("bardir"in i&&("h"!==i.bardir||!f(i,"bar")&&"histogram"!==i.type.substr(0,9)||(i.orientation="h",n.swapXYData(i)),delete i.bardir),"histogramy"===i.type&&n.swapXYData(i),"histogramx"!==i.type&&"histogramy"!==i.type||(i.type="histogram"),"scl"in i&&!("colorscale"in i)&&(i.colorscale=i.scl,delete i.scl),"reversescl"in i&&!("reversescale"in i)&&(i.reversescale=i.reversescl,delete i.reversescl),i.xaxis&&(i.xaxis=u(i.xaxis,"x")),i.yaxis&&(i.yaxis=u(i.yaxis,"y")),f(i,"gl3d")&&i.scene&&(i.scene=s.subplotsRegistry.gl3d.cleanId(i.scene)),!f(i,"pie-like")&&!f(i,"bar-like"))if(Array.isArray(i.textposition))for(r=0;r<i.textposition.length;r++)i.textposition[r]=v(i.textposition[r]);else i.textposition&&(i.textposition=v(i.textposition));var h=o.getModule(i);if(h&&h.colorbar){var b=h.colorbar.container,x=b?i[b]:i;x&&x.colorscale&&("YIGnBu"===x.colorscale&&(x.colorscale="YlGnBu"),"YIOrRd"===x.colorscale&&(x.colorscale="YlOrRd"))}if("surface"===i.type&&a.isPlainObject(i.contours)){var w=["x","y","z"];for(r=0;r<w.length;r++){var k=i.contours[w[r]];a.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if("candlestick"===i.type||"ohlc"===i.type){var _=!1!==(i.increasing||{}).showlegend,A=!1!==(i.decreasing||{}).showlegend,T=g(i.increasing),M=g(i.decreasing);if(!1!==T&&!1!==M){var E=m(T,M,_,A);E&&(i.name=E)}else!T&&!M||i.name||(i.name=T||M)}if(Array.isArray(i.transforms)){var C=i.transforms;for(r=0;r<C.length;r++){var S=C[r];if(a.isPlainObject(S))switch(S.type){case"filter":S.filtersrc&&(S.target=S.filtersrc,delete S.filtersrc),S.calendar&&(S.valuecalendar||(S.valuecalendar=S.calendar),delete S.calendar);break;case"groupby":if(S.styles=S.styles||S.style,S.styles&&!Array.isArray(S.styles)){var O=S.styles,L=Object.keys(O);S.styles=[];for(var P=0;P<L.length;P++)S.styles.push({target:L[P],value:O[L[P]]})}}}}y(i,"line")&&delete i.line,"marker"in i&&(y(i.marker,"line")&&delete i.marker.line,y(i,"marker")&&delete i.marker),c.clean(i),i.autobinx&&(delete i.autobinx,delete i.xbins),i.autobiny&&(delete i.autobiny,delete i.ybins),p(i),i.colorbar&&p(i.colorbar),i.marker&&i.marker.colorbar&&p(i.marker.colorbar),i.line&&i.line.colorbar&&p(i.line.colorbar),i.aaxis&&p(i.aaxis),i.baxis&&p(i.baxis)}},n.swapXYData=function(t){var e;if(a.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var n=t.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);a.swapAttrs(t,["error_?.copy_ystyle"]),r&&a.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var i=t.hoverinfo.split("+");for(e=0;e<i.length;e++)"x"===i[e]?i[e]="y":"y"===i[e]&&(i[e]="x");t.hoverinfo=i.join("+")}},n.coerceTraceIndices=function(t,e){if(r(e))return[e];if(!Array.isArray(e)||!e.length)return t.data.map((function(t,e){return e}));if(Array.isArray(e)){for(var n=[],i=0;i<e.length;i++)a.isIndex(e[i],t.data.length)?n.push(e[i]):a.warn("trace index (",e[i],") is not a number or is out of bounds");return n}return e},n.manageArrayContainers=function(t,e,n){var i=t.obj,o=t.parts,s=o.length,l=o[s-1],c=r(l);if(c&&null===e){var u=o.slice(0,s-1).join(".");a.nestedProperty(i,u).get().splice(l,1)}else c&&void 0===t.get()?(void 0===t.get()&&(n[t.astr]=null),t.set(e)):t.set(e)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(t){var e=t.search(b);if(e>0)return t.substr(0,e)}n.hasParent=function(t,e){for(var n=x(e);n;){if(n in t)return!0;n=x(n)}return!1};var w=["x","y","z"];n.clearAxisTypes=function(t,e,n){for(var r=0;r<e.length;r++)for(var i=t._fullData[r],o=0;o<3;o++){var s=d(t,i,w[o]);if(s&&"log"!==s.type){var l=s._name,c=s._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==n[c])continue;l=c+"."+l}var u=l+".type";void 0===n[l]&&void 0===n[u]&&a.nestedProperty(t.layout,u).set(null)}}}},{"../components/color":257,"../lib":400,"../plots/cartesian/axis_ids":454,"../plots/plots":488,"../registry":490,"fast-isnumeric":121,"gl-mat4/fromQuat":131}],434:[function(t,e,n){"use strict";var r=t("./plot_api");n._doPlot=r._doPlot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n._guiRestyle=r._guiRestyle,n._guiRelayout=r._guiRelayout,n._guiUpdate=r._guiUpdate,n._storeDirectGUIEdit=r._storeDirectGUIEdit,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=t("./to_image"),n.validate=t("./validate"),n.downloadImage=t("../snapshot/download");var i=t("./template_api");n.makeTemplate=i.makeTemplate,n.validateTemplate=i.validateTemplate},{"../snapshot/download":492,"./plot_api":436,"./template_api":441,"./to_image":442,"./validate":443}],435:[function(t,e,n){"use strict";var r=t("../lib/is_plain_object"),i=t("../lib/noop"),o=t("../lib/loggers"),a=t("../lib/search").sorterAsc,s=t("../registry");n.containerArrayMatch=t("./container_array_match");var l=n.isAddVal=function(t){return"add"===t||r(t)},c=n.isRemoveVal=function(t){return null===t||"remove"===t};n.applyContainerArrayChanges=function(t,e,n,r,u){var d=e.astr,f=s.getComponentMethod(d,"supplyLayoutDefaults"),h=s.getComponentMethod(d,"draw"),p=s.getComponentMethod(d,"drawOne"),g=r.replot||r.recalc||f===i||h===i,m=t.layout,v=t._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",d);var y=n[""][""];if(c(y))e.set(null);else{if(!Array.isArray(y))return o.warn("Unrecognized full array edit value",d,y),!0;e.set(y)}return!g&&(f(m,v),h(t),!0)}var b,x,w,k,_,A,T,M,E=Object.keys(n).map(Number).sort(a),C=e.get(),S=C||[],O=u(v,d).get(),L=[],P=-1,D=S.length;for(b=0;b<E.length;b++)if(k=n[w=E[b]],_=Object.keys(k),A=k[""],T=l(A),w<0||w>S.length-(T?0:1))o.warn("index out of range",d,w);else if(void 0!==A)_.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",d,w),c(A)?L.push(w):T?("add"===A&&(A={}),S.splice(w,0,A),O&&O.splice(w,0,{})):o.warn("Unrecognized full object edit value",d,w,A),-1===P&&(P=w);else for(x=0;x<_.length;x++)M=d+"["+w+"].",u(S[w],_[x],M).set(k[_[x]]);for(b=L.length-1;b>=0;b--)S.splice(L[b],1),O&&O.splice(L[b],1);if(S.length?C||e.set(S):e.set(null),g)return!1;if(f(m,v),p!==i){var R;if(-1===P)R=E;else{for(D=Math.max(S.length,D),R=[],b=0;b<E.length&&!((w=E[b])>=P);b++)R.push(w);for(b=P;b<D;b++)R.push(b)}for(b=0;b<R.length;b++)p(t,R[b])}else h(t);return!0}},{"../lib/is_plain_object":401,"../lib/loggers":404,"../lib/noop":409,"../lib/search":420,"../registry":490,"./container_array_match":431}],436:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("fast-isnumeric"),o=t("has-hover"),a=t("../lib"),s=a.nestedProperty,l=t("../lib/events"),c=t("../lib/queue"),u=t("../registry"),d=t("./plot_schema"),f=t("../plots/plots"),h=t("../plots/cartesian/axes"),p=t("../components/drawing"),g=t("../components/color"),m=t("../plots/cartesian/graph_interact").initInteractions,v=t("../constants/xmlns_namespaces"),y=t("../components/selections").clearOutline,b=t("./plot_config").dfltConfig,x=t("./manage_arrays"),w=t("./helpers"),k=t("./subroutines"),_=t("./edit_types"),A=t("../plots/cartesian/constants").AX_NAME_PATTERN,T=0;function M(t){var e=t._fullLayout;e._redrawFromAutoMarginCount?e._redrawFromAutoMarginCount--:t.emit("plotly_afterplot")}function E(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){a.error(t)}}function C(t,e){E(t,g.combine(e,"white"))}function S(t,e){if(!t._context){t._context=a.extendDeep({},b);var n=r.select("base");t._context._baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:""}var i,s,l,c=t._context;if(e){for(s=Object.keys(e),i=0;i<s.length;i++)"editable"!==(l=s[i])&&"edits"!==l&&l in c&&("setBackground"===l&&"opaque"===e[l]?c[l]=C:c[l]=e[l]);e.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio);var u=e.editable;if(void 0!==u)for(c.editable=u,s=Object.keys(c.edits),i=0;i<s.length;i++)c.edits[s[i]]=u;if(e.edits)for(s=Object.keys(e.edits),i=0;i<s.length;i++)(l=s[i])in c.edits&&(c.edits[l]=e.edits[l]);c._exportedPlot=e._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"!==c.displayModeBar||o||(c.displayModeBar=!0),"transparent"!==c.setBackground&&"function"==typeof c.setBackground||(c.setBackground=E),c._hasZeroHeight=c._hasZeroHeight||0===t.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===t.clientWidth;var d=c.scrollZoom,f=c._scrollZoom={};if(!0===d)f.cartesian=1,f.gl3d=1,f.geo=1,f.mapbox=1;else if("string"==typeof d){var h=d.split("+");for(i=0;i<h.length;i++)f[h[i]]=1}else!1!==d&&(f.gl3d=1,f.geo=1,f.mapbox=1)}function O(t,e){var n,r,i=e+1,o=[];for(n=0;n<t.length;n++)(r=t[n])<0?o.push(i+r):o.push(r);return o}function L(t,e,n){var r,i;for(r=0;r<e.length;r++){if((i=e[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=t.data.length||i<-t.data.length)throw new Error(n+" must be valid indices for gd.data.");if(e.indexOf(i,r+1)>-1||i>=0&&e.indexOf(-t.data.length+i)>-1||i<0&&e.indexOf(t.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function P(t,e,n){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),L(t,e,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&L(t,n,"newIndices"),void 0!==n&&e.length!==n.length)throw new Error("current and new indices must be of equal length.")}function D(t,e,n,r,o){!function(t,e,n,r){var i=a.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");for(var o in L(t,n,"indices"),e){if(!Array.isArray(e[o])||e[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(i&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==e[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(t,e,n,r);for(var l=function(t,e,n,r){var o,l,c,u,d,f=a.isPlainObject(r),h=[];for(var p in Array.isArray(n)||(n=[n]),n=O(n,t.data.length-1),e)for(var g=0;g<n.length;g++){if(o=t.data[n[g]],l=(c=s(o,p)).get(),u=e[p][g],!a.isArrayOrTypedArray(u))throw new Error("attribute: "+p+" index: "+g+" must be an array");if(!a.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+p);if(l.constructor!==u.constructor)throw new Error("cannot extend array with an array of a different type: "+p);d=f?r[p][g]:r,i(d)||(d=-1),h.push({prop:c,target:l,insert:u,maxp:Math.floor(d)})}return h}(t,e,n,r),c={},u={},d=0;d<l.length;d++){var f=l[d].prop,h=l[d].maxp,p=o(l[d].target,l[d].insert,h);f.set(p[0]),Array.isArray(c[f.astr])||(c[f.astr]=[]),c[f.astr].push(p[1]),Array.isArray(u[f.astr])||(u[f.astr]=[]),u[f.astr].push(l[d].target.length)}return{update:c,maxPoints:u}}function R(t,e){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}function I(t,e,r,i){t=a.getGraphDiv(t),w.clearPromiseQueue(t);var o={};if("string"==typeof e)o[e]=r;else{if(!a.isPlainObject(e))return a.warn("Restyle fail.",e,r,i),Promise.reject();o=a.extendFlat({},e),void 0===i&&(i=r)}Object.keys(o).length&&(t.changed=!0);var s=w.coerceTraceIndices(t,i),l=F(t,o,s),u=l.flags;u.calc&&(t.calcdata=void 0),u.clearAxisTypes&&w.clearAxisTypes(t,s,{});var d=[];u.fullReplot?d.push(n._doPlot):(d.push(f.previousPromises),f.supplyDefaults(t),u.markerSize&&(f.doCalcdata(t),U(d)),u.style&&d.push(k.doTraceStyle),u.colorbars&&d.push(k.doColorBars),d.push(M)),d.push(f.rehover,f.redrag,f.reselect),c.add(t,I,[t,l.undoit,l.traces],I,[t,l.redoit,l.traces]);var h=a.syncOrAsync(d,t);return h&&h.then||(h=Promise.resolve()),h.then((function(){return t.emit("plotly_restyle",l.eventData),t}))}function z(t){return void 0===t?null:t}function N(t,e){return e?function(e,n,r){var i=s(e,n),o=i.set;return i.set=function(e){B((r||"")+n,i.get(),e,t),o(e)},i}:s}function B(t,e,n,r){if(Array.isArray(e)||Array.isArray(n))for(var i=Array.isArray(e)?e:[],o=Array.isArray(n)?n:[],s=Math.max(i.length,o.length),l=0;l<s;l++)B(t+"["+l+"]",i[l],o[l],r);else if(a.isPlainObject(e)||a.isPlainObject(n)){var c=a.isPlainObject(e)?e:{},u=a.isPlainObject(n)?n:{},d=a.extendFlat({},c,u);for(var f in d)B(t+"."+f,c[f],u[f],r)}else void 0===r[t]&&(r[t]=z(e))}function F(t,e,n){var r,i=t._fullLayout,o=t._fullData,l=t.data,c=i._guiEditing,p=N(i._preGUI,c),g=a.extendDeepAll({},e);j(e);var m,v=_.traceFlags(),y={},b={};function x(){return n.map((function(){}))}function k(t){var e=h.id2name(t);-1===m.indexOf(e)&&m.push(e)}function A(t){return"LAYOUT"+t+".autorange"}function T(t){return"LAYOUT"+t+".range"}function M(t){for(var e=t;e<o.length;e++)if(o[e]._input===l[t])return o[e]}function E(r,o,a){if(Array.isArray(r))r.forEach((function(t){E(t,o,a)}));else if(!(r in e)&&!w.hasParent(e,r)){var s;if("LAYOUT"===r.substr(0,6))s=p(t.layout,r.replace("LAYOUT",""));else{var u=n[a];s=N(i._tracePreGUI[M(u)._fullInput.uid],c)(l[u],r)}r in b||(b[r]=x()),void 0===b[r][a]&&(b[r][a]=z(s.get())),void 0!==o&&s.set(o)}}function C(t){return function(e){return o[e][t]}}function S(t){return function(e,r){return!1===e?o[n[r]][t]:null}}for(var O in e){if(w.hasParent(e,O))throw new Error("cannot set "+O+" and a parent attribute simultaneously");var L,P,D,R,I,B,F=e[O];if("autobinx"!==O&&"autobiny"!==O||(O=O.charAt(O.length-1)+"bins",F=Array.isArray(F)?F.map(S(O)):!1===F?n.map(C(O)):null),y[O]=F,"LAYOUT"!==O.substr(0,6)){for(b[O]=x(),r=0;r<n.length;r++)if(L=l[n[r]],P=M(n[r]),R=(D=N(i._tracePreGUI[P._fullInput.uid],c)(L,O)).get(),void 0!==(I=Array.isArray(F)?F[r%F.length]:F)){var $=D.parts[D.parts.length-1],Z=O.substr(0,O.length-$.length-1),U=Z?Z+".":"",H=Z?s(P,Z).get():P;if((B=d.getTraceValObject(P,D.parts))&&B.impliedEdits&&null!==I)for(var V in B.impliedEdits)E(a.relativeAttr(O,V),B.impliedEdits[V],r);else if("thicknessmode"!==$&&"lenmode"!==$||R===I||"fraction"!==I&&"pixels"!==I||!H){if("type"===O&&("pie"===I!=("pie"===R)||"funnelarea"===I!=("funnelarea"===R))){var W="x",Y="y";"bar"!==I&&"bar"!==R||"h"!==L.orientation||(W="y",Y="x"),a.swapAttrs(L,["?","?src"],"labels",W),a.swapAttrs(L,["d?","?0"],"label",W),a.swapAttrs(L,["?","?src"],"values",Y),"pie"===R||"funnelarea"===R?(s(L,"marker.color").set(s(L,"marker.colors").get()),i._pielayer.selectAll("g.trace").remove()):u.traceIs(L,"cartesian")&&s(L,"marker.colors").set(s(L,"marker.color").get())}}else{var G=i._size,q=H.orient,X="top"===q||"bottom"===q;if("thicknessmode"===$){var J=X?G.h:G.w;E(U+"thickness",H.thickness*("fraction"===I?1/J:J),r)}else{var K=X?G.w:G.h;E(U+"len",H.len*("fraction"===I?1/K:K),r)}}if(b[O][r]=z(R),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(O)){if("orientation"===O){D.set(I);var Q=L.x&&!L.y?"h":"v";if((D.get()||Q)===P.orientation)continue}else"orientationaxes"===O&&(L.orientation={v:"h",h:"v"}[P.orientation]);w.swapXYData(L),v.calc=v.clearAxisTypes=!0}else-1!==f.dataArrayContainers.indexOf(D.parts[0])?(w.manageArrayContainers(D,I,b),v.calc=!0):(B?B.arrayOk&&!u.traceIs(P,"regl")&&(a.isArrayOrTypedArray(I)||a.isArrayOrTypedArray(R))?v.calc=!0:_.update(v,B):v.calc=!0,D.set(I))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(O)&&h.swap(t,n),"orientationaxes"===O){var tt=s(t.layout,"hovermode"),et=tt.get();"x"===et?tt.set("y"):"y"===et?tt.set("x"):"x unified"===et?tt.set("y unified"):"y unified"===et&&tt.set("x unified")}if(-1!==["orientation","type"].indexOf(O)){for(m=[],r=0;r<n.length;r++){var nt=l[n[r]];u.traceIs(nt,"cartesian")&&(k(nt.xaxis||"x"),k(nt.yaxis||"y"))}E(m.map(A),!0,0),E(m.map(T),[0,1],0)}}else D=p(t.layout,O.replace("LAYOUT","")),b[O]=[z(D.get())],D.set(Array.isArray(F)?F[0]:F),v.calc=!0}return(v.calc||v.plot)&&(v.fullReplot=!0),{flags:v,undoit:b,redoit:y,traces:n,eventData:a.extendDeepNoArrays([],[g,n])}}function j(t){var e,n,r,i=a.counterRegex("axis",".title",!1,!1),o=/colorbar\.title$/,s=Object.keys(t);for(e=0;e<s.length;e++)n=s[e],r=t[n],"title"!==n&&!i.test(n)&&!o.test(n)||"string"!=typeof r&&"number"!=typeof r?n.indexOf("titlefont")>-1&&-1===n.indexOf("grouptitlefont")?l(n,n.replace("titlefont","title.font")):n.indexOf("titleposition")>-1?l(n,n.replace("titleposition","title.position")):n.indexOf("titleside")>-1?l(n,n.replace("titleside","title.side")):n.indexOf("titleoffset")>-1&&l(n,n.replace("titleoffset","title.offset")):l(n,n.replace("title","title.text"));function l(e,n){t[n]=t[e],delete t[e]}}function $(t,e,n){t=a.getGraphDiv(t),w.clearPromiseQueue(t);var r={};if("string"==typeof e)r[e]=n;else{if(!a.isPlainObject(e))return a.warn("Relayout fail.",e,n),Promise.reject();r=a.extendFlat({},e)}Object.keys(r).length&&(t.changed=!0);var i=Y(t,r),o=i.flags;o.calc&&(t.calcdata=void 0);var s=[f.previousPromises];o.layoutReplot?s.push(k.layoutReplot):Object.keys(r).length&&(Z(t,o,i)||f.supplyDefaults(t),o.legend&&s.push(k.doLegend),o.layoutstyle&&s.push(k.layoutStyles),o.axrange&&U(s,i.rangesAltered),o.ticks&&s.push(k.doTicksRelayout),o.modebar&&s.push(k.doModeBar),o.camera&&s.push(k.doCamera),o.colorbars&&s.push(k.doColorBars),s.push(M)),s.push(f.rehover,f.redrag,f.reselect),c.add(t,$,[t,i.undoit],$,[t,i.redoit]);var l=a.syncOrAsync(s,t);return l&&l.then||(l=Promise.resolve(t)),l.then((function(){return t.emit("plotly_relayout",i.eventData),t}))}function Z(t,e,n){var r=t._fullLayout;if(!e.axrange)return!1;for(var i in e)if("axrange"!==i&&e[i])return!1;for(var o in n.rangesAltered){var a=h.id2name(o),s=t.layout[a],l=r[a];if(l.autorange=s.autorange,s.range&&(l.range=s.range.slice()),l.cleanRange(),l._matchGroup)for(var c in l._matchGroup)if(c!==o){var u=r[h.id2name(c)];u.autorange=l.autorange,u.range=l.range.slice(),u._input.range=l.range.slice()}}return!0}function U(t,e){var n=e?function(t){var n=[],r=!0;for(var i in e){var o=h.getFromId(t,i);if(n.push(i),-1!==(o.ticklabelposition||"").indexOf("inside")&&o._anchorAxis&&n.push(o._anchorAxis._id),o._matchGroup)for(var a in o._matchGroup)e[a]||n.push(a);o.automargin&&(r=!1)}return h.draw(t,n,{skipTitle:r})}:function(t){return h.draw(t,"redraw")};t.push(y,k.doAutoRangeAndConstraints,n,k.drawData,k.finalDraw)}var H=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,V=/^[xyz]axis[0-9]*\.autorange$/,W=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Y(t,e){var n,r,i,o=t.layout,l=t._fullLayout,c=l._guiEditing,f=N(l._preGUI,c),p=Object.keys(e),g=h.list(t),m=a.extendDeepAll({},e),v={};for(j(e),p=Object.keys(e),r=0;r<p.length;r++)if(0===p[r].indexOf("allaxes")){for(i=0;i<g.length;i++){var y=g[i]._id.substr(1),b=-1!==y.indexOf("scene")?y+".":"",k=p[r].replace("allaxes",b+g[i]._name);e[k]||(e[k]=e[p[r]])}delete e[p[r]]}var T=_.layoutFlags(),M={},E={};function C(t,n){if(Array.isArray(t))t.forEach((function(t){C(t,n)}));else if(!(t in e)&&!w.hasParent(e,t)){var r=f(o,t);t in E||(E[t]=z(r.get())),void 0!==n&&r.set(n)}}var S,O={};function L(t){var e=h.name2id(t.split(".")[0]);return O[e]=1,e}for(var P in e){if(w.hasParent(e,P))throw new Error("cannot set "+P+" and a parent attribute simultaneously");for(var D=f(o,P),R=e[P],I=D.parts.length-1;I>0&&"string"!=typeof D.parts[I];)I--;var B=D.parts[I],F=D.parts[I-1]+"."+B,$=D.parts.slice(0,I).join("."),Z=s(t.layout,$).get(),U=s(l,$).get(),Y=D.get();if(void 0!==R){M[P]=R,E[P]="reverse"===B?R:z(Y);var q=d.getLayoutValObject(l,D.parts);if(q&&q.impliedEdits&&null!==R)for(var X in q.impliedEdits)C(a.relativeAttr(P,X),q.impliedEdits[X]);if(-1!==["width","height"].indexOf(P))if(R){C("autosize",null);var J="height"===P?"width":"height";C(J,l[J])}else l[P]=t._initialAutoSize[P];else if("autosize"===P)C("width",R?null:l.width),C("height",R?null:l.height);else if(F.match(H))L(F),s(l,$+"._inputRange").set(null);else if(F.match(V)){L(F),s(l,$+"._inputRange").set(null);var K=s(l,$).get();K._inputDomain&&(K._input.domain=K._inputDomain.slice())}else F.match(W)&&s(l,$+"._inputDomain").set(null);if("type"===B){S=Z;var Q="linear"===U.type&&"log"===R,tt="log"===U.type&&"linear"===R;if(Q||tt){if(S&&S.range)if(U.autorange)Q&&(S.range=S.range[1]>S.range[0]?[1,2]:[2,1]);else{var et=S.range[0],nt=S.range[1];Q?(et<=0&&nt<=0&&C($+".autorange",!0),et<=0?et=nt/1e6:nt<=0&&(nt=et/1e6),C($+".range[0]",Math.log(et)/Math.LN10),C($+".range[1]",Math.log(nt)/Math.LN10)):(C($+".range[0]",Math.pow(10,et)),C($+".range[1]",Math.pow(10,nt)))}else C($+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[D.parts[0]]&&"radialaxis"===D.parts[1]&&delete l[D.parts[0]]._subplot.viewInitial["radialaxis.range"],u.getComponentMethod("annotations","convertCoords")(t,U,R,C),u.getComponentMethod("images","convertCoords")(t,U,R,C)}else C($+".autorange",!0),C($+".range",null);s(l,$+"._inputRange").set(null)}else if(B.match(A)){var rt=s(l,P).get(),it=(R||{}).type;it&&"-"!==it||(it="linear"),u.getComponentMethod("annotations","convertCoords")(t,rt,it,C),u.getComponentMethod("images","convertCoords")(t,rt,it,C)}var ot=x.containerArrayMatch(P);if(ot){n=ot.array,r=ot.index;var at=ot.property,st=q||{editType:"calc"};""!==r&&""===at&&(x.isAddVal(R)?E[P]=null:x.isRemoveVal(R)?E[P]=(s(o,n).get()||[])[r]:a.warn("unrecognized full object value",e)),_.update(T,st),v[n]||(v[n]={});var lt=v[n][r];lt||(lt=v[n][r]={}),lt[at]=R,delete e[P]}else"reverse"===B?(Z.range?Z.range.reverse():(C($+".autorange",!0),Z.range=[1,0]),U.autorange?T.calc=!0:T.plot=!0):("dragmode"===P&&(!1===R&&!1!==Y||!1!==R&&!1===Y)||l._has("scatter-like")&&l._has("regl")&&"dragmode"===P&&("lasso"===R||"select"===R)&&"lasso"!==Y&&"select"!==Y||l._has("gl2d")?T.plot=!0:q?_.update(T,q):T.calc=!0,D.set(R))}}for(n in v)x.applyContainerArrayChanges(t,f(o,n),v[n],T,f)||(T.plot=!0);for(var ct in O){var ut=(S=h.getFromId(t,ct))&&S._constraintGroup;if(ut)for(var dt in T.calc=!0,ut)O[dt]||(h.getFromId(t,dt)._constraintShrinkable=!0)}return(G(t)||e.height||e.width)&&(T.plot=!0),(T.plot||T.calc)&&(T.layoutReplot=!0),{flags:T,rangesAltered:O,undoit:E,redoit:M,eventData:m}}function G(t){var e=t._fullLayout,n=e.width,r=e.height;return t.layout.autosize&&f.plotAutoSize(t,t.layout,e),e.width!==n||e.height!==r}function q(t,e,r,i){t=a.getGraphDiv(t),w.clearPromiseQueue(t),a.isPlainObject(e)||(e={}),a.isPlainObject(r)||(r={}),Object.keys(e).length&&(t.changed=!0),Object.keys(r).length&&(t.changed=!0);var o=w.coerceTraceIndices(t,i),s=F(t,a.extendFlat({},e),o),l=s.flags,u=Y(t,a.extendFlat({},r)),d=u.flags;(l.calc||d.calc)&&(t.calcdata=void 0),l.clearAxisTypes&&w.clearAxisTypes(t,o,r);var h=[];d.layoutReplot?h.push(k.layoutReplot):l.fullReplot?h.push(n._doPlot):(h.push(f.previousPromises),Z(t,d,u)||f.supplyDefaults(t),l.style&&h.push(k.doTraceStyle),(l.colorbars||d.colorbars)&&h.push(k.doColorBars),d.legend&&h.push(k.doLegend),d.layoutstyle&&h.push(k.layoutStyles),d.axrange&&U(h,u.rangesAltered),d.ticks&&h.push(k.doTicksRelayout),d.modebar&&h.push(k.doModeBar),d.camera&&h.push(k.doCamera),h.push(M)),h.push(f.rehover,f.redrag,f.reselect),c.add(t,q,[t,s.undoit,u.undoit,s.traces],q,[t,s.redoit,u.redoit,s.traces]);var p=a.syncOrAsync(h,t);return p&&p.then||(p=Promise.resolve(t)),p.then((function(){return t.emit("plotly_update",{data:s.eventData,layout:u.eventData}),t}))}function X(t){return function(e){e._fullLayout._guiEditing=!0;var n=t.apply(null,arguments);return e._fullLayout._guiEditing=!1,n}}var J=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],K=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=t.match(r.pattern);if(i){var o=i[1]||"";return{head:o,tail:t.substr(o.length+1),attr:r.attr}}}}function tt(t,e){var n=s(e,t).get();if(void 0!==n)return n;var r=t.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=s(e,r.join(".")+".uirevision").get()))return n;return e.uirevision}function et(t,e){for(var n=0;n<e.length;n++)if(e[n]._fullInput.uid===t)return n;return-1}function nt(t,e,n){for(var r=0;r<e.length;r++)if(e[r].uid===t)return r;return!e[n]||e[n].uid?-1:n}function rt(t,e){var n=a.isPlainObject(t),r=Array.isArray(t);return n||r?(n&&a.isPlainObject(e)||r&&Array.isArray(e))&&JSON.stringify(t)===JSON.stringify(e):t===e}function it(t,e,n,r){var i,o,l,c=r.getValObject,u=r.flags,d=r.immutable,f=r.inArray,h=r.arrayIndex;function p(){var t=i.editType;f&&-1!==t.indexOf("arraydraw")?a.pushUnique(u.arrays[f],h):(_.update(u,i),"none"!==t&&u.nChanges++,r.transition&&i.anim&&u.nChangesAnim++,(H.test(l)||V.test(l))&&(u.rangesAltered[n[0]]=1),W.test(l)&&s(e,"_inputDomain").set(null),"datarevision"===o&&(u.newDataRevision=1))}function g(t){return"data_array"===t.valType||t.arrayOk}for(o in t){if(u.calc&&!r.transition)return;var m=t[o],v=e[o],y=n.concat(o);if(l=y.join("."),"_"!==o.charAt(0)&&"function"!=typeof m&&m!==v){if(("tick0"===o||"dtick"===o)&&"geo"!==n[0]){var b=e.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==o||!e.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==e.type)&&(i=c(y))&&(!i._compareAsJSON||JSON.stringify(m)!==JSON.stringify(v))){var x,w=i.valType,k=g(i),A=Array.isArray(m),T=Array.isArray(v);if(A&&T){var M="_input_"+o,E=t[M],C=e[M];if(Array.isArray(E)&&E===C)continue}if(void 0===v)k&&A?u.calc=!0:p();else if(i._isLinkedToArray){var S=[],O=!1;f||(u.arrays[o]=S);var L=Math.min(m.length,v.length),P=Math.max(m.length,v.length);if(L!==P){if("arraydraw"!==i.editType){p();continue}O=!0}for(x=0;x<L;x++)it(m[x],v[x],y.concat(x),a.extendFlat({inArray:o,arrayIndex:x},r));if(O)for(x=L;x<P;x++)S.push(x)}else!w&&a.isPlainObject(m)?it(m,v,y,r):k?A&&T?(d&&(u.calc=!0),(d||r.newDataRevision)&&p()):A!==T?u.calc=!0:p():A&&T&&m.length===v.length&&String(m)===String(v)||p()}}}for(o in e)if(!(o in t)&&"_"!==o.charAt(0)&&"function"!=typeof e[o]){if(g(i=c(n.concat(o)))&&Array.isArray(e[o]))return void(u.calc=!0);p()}}function ot(t){var e=t._fullLayout,n=t.getBoundingClientRect();if(!a.equalDomRects(n,e._lastBBox)){var r=e._invTransform=a.inverseTransformMatrix(a.getFullTransformMatrix(t));e._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),e._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),e._lastBBox=n}}n.animate=function(t,e,n){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=t._transitionData;r._frameQueue||(r._frameQueue=[]);var i=(n=f.supplyAnimationDefaults(n)).transition,o=n.frame;function s(t){return Array.isArray(i)?t>=i.length?i[0]:i[t]:i}function l(t){return Array.isArray(o)?t>=o.length?o[0]:o[t]:o}function c(t,e){var n=0;return function(){if(t&&++n===e)return t()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(o,u){function d(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var e=r._currentFrame=r._frameQueue.shift();if(e){var n=e.name?e.name.toString():null;t._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=e.frameOpts.duration,f.transition(t,e.frame.data,e.frame.layout,w.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then((function(){e.onComplete&&e.onComplete()})),t.emit("plotly_animatingframe",{name:n,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else t.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function h(){t.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null,function t(){r._animationRaf=window.requestAnimationFrame(t),Date.now()-r._lastFrameAt>r._timeToNext&&d()}()}var p,g,m=0;function v(t){return Array.isArray(i)?m>=i.length?t.transitionOpts=i[m]:t.transitionOpts=i[0]:t.transitionOpts=i,m++,t}var y=[],b=null==e,x=Array.isArray(e);if(b||x||!a.isPlainObject(e)){if(b||-1!==["string","number"].indexOf(typeof e))for(p=0;p<r._frames.length;p++)(g=r._frames[p])&&(b||String(g.group)===String(e))&&y.push({type:"byname",name:String(g.name),data:v({name:g.name})});else if(x)for(p=0;p<e.length;p++){var k=e[p];-1!==["number","string"].indexOf(typeof k)?(k=String(k),y.push({type:"byname",name:k,data:v({name:k})})):a.isPlainObject(k)&&y.push({type:"object",data:v(a.extendFlat({},k))})}}else y.push({type:"object",data:v(a.extendFlat({},e))});for(p=0;p<y.length;p++)if("byname"===(g=y[p]).type&&!r._frameHash[g.data.name])return a.warn('animate failure: frame not found: "'+g.data.name+'"'),void u();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var e=r._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&y.reverse();var _=t._fullLayout._currentFrame;if(_&&n.fromcurrent){var A=-1;for(p=0;p<y.length;p++)if("byname"===(g=y[p]).type&&g.name===_){A=p;break}if(A>0&&A<y.length-1){var T=[];for(p=0;p<y.length;p++)g=y[p],("byname"!==y[p].type||p>A)&&T.push(g);y=T}}y.length>0?function(e){if(0!==e.length){for(var i=0;i<e.length;i++){var a;a="byname"===e[i].type?f.computeFrame(t,e[i].name):e[i].data;var d=l(i),p=s(i);p.duration=Math.min(p.duration,d.duration);var g={frame:a,name:e[i].name,frameOpts:d,transitionOpts:p};i===e.length-1&&(g.onComplete=c(o,2),g.onInterrupt=u),r._frameQueue.push(g)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||h()}}(y):(t.emit("plotly_animated"),o())}))},n.addFrames=function(t,e,n){if(t=a.getGraphDiv(t),null==e)return Promise.resolve();if(!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,i,o,s,l=t._transitionData._frames,u=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var d=l.length+2*e.length,h=[],p={};for(r=e.length-1;r>=0;r--)if(a.isPlainObject(e[r])){var g=e[r].name,m=(u[g]||p[g]||{}).name,v=e[r].name,y=u[m]||p[m];m&&v&&"number"==typeof v&&y&&T<5&&(T++,a.warn('addFrames: overwriting frame "'+(u[m]||p[m]).name+'" with a frame whose name of type "number" also equates to "'+m+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===T&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[g]={name:g},h.push({frame:f.supplyFrameDefaults(e[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:d+r})}h.sort((function(t,e){return t.index>e.index?-1:t.index<e.index?1:0}));var b=[],x=[],w=l.length;for(r=h.length-1;r>=0;r--){if("number"==typeof(i=h[r].frame).name&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;u[i.name="frame "+t._transitionData._counter++];);if(u[i.name]){for(o=0;o<l.length&&(l[o]||{}).name!==i.name;o++);b.push({type:"replace",index:o,value:i}),x.unshift({type:"replace",index:o,value:l[o]})}else s=Math.max(0,Math.min(h[r].index,w)),b.push({type:"insert",index:s,value:i}),x.unshift({type:"delete",index:s}),w++}var k=f.modifyFrames,_=f.modifyFrames,A=[t,x],M=[t,b];return c&&c.add(t,k,A,_,M),f.modifyFrames(t,b)},n.deleteFrames=function(t,e){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var n,r,i=t._transitionData._frames,o=[],s=[];if(!e)for(e=[],n=0;n<i.length;n++)e.push(n);for((e=e.slice()).sort(),n=e.length-1;n>=0;n--)r=e[n],o.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:i[r]});var l=f.modifyFrames,u=f.modifyFrames,d=[t,s],h=[t,o];return c&&c.add(t,l,d,u,h),f.modifyFrames(t,o)},n.addTraces=function t(e,r,i){e=a.getGraphDiv(e);var o,s,l=[],u=n.deleteTraces,d=t,f=[e,l],h=[e,r];for(function(t,e,n){var r,i;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),r=0;r<e.length;r++)if("object"!=typeof(i=e[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(e,r,i),Array.isArray(r)||(r=[r]),r=r.map((function(t){return a.extendFlat({},t)})),w.cleanData(r),o=0;o<r.length;o++)e.data.push(r[o]);for(o=0;o<r.length;o++)l.push(-r.length+o);if(void 0===i)return s=n.redraw(e),c.add(e,u,f,d,h),s;Array.isArray(i)||(i=[i]);try{P(e,l,i)}catch(t){throw e.data.splice(e.data.length-r.length,r.length),t}return c.startSequence(e),c.add(e,u,f,d,h),s=n.moveTraces(e,l,i),c.stopSequence(e),s},n.deleteTraces=function t(e,r){e=a.getGraphDiv(e);var i,o,s=[],l=n.addTraces,u=t,d=[e,s,r],f=[e,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),L(e,r,"indices"),(r=O(r,e.data.length-1)).sort(a.sorterDes),i=0;i<r.length;i+=1)o=e.data.splice(r[i],1)[0],s.push(o);var h=n.redraw(e);return c.add(e,l,d,u,f),h},n.extendTraces=function t(e,r,i,o){function s(t,e,n){var r,i;if(a.isTypedArray(t))if(n<0){var o=new t.constructor(0),s=R(t,e);n<0?(r=s,i=o):(r=o,i=s)}else if(r=new t.constructor(n),i=new t.constructor(t.length+e.length-n),n===e.length)r.set(e),i.set(t);else if(n<e.length){var l=e.length-n;r.set(e.subarray(l)),i.set(t),i.set(e.subarray(0,l),t.length)}else{var c=n-e.length,u=t.length-c;r.set(t.subarray(u)),r.set(e,c),i.set(t.subarray(0,u))}else r=t.concat(e),i=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,i]}var l=D(e=a.getGraphDiv(e),r,i,o,s),u=n.redraw(e),d=[e,l.update,i,l.maxPoints];return c.add(e,n.prependTraces,d,t,arguments),u},n.moveTraces=function t(e,r,i){var o,s=[],l=[],u=t,d=t,f=[e=a.getGraphDiv(e),i,r],h=[e,r,i];if(P(e,r,i),r=Array.isArray(r)?r:[r],void 0===i)for(i=[],o=0;o<r.length;o++)i.push(-r.length+o);for(i=Array.isArray(i)?i:[i],r=O(r,e.data.length-1),i=O(i,e.data.length-1),o=0;o<e.data.length;o++)-1===r.indexOf(o)&&s.push(e.data[o]);for(o=0;o<r.length;o++)l.push({newIndex:i[o],trace:e.data[r[o]]});for(l.sort((function(t,e){return t.newIndex-e.newIndex})),o=0;o<l.length;o+=1)s.splice(l[o].newIndex,0,l[o].trace);e.data=s;var p=n.redraw(e);return c.add(e,u,f,d,h),p},n.prependTraces=function t(e,r,i,o){function s(t,e,n){var r,i;if(a.isTypedArray(t))if(n<=0){var o=new t.constructor(0),s=R(e,t);n<0?(r=s,i=o):(r=o,i=s)}else if(r=new t.constructor(n),i=new t.constructor(t.length+e.length-n),n===e.length)r.set(e),i.set(t);else if(n<e.length){var l=e.length-n;r.set(e.subarray(0,l)),i.set(e.subarray(l)),i.set(t,l)}else{var c=n-e.length;r.set(e),r.set(t.subarray(0,c),e.length),i.set(t.subarray(c))}else r=e.concat(t),i=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,i]}var l=D(e=a.getGraphDiv(e),r,i,o,s),u=n.redraw(e),d=[e,l.update,i,l.maxPoints];return c.add(e,n.extendTraces,d,t,arguments),u},n.newPlot=function(t,e,r,i){return t=a.getGraphDiv(t),f.cleanPlot([],{},t._fullData||[],t._fullLayout||{}),f.purge(t),n._doPlot(t,e,r,i)},n._doPlot=function(t,e,i,o){var s;if(t=a.getGraphDiv(t),l.init(t),a.isPlainObject(e)){var c=e;e=c.data,i=c.layout,o=c.config,s=c.frames}if(!1===l.triggerHandler(t,"plotly_beforeplot",[e,i,o]))return Promise.reject();e||i||a.isPlotDiv(t)||a.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",t),S(t,o),i||(i={}),r.select(t).classed("js-plotly-plot",!0),p.makeTester(),Array.isArray(t._promises)||(t._promises=[]);var d=0===(t.data||[]).length&&Array.isArray(e);Array.isArray(e)&&(w.cleanData(e),d?t.data=e:t.data.push.apply(t.data,e),t.empty=!1),t.layout&&!d||(t.layout=w.cleanLayout(i)),f.supplyDefaults(t);var g=t._fullLayout,y=g._has("cartesian");g._replotting=!0,(d||g._shouldCreateBgLayer)&&(function(t){var e=r.select(t),n=t._fullLayout;if(n._calcInverseTransform=ot,n._calcInverseTransform(t),n._container=e.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paperdiv.select(".modebar-container").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),n._modebardiv=n._paperdiv.append("div"),delete n._modeBar,n._hoverpaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var i={};r.selectAll("defs").each((function(){this.id&&(i[this.id.split("-")[1]]=1)})),n._uid=a.randstr(i)}n._paperdiv.selectAll(".main-svg").attr(v.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var o=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=o.append("g").classed("imagelayer",!0),n._shapeLowerLayer=o.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._smithlayer=n._paper.append("g").classed("smithlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._funnelarealayer=n._paper.append("g").classed("funnelarealayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._iciclelayer=n._paper.append("g").classed("iciclelayer",!0),n._treemaplayer=n._paper.append("g").classed("treemaplayer",!0),n._sunburstlayer=n._paper.append("g").classed("sunburstlayer",!0),n._indicatorlayer=n._toppaper.append("g").classed("indicatorlayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var s=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._selectionLayer=n._toppaper.append("g").classed("selectionlayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._hoverpaper.append("g").classed("hoverlayer",!0),n._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),t.emit("plotly_framework")}(t),g._shouldCreateBgLayer&&delete g._shouldCreateBgLayer),p.initGradients(t),p.initPatterns(t),d&&h.saveShowSpikeInitial(t);var b=!t.calcdata||t.calcdata.length!==(t._fullData||[]).length;b&&f.doCalcdata(t);for(var x=0;x<t.calcdata.length;x++)t.calcdata[x][0].trace=t._fullData[x];t._context.responsive?t._responsiveChartHandler||(t._responsiveChartHandler=function(){a.isHidden(t)||f.resize(t)},window.addEventListener("resize",t._responsiveChartHandler)):a.clearResponsive(t);var _=a.extendFlat({},g._size),A=0;function T(){if(f.clearAutoMarginIds(t),k.drawMarginPushers(t),h.allowAutoMargin(t),g._has("pie"))for(var e=t._fullData,n=0;n<e.length;n++){var r=e[n];"pie"===r.type&&r.automargin&&f.allowAutoMargin(t,"pie."+r.uid+".automargin")}return f.doAutoMargin(t),f.previousPromises(t)}function E(){t._transitioning||(k.doAutoRangeAndConstraints(t),d&&h.saveRangeInitial(t),u.getComponentMethod("rangeslider","calcAutorange")(t))}var C=[f.previousPromises,function(){if(s)return n.addFrames(t,s)},function e(){for(var n=g._basePlotModules,r=0;r<n.length;r++)n[r].drawFramework&&n[r].drawFramework(t);!g._glcanvas&&g._has("gl")&&(g._glcanvas=g._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(t){return t.key})),g._glcanvas.enter().append("canvas").attr("class",(function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var i=t._context.plotGlPixelRatio;if(g._glcanvas){g._glcanvas.attr("width",g.width*i).attr("height",g.height*i).style("width",g.width+"px").style("height",g.height+"px");var o=g._glcanvas.data()[0].regl;if(o&&(Math.floor(g.width*i)!==o._gl.drawingBufferWidth||Math.floor(g.height*i)!==o._gl.drawingBufferHeight)){var s="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!A)return a.log(s+" Clearing graph and plotting again."),f.cleanPlot([],{},t._fullData,g),f.supplyDefaults(t),g=t._fullLayout,f.doCalcdata(t),A++,e();a.error(s)}}return"h"===g.modebar.orientation?g._modebardiv.style("height",null).style("width","100%"):g._modebardiv.style("width",null).style("height",g.height+"px"),f.previousPromises(t)},T,function(){if(f.didMarginChange(_,g._size))return a.syncOrAsync([T,k.layoutStyles],t)}];y&&C.push((function(){if(b)return a.syncOrAsync([u.getComponentMethod("shapes","calcAutorange"),u.getComponentMethod("annotations","calcAutorange"),E],t);E()})),C.push(k.layoutStyles),y&&C.push((function(){return h.draw(t,d?"":"redraw")}),(function(t){t._fullLayout._insideTickLabelsAutorange&&$(t,t._fullLayout._insideTickLabelsAutorange).then((function(){t._fullLayout._insideTickLabelsAutorange=void 0}))})),C.push(k.drawData,k.finalDraw,m,f.addLinks,f.rehover,f.redrag,f.reselect,f.doAutoMargin,(function(t){t._fullLayout._insideTickLabelsAutorange&&d&&h.saveRangeInitial(t,!0)}),f.previousPromises);var O=a.syncOrAsync(C,t);return O&&O.then||(O=Promise.resolve()),O.then((function(){return M(t),t}))},n.purge=function(t){var e=(t=a.getGraphDiv(t))._fullLayout||{},n=t._fullData||[];return f.cleanPlot([],{},n,e),f.purge(t),l.purge(t),e._container&&e._container.remove(),delete t._context,t},n.react=function(t,e,r,i){var o,l;t=a.getGraphDiv(t),w.clearPromiseQueue(t);var c=t._fullData,h=t._fullLayout;if(a.isPlotDiv(t)&&c&&h){if(a.isPlainObject(e)){var p=e;e=p.data,r=p.layout,i=p.config,o=p.frames}var g=!1;if(i){var m=a.extendDeep({},t._context);t._context=void 0,S(t,i),g=function t(e,n){var r;for(r in e)if("_"!==r.charAt(0)){var i=e[r],o=n[r];if(i!==o)if(a.isPlainObject(i)&&a.isPlainObject(o)){if(t(i,o))return!0}else{if(!Array.isArray(i)||!Array.isArray(o))return!0;if(i.length!==o.length)return!0;for(var s=0;s<i.length;s++)if(i[s]!==o[s]){if(!a.isPlainObject(i[s])||!a.isPlainObject(o[s]))return!0;if(t(i[s],o[s]))return!0}}}}(m,t._context)}t.data=e||[],w.cleanData(t.data),t.layout=r||{},w.cleanLayout(t.layout),function(t,e,n,r){var i,o,l,c,u,d,f,h,p,g,m=r._preGUI,v=[],y={},b={};for(i in m){if(u=Q(i,J)){if(p=u.head,g=u.tail,o=u.attr||p+".uirevision",(c=(l=s(r,o).get())&&tt(o,e))&&c===l){if(null===(d=m[i])&&(d=void 0),rt(h=(f=s(e,i)).get(),d)){void 0===h&&"autorange"===g&&v.push(p),f.set(z(s(r,i).get()));continue}if("autorange"===g||"range["===g.substr(0,6)){var x=m[p+".range[0]"],w=m[p+".range[1]"],k=m[p+".autorange"];if(k||null===k&&null===x&&null===w){if(!(p in y)){var _=s(e,p).get();y[p]=_&&(_.autorange||!1!==_.autorange&&(!_.range||2!==_.range.length))}if(y[p]){f.set(z(s(r,i).get()));continue}}}}}else a.warn("unrecognized GUI edit: "+i);delete m[i],u&&"range["===u.tail.substr(0,6)&&(b[u.head]=1)}for(var A=0;A<v.length;A++){var T=v[A];if(b[T]){var M=s(e,T).get();M&&delete M.autorange}}var E=r._tracePreGUI;for(var C in E){var S,O=E[C],L=null;for(i in O){if(!L){var P=et(C,n);if(P<0){delete E[C];break}var D=nt(C,t,(S=n[P]._fullInput).index);if(D<0){delete E[C];break}L=t[D]}if(u=Q(i,K)){if(u.attr?c=(l=s(r,u.attr).get())&&tt(u.attr,e):(l=S.uirevision,void 0===(c=L.uirevision)&&(c=e.uirevision)),c&&c===l&&(null===(d=O[i])&&(d=void 0),rt(h=(f=s(L,i)).get(),d))){f.set(z(s(S,i).get()));continue}}else a.warn("unrecognized GUI edit: "+i+" in trace uid "+C);delete O[i]}}}(t.data,t.layout,c,h),f.supplyDefaults(t,{skipUpdateCalc:!0});var v=t._fullData,y=t._fullLayout,b=void 0===y.datarevision,x=y.transition,A=function(t,e,n,r,i){var o=_.layoutFlags();function a(t){return d.getLayoutValObject(n,t)}return o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0,it(e,n,[],{getValObject:a,flags:o,immutable:r,transition:i,gd:t}),(o.plot||o.calc)&&(o.layoutReplot=!0),i&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}(t,h,y,b,x),T=A.newDataRevision,E=function(t,e,n,r,i,o){var a=e.length===n.length;if(!i&&!a)return{fullReplot:!0,calc:!0};var s,l,c=_.traceFlags();c.arrays={},c.nChanges=0,c.nChangesAnim=0;var u={getValObject:function(t){var e=d.getTraceValObject(l,t);return!l._module.animatable&&e.anim&&(e.anim=!1),e},flags:c,immutable:r,transition:i,newDataRevision:o,gd:t},h={};for(s=0;s<e.length;s++)if(n[s]){if(l=n[s]._fullInput,f.hasMakesDataTransform(l)&&(l=n[s]),h[l.uid])continue;h[l.uid]=1,it(e[s]._fullInput,l,[],u)}return(c.calc||c.plot)&&(c.fullReplot=!0),i&&c.nChanges&&c.nChangesAnim&&(c.anim=c.nChanges===c.nChangesAnim&&a?"all":"some"),c}(t,c,v,b,x,T);if(G(t)&&(A.layoutReplot=!0),E.calc||A.calc){t.calcdata=void 0;for(var C=Object.getOwnPropertyNames(y),O=0;O<C.length;O++){var L=C[O],P=L.substring(0,5);if("xaxis"===P||"yaxis"===P){var D=y[L]._emptyCategories;D&&D()}}}else f.supplyDefaultsUpdateCalc(t.calcdata,v);var R=[];if(o&&(t._transitionData={},f.createTransitionData(t),R.push((function(){return n.addFrames(t,o)}))),y.transition&&!g&&(E.anim||A.anim))A.ticks&&R.push(k.doTicksRelayout),f.doCalcdata(t),k.doAutoRangeAndConstraints(t),R.push((function(){return f.transitionFromReact(t,E,A,h)}));else if(E.fullReplot||A.layoutReplot||g)t._fullLayout._skipDefaults=!0,R.push(n._doPlot);else{for(var I in A.arrays){var N=A.arrays[I];if(N.length){var B=u.getComponentMethod(I,"drawOne");if(B!==a.noop)for(var F=0;F<N.length;F++)B(t,N[F]);else{var j=u.getComponentMethod(I,"draw");if(j===a.noop)throw new Error("cannot draw components: "+I);j(t)}}}R.push(f.previousPromises),E.style&&R.push(k.doTraceStyle),(E.colorbars||A.colorbars)&&R.push(k.doColorBars),A.legend&&R.push(k.doLegend),A.layoutstyle&&R.push(k.layoutStyles),A.axrange&&U(R),A.ticks&&R.push(k.doTicksRelayout),A.modebar&&R.push(k.doModeBar),A.camera&&R.push(k.doCamera),R.push(M)}R.push(f.rehover,f.redrag,f.reselect),(l=a.syncOrAsync(R,t))&&l.then||(l=Promise.resolve(t))}else l=n.newPlot(t,e,r,i);return l.then((function(){return t.emit("plotly_react",{data:e,layout:r}),t}))},n.redraw=function(t){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return w.cleanData(t.data),w.cleanLayout(t.layout),t.calcdata=void 0,n._doPlot(t).then((function(){return t.emit("plotly_redraw"),t}))},n.relayout=$,n.restyle=I,n.setPlotConfig=function(t){return a.extendFlat(b,t)},n.update=q,n._guiRelayout=X($),n._guiRestyle=X(I),n._guiUpdate=X(q),n._storeDirectGUIEdit=function(t,e,n){for(var r in n)B(r,s(t,r).get(),n[r],e)}},{"../components/color":257,"../components/drawing":279,"../components/selections":345,"../constants/xmlns_namespaces":379,"../lib":400,"../lib/events":391,"../lib/queue":416,"../plots/cartesian/axes":450,"../plots/cartesian/constants":457,"../plots/cartesian/graph_interact":460,"../plots/plots":488,"../registry":490,"./edit_types":432,"./helpers":433,"./manage_arrays":435,"./plot_config":437,"./plot_schema":438,"./subroutines":440,"@plotly/d3":14,"fast-isnumeric":121,"has-hover":159}],437:[function(t,e,n){"use strict";var r={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},i={};!function t(e,n){for(var r in e){var i=e[r];i.valType?n[r]=i.dflt:(n[r]||(n[r]={}),t(i,n[r]))}}(r,i),e.exports={configAttributes:r,dfltConfig:i}},{}],438:[function(t,e,n){"use strict";var r=t("../registry"),i=t("../lib"),o=t("../plots/attributes"),a=t("../plots/layout_attributes"),s=t("../plots/frame_attributes"),l=t("../plots/animation_attributes"),c=t("./plot_config").configAttributes,u=t("./edit_types"),d=i.extendDeepAll,f=i.isPlainObject,h=i.isArrayOrTypedArray,p=i.nestedProperty,g=i.valObjectMeta,m=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function v(t,e,n){if(!t)return!1;if(t._isLinkedToArray)if(y(e[n]))n++;else if(n<e.length)return!1;for(;n<e.length;n++){var r=t[e[n]];if(!f(r))break;if(t=r,n===e.length-1)break;if(t._isLinkedToArray){if(!y(e[++n]))return!1}else if("info_array"===t.valType){var i=e[++n];if(!y(i))return!1;var o=t.items;if(Array.isArray(o)){if(i>=o.length)return!1;if(2===t.dimensions){if(n++,e.length===n)return t;var a=e[n];if(!y(a))return!1;t=o[i][a]}else t=o[i]}else t=o}}return t}function y(t){return t===Math.round(t)&&t>=0}function b(){var t,e,n={};for(t in d(n,a),r.subplotsRegistry)if((e=r.subplotsRegistry[t]).layoutAttributes)if(Array.isArray(e.attr))for(var i=0;i<e.attr.length;i++)k(n,e,e.attr[i]);else k(n,e,"subplot"===e.attr?e.name:e.attr);for(t in r.componentsRegistry){var o=(e=r.componentsRegistry[t]).schema;if(o&&(o.subplots||o.layout)){var s=o.subplots;if(s&&s.xaxis&&!s.yaxis)for(var l in s.xaxis)delete n.yaxis[l]}else"colorscale"===e.name?d(n,e.layoutAttributes):e.layoutAttributes&&_(n,e.layoutAttributes,e.name)}return{layoutAttributes:w(n)}}function x(){var t={frames:d({},s)};return w(t),t.frames}function w(t){return function(t){n.crawl(t,(function(t,e,r){n.isValObject(t)?!0!==t.arrayOk&&"data_array"!==t.valType||(r[e+"src"]={valType:"string",editType:"none"}):f(t)&&(t.role="object")}))}(t),function(t){n.crawl(t,(function(t,e,n){if(t){var r=t._isLinkedToArray;r&&(delete t._isLinkedToArray,n[e]={items:{}},n[e].items[r]=t,n[e].role="object")}}))}(t),function(t){!function t(e){for(var n in e)if(f(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}(t)}(t),t}function k(t,e,n){var r=p(t,n),i=d({},e.layoutAttributes);i._isSubplotObj=!0,r.set(i)}function _(t,e,n){var r=p(t,n);r.set(d(r.get()||{},e))}n.IS_SUBPLOT_OBJ="_isSubplotObj",n.IS_LINKED_TO_ARRAY="_isLinkedToArray",n.DEPRECATED="_deprecated",n.UNDERSCORE_ATTRS=m,n.get=function(){var t={};r.allTypes.forEach((function(e){t[e]=function(t){var e,i;i=(e=r.modules[t]._module).basePlotModule;var a={type:null},s=d({},o),l=d({},e.attributes);n.crawl(l,(function(t,e,n,r,i){p(s,i).set(void 0),void 0===t&&p(l,i).set(void 0)})),d(a,s),r.traceIs(t,"noOpacity")&&delete a.opacity,r.traceIs(t,"showLegend")||(delete a.showlegend,delete a.legendgroup),r.traceIs(t,"noHover")&&(delete a.hoverinfo,delete a.hoverlabel),e.selectPoints||delete a.selectedpoints,d(a,l),i.attributes&&d(a,i.attributes),a.type=t;var c={meta:e.meta||{},categories:e.categories||{},animatable:Boolean(e.animatable),type:t,attributes:w(a)};if(e.layoutAttributes){var u={};d(u,e.layoutAttributes),c.layoutAttributes=w(u)}return e.animatable||n.crawl(c,(function(t){n.isValObject(t)&&"anim"in t&&delete t.anim})),c}(e)}));var e={};return Object.keys(r.transformsRegistry).forEach((function(t){e[t]=function(t){var e=r.transformsRegistry[t],n=d({},e.attributes);return Object.keys(r.componentsRegistry).forEach((function(e){var i=r.componentsRegistry[e];i.schema&&i.schema.transforms&&i.schema.transforms[t]&&Object.keys(i.schema.transforms[t]).forEach((function(e){_(n,i.schema.transforms[t][e],e)}))})),{attributes:w(n)}}(t)})),{defs:{valObjects:g,metaKeys:m.concat(["description","role","editType","impliedEdits"]),editType:{traces:u.traces,layout:u.layout},impliedEdits:{}},traces:t,layout:b(),transforms:e,frames:x(),animation:w(l),config:w(c)}},n.crawl=function(t,e,r,i){var o=r||0;i=i||"",Object.keys(t).forEach((function(r){var a=t[r];if(-1===m.indexOf(r)){var s=(i?i+".":"")+r;e(a,r,t,o,s),n.isValObject(a)||f(a)&&"impliedEdits"!==r&&n.crawl(a,e,o+1,s)}}))},n.isValObject=function(t){return t&&void 0!==t.valType},n.findArrayAttributes=function(t){var e,r,i=[],a=[],s=[];function l(t,n,o,l){a=a.slice(0,l).concat([n]),s=s.slice(0,l).concat([t&&t._isLinkedToArray]),t&&("data_array"===t.valType||!0===t.arrayOk)&&("colorbar"!==a[l-1]||"ticktext"!==n&&"tickvals"!==n)&&function t(e,n,o){var l=e[a[n]],c=o+a[n];if(n===a.length-1)h(l)&&i.push(r+c);else if(s[n]){if(Array.isArray(l))for(var u=0;u<l.length;u++)f(l[u])&&t(l[u],n+1,c+"["+u+"].")}else f(l)&&t(l,n+1,c+".")}(e,0,"")}e=t,r="",n.crawl(o,l),t._module&&t._module.attributes&&n.crawl(t._module.attributes,l);var c=t.transforms;if(c)for(var u=0;u<c.length;u++){var d=c[u],p=d._module;p&&(r="transforms["+u+"].",e=d,n.crawl(p.attributes,l))}return i},n.getTraceValObject=function(t,e){var n,i,a=e[0],s=1;if("transforms"===a){if(1===e.length)return o.transforms;var l=t.transforms;if(!Array.isArray(l)||!l.length)return!1;var c=e[1];if(!y(c)||c>=l.length)return!1;i=(n=(r.transformsRegistry[l[c].type]||{}).attributes)&&n[e[2]],s=3}else{var u=t._module;if(u||(u=(r.modules[t.type||o.type.dflt]||{})._module),!u)return!1;if(!(i=(n=u.attributes)&&n[a])){var d=u.basePlotModule;d&&d.attributes&&(i=d.attributes[a])}i||(i=o[a])}return v(i,e,s)},n.getLayoutValObject=function(t,e){return v(function(t,e){var n,i,o,s,l=t._basePlotModules;if(l){var c;for(n=0;n<l.length;n++){if((o=l[n]).attrRegex&&o.attrRegex.test(e)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!c&&o.layoutAttributes&&(c=o.layoutAttributes)}var u=o.baseLayoutAttrOverrides;if(u&&e in u)return u[e]}if(c)return c}var d=t._modules;if(d)for(n=0;n<d.length;n++)if((s=d[n].layoutAttributes)&&e in s)return s[e];for(i in r.componentsRegistry){if("colorscale"===(o=r.componentsRegistry[i]).name&&0===e.indexOf("coloraxis"))return o.layoutAttributes[e];if(!o.schema&&e===o.name)return o.layoutAttributes}return e in a&&a[e]}(t,e[0]),e,1)}},{"../lib":400,"../plots/animation_attributes":444,"../plots/attributes":446,"../plots/frame_attributes":479,"../plots/layout_attributes":486,"../registry":490,"./edit_types":432,"./plot_config":437}],439:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plots/attributes"),o={name:{valType:"string",editType:"none"}};function a(t){return t&&"string"==typeof t}function s(t){var e=t.length-1;return"s"!==t.charAt(e)&&r.warn("bad argument to arrayDefaultKey: "+t),t.substr(0,t.length-1)+"defaults"}o.templateitemname={valType:"string",editType:"calc"},n.templatedArray=function(t,e){return e._isLinkedToArray=t,e.name=o.name,e.templateitemname=o.templateitemname,e},n.traceTemplater=function(t){var e,n,o={};for(e in t)n=t[e],Array.isArray(n)&&n.length&&(o[e]=0);return{newTrace:function(a){var s={type:e=r.coerce(a,{},i,"type"),_template:null};if(e in o){n=t[e];var l=o[e]%n.length;o[e]++,s._template=n[l]}return s}}},n.newContainer=function(t,e,n){var i=t._template,o=i&&(i[e]||n&&i[n]);return r.isPlainObject(o)||(o=null),t[e]={_template:o}},n.arrayTemplater=function(t,e,n){var r=t._template,i=r&&r[s(e)],o=r&&r[e];Array.isArray(o)&&o.length||(o=[]);var l={};return{newItem:function(t){var e={name:t.name,_input:t},r=e.templateitemname=t.templateitemname;if(!a(r))return e._template=i,e;for(var s=0;s<o.length;s++){var c=o[s];if(c.name===r)return l[r]=1,e._template=c,e}return e[n]=t[n]||!1,e._template=!1,e},defaultItems:function(){for(var t=[],e=0;e<o.length;e++){var n=o[e],r=n.name;if(a(r)&&!l[r]){var i={_template:n,name:r,_input:{_templateitemname:r}};i.templateitemname=n.templateitemname,t.push(i),l[r]=1}}return t}}},n.arrayDefaultKey=s,n.arrayEditor=function(t,e,n){var i=(r.nestedProperty(t,e).get()||[]).length,o=n._index,a=o>=i&&(n._input||{})._templateitemname;a&&(o=i);var s,l=e+"["+o+"]";function c(){s={},a&&(s[l]={},s[l].templateitemname=a)}function u(t,e){a?r.nestedProperty(s[l],t).set(e):s[l+"."+t]=e}function d(){var t=s;return c(),t}return c(),{modifyBase:function(t,e){s[t]=e},modifyItem:u,getUpdateObj:d,applyUpdate:function(e,n){e&&u(e,n);var i=d();for(var o in i)r.nestedProperty(t,o).set(i[o])}}}},{"../lib":400,"../plots/attributes":446}],440:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../registry"),o=t("../plots/plots"),a=t("../lib"),s=t("../lib/clear_gl_canvases"),l=t("../components/color"),c=t("../components/drawing"),u=t("../components/titles"),d=t("../components/modebar"),f=t("../plots/cartesian/axes"),h=t("../constants/alignment"),p=t("../plots/cartesian/constraints"),g=p.enforce,m=p.clean,v=t("../plots/cartesian/autorange").doAutoRange;function y(t,e,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if(!(i[0]>=t[1]||i[1]<=t[0])&&o[0]<e[1]&&o[1]>e[0])return!0}return!1}function b(t){var e,i,s,u,p,g,m=t._fullLayout,v=m._size,b=v.p,w=f.list(t,"",!0);if(m._paperdiv.style({width:t._context.responsive&&m.autosize&&!t._context._hasZeroWidth&&!t.layout.width?"100%":m.width+"px",height:t._context.responsive&&m.autosize&&!t._context._hasZeroHeight&&!t.layout.height?"100%":m.height+"px"}).selectAll(".main-svg").call(c.setSize,m.width,m.height),t._context.setBackground(t,m.paper_bgcolor),n.drawMainTitle(t),d.manage(t),!m._has("cartesian"))return o.previousPromises(t);function _(t,e,n){var r=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===n?e._offset-b-r:e._offset+e._length+b+r:v.t+v.h*(1-(t.position||0))+r%1:e?"right"===n?e._offset+e._length+b+r:e._offset-b-r:v.l+v.w*(t.position||0)+r%1}for(e=0;e<w.length;e++){var A=(u=w[e])._anchorAxis;u._linepositions={},u._lw=c.crispRound(t,u.linewidth,1),u._mainLinePosition=_(u,A,u.side),u._mainMirrorPosition=u.mirror&&A?_(u,A,h.OPPOSITE_SIDE[u.side]):null}var T=[],M=[],E=[],C=1===l.opacity(m.paper_bgcolor)&&1===l.opacity(m.plot_bgcolor)&&m.paper_bgcolor===m.plot_bgcolor;for(i in m._plots)if((s=m._plots[i]).mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var S=s.xaxis.domain,O=s.yaxis.domain,L=s.plotgroup;if(y(S,O,E)){var P=L.node(),D=s.bg=a.ensureSingle(L,"rect","bg");P.insertBefore(D.node(),P.childNodes[0]),M.push(i)}else L.select("rect.bg").remove(),E.push([S,O]),C||(T.push(i),M.push(i))}var R,I,z,N,B,F,j,$,Z,U,H,V,W,Y=m._bgLayer.selectAll(".bg").data(T);for(Y.enter().append("rect").classed("bg",!0),Y.exit().remove(),Y.each((function(t){m._plots[t].bg=r.select(this)})),e=0;e<M.length;e++)s=m._plots[M[e]],p=s.xaxis,g=s.yaxis,s.bg&&void 0!==p._offset&&void 0!==g._offset&&s.bg.call(c.setRect,p._offset-b,g._offset-b,p._length+2*b,g._length+2*b).call(l.fill,m.plot_bgcolor).style("stroke-width",0);if(!m._hasOnlyLargeSploms)for(i in m._plots){s=m._plots[i],p=s.xaxis,g=s.yaxis;var G,q,X=s.clipId="clip"+m._uid+i+"plot",J=a.ensureSingleById(m._clips,"clipPath",X,(function(t){t.classed("plotclip",!0).append("rect")}));s.clipRect=J.select("rect").attr({width:p._length,height:g._length}),c.setTranslate(s.plot,p._offset,g._offset),s._hasClipOnAxisFalse?(G=null,q=X):(G=X,q=null),c.setClipUrl(s.plot,G,t),s.layerClipId=q}function K(t){return"M"+R+","+t+"H"+I}function Q(t){return"M"+p._offset+","+t+"h"+p._length}function tt(t){return"M"+t+","+$+"V"+j}function et(t){return"M"+t+","+g._offset+"v"+g._length}function nt(t,e,n){if(!t.showline||i!==t._mainSubplot)return"";if(!t._anchorAxis)return n(t._mainLinePosition);var r=e(t._mainLinePosition);return t.mirror&&(r+=e(t._mainMirrorPosition)),r}for(i in m._plots){s=m._plots[i],p=s.xaxis,g=s.yaxis;var rt="M0,0";x(p,i)&&(B=k(p,"left",g,w),R=p._offset-(B?b+B:0),F=k(p,"right",g,w),I=p._offset+p._length+(F?b+F:0),z=_(p,g,"bottom"),N=_(p,g,"top"),!(W=!p._anchorAxis||i!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[i]=[z,N]),rt=nt(p,K,Q),W&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(rt+=K(z)+K(N)),s.xlines.style("stroke-width",p._lw+"px").call(l.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",rt);var it="M0,0";x(g,i)&&(H=k(g,"bottom",p,w),j=g._offset+g._length+(H?b:0),V=k(g,"top",p,w),$=g._offset-(V?b:0),Z=_(g,p,"left"),U=_(g,p,"right"),!(W=!g._anchorAxis||i!==g._mainSubplot)||"allticks"!==g.mirror&&"all"!==g.mirror||(g._linepositions[i]=[Z,U]),it=nt(g,tt,et),W&&g.showline&&("all"===g.mirror||"allticks"===g.mirror)&&(it+=tt(Z)+tt(U)),s.ylines.style("stroke-width",g._lw+"px").call(l.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",it)}return f.makeClipPaths(t),o.previousPromises(t)}function x(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function w(t,e,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=h.FROM_BL[e];return n.side===e?r.domain[i]===t.domain[i]:n.mirror&&r.domain[1-i]===t.domain[1-i]}function k(t,e,n,r){if(w(t,e,n))return n._lw;for(var i=0;i<r.length;i++){var o=r[i];if(o._mainAxis===n._mainAxis&&w(t,e,o))return o._lw}return 0}function _(t,e){var n=t.title,r=t._size,i=0;return"paper"===("start"===e?i=n.pad.l:"end"===e&&(i=-n.pad.r),n.xref)?r.l+r.w*n.x+i:t.width*n.x+i}function A(t,e){var n=t.title,r=t._size,i=0;return"0em"!==e&&e?e===h.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b,"auto"===n.y?r.t/2:"paper"===n.yref?r.t+r.h-r.h*n.y+i:t.height-t.height*n.y+i}n.layoutStyles=function(t){return a.syncOrAsync([o.doAutoMargin,b],t)},n.drawMainTitle=function(t){var e=t._fullLayout,n=function(t){var e=t.title,n="middle";return a.isRightAnchor(e)?n="end":a.isLeftAnchor(e)&&(n="start"),n}(e),r=function(t){var e=t.title,n="0em";return a.isTopAnchor(e)?n=h.CAP_SHIFT+"em":a.isMiddleAnchor(e)&&(n=h.MID_SHIFT+"em"),n}(e);u.draw(t,"gtitle",{propContainer:e,propName:"title.text",placeholder:e._dfltTitle.plot,attributes:{x:_(e,n),y:A(e,r),"text-anchor":n,dy:r}})},n.doTraceStyle=function(t){var e,r=t.calcdata,a=[];for(e=0;e<r.length;e++){var l=r[e],c=l[0]||{},u=c.trace||{},d=u._module||{},f=d.arraysToCalcdata;f&&f(l,u);var h=d.editStyle;h&&a.push({fn:h,cd0:c})}if(a.length){for(e=0;e<a.length;e++){var p=a[e];p.fn(t,p.cd0)}s(t),n.redrawReglTraces(t)}return o.style(t),i.getComponentMethod("legend","draw")(t),o.previousPromises(t)},n.doColorBars=function(t){return i.getComponentMethod("colorbar","draw")(t),o.previousPromises(t)},n.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,i.call("_doPlot",t,"",e)},n.doLegend=function(t){return i.getComponentMethod("legend","draw")(t),o.previousPromises(t)},n.doTicksRelayout=function(t){return f.draw(t,"redraw"),t._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(t),s(t),n.redrawReglTraces(t)),n.drawMainTitle(t),o.previousPromises(t)},n.doModeBar=function(t){var e=t._fullLayout;d.manage(t);for(var n=0;n<e._basePlotModules.length;n++){var r=e._basePlotModules[n].updateFx;r&&r(t)}return o.previousPromises(t)},n.doCamera=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=0;r<n.length;r++){var i=e[n[r]];i._scene.setViewport(i)}},n.drawData=function(t){var e=t._fullLayout;s(t);for(var r=e._basePlotModules,a=0;a<r.length;a++)r[a].plot(t);return n.redrawReglTraces(t),o.style(t),i.getComponentMethod("selections","draw")(t),i.getComponentMethod("shapes","draw")(t),i.getComponentMethod("annotations","draw")(t),i.getComponentMethod("images","draw")(t),e._replotting=!1,o.previousPromises(t)},n.redrawReglTraces=function(t){var e=t._fullLayout;if(e._has("regl")){var n,r,i=t._fullData,o=[],s=[];for(e._hasOnlyLargeSploms&&e._splomGrid.draw(),n=0;n<i.length;n++){var l=i[n];!0===l.visible&&0!==l._length&&("splom"===l.type?e._splomScenes[l.uid].draw():"scattergl"===l.type?a.pushUnique(o,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&a.pushUnique(s,l.subplot))}for(n=0;n<o.length;n++)(r=e._plots[o[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=e[s[n]]._subplot)._scene&&r._scene.draw()}},n.doAutoRangeAndConstraints=function(t){for(var e,n=f.list(t,"",!0),r={},i=0;i<n.length;i++)if(!r[(e=n[i])._id]){r[e._id]=1,m(t,e),v(t,e);var o=e._matchGroup;if(o)for(var a in o){var s=f.getFromId(t,a);v(t,s,e.range),r[a]=1}}g(t)},n.finalDraw=function(t){i.getComponentMethod("rangeslider","draw")(t),i.getComponentMethod("rangeselector","draw")(t)},n.drawMarginPushers=function(t){i.getComponentMethod("legend","draw")(t),i.getComponentMethod("rangeselector","draw")(t),i.getComponentMethod("sliders","draw")(t),i.getComponentMethod("updatemenus","draw")(t),i.getComponentMethod("colorbar","draw")(t)}},{"../components/color":257,"../components/drawing":279,"../components/modebar":320,"../components/titles":366,"../constants/alignment":373,"../lib":400,"../lib/clear_gl_canvases":386,"../plots/cartesian/autorange":449,"../plots/cartesian/axes":450,"../plots/cartesian/constraints":458,"../plots/plots":488,"../registry":490,"@plotly/d3":14}],441:[function(t,e,n){"use strict";var r=t("../lib"),i=r.isPlainObject,o=t("./plot_schema"),a=t("../plots/plots"),s=t("../plots/attributes"),l=t("./plot_template"),c=t("./plot_config").dfltConfig;function u(t,e){t=r.extendDeep({},t);var n,o,a=Object.keys(t).sort();function s(e,n,r){if(i(n)&&i(e))u(e,n);else if(Array.isArray(n)&&Array.isArray(e)){var a=l.arrayTemplater({_template:t},r);for(o=0;o<n.length;o++){var s=n[o],c=a.newItem(s)._template;c&&u(c,s)}var d=a.defaultItems();for(o=0;o<d.length;o++)n.push(d[o]._template);for(o=0;o<n.length;o++)delete n[o].templateitemname}}for(n=0;n<a.length;n++){var c=a[n],f=t[c];if(c in e?s(f,e[c],c):e[c]=f,d(c)===c)for(var h in e){var p=d(h);h===p||p!==c||h in t||s(f,e[h],c)}}}function d(t){return t.replace(/[0-9]+$/,"")}function f(t,e,n,o,a){var s=a&&n(a);for(var c in t){var u=t[c],h=g(t,c,o),p=g(t,c,a),m=n(p);if(!m){var v=d(c);v!==c&&(m=n(p=g(t,v,a)))}if((!s||s!==m)&&!(!m||m._noTemplating||"data_array"===m.valType||m.arrayOk&&Array.isArray(u)))if(!m.valType&&i(u))f(u,e,n,h,p);else if(m._isLinkedToArray&&Array.isArray(u))for(var y=!1,b=0,x={},w=0;w<u.length;w++){var k=u[w];if(i(k)){var _=k.name;if(_)x[_]||(f(k,e,n,g(u,b,h),g(u,b,p)),b++,x[_]=1);else if(!y){var A=g(t,l.arrayDefaultKey(c),o),T=g(u,b,h);f(k,e,n,T,g(u,b,p));var M=r.nestedProperty(e,T);r.nestedProperty(e,A).set(M.get()),M.set(null),y=!0}}}else r.nestedProperty(e,h).set(u)}}function h(t,e){return o.getLayoutValObject(t,r.nestedProperty({},e).parts)}function p(t,e){return o.getTraceValObject(t,r.nestedProperty({},e).parts)}function g(t,e,n){return n?Array.isArray(t)?n+"["+e+"]":n+"."+e:e}function m(t){for(var e=0;e<t.length;e++)if(i(t[e]))return!0}function v(t){var e;switch(t.code){case"data":e="The template has no key data.";break;case"layout":e="The template has no key layout.";break;case"missing":e=t.path?"There are no templates for item "+t.path+" with name "+t.templateitemname:"There are no templates for trace "+t.index+", of type "+t.traceType+".";break;case"unused":e=t.path?"The template item at "+t.path+" was not used in constructing the plot.":t.dataCount?"Some of the templates of type "+t.traceType+" were not used. The template has "+t.templateCount+" traces, the data only has "+t.dataCount+" of this type.":"The template has "+t.templateCount+" traces of type "+t.traceType+" but there are none in the data.";break;case"reused":e="Some of the templates of type "+t.traceType+" were used more than once. The template has "+t.templateCount+" traces, the data has "+t.dataCount+" of this type."}return t.msg=e,t}n.makeTemplate=function(t){t=r.isPlainObject(t)?t:r.getGraphDiv(t),t=r.extendDeep({_context:c},{data:t.data,layout:t.layout}),a.supplyDefaults(t);var e=t.data||[],n=t.layout||{};n._basePlotModules=t._fullLayout._basePlotModules,n._modules=t._fullLayout._modules;var o={data:{},layout:{}};e.forEach((function(t){var e={};f(t,e,p.bind(null,t));var n=r.coerce(t,{},s,"type"),i=o.data[n];i||(i=o.data[n]=[]),i.push(e)})),f(n,o.layout,h.bind(null,n)),delete o.layout.template;var l=n.template;if(i(l)){var d,g,m,v,y,b,x=l.layout;i(x)&&u(x,o.layout);var w=l.data;if(i(w)){for(g in o.data)if(m=w[g],Array.isArray(m)){for(b=(y=o.data[g]).length,v=m.length,d=0;d<b;d++)u(m[d%v],y[d]);for(d=b;d<v;d++)y.push(r.extendDeep({},m[d]))}for(g in w)g in o.data||(o.data[g]=r.extendDeep([],w[g]))}}return o},n.validateTemplate=function(t,e){var n=r.extendDeep({},{_context:c,data:t.data,layout:t.layout}),o=n.layout||{};i(e)||(e=o.template||{});var s=e.layout,l=e.data,u=[];n.layout=o,n.layout.template=e,a.supplyDefaults(n);var f=n._fullLayout,h=n._fullData,p={};if(i(s)?(function t(e,n){for(var r in e)if("_"!==r.charAt(0)&&i(e[r])){var o,a=d(r),s=[];for(o=0;o<n.length;o++)s.push(g(e,r,n[o])),a!==r&&s.push(g(e,a,n[o]));for(o=0;o<s.length;o++)p[s[o]]=1;t(e[r],s)}}(f,["layout"]),function t(e,n){for(var r in e)if(-1===r.indexOf("defaults")&&i(e[r])){var o=g(e,r,n);p[o]?t(e[r],o):u.push({code:"unused",path:o})}}(s,"layout")):u.push({code:"layout"}),i(l)){for(var y,b={},x=0;x<h.length;x++){var w=h[x];b[y=w.type]=(b[y]||0)+1,w._fullInput._template||u.push({code:"missing",index:w._fullInput.index,traceType:y})}for(y in l){var k=l[y].length,_=b[y]||0;k>_?u.push({code:"unused",traceType:y,templateCount:k,dataCount:_}):_>k&&u.push({code:"reused",traceType:y,templateCount:k,dataCount:_})}}else u.push({code:"data"});if(function t(e,n){for(var r in e)if("_"!==r.charAt(0)){var o=e[r],a=g(e,r,n);i(o)?(Array.isArray(e)&&!1===o._template&&o.templateitemname&&u.push({code:"missing",path:a,templateitemname:o.templateitemname}),t(o,a)):Array.isArray(o)&&m(o)&&t(o,a)}}({data:h,layout:f},""),u.length)return u.map(v)}},{"../lib":400,"../plots/attributes":446,"../plots/plots":488,"./plot_config":437,"./plot_schema":438,"./plot_template":439}],442:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("./plot_api"),o=t("../plots/plots"),a=t("../lib"),s=t("../snapshot/helpers"),l=t("../snapshot/tosvg"),c=t("../snapshot/svgtoimg"),u=t("../version").version,d={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};e.exports=function(t,e){var n,f,h,p;function g(t){return!(t in e)||a.validate(e[t],d[t])}if(e=e||{},a.isPlainObject(t)?(n=t.data||[],f=t.layout||{},h=t.config||{},p={}):(t=a.getGraphDiv(t),n=a.extendDeep([],t.data),f=a.extendDeep({},t.layout),h=t._context,p=t._fullLayout||{}),!g("width")&&null!==e.width||!g("height")&&null!==e.height)throw new Error("Height and width should be pixel values.");if(!g("format"))throw new Error("Export format is not "+a.join2(d.format.values,", "," or ")+".");var m={};function v(t,n){return a.coerce(e,m,d,t,n)}var y=v("format"),b=v("width"),x=v("height"),w=v("scale"),k=v("setBackground"),_=v("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var T=a.extendFlat({},f);b?T.width=b:null===e.width&&r(p.width)&&(T.width=p.width),x?T.height=x:null===e.height&&r(p.height)&&(T.height=p.height);var M=a.extendFlat({},h,{_exportedPlot:!0,staticPlot:!0,setBackground:k}),E=s.getRedrawFunc(A);function C(){return new Promise((function(t){setTimeout(t,s.getDelay(A._fullLayout))}))}function S(){return new Promise((function(t,e){var n=l(A,y,w),r=A._fullLayout.width,d=A._fullLayout.height;function f(){i.purge(A),document.body.removeChild(A)}if("full-json"===y){var h=o.graphJson(A,!1,"keepdata","object",!0,!0);return h.version=u,h=JSON.stringify(h),f(),t(_?h:s.encodeJSON(h))}if(f(),"svg"===y)return t(_?n:s.encodeSVG(n));var p=document.createElement("canvas");p.id=a.randstr(),c({format:y,width:r,height:d,scale:w,canvas:p,svg:n,promise:!0}).then(t).catch(e)}))}return new Promise((function(t,e){i.newPlot(A,n,T,M).then(E).then(C).then(S).then((function(e){t(function(t){return _?t.replace(s.IMAGE_URL_PREFIX,""):t}(e))})).catch((function(t){e(t)}))}))}},{"../lib":400,"../plots/plots":488,"../snapshot/helpers":494,"../snapshot/svgtoimg":496,"../snapshot/tosvg":498,"../version":599,"./plot_api":436,"fast-isnumeric":121}],443:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plots/plots"),o=t("./plot_schema"),a=t("./plot_config").dfltConfig,s=r.isPlainObject,l=Array.isArray,c=r.isArrayOrTypedArray;function u(t,e,n,i,o,a){a=a||[];for(var d=Object.keys(t),f=0;f<d.length;f++){var h=d[f];if("transforms"!==h){var v=a.slice();v.push(h);var y=t[h],b=e[h],x=m(n,h),w=(x||{}).valType,k="info_array"===w,_="colorscale"===w,A=(x||{}).items;if(g(n,h))if(s(y)&&s(b)&&"any"!==w)u(y,b,x,i,o,v);else if(k&&l(y)){y.length>b.length&&i.push(p("unused",o,v.concat(b.length)));var T,M,E,C,S,O=b.length,L=Array.isArray(A);if(L&&(O=Math.min(O,A.length)),2===x.dimensions)for(M=0;M<O;M++)if(l(y[M])){y[M].length>b[M].length&&i.push(p("unused",o,v.concat(M,b[M].length)));var P=b[M].length;for(T=0;T<(L?Math.min(P,A[M].length):P);T++)E=L?A[M][T]:A,C=y[M][T],S=b[M][T],r.validate(C,E)?S!==C&&S!==+C&&i.push(p("dynamic",o,v.concat(M,T),C,S)):i.push(p("value",o,v.concat(M,T),C))}else i.push(p("array",o,v.concat(M),y[M]));else for(M=0;M<O;M++)E=L?A[M]:A,C=y[M],S=b[M],r.validate(C,E)?S!==C&&S!==+C&&i.push(p("dynamic",o,v.concat(M),C,S)):i.push(p("value",o,v.concat(M),C))}else if(x.items&&!k&&l(y)){var D,R,I=A[Object.keys(A)[0]],z=[];for(D=0;D<b.length;D++){var N=b[D]._index||D;if((R=v.slice()).push(N),s(y[N])&&s(b[D])){z.push(N);var B=y[N],F=b[D];s(B)&&!1!==B.visible&&!1===F.visible?i.push(p("invisible",o,R)):u(B,F,I,i,o,R)}}for(D=0;D<y.length;D++)(R=v.slice()).push(D),s(y[D])?-1===z.indexOf(D)&&i.push(p("unused",o,R)):i.push(p("object",o,R,y[D]))}else!s(y)&&s(b)?i.push(p("object",o,v,y)):c(y)||!c(b)||k||_?h in e?r.validate(y,x)?"enumerated"===x.valType&&(x.coerceNumber&&y!==+b||y!==b)&&i.push(p("dynamic",o,v,y,b)):i.push(p("value",o,v,y)):i.push(p("unused",o,v,y)):i.push(p("array",o,v,y));else i.push(p("schema",o,v))}}return i}function d(t,e){for(var n=t.layout.layoutAttributes,i=0;i<e.length;i++){var o=e[i],a=t.traces[o.type],s=a.layoutAttributes;s&&(o.subplot?r.extendFlat(n[a.attributes.subplot.dflt],s):r.extendFlat(n,s))}return n}e.exports=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});var n,c,f=o.get(),h=[],g={_context:r.extendFlat({},a)};l(t)?(g.data=r.extendDeep([],t),n=t):(g.data=[],n=[],h.push(p("array","data"))),s(e)?(g.layout=r.extendDeep({},e),c=e):(g.layout={},c={},arguments.length>1&&h.push(p("object","layout"))),i.supplyDefaults(g);for(var m=g._fullData,v=n.length,y=0;y<v;y++){var b=n[y],x=["data",y];if(s(b)){var w=m[y],k=w.type,_=f.traces[k].attributes;_.type={valType:"enumerated",values:[k]},!1===w.visible&&!1!==b.visible&&h.push(p("invisible",x)),u(b,w,_,h,x);var A=b.transforms,T=w.transforms;if(A){l(A)||h.push(p("array",x,["transforms"])),x.push("transforms");for(var M=0;M<A.length;M++){var E=["transforms",M],C=A[M].type;if(s(A[M])){var S=f.transforms[C]?f.transforms[C].attributes:{};S.type={valType:"enumerated",values:Object.keys(f.transforms)},u(A[M],T[M],S,h,x,E)}else h.push(p("object",x,E))}}}else h.push(p("object",x))}return u(c,g._fullLayout,d(f,m),h,"layout"),0===h.length?void 0:h};var f={object:function(t,e){return("layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":h(t)+"key "+e)+" must be linked to an object container"},array:function(t,e){return("data"===t?"The data argument":h(t)+"key "+e)+" must be linked to an array container"},schema:function(t,e){return h(t)+"key "+e+" is not part of the schema"},unused:function(t,e,n){var r=s(n)?"container":"key";return h(t)+r+" "+e+" did not get coerced"},dynamic:function(t,e,n,r){return[h(t)+"key",e,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(t,e){return(e?h(t)+"item "+e:"Trace "+t[1])+" got defaulted to be not visible"},value:function(t,e,n){return[h(t)+"key "+e,"is set to an invalid value ("+n+")"].join(" ")}};function h(t){return l(t)?"In data trace "+t[1]+", ":"In "+t+", "}function p(t,e,n,i,o){var a,s;n=n||"",l(e)?(a=e[0],s=e[1]):(a=e,s=null);var c=function(t){if(!l(t))return String(t);for(var e="",n=0;n<t.length;n++){var r=t[n];"number"==typeof r?e=e.substr(0,e.length-1)+"["+r+"]":e+=r,n<t.length-1&&(e+=".")}return e}(n),u=f[t](e,c,i,o);return r.log(u),{code:t,container:a,trace:s,path:n,astr:c,msg:u}}function g(t,e){var n=y(e),r=n.keyMinusId,i=n.id;return!!(r in t&&t[r]._isSubplotObj&&i)||e in t}function m(t,e){return e in t?t[e]:t[y(e).keyMinusId]}var v=r.counterRegex("([a-z]+)");function y(t){var e=t.match(v);return{keyMinusId:e&&e[1],id:e&&e[2]}}},{"../lib":400,"../plots/plots":488,"./plot_config":437,"./plot_schema":438}],444:[function(t,e,n){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],445:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plot_api/plot_template");e.exports=function(t,e,n){var o,a,s=n.name,l=n.inclusionAttr||"visible",c=e[s],u=r.isArrayOrTypedArray(t[s])?t[s]:[],d=e[s]=[],f=i.arrayTemplater(e,s,l);for(o=0;o<u.length;o++){var h=u[o];r.isPlainObject(h)?a=f.newItem(h):(a=f.newItem({}))[l]=!1,a._index=o,!1!==a[l]&&n.handleItemDefaults(h,a,e,n),d.push(a)}var p=f.defaultItems();for(o=0;o<p.length;o++)(a=p[o])._index=d.length,n.handleItemDefaults({},a,e,n,{}),d.push(a);if(r.isArrayOrTypedArray(c)){var g=Math.min(c.length,d.length);for(o=0;o<g;o++)r.relinkPrivateKeys(d[o],c[o])}return d}},{"../lib":400,"../plot_api/plot_template":439}],446:[function(t,e,n){"use strict";var r=t("./font_attributes"),i=t("../components/fx/attributes");e.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:r({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:i.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":288,"./font_attributes":478}],447:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=i.dateTime2ms,a=i.incrementMonth,s=t("../../constants/numerical").ONEAVGMONTH;e.exports=function(t,e,n,i){if("date"!==e.type)return{vals:i};var l=t[n+"periodalignment"];if(!l)return{vals:i};var c,u=t[n+"period"];if(r(u)){if((u=+u)<=0)return{vals:i}}else if("string"==typeof u&&"M"===u.charAt(0)){var d=+u.substring(1);if(!(d>0&&Math.round(d)===d))return{vals:i};c=d}for(var f=e.calendar,h="start"===l,p="end"===l,g=t[n+"period0"],m=o(g,f)||0,v=[],y=[],b=[],x=i.length,w=0;w<x;w++){var k,_,A,T=i[w];if(c){for(k=Math.round((T-m)/(c*s)),A=a(m,c*k,f);A>T;)A=a(A,-c,f);for(;A<=T;)A=a(A,c,f);_=a(A,-c,f)}else{for(A=m+(k=Math.round((T-m)/u))*u;A>T;)A-=u;for(;A<=T;)A+=u;_=A-u}v[w]=h?_:p?A:(_+A)/2,y[w]=_,b[w]=A}return{vals:v,starts:y,ends:b}}},{"../../constants/numerical":378,"../../lib":400,"fast-isnumeric":121}],448:[function(t,e,n){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],449:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("fast-isnumeric"),o=t("../../lib"),a=t("../../constants/numerical").FP_SAFE,s=t("../../registry"),l=t("../../components/drawing"),c=t("./axis_ids"),u=c.getFromId,d=c.isLinked;function f(t,e){var n,r,i=[],a=t._fullLayout,s=p(a,e,0),l=p(a,e,1),c=g(t,e),u=c.min,d=c.max;if(0===u.length||0===d.length)return o.simpleMap(e.range,e.r2l);var f=u[0].val,m=d[0].val;for(n=1;n<u.length&&f===m;n++)f=Math.min(f,u[n].val);for(n=1;n<d.length&&f===m;n++)m=Math.max(m,d[n].val);var v=!1;if(e.range){var y=o.simpleMap(e.range,e.r2l);v=y[1]<y[0]}"reversed"===e.autorange&&(v=!0,e.autorange=!0);var b,x,w,k,_,A,T=e.rangemode,M="tozero"===T,E="nonnegative"===T,C=e._length,S=C/10,O=0;for(n=0;n<u.length;n++)for(b=u[n],r=0;r<d.length;r++)(A=(x=d[r]).val-b.val-h(e,b.val,x.val))>0&&((_=C-s(b)-l(x))>S?A/_>O&&(w=b,k=x,O=A/_):A/C>O&&(w={val:b.val,nopad:1},k={val:x.val,nopad:1},O=A/C));if(f===m){var L=f-1,P=f+1;if(M)if(0===f)i=[0,1];else{var D=(f>0?d:u).reduce((function(t,e){return Math.max(t,l(e))}),0),R=f/(1-Math.min(.5,D/C));i=f>0?[0,R]:[R,0]}else i=E?[Math.max(0,L),Math.max(1,P)]:[L,P]}else M?(w.val>=0&&(w={val:0,nopad:1}),k.val<=0&&(k={val:0,nopad:1})):E&&(w.val-O*s(w)<0&&(w={val:0,nopad:1}),k.val<=0&&(k={val:1,nopad:1})),O=(k.val-w.val-h(e,b.val,x.val))/(C-s(w)-l(k)),i=[w.val-O*s(w),k.val+O*l(k)];return v&&i.reverse(),o.simpleMap(i,e.l2r||Number)}function h(t,e,n){var r=0;if(t.rangebreaks)for(var i=t.locateBreaks(e,n),o=0;o<i.length;o++){var a=i[o];r+=a.max-a.min}return r}function p(t,e,n){var i=.05*e._length,a=e._anchorAxis||{};if(-1!==(e.ticklabelposition||"").indexOf("inside")||-1!==(a.ticklabelposition||"").indexOf("inside")){var s="reversed"===e.autorange;if(!s){var c=o.simpleMap(e.range,e.r2l);s=c[1]<c[0]}s&&(n=!n)}var u=0;return d(t,e._id)||(u=function(t,e,n){var i=0,a="x"===e._id.charAt(0);for(var s in t._plots){var c=t._plots[s];if(e._id===c.xaxis._id||e._id===c.yaxis._id){var u=(a?c.yaxis:c.xaxis)||{};if(-1!==(u.ticklabelposition||"").indexOf("inside")&&(!n&&("left"===u.side||"bottom"===u.side)||n&&("top"===u.side||"right"===u.side))){if(u._vals){var d=o.deg2rad(u._tickAngles[u._id+"tick"]||0),f=Math.abs(Math.cos(d)),h=Math.abs(Math.sin(d));if(!u._vals[0].bb){var p=u._id+"tick";u._selections[p].each((function(t){var e=r.select(this);e.select(".text-math-group").empty()&&(t.bb=l.bBox(e.node()))}))}for(var g=0;g<u._vals.length;g++){var m=u._vals[g].bb;if(m){var v=6+m.width,y=6+m.height;i=Math.max(i,a?Math.max(v*f,y*h):Math.max(y*f,v*h))}}}"inside"===u.ticks&&"inside"===u.ticklabelposition&&(i+=u.ticklen||0)}}}return i}(t,e,n)),i=Math.max(u,i),"domain"===e.constrain&&e._inputDomain&&(i*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(t){return t.nopad?0:t.pad+(t.extrapad?i:u)}}function g(t,e,n){var r,i,o,a=e._id,s=t._fullData,l=t._fullLayout,c=[],d=[];function f(t,e){for(r=0;r<e.length;r++){var n=t[e[r]],s=(n._extremes||{})[a];if(!0===n.visible&&s){for(i=0;i<s.min.length;i++)o=s.min[i],m(c,o.val,o.pad,{extrapad:o.extrapad});for(i=0;i<s.max.length;i++)o=s.max[i],v(d,o.val,o.pad,{extrapad:o.extrapad})}}}if(f(s,e._traceIndices),f(l.annotations||[],e._annIndices||[]),f(l.shapes||[],e._shapeIndices||[]),e._matchGroup&&!n)for(var h in e._matchGroup)if(h!==e._id){var p=u(t,h),y=g(t,p,!0),b=e._length/p._length;for(i=0;i<y.min.length;i++)o=y.min[i],m(c,o.val,o.pad*b,{extrapad:o.extrapad});for(i=0;i<y.max.length;i++)o=y.max[i],v(d,o.val,o.pad*b,{extrapad:o.extrapad})}return{min:c,max:d}}function m(t,e,n,r){y(t,e,n,r,x)}function v(t,e,n,r){y(t,e,n,r,w)}function y(t,e,n,r,i){for(var o=r.tozero,a=r.extrapad,s=!0,l=0;l<t.length&&s;l++){var c=t[l];if(i(c.val,e)&&c.pad>=n&&(c.extrapad||!a)){s=!1;break}i(e,c.val)&&c.pad<=n&&(a||!c.extrapad)&&(t.splice(l,1),l--)}if(s){var u=o&&0===e;t.push({val:e,pad:u?0:n,extrapad:!u&&a})}}function b(t){return i(t)&&Math.abs(t)<a}function x(t,e){return t<=e}function w(t,e){return t>=e}e.exports={getAutoRange:f,makePadFn:p,doAutoRange:function(t,e,n){if(e.setScale(),e.autorange){e.range=n?n.slice():f(t,e),e._r=e.range.slice(),e._rl=o.simpleMap(e._r,e.r2l);var r=e._input,i={};i[e._attr+".range"]=e.range,i[e._attr+".autorange"]=e.autorange,s.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,i),r.range=e.range.slice(),r.autorange=e.autorange}var a=e._anchorAxis;if(a&&a.rangeslider){var l=a.rangeslider[e._name];l&&"auto"===l.rangemode&&(l.range=f(t,e)),a._input.rangeslider[e._name]=o.extendFlat({},l)}},findExtremes:function(t,e,n){n||(n={}),t._m||t.setScale();var r,o,s,l,c,u,d,f,h,p=[],g=[],y=e.length,x=n.padded||!1,w=n.tozero&&("linear"===t.type||"-"===t.type),k="log"===t.type,_=!1,A=n.vpadLinearized||!1;function T(t){if(Array.isArray(t))return _=!0,function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}var M=T((t._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),E=T((t._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),C=T(n.vpadplus||n.vpad),S=T(n.vpadminus||n.vpad);if(!_){if(f=1/0,h=-1/0,k)for(r=0;r<y;r++)(o=e[r])<f&&o>0&&(f=o),o>h&&o<a&&(h=o);else for(r=0;r<y;r++)(o=e[r])<f&&o>-a&&(f=o),o>h&&o<a&&(h=o);e=[f,h],y=2}var O={tozero:w,extrapad:x};function L(n){s=e[n],i(s)&&(u=M(n),d=E(n),A?(l=t.c2l(s)-S(n),c=t.c2l(s)+C(n)):(f=s-S(n),h=s+C(n),k&&f<h/10&&(f=h/10),l=t.c2l(f),c=t.c2l(h)),w&&(l=Math.min(0,l),c=Math.max(0,c)),b(l)&&m(p,l,d,O),b(c)&&v(g,c,u,O))}var P=Math.min(6,y);for(r=0;r<P;r++)L(r);for(r=y-1;r>=P;r--)L(r);return{min:p,max:g,opts:n}},concatExtremes:g}},{"../../components/drawing":279,"../../constants/numerical":378,"../../lib":400,"../../registry":490,"./axis_ids":454,"@plotly/d3":14,"fast-isnumeric":121}],450:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("fast-isnumeric"),o=t("../../plots/plots"),a=t("../../registry"),s=t("../../lib"),l=s.strTranslate,c=t("../../lib/svg_text_utils"),u=t("../../components/titles"),d=t("../../components/color"),f=t("../../components/drawing"),h=t("./layout_attributes"),p=t("./clean_ticks"),g=t("../../constants/numerical"),m=g.ONEMAXYEAR,v=g.ONEAVGYEAR,y=g.ONEMINYEAR,b=g.ONEMAXQUARTER,x=g.ONEAVGQUARTER,w=g.ONEMINQUARTER,k=g.ONEMAXMONTH,_=g.ONEAVGMONTH,A=g.ONEMINMONTH,T=g.ONEWEEK,M=g.ONEDAY,E=M/2,C=g.ONEHOUR,S=g.ONEMIN,O=g.ONESEC,L=g.MINUS_SIGN,P=g.BADNUM,D={K:"zeroline"},R={K:"gridline",L:"path"},I={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},N={K:"tick",L:"text"},B={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},F=t("../../constants/alignment"),j=F.MID_SHIFT,$=F.CAP_SHIFT,Z=F.LINE_SPACING,U=F.OPPOSITE_SIDE,H=e.exports={};H.setConvert=t("./set_convert");var V=t("./axis_autotype"),W=t("./axis_ids"),Y=W.idSort,G=W.isLinked;H.id2name=W.id2name,H.name2id=W.name2id,H.cleanId=W.cleanId,H.list=W.list,H.listIds=W.listIds,H.getFromId=W.getFromId,H.getFromTrace=W.getFromTrace;var q=t("./autorange");function X(t){var e=1e-4*(t[1]-t[0]);return[t[0]-e,t[1]+e]}H.getAutoRange=q.getAutoRange,H.findExtremes=q.findExtremes,H.coerceRef=function(t,e,n,r,i,o){var a=r.charAt(r.length-1),l=n._fullLayout._subplots[a+"axis"],c=r+"ref",u={};return i||(i=l[0]||("string"==typeof o?o:o[0])),o||(o=i),l=l.concat(l.map((function(t){return t+" domain"}))),u[c]={valType:"enumerated",values:l.concat(o?"string"==typeof o?[o]:o:[]),dflt:i},s.coerce(t,e,u,c)},H.getRefType=function(t){return void 0===t?t:"paper"===t?"paper":"pixel"===t?"pixel":/( domain)$/.test(t)?"domain":"range"},H.coercePosition=function(t,e,n,r,i,o){var a,l;if("range"!==H.getRefType(r))a=s.ensureNumber,l=n(i,o);else{var c=H.getFromId(e,r);l=n(i,o=c.fraction2r(o)),a=c.cleanPos}t[i]=a(l)},H.cleanPosition=function(t,e,n){return("paper"===n||"pixel"===n?s.ensureNumber:H.getFromId(e,n).cleanPos)(t)},H.redrawComponents=function(t,e){e=e||H.listIds(t);var n=t._fullLayout;function r(r,i,o,s){for(var l=a.getComponentMethod(r,i),c={},u=0;u<e.length;u++)for(var d=n[H.id2name(e[u])][o],f=0;f<d.length;f++){var h=d[f];if(!c[h]&&(l(t,h),c[h]=1,s))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0),r("selections","drawOne","_selectionIndices")};var J=H.getDataConversions=function(t,e,n,r){var i,o="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(o)){if(i={type:V(r,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},H.setConvert(i),"category"===i.type)for(var a=0;a<r.length;a++)i.d2c(r[a])}else i=H.getFromTrace(t,e,o);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===o?{d2c:Q,c2d:Q}:{d2c:K,c2d:K}};function K(t){return+t}function Q(t){return String(t)}function tt(t,e){return Math.abs((t/e+.5)%1-.5)<.001}function et(t,e){return Math.abs(t/e-1)<.001}function nt(t){return+t.substring(1)}function rt(t){var e=X(s.simpleMap(t.range,t.r2l)),n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i="category"===t.type?t.d2l_noadd:t.d2l;"log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(var o=[],a=0;a<=1;a++)if(!a||t.minor){var l=a?t.minor.tickvals:t.tickvals,c=a?[]:t.ticktext;if(l){Array.isArray(c)||(c=[]);for(var u=0;u<l.length;u++){var d=i(l[u]);if(d>n&&d<r){var f=void 0===c[u]?H.tickText(t,d):ht(t,d,String(c[u]));a&&(f.minor=!0,f.text=""),o.push(f)}}}}return t.rangebreaks&&(o=o.filter((function(e){return t.maskBreaks(e.x)!==P}))),o}H.getDataToCoordFunc=function(t,e,n,r){return J(t,e,n,r).d2c},H.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},H.minDtick=function(t,e,n,r){-1===["log","category","multicategory"].indexOf(t.type)&&r?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=n):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((n-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=n):((e/t._minDtick+1e-6)%1>2e-6||((n-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},H.saveRangeInitial=function(t,e){for(var n=H.list(t,"",!0),r=!1,i=0;i<n.length;i++){var o=n[i],a=void 0===o._rangeInitial,s=a||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(a&&!1===o.autorange||e&&s)&&(o._rangeInitial=o.range.slice(),r=!0)}return r},H.saveShowSpikeInitial=function(t,e){for(var n=H.list(t,"",!0),r=!1,i="on",o=0;o<n.length;o++){var a=n[o],s=void 0===a._showSpikeInitial,l=s||!(a.showspikes===a._showspikes);(s||e&&l)&&(a._showSpikeInitial=a.showspikes,r=!0),"on"!==i||a.showspikes||(i="off")}return t._fullLayout._cartesianSpikesEnabled=i,r},H.autoBin=function(t,e,n,r,o,a){var l,c=s.aggNums(Math.min,null,t),u=s.aggNums(Math.max,null,t);if("category"===e.type||"multicategory"===e.type)return{start:c-.5,end:u+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:u-c};if(o||(o=e.calendar),l="log"===e.type?{type:"linear",range:[c,u]}:{type:e.type,range:s.simpleMap([c,u],e.c2r,0,o),calendar:o},H.setConvert(l),a=a&&p.dtick(a,l.type))l.dtick=a,l.tick0=p.tick0(void 0,l.type,o);else{var d;if(n)d=(u-c)/n;else{var f=s.distinctVals(t),h=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),g=h*s.roundUp(f.minDiff/h,[.9,1.9,4.9,9.9],!0);d=Math.max(g,2*s.stdev(t)/Math.pow(t.length,r?.25:.4)),i(d)||(d=1)}H.autoTicks(l,d)}var m,v=l.dtick,y=H.tickIncrement(H.tickFirst(l),v,"reverse",o);if("number"==typeof v)m=(y=function(t,e,n,r,o){var a=0,s=0,l=0,c=0;function u(e){return(1+100*(e-t)/n.dtick)%100<2}for(var d=0;d<e.length;d++)e[d]%1==0?l++:i(e[d])||c++,u(e[d])&&a++,u(e[d]+n.dtick/2)&&s++;var f=e.length-c;if(l===f&&"date"!==n.type)n.dtick<1?t=r-.5*n.dtick:(t-=.5)+n.dtick<r&&(t+=n.dtick);else if(s<.1*f&&(a>.3*f||u(r)||u(o))){var h=n.dtick/2;t+=t+h<r?h:-h}return t}(y,t,l,c,u))+(1+Math.floor((u-y)/v))*v;else for("M"===l.dtick.charAt(0)&&(y=function(t,e,n,r,i){var o=s.findExactDates(e,i);if(o.exactDays>.8){var a=Number(n.substr(1));o.exactYears>.8&&a%12==0?t=H.tickIncrement(t,"M6","reverse")+1.5*M:o.exactMonths>.8?t=H.tickIncrement(t,"M1","reverse")+15.5*M:t-=E;var l=H.tickIncrement(t,n);if(l<=r)return l}return t}(y,t,v,c,o)),m=y;m<=u;)m=H.tickIncrement(m,v,!1,o);return{start:e.c2r(y,0,o),end:e.c2r(m,0,o),size:v,_dataSpan:u-c}},H.prepMinorTicks=function(t,e,n){if(!e.minor.dtick){delete t.dtick;var r,o=e.dtick&&i(e._tmin);if(o){var a=H.tickIncrement(e._tmin,e.dtick,!0);r=[e._tmin,.99*a+.01*e._tmin]}else{var l=s.simpleMap(e.range,e.r2l);r=[l[0],.8*l[0]+.2*l[1]]}if(t.range=s.simpleMap(r,e.l2r),t._isMinor=!0,H.prepTicks(t,n),o){var c=i(e.dtick),u=i(t.dtick),d=c?e.dtick:+e.dtick.substring(1),f=u?t.dtick:+t.dtick.substring(1);c&&u?tt(d,f)?d===2*T&&f===2*M&&(t.dtick=T):d===2*T&&f===3*M?t.dtick=T:d!==T||(e._input.minor||{}).nticks?et(d/f,2.5)?t.dtick=d/2:t.dtick=d:t.dtick=M:"M"===String(e.dtick).charAt(0)?u?t.dtick="M1":tt(d,f)?d>=12&&2===f&&(t.dtick="M3"):t.dtick=e.dtick:"L"===String(t.dtick).charAt(0)?"L"===String(e.dtick).charAt(0)?tt(d,f)||(t.dtick=et(d/f,2.5)?e.dtick/2:e.dtick):t.dtick="D1":"D2"===t.dtick&&+e.dtick>1&&(t.dtick=1)}t.range=e.range}void 0===e.minor._tick0Init&&(t.tick0=e.tick0)},H.prepTicks=function(t,e){var n=s.simpleMap(t.range,t.r2l,void 0,void 0,e);if("auto"===t.tickmode||!t.dtick){var r,o=t.nticks;o||("category"===t.type||"multicategory"===t.type?(r=t.tickfont?s.bigFont(t.tickfont.size||12):15,o=t._length/r):(r="y"===t._id.charAt(0)?40:80,o=s.constrain(t._length/r,4,9)+1),"radialaxis"===t._name&&(o*=2)),t.minor&&"array"!==t.minor.tickmode||"array"===t.tickmode&&(o*=100),t._roughDTick=Math.abs(n[1]-n[0])/o,H.autoTicks(t,t._roughDTick),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}"period"===t.ticklabelmode&&function(t){var e;function n(){return!(i(t.dtick)||"M"!==t.dtick.charAt(0))}var r=n(),o=H.getTickFormat(t);if(o){var a=t._dtickInit!==t.dtick;/%[fLQsSMX]/.test(o)||(/%[HI]/.test(o)?(e=C,a&&!r&&t.dtick<C&&(t.dtick=C)):/%p/.test(o)?(e=E,a&&!r&&t.dtick<E&&(t.dtick=E)):/%[Aadejuwx]/.test(o)?(e=M,a&&!r&&t.dtick<M&&(t.dtick=M)):/%[UVW]/.test(o)?(e=T,a&&!r&&t.dtick<T&&(t.dtick=T)):/%[Bbm]/.test(o)?(e=_,a&&(r?nt(t.dtick)<1:t.dtick<A)&&(t.dtick="M1")):/%[q]/.test(o)?(e=x,a&&(r?nt(t.dtick)<3:t.dtick<w)&&(t.dtick="M3")):/%[Yy]/.test(o)&&(e=v,a&&(r?nt(t.dtick)<12:t.dtick<y)&&(t.dtick="M12")))}(r=n())&&t.tick0===t._dowTick0&&(t.tick0=t._rawTick0),t._definedDelta=e}(t),t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),"date"===t.type&&t.dtick<.1&&(t.dtick=.1),ft(t)},H.calcTicks=function(t,e){for(var n,r,o=t.type,a=t.calendar,l=t.ticklabelstep,c="period"===t.ticklabelmode,u=s.simpleMap(t.range,t.r2l,void 0,void 0,e),d=u[1]<u[0],f=Math.min(u[0],u[1]),h=Math.max(u[0],u[1]),p=Math.max(1e3,t._length||0),g=[],S=[],O=[],L=[],D=t.minor&&(t.minor.ticks||t.minor.showgrid),R=1;R>=(D?0:1);R--){var I=!R;R?(t._dtickInit=t.dtick,t._tick0Init=t.tick0):(t.minor._dtickInit=t.minor.dtick,t.minor._tick0Init=t.minor.tick0);var z=R?t:s.extendFlat({},t,t.minor);if(I?H.prepMinorTicks(z,t,e):H.prepTicks(z,e),"array"!==z.tickmode){var N=X(u),B=N[0],F=N[1],j=i(z.dtick),$="log"===o&&!(j||"L"===z.dtick.charAt(0)),Z=H.tickFirst(z,e);if(R){if(t._tmin=Z,Z<B!==d)break;"category"!==o&&"multicategory"!==o||(F=d?Math.max(-.5,F):Math.min(t._categories.length-.5,F))}var U,V,W=null,Y=Z;R&&(j?V=t.dtick:"date"===o?"string"==typeof t.dtick&&"M"===t.dtick.charAt(0)&&(V=_*t.dtick.substring(1)):V=t._roughDTick,U=Math.round((t.r2l(Y)-t.r2l(t.tick0))/V)-1);var G=z.dtick;for(z.rangebreaks&&z._tick0Init!==z.tick0&&(Y=Pt(Y,t),d||(Y=H.tickIncrement(Y,G,!d,a))),R&&c&&(Y=H.tickIncrement(Y,G,!d,a),U--);d?Y>=F:Y<=F;Y=H.tickIncrement(Y,G,d,a)){if(R&&U++,z.rangebreaks&&!d){if(Y<B)continue;if(z.maskBreaks(Y)===P&&Pt(Y,z)>=h)break}if(O.length>p||Y===W)break;W=Y;var q={value:Y};R?($&&Y!==(0|Y)&&(q.simpleLabel=!0),l>1&&U%l&&(q.skipLabel=!0),O.push(q)):(q.minor=!0,L.push(q))}}else R?(O=[],g=rt(t)):(L=[],S=rt(t))}if(D&&!("inside"===t.minor.ticks&&"outside"===t.ticks||"outside"===t.minor.ticks&&"inside"===t.ticks)){for(var J=O.map((function(t){return t.value})),K=[],Q=0;Q<L.length;Q++){var tt=L[Q],et=tt.value;if(-1===J.indexOf(et)){for(var nt=!1,it=0;!nt&&it<O.length;it++)1e7+O[it].value===1e7+et&&(nt=!0);nt||K.push(tt)}}L=K}if(c&&function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r].value,o=r,a=r+1;r<t.length-1?(o=r,a=r+1):r>0?(o=r-1,a=r):(o=r,a=r);var s,l=t[o].value,c=t[a].value,u=Math.abs(c-l),d=n||u,f=0;d>=y?f=u>=y&&u<=m?u:v:n===x&&d>=w?f=u>=w&&u<=b?u:x:d>=A?f=u>=A&&u<=k?u:_:n===T&&d>=T?f=T:d>=M?f=M:n===E&&d>=E?f=E:n===C&&d>=C&&(f=C),f>=u&&(f=u,s=!0);var h=i+f;if(e.rangebreaks&&f>0){for(var p=0,g=0;g<84;g++){var S=(g+.5)/84;e.maskBreaks(i*(1-S)+S*h)!==P&&p++}(f*=p/84)||(t[r].drop=!0),s&&u>T&&(f=u)}(f>0||0===r)&&(t[r].periodX=i+f/2)}}(O,t,t._definedDelta),t.rangebreaks){var ot="y"===t._id.charAt(0),at=1;"auto"===t.tickmode&&(at=t.tickfont?t.tickfont.size:12);var st=NaN;for(n=O.length-1;n>-1;n--)if(O[n].drop)O.splice(n,1);else{O[n].value=Pt(O[n].value,t);var lt=t.c2p(O[n].value);(ot?st>lt-at:st<lt+at)?O.splice(d?n+1:n,1):st=lt}}Lt(t)&&360===Math.abs(u[1]-u[0])&&O.pop(),t._tmax=(O[O.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var ct,ut,dt=function(e){e.text="",t._prevDateHead=r};for(O=O.concat(L),n=0;n<O.length;n++){var ft=O[n].minor,ht=O[n].value;ft?S.push({x:ht,minor:!0}):(r=t._prevDateHead,ct=H.tickText(t,ht,!1,O[n].simpleLabel),void 0!==(ut=O[n].periodX)&&(ct.periodX=ut,(ut>h||ut<f)&&(ut>h&&(ct.periodX=h),ut<f&&(ct.periodX=f),dt(ct))),O[n].skipLabel&&dt(ct),g.push(ct))}return g=g.concat(S),t._inCalcTicks=!1,c&&g.length&&(g[0].noTick=!0),g};var it=[2,5,10],ot=[1,2,3,6,12],at=[1,2,5,10,15,30],st=[1,2,3,7,14],lt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ct=[-.301,0,.301,.699,1],ut=[15,30,45,90,180];function dt(t,e,n){return e*s.roundUp(t/e,n)}function ft(t){var e=t.dtick;if(t._tickexponent=0,i(e)||"string"==typeof e||(e=1),"category"!==t.type&&"multicategory"!==t.type||(t._tickround=null),"date"===t.type){var n=t.r2l(t.tick0),r=t.l2r(n).replace(/(^-|i)/g,""),o=r.length;if("M"===String(e).charAt(0))o>10||"01-01"!==r.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12==0?"y":"m";else if(e>=M&&o<=10||e>=15*M)t._tickround="d";else if(e>=S&&o<=16||e>=C)t._tickround="M";else if(e>=O&&o<=19||e>=S)t._tickround="S";else{var a=t.l2r(n+e).replace(/^-/,"").length;t._tickround=Math.max(o,a)-20,t._tickround<0&&(t._tickround=4)}}else if(i(e)||"L"===e.charAt(0)){var s=t.range.map(t.r2d||Number);i(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),c=Math.floor(Math.log(l)/Math.LN10+.01),u=void 0===t.minexponent?3:t.minexponent;Math.abs(c)>u&&(gt(t.exponentformat)&&!mt(c)?t._tickexponent=3*Math.round((c-1)/3):t._tickexponent=c)}else t._tickround=null}function ht(t,e,n){var r=t.tickfont||{};return{x:e,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}H.autoTicks=function(t,e,n){var r;function o(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=s.dateTick0(t.calendar,0);var a=2*e;if(a>v)e/=v,r=o(10),t.dtick="M"+12*dt(e,r,it);else if(a>_)e/=_,t.dtick="M"+dt(e,1,ot);else if(a>M){if(t.dtick=dt(e,M,t._hasDayOfWeekBreaks?[1,2,7,14]:st),!n){var l=H.getTickFormat(t),c="period"===t.ticklabelmode;c&&(t._rawTick0=t.tick0),/%[uVW]/.test(l)?t.tick0=s.dateTick0(t.calendar,2):t.tick0=s.dateTick0(t.calendar,1),c&&(t._dowTick0=t.tick0)}}else a>C?t.dtick=dt(e,C,ot):a>S?t.dtick=dt(e,S,at):a>O?t.dtick=dt(e,O,at):(r=o(10),t.dtick=dt(e,r,it))}else if("log"===t.type){t.tick0=0;var u=s.simpleMap(t.range,t.r2l);if(t._isMinor&&(e*=1.5),e>.7)t.dtick=Math.ceil(e);else if(Math.abs(u[1]-u[0])<1){var d=1.5*Math.abs((u[1]-u[0])/e);e=Math.abs(Math.pow(10,u[1])-Math.pow(10,u[0]))/d,r=o(10),t.dtick="L"+dt(e,r,it)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type||"multicategory"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):Lt(t)?(t.tick0=0,r=1,t.dtick=dt(e,r,ut)):(t.tick0=0,r=o(10),t.dtick=dt(e,r,it));if(0===t.dtick&&(t.dtick=1),!i(t.dtick)&&"string"!=typeof t.dtick){var f=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(f)}},H.tickIncrement=function(t,e,n,o){var a=n?-1:1;if(i(e))return s.increment(t,a*e);var l=e.charAt(0),c=a*Number(e.substr(1));if("M"===l)return s.incrementMonth(t,c,o);if("L"===l)return Math.log(Math.pow(10,t)+c)/Math.LN10;if("D"===l){var u="D2"===e?ct:lt,d=t+.01*a,f=s.roundUp(s.mod(d,1),u,n);return Math.floor(d)+Math.log(r.round(Math.pow(10,f),1))/Math.LN10}throw"unrecognized dtick "+String(e)},H.tickFirst=function(t,e){var n=t.r2l||Number,o=s.simpleMap(t.range,n,void 0,void 0,e),a=o[1]<o[0],l=a?Math.floor:Math.ceil,c=X(o)[0],u=t.dtick,d=n(t.tick0);if(i(u)){var f=l((c-d)/u)*u+d;return"category"!==t.type&&"multicategory"!==t.type||(f=s.constrain(f,0,t._categories.length-1)),f}var h=u.charAt(0),p=Number(u.substr(1));if("M"===h){for(var g,m,v,y=0,b=d;y<10;){if(((g=H.tickIncrement(b,u,a,t.calendar))-c)*(b-c)<=0)return a?Math.min(b,g):Math.max(b,g);m=(c-(b+g)/2)/(g-b),v=h+(Math.abs(Math.round(m))||1)*p,b=H.tickIncrement(b,v,m<0?!a:a,t.calendar),y++}return s.error("tickFirst did not converge",t),b}if("L"===h)return Math.log(l((Math.pow(10,c)-d)/p)*p+d)/Math.LN10;if("D"===h){var x="D2"===u?ct:lt,w=s.roundUp(s.mod(c,1),x,a);return Math.floor(c)+Math.log(r.round(Math.pow(10,w),1))/Math.LN10}throw"unrecognized dtick "+String(u)},H.tickText=function(t,e,n,r){var o,a=ht(t,e),l="array"===t.tickmode,c=n||l,u=t.type,d="category"===u?t.d2l_noadd:t.d2l;if(l&&Array.isArray(t.ticktext)){var f=s.simpleMap(t.range,t.r2l),h=(Math.abs(f[1]-f[0])-(t._lBreaks||0))/1e4;for(o=0;o<t.ticktext.length&&!(Math.abs(e-d(t.tickvals[o]))<h);o++);if(o<t.ticktext.length)return a.text=String(t.ticktext[o]),a}function p(r){if(void 0===r)return!0;if(n)return"none"===r;var i={first:t._tmin,last:t._tmax}[r];return"all"!==r&&e!==i}var g=n?"never":"none"!==t.exponentformat&&p(t.showexponent)?"hide":"";if("date"===u?function(t,e,n,r){var o=t._tickround,a=n&&t.hoverformat||H.getTickFormat(t);r&&(o=i(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var l,c=s.formatDate(e.x,a,o,t._dateFormat,t.calendar,t._extraFormat),u=c.indexOf("\n");if(-1!==u&&(l=c.substr(u+1),c=c.substr(0,u)),r&&("00:00:00"===c||"00:00"===c?(c=l,l=""):8===c.length&&(c=c.replace(/:00$/,""))),l)if(n)"d"===o?c+=", "+l:c=l+(c?", "+c:"");else if(t._inCalcTicks&&t._prevDateHead===l){var d=Dt(t),f=t._trueSide||t.side;(!d&&"top"===f||d&&"bottom"===f)&&(c+="<br> ")}else t._prevDateHead=l,c+="<br>"+l;e.text=c}(t,a,n,c):"log"===u?function(t,e,n,r,o){var a=t.dtick,l=e.x,c=t.tickformat,u="string"==typeof a&&a.charAt(0);if("never"===o&&(o=""),r&&"L"!==u&&(a="L3",u="L"),c||"L"===u)e.text=vt(Math.pow(10,l),t,o,r);else if(i(a)||"D"===u&&s.mod(l+.01,1)<.1){var d=Math.round(l),f=Math.abs(d),h=t.exponentformat;"power"===h||gt(h)&&mt(d)?(e.text=0===d?1:1===d?"10":"10<sup>"+(d>1?"":L)+f+"</sup>",e.fontSize*=1.25):("e"===h||"E"===h)&&f>2?e.text="1"+h+(d>0?"+":L)+f:(e.text=vt(Math.pow(10,l),t,"","fakehover"),"D1"===a&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==u)throw"unrecognized dtick "+String(a);e.text=String(Math.round(Math.pow(10,s.mod(l,1)))),e.fontSize*=.75}if("D1"===t.dtick){var p=String(e.text).charAt(0);"0"!==p&&"1"!==p||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(l<0?.5:.25)))}}(t,a,0,c,g):"category"===u?function(t,e){var n=t._categories[Math.round(e.x)];void 0===n&&(n=""),e.text=String(n)}(t,a):"multicategory"===u?function(t,e,n){var r=Math.round(e.x),i=t._categories[r]||[],o=void 0===i[1]?"":String(i[1]),a=void 0===i[0]?"":String(i[0]);n?e.text=a+" - "+o:(e.text=o,e.text2=a)}(t,a,n):Lt(t)?function(t,e,n,r,i){if("radians"!==t.thetaunit||n)e.text=vt(e.x,t,i,r);else{var o=e.x/180;if(0===o)e.text="0";else{var a=function(t){function e(t,e){return Math.abs(t-e)<=1e-6}var n=function(t){for(var n=1;!e(Math.round(t*n)/n,t);)n*=10;return n}(t),r=t*n,i=Math.abs(function t(n,r){return e(r,0)?n:t(r,n%r)}(r,n));return[Math.round(r/i),Math.round(n/i)]}(o);if(a[1]>=100)e.text=vt(s.deg2rad(e.x),t,i,r);else{var l=e.x<0;1===a[1]?1===a[0]?e.text="\u03c0":e.text=a[0]+"\u03c0":e.text=["<sup>",a[0],"</sup>","\u2044","<sub>",a[1],"</sub>","\u03c0"].join(""),l&&(e.text=L+e.text)}}}}(t,a,n,c,g):function(t,e,n,r,i){"never"===i?i="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(i="hide"),e.text=vt(e.x,t,i,r)}(t,a,0,c,g),r||(t.tickprefix&&!p(t.showtickprefix)&&(a.text=t.tickprefix+a.text),t.ticksuffix&&!p(t.showticksuffix)&&(a.text+=t.ticksuffix)),"boundaries"===t.tickson||t.showdividers){var m=function(e){var n=t.l2p(e);return n>=0&&n<=t._length?e:null};a.xbnd=[m(a.x-.5),m(a.x+t.dtick-.5)]}return a},H.hoverLabelText=function(t,e,n){n&&(t=s.extendFlat({},t,{hoverformat:n}));var r=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:void 0;if(void 0!==i&&i!==r)return H.hoverLabelText(t,r,n)+" - "+H.hoverLabelText(t,i,n);var o="log"===t.type&&r<=0,a=H.tickText(t,t.c2l(o?-r:r),"hover").text;return o?0===r?"0":L+a:a};var pt=["f","p","n","\u03bc","m","","k","M","G","T"];function gt(t){return"SI"===t||"B"===t}function mt(t){return t>14||t<-15}function vt(t,e,n,r){var o=t<0,a=e._tickround,l=n||e.exponentformat||"B",c=e._tickexponent,u=H.getTickFormat(e),d=e.separatethousands;if(r){var f={exponentformat:l,minexponent:e.minexponent,dtick:"none"===e.showexponent?e.dtick:i(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};ft(f),a=(Number(f._tickround)||0)+4,c=f._tickexponent,e.hoverformat&&(u=e.hoverformat)}if(u)return e._numFormat(u)(t).replace(/-/g,L);var h,p=Math.pow(10,-a)/2;if("none"===l&&(c=0),(t=Math.abs(t))<p)t="0",o=!1;else{if(t+=p,c&&(t*=Math.pow(10,-c),a+=c),0===a)t=String(Math.floor(t));else if(a<0){t=(t=String(Math.round(t))).substr(0,t.length+a);for(var g=a;g<0;g++)t+="0"}else{var m=(t=String(t)).indexOf(".")+1;m&&(t=t.substr(0,m+a).replace(/\.?0+$/,""))}t=s.numSeparate(t,e._separators,d)}return c&&"hide"!==l&&(gt(l)&&mt(c)&&(l="power"),h=c<0?L+-c:"power"!==l?"+"+c:String(c),"e"===l||"E"===l?t+=l+h:"power"===l?t+="\xd710<sup>"+h+"</sup>":"B"===l&&9===c?t+="B":gt(l)&&(t+=pt[c/3+5])),o?L+t:t}function yt(t,e){if(t){var n=Object.keys(B).reduce((function(t,n){return-1!==e.indexOf(n)&&B[n].forEach((function(e){t[e]=1})),t}),{});Object.keys(t).forEach((function(e){n[e]||(1===e.length?t[e]=0:delete t[e])}))}}function bt(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i];r[o.text2]?r[o.text2].push(o.x):r[o.text2]=[o.x]}for(var a in r)n.push(ht(t,s.interp(r[a],.5),a));return n}function xt(t){return void 0!==t.periodX?t.periodX:t.x}function wt(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}function kt(t){var e=t.title.font.size,n=(t.title.text.match(c.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?n?e*($+n*Z):e*$:n?e*(n+1)*Z:e}function _t(t,e){var n=t.l2p(e);return n>1&&n<t._length-1}function At(t){var e=r.select(t),n=e.select(".text-math-group");return n.empty()?e.select("text"):n}function Tt(t){return t._id+".automargin"}function Mt(t){return Tt(t)+".mirror"}function Et(t){return t._id+".rangeslider"}function Ct(t,e){for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n])}function St(t,e,n){var r,i,o=[],a=[],l=t.layout;for(r=0;r<e.length;r++)o.push(H.getFromId(t,e[r]));for(r=0;r<n.length;r++)a.push(H.getFromId(t,n[r]));var c=Object.keys(h),u=["anchor","domain","overlaying","position","side","tickangle","editType"],d=["linear","log"];for(r=0;r<c.length;r++){var f=c[r],p=o[0][f],g=a[0][f],m=!0,v=!1,y=!1;if("_"!==f.charAt(0)&&"function"!=typeof p&&-1===u.indexOf(f)){for(i=1;i<o.length&&m;i++){var b=o[i][f];"type"===f&&-1!==d.indexOf(p)&&-1!==d.indexOf(b)&&p!==b?v=!0:b!==p&&(m=!1)}for(i=1;i<a.length&&m;i++){var x=a[i][f];"type"===f&&-1!==d.indexOf(g)&&-1!==d.indexOf(x)&&g!==x?y=!0:a[i][f]!==g&&(m=!1)}m&&(v&&(l[o[0]._name].type="linear"),y&&(l[a[0]._name].type="linear"),Ot(l,f,o,a,t._fullLayout._dfltTitle))}}for(r=0;r<t._fullLayout.annotations.length;r++){var w=t._fullLayout.annotations[r];-1!==e.indexOf(w.xref)&&-1!==n.indexOf(w.yref)&&s.swapAttrs(l.annotations[r],["?"])}}function Ot(t,e,n,r,i){var o,a=s.nestedProperty,l=a(t[n[0]._name],e).get(),c=a(t[r[0]._name],e).get();for("title"===e&&(l&&l.text===i.x&&(l.text=i.y),c&&c.text===i.y&&(c.text=i.x)),o=0;o<n.length;o++)a(t,n[o]._name+"."+e).set(c);for(o=0;o<r.length;o++)a(t,r[o]._name+"."+e).set(l)}function Lt(t){return"angularaxis"===t._id}function Pt(t,e){for(var n=e._rangebreaks.length,r=0;r<n;r++){var i=e._rangebreaks[r];if(t>=i.min&&t<i.max)return i.max}return t}function Dt(t){return-1!==(t.ticklabelposition||"").indexOf("inside")}function Rt(t,e){Dt(t._anchorAxis||{})&&t._hideCounterAxisInsideTickLabels&&t._hideCounterAxisInsideTickLabels(e)}H.getTickFormat=function(t){var e,n,r,i,o,a,s,l;function c(t){return"string"!=typeof t?t:Number(t.replace("M",""))*_}function u(t,e){var n=["L","D"];if(typeof t==typeof e){if("number"==typeof t)return t-e;var r=n.indexOf(t.charAt(0)),i=n.indexOf(e.charAt(0));return r===i?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):r-i}return"number"==typeof t?1:-1}function d(t,e){var n=null===e[0],r=null===e[1],i=u(t,e[0])>=0,o=u(t,e[1])<=0;return(n||i)&&(r||o)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&(i=t.dtick,a=void 0,s=void 0,l=void 0,a=c||function(t){return t},s=(o=r.dtickrange)[0],l=o[1],(!s&&"number"!=typeof s||a(s)<=a(i))&&(!l&&"number"!=typeof l||a(l)>=a(i)))){n=r;break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&d(t.dtick,r.dtickrange)){n=r;break}}return n?n.value:t.tickformat},H.getSubplots=function(t,e){var n=t._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=e?H.findSubplotsWithAxis(r,e):r;return i.sort((function(t,e){var n=t.substr(1).split("y"),r=e.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]})),i},H.findSubplotsWithAxis=function(t,e){for(var n=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),r=[],i=0;i<t.length;i++){var o=t[i];n.test(o)&&r.push(o)}return r},H.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var n,i,o={_offset:0,_length:e.width,_id:""},a={_offset:0,_length:e.height,_id:""},s=H.list(t,"x",!0),l=H.list(t,"y",!0),c=[];for(n=0;n<s.length;n++)for(c.push({x:s[n],y:a}),i=0;i<l.length;i++)0===n&&c.push({x:o,y:l[i]}),c.push({x:s[n],y:l[i]});var u=e._clips.selectAll(".axesclip").data(c,(function(t){return t.x._id+t.y._id}));u.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(t){return"clip"+e._uid+t.x._id+t.y._id})).append("rect"),u.exit().remove(),u.each((function(t){r.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})}))}},H.draw=function(t,e,n){var r=t._fullLayout;"redraw"===e&&r._paper.selectAll("g.subplot").each((function(t){var e=t[0],n=r._plots[e];if(n){var i=n.xaxis,o=n.yaxis;n.xaxislayer.selectAll("."+i._id+"tick").remove(),n.yaxislayer.selectAll("."+o._id+"tick").remove(),n.xaxislayer.selectAll("."+i._id+"tick2").remove(),n.yaxislayer.selectAll("."+o._id+"tick2").remove(),n.xaxislayer.selectAll("."+i._id+"divider").remove(),n.yaxislayer.selectAll("."+o._id+"divider").remove(),n.minorGridlayer&&n.minorGridlayer.selectAll("path").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+i._id+"title").remove(),r._infolayer.select(".g-"+o._id+"title").remove()}}));var i=e&&"redraw"!==e?e:H.listIds(t);return s.syncOrAsync(i.map((function(e){return function(){if(e){var r=H.getFromId(t,e),i=H.drawOne(t,r,n);return r._r=r.range.slice(),r._rl=s.simpleMap(r._r,r.r2l),i}}})))},H.drawOne=function(t,e,n){var r,i,l;n=n||{},e.setScale();var c=t._fullLayout,h=e._id,p=h.charAt(0),g=H.counterLetter(h),m=c._plots[e._mainSubplot];if(m){var v=m[p+"axislayer"],y=e._mainLinePosition,b=e._mainMirrorPosition,x=e._vals=H.calcTicks(e),w=[e.mirror,y,b].join("_");for(r=0;r<x.length;r++)x[r].axInfo=w;e._selections={},e._tickAngles&&(e._prevTickAngles=e._tickAngles),e._tickAngles={},e._depth=null;var k={};if(e.visible){var _,A,T=H.makeTransTickFn(e),M=H.makeTransTickLabelFn(e),E="inside"===e.ticks,C="outside"===e.ticks;if("boundaries"===e.tickson){var S=function(t,e){var n,r=[],i=function(t,e){var n=t.xbnd[e];null!==n&&r.push(s.extendFlat({},t,{x:n}))};if(e.length){for(n=0;n<e.length;n++)i(e[n],0);i(e[n-1],1)}return r}(0,x);A=H.clipEnds(e,S),_=E?A:S}else A=H.clipEnds(e,x),_=E&&"period"!==e.ticklabelmode?A:x;var O,L=e._gridVals=A,P=function(t,e){var n,r,i=[],o=e.length&&e[e.length-1].x<e[0].x,a=function(t,e){var n=t.xbnd[e];null!==n&&i.push(s.extendFlat({},t,{x:n}))};if(t.showdividers&&e.length){for(n=0;n<e.length;n++){var l=e[n];l.text2!==r&&a(l,o?1:0),r=l.text2}a(e[n-1],o?0:1)}return i}(e,x);if(!c._hasOnlyLargeSploms){var D=e._subplotsWith,R={};for(r=0;r<D.length;r++){i=D[r];var I=(l=c._plots[i])[g+"axis"],z=I._mainAxis._id;if(!R[z]){R[z]=1;var N="x"===p?"M0,"+I._offset+"v"+I._length:"M"+I._offset+",0h"+I._length;H.drawGrid(t,e,{vals:L,counterAxis:I,layer:l.gridlayer.select("."+h),minorLayer:l.minorGridlayer.select("."+h),path:N,transFn:T}),H.drawZeroLine(t,e,{counterAxis:I,layer:l.zerolinelayer,path:N,transFn:T})}}}var B=H.getTickSigns(e),F=H.getTickSigns(e,"minor");if(e.ticks||e.minor&&e.minor.ticks){var j,$,V,W,Y=H.makeTickPath(e,y,B[2]),G=H.makeTickPath(e,y,F[2],{minor:!0});if(e._anchorAxis&&e.mirror&&!0!==e.mirror?(j=H.makeTickPath(e,b,B[3]),$=H.makeTickPath(e,b,F[3],{minor:!0}),V=Y+j,W=G+$):(j="",$="",V=Y,W=G),e.showdividers&&C&&"boundaries"===e.tickson){var q={};for(r=0;r<P.length;r++)q[P[r].x]=1;O=function(t){return q[t.x]?j:V}}else O=function(t){return t.minor?W:V}}if(H.drawTicks(t,e,{vals:_,layer:v,path:O,transFn:T}),"allticks"===e.mirror){var X=Object.keys(e._linepositions||{});for(r=0;r<X.length;r++){i=X[r],l=c._plots[i];var J=e._linepositions[i]||[],K=J[0],Q=J[1],tt=J[2],et=H.makeTickPath(e,K,tt?B[0]:F[0],{minor:tt})+H.makeTickPath(e,Q,tt?B[1]:F[1],{minor:tt});H.drawTicks(t,e,{vals:_,layer:l[p+"axislayer"],path:et,transFn:T})}}var nt=[];if(nt.push((function(){return H.drawLabels(t,e,{vals:x,layer:v,plotinfo:l,transFn:M,labelFns:H.makeLabelFns(e,y)})})),"multicategory"===e.type){var rt={x:2,y:10}[p];nt.push((function(){var n={x:"height",y:"width"}[p],r=ot()[n]+rt+(e._tickAngles[h+"tick"]?e.tickfont.size*Z:0);return H.drawLabels(t,e,{vals:bt(e,x),layer:v,cls:h+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:T,labelFns:H.makeLabelFns(e,y+r*B[4])})})),nt.push((function(){return e._depth=B[4]*(ot("tick2")[e.side]-y),function(t,e,n){var r=e._id+"divider",i=n.vals,o=n.layer.selectAll("path."+r).data(i,wt);o.exit().remove(),o.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(d.stroke,e.dividercolor).style("stroke-width",f.crispRound(t,e.dividerwidth,1)+"px"),o.attr("transform",n.transFn).attr("d",n.path)}(t,e,{vals:P,layer:v,path:H.makeTickPath(e,y,B[4],{len:e._depth}),transFn:T})}))}else e.title.hasOwnProperty("standoff")&&nt.push((function(){e._depth=B[4]*(ot()[e.side]-y)}));var it=a.getComponentMethod("rangeslider","isVisible")(e);return nt.push((function(){var n,r,i,s,l=e.side.charAt(0),u=U[e.side].charAt(0),d=H.getPxPosition(t,e),f=C?e.ticklen:0;if((e.automargin||it)&&("multicategory"===e.type?n=ot("tick2"):(n=ot(),"x"===p&&"b"===l&&(e._depth=Math.max(n.width>0?n.bottom-d:0,f)))),e.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var h=[0,1];if("x"===p){if("b"===l?r[l]=e._depth:(r[l]=e._depth=Math.max(n.width>0?d-n.top:0,f),h.reverse()),n.width>0){var m=n.right-(e._offset+e._length);m>0&&(r.xr=1,r.r=m);var v=e._offset-n.left;v>0&&(r.xl=0,r.l=v)}}else if("l"===l?r[l]=e._depth=Math.max(n.height>0?d-n.left:0,f):(r[l]=e._depth=Math.max(n.height>0?n.right-d:0,f),h.reverse()),n.height>0){var y=n.bottom-(e._offset+e._length);y>0&&(r.yb=0,r.b=y);var b=e._offset-n.top;b>0&&(r.yt=1,r.t=b)}r[g]="free"===e.anchor?e.position:e._anchorAxis.domain[h[0]],e.title.text!==c._dfltTitle[p]&&(r[l]+=kt(e)+(e.title.standoff||0)),e.mirror&&"free"!==e.anchor&&((i={x:0,y:0,r:0,l:0,t:0,b:0})[u]=e.linewidth,e.mirror&&!0!==e.mirror&&(i[u]+=f),!0===e.mirror||"ticks"===e.mirror?i[g]=e._anchorAxis.domain[h[1]]:"all"!==e.mirror&&"allticks"!==e.mirror||(i[g]=[e._counterDomainMin,e._counterDomainMax][h[1]]))}it&&(s=a.getComponentMethod("rangeslider","autoMarginOpts")(t,e)),"string"==typeof e.automargin&&(yt(r,e.automargin),yt(i,e.automargin)),o.autoMargin(t,Tt(e),r),o.autoMargin(t,Mt(e),i),o.autoMargin(t,Et(e),s)})),n.skipTitle||it&&"bottom"===e.side||nt.push((function(){return function(t,e){var n,r=t._fullLayout,i=e._id,o=i.charAt(0),a=e.title.font.size;if(e.title.hasOwnProperty("standoff"))n=e._depth+e.title.standoff+kt(e);else{var s=Dt(e);if("multicategory"===e.type)n=e._depth;else{var l=1.5*a;s&&(l=.5*a,"outside"===e.ticks&&(l+=e.ticklen)),n=10+l+(e.linewidth?e.linewidth-1:0)}s||(n+="x"===o?"top"===e.side?a*(e.showticklabels?1:0):a*(e.showticklabels?1.5:.5):"right"===e.side?a*(e.showticklabels?1:.5):a*(e.showticklabels?.5:0))}var c,d,h,p,g=H.getPxPosition(t,e);if("x"===o?(d=e._offset+e._length/2,h="top"===e.side?g-n:g+n):(h=e._offset+e._length/2,d="right"===e.side?g+n:g-n,c={rotate:"-90",offset:0}),"multicategory"!==e.type){var m=e._selections[e._id+"tick"];if(p={selection:m,side:e.side},m&&m.node()&&m.node().parentNode){var v=f.getTranslate(m.node().parentNode);p.offsetLeft=v.x,p.offsetTop=v.y}e.title.hasOwnProperty("standoff")&&(p.pad=0)}return u.draw(t,i+"title",{propContainer:e,propName:e._name+".title.text",placeholder:r._dfltTitle[o],avoid:p,transform:c,attributes:{x:d,y:h,"text-anchor":"middle"}})}(t,e)})),s.syncOrAsync(nt)}}function ot(t){var n=h+(t||"tick");return k[n]||(k[n]=function(t,e){var n,r,i,o;return t._selections[e].size()?(n=1/0,r=-1/0,i=1/0,o=-1/0,t._selections[e].each((function(){var t=At(this),e=f.bBox(t.node().parentNode);n=Math.min(n,e.top),r=Math.max(r,e.bottom),i=Math.min(i,e.left),o=Math.max(o,e.right)}))):(n=0,r=0,i=0,o=0),{top:n,bottom:r,left:i,right:o,height:r-n,width:o-i}}(e,n)),k[n]}},H.getTickSigns=function(t,e){var n=t._id.charAt(0),r={x:"top",y:"right"}[n],i=t.side===r?1:-1,o=[-1,1,i,-i];return"inside"!==(e?(t.minor||{}).ticks:t.ticks)==("x"===n)&&(o=o.map((function(t){return-t}))),t.side&&o.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),o},H.makeTransTickFn=function(t){return"x"===t._id.charAt(0)?function(e){return l(t._offset+t.l2p(e.x),0)}:function(e){return l(0,t._offset+t.l2p(e.x))}},H.makeTransTickLabelFn=function(t){var e=function(t){var e=t.ticklabelposition||"",n=function(t){return-1!==e.indexOf(t)},r=n("top"),i=n("left"),o=n("right"),a=n("bottom"),s=n("inside"),l=a||i||r||o;if(!l&&!s)return[0,0];var c=t.side,u=l?(t.tickwidth||0)/2:0,d=3,f=t.tickfont?t.tickfont.size:12;return(a||r)&&(u+=f*$,d+=(t.linewidth||0)/2),(i||o)&&(u+=(t.linewidth||0)/2,d+=3),s&&"top"===c&&(d-=f*(1-$)),(i||r)&&(u=-u),"bottom"!==c&&"right"!==c||(d=-d),[l?u:0,s?d:0]}(t),n=e[0],r=e[1];return"x"===t._id.charAt(0)?function(e){return l(n+t._offset+t.l2p(xt(e)),r)}:function(e){return l(r,n+t._offset+t.l2p(xt(e)))}},H.makeTickPath=function(t,e,n,r){r||(r={});var i=r.minor;if(i&&!t.minor)return"";var o=void 0!==r.len?r.len:i?t.minor.ticklen:t.ticklen,a=t._id.charAt(0),s=(t.linewidth||1)/2;return"x"===a?"M0,"+(e+s*n)+"v"+o*n:"M"+(e+s*n)+",0h"+o*n},H.makeLabelFns=function(t,e,n){var r=t.ticklabelposition||"",o=function(t){return-1!==r.indexOf(t)},a=o("top"),l=o("left"),c=o("right"),u=o("bottom")||l||a||c,d=o("inside"),f="inside"===r&&"inside"===t.ticks||!d&&"outside"===t.ticks&&"boundaries"!==t.tickson,h=0,p=0,g=f?t.ticklen:0;if(d?g*=-1:u&&(g=0),f&&(h+=g,n)){var m=s.deg2rad(n);h=g*Math.cos(m)+1,p=g*Math.sin(m)}t.showticklabels&&(f||t.showline)&&(h+=.2*t.tickfont.size);var v,y,b,x,w,k={labelStandoff:h+=(t.linewidth||1)/2*(d?-1:1),labelShift:p},_=0,A=t.side,T=t._id.charAt(0),M=t.tickangle;if("x"===T)x=(w=!d&&"bottom"===A||d&&"top"===A)?1:-1,d&&(x*=-1),v=p*x,y=e+h*x,b=w?1:-.2,90===Math.abs(M)&&(d?b+=j:b=-90===M&&"bottom"===A?$:90===M&&"top"===A?j:.5,_=j/2*(M/90)),k.xFn=function(t){return t.dx+v+_*t.fontSize},k.yFn=function(t){return t.dy+y+t.fontSize*b},k.anchorFn=function(t,e){if(u){if(l)return"end";if(c)return"start"}return i(e)&&0!==e&&180!==e?e*x<0!==d?"end":"start":"middle"},k.heightFn=function(e,n,r){return n<-60||n>60?-.5*r:"top"===t.side!==d?-r:0};else if("y"===T){if(x=(w=!d&&"left"===A||d&&"right"===A)?1:-1,d&&(x*=-1),v=h,y=p*x,b=0,d||90!==Math.abs(M)||(b=-90===M&&"left"===A||90===M&&"right"===A?$:.5),d){var E=i(M)?+M:0;if(0!==E){var C=s.deg2rad(E);_=Math.abs(Math.sin(C))*$*x,b=0}}k.xFn=function(t){return t.dx+e-(v+t.fontSize*b)*x+_*t.fontSize},k.yFn=function(t){return t.dy+y+t.fontSize*j},k.anchorFn=function(t,e){return i(e)&&90===Math.abs(e)?"middle":w?"end":"start"},k.heightFn=function(e,n,r){return"right"===t.side&&(n*=-1),n<-30?-r:n<30?-.5*r:0}}return k},H.drawTicks=function(t,e,n){n=n||{};var i=e._id+"tick",o=[].concat(e.minor&&e.minor.ticks?n.vals.filter((function(t){return t.minor&&!t.noTick})):[]).concat(e.ticks?n.vals.filter((function(t){return!t.minor&&!t.noTick})):[]),a=n.layer.selectAll("path."+i).data(o,wt);a.exit().remove(),a.enter().append("path").classed(i,1).classed("ticks",1).classed("crisp",!1!==n.crisp).each((function(t){return d.stroke(r.select(this),t.minor?e.minor.tickcolor:e.tickcolor)})).style("stroke-width",(function(n){return f.crispRound(t,n.minor?e.minor.tickwidth:e.tickwidth,1)+"px"})).attr("d",n.path).style("display",null),Rt(e,[z]),a.attr("transform",n.transFn)},H.drawGrid=function(t,e,n){n=n||{};var i=e._id+"grid",o=e.minor&&e.minor.showgrid,a=o?n.vals.filter((function(t){return t.minor})):[],s=e.showgrid?n.vals.filter((function(t){return!t.minor})):[],l=n.counterAxis;if(l&&H.shouldShowZeroLine(t,e,l))for(var c="array"===e.tickmode,u=0;u<s.length;u++){var h=s[u].x;if(c?!h:Math.abs(h)<e.dtick/100){if(s=s.slice(0,u).concat(s.slice(u+1)),!c)break;u--}}e._gw=f.crispRound(t,e.gridwidth,1);for(var p=o?f.crispRound(t,e.minor.gridwidth,1):0,g=n.layer,m=n.minorLayer,v=1;v>=0;v--){var y=v?g:m;if(y){var b=y.selectAll("path."+i).data(v?s:a,wt);b.exit().remove(),b.enter().append("path").classed(i,1).classed("crisp",!1!==n.crisp),b.attr("transform",n.transFn).attr("d",n.path).each((function(t){return d.stroke(r.select(this),t.minor?e.minor.gridcolor:e.gridcolor||"#ddd")})).style("stroke-dasharray",(function(t){return f.dashStyle(t.minor?e.minor.griddash:e.griddash,t.minor?e.minor.gridwidth:e.gridwidth)})).style("stroke-width",(function(t){return(t.minor?p:e._gw)+"px"})).style("display",null),"function"==typeof n.path&&b.attr("d",n.path)}}Rt(e,[R,I])},H.drawZeroLine=function(t,e,n){n=n||n;var r=e._id+"zl",i=H.shouldShowZeroLine(t,e,n.counterAxis),o=n.layer.selectAll("path."+r).data(i?[{x:0,id:e._id}]:[]);o.exit().remove(),o.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each((function(){n.layer.selectAll("path").sort((function(t,e){return Y(t.id,e.id)}))})),o.attr("transform",n.transFn).attr("d",n.path).call(d.stroke,e.zerolinecolor||d.defaultLine).style("stroke-width",f.crispRound(t,e.zerolinewidth,e._gw||1)+"px").style("display",null),Rt(e,[D])},H.drawLabels=function(t,e,n){n=n||{};var o=t._fullLayout,a=e._id,u=a.charAt(0),d=n.cls||a+"tick",h=n.vals.filter((function(t){return t.text})),p=n.labelFns,g=n.secondary?0:e.tickangle,m=(e._prevTickAngles||{})[d],v=n.layer.selectAll("g."+d).data(e.showticklabels?h:[],wt),y=[];function b(t,o){t.each((function(t){var a=r.select(this),s=a.select(".text-math-group"),u=p.anchorFn(t,o),d=n.transFn.call(a.node(),t)+(i(o)&&0!=+o?" rotate("+o+","+p.xFn(t)+","+(p.yFn(t)-t.fontSize/2)+")":""),h=c.lineCount(a),g=Z*t.fontSize,m=p.heightFn(t,i(o)?+o:0,(h-1)*g);if(m&&(d+=l(0,m)),s.empty()){var v=a.select("text");v.attr({transform:d,"text-anchor":u}),v.style("opacity",1),e._adjustTickLabelsOverflow&&e._adjustTickLabelsOverflow()}else{var y=f.bBox(s.node()).width*{end:-.5,start:.5}[u];s.attr("transform",d+l(y,0))}}))}v.enter().append("g").classed(d,1).append("text").attr("text-anchor","middle").each((function(e){var n=r.select(this),i=t._promises.length;n.call(c.positionText,p.xFn(e),p.yFn(e)).call(f.font,e.font,e.fontSize,e.fontColor).text(e.text).call(c.convertToTspans,t),t._promises[i]?y.push(t._promises.pop().then((function(){b(n,g)}))):b(n,g)})),Rt(e,[N]),v.exit().remove(),n.repositionOnUpdate&&v.each((function(t){r.select(this).select("text").call(c.positionText,p.xFn(t),p.yFn(t))})),e._adjustTickLabelsOverflow=function(){var n=e.ticklabeloverflow;if(n&&"allow"!==n){var i=-1!==n.indexOf("hide"),a="x"===e._id.charAt(0),l=0,c=a?t._fullLayout.width:t._fullLayout.height;if(-1!==n.indexOf("domain")){var u=s.simpleMap(e.range,e.r2l);l=e.l2p(u[0])+e._offset,c=e.l2p(u[1])+e._offset}var d=Math.min(l,c),h=Math.max(l,c),p=e.side,g=1/0,m=-1/0;for(var y in v.each((function(t){var n=r.select(this);if(n.select(".text-math-group").empty()){var o=f.bBox(n.node()),s=0;a?(o.right>h||o.left<d)&&(s=1):(o.bottom>h||o.top+(e.tickangle?0:t.fontSize/4)<d)&&(s=1);var l=n.select("text");s?i&&l.style("opacity",0):(l.style("opacity",1),g="bottom"===p||"right"===p?Math.min(g,a?o.top:o.left):-1/0,m="top"===p||"left"===p?Math.max(m,a?o.bottom:o.right):1/0)}})),o._plots){var b=o._plots[y];if(e._id===b.xaxis._id||e._id===b.yaxis._id){var x=a?b.yaxis:b.xaxis;x&&(x["_visibleLabelMin_"+e._id]=g,x["_visibleLabelMax_"+e._id]=m)}}}},e._hideCounterAxisInsideTickLabels=function(t){var n="x"===e._id.charAt(0),i=[];for(var a in o._plots){var s=o._plots[a];e._id!==s.xaxis._id&&e._id!==s.yaxis._id||i.push(n?s.yaxis:s.xaxis)}i.forEach((function(n,i){n&&Dt(n)&&(t||[D,I,R,z,N]).forEach((function(t){var a="tick"===t.K&&"text"===t.L&&"period"===e.ticklabelmode,s=o._plots[e._mainSubplot];(t.K===D.K?s.zerolinelayer.selectAll("."+e._id+"zl"):t.K===I.K?s.minorGridlayer.selectAll("."+e._id):t.K===R.K?s.gridlayer.selectAll("."+e._id):s[e._id.charAt(0)+"axislayer"]).each((function(){var o=r.select(this);t.L&&(o=o.selectAll(t.L)),o.each((function(o){var s=e.l2p(a?xt(o):o.x)+e._offset,l=r.select(this);s<e["_visibleLabelMax_"+n._id]&&s>e["_visibleLabelMin_"+n._id]?l.style("display","none"):"tick"!==t.K||i||l.style("display",null)}))}))}))}))},b(v,m+1?m:g);var x=null;e._selections&&(e._selections[d]=v);var w=[function(){return y.length&&Promise.all(y)}];e.automargin&&o._redrawFromAutoMarginCount&&90===m?(x=90,w.push((function(){b(v,m)}))):w.push((function(){if(b(v,g),h.length&&"x"===u&&!i(g)&&("log"!==e.type||"D"!==String(e.dtick).charAt(0))){x=0;var t,r=0,o=[];if(v.each((function(t){r=Math.max(r,t.fontSize);var n=e.l2p(t.x),i=At(this),a=f.bBox(i.node());o.push({top:0,bottom:10,height:10,left:n-a.width/2,right:n+a.width/2+2,width:a.width+2})})),"boundaries"!==e.tickson&&!e.showdividers||n.secondary){var a=h.length,l=Math.abs((h[a-1].x-h[0].x)*e._m)/(a-1),c=e.ticklabelposition||"",d=function(t){return-1!==c.indexOf(t)},p=d("top"),m=d("left"),y=d("right"),w=d("bottom")||m||p||y?(e.tickwidth||0)+6:0,k=l<2.5*r||"multicategory"===e.type||"realaxis"===e._name;for(t=0;t<o.length-1;t++)if(s.bBoxIntersect(o[t],o[t+1],w)){x=k?90:30;break}}else{var _=2;for(e.ticks&&(_+=e.tickwidth/2),t=0;t<o.length;t++){var A=h[t].xbnd,T=o[t];if(null!==A[0]&&T.left-e.l2p(A[0])<_||null!==A[1]&&e.l2p(A[1])-T.right<_){x=90;break}}}x&&b(v,x)}})),e._tickAngles&&w.push((function(){e._tickAngles[d]=null===x?i(g)?g:0:x}));var k=e._anchorAxis;k&&k.autorange&&Dt(e)&&!G(o,e._id)&&(o._insideTickLabelsAutorange||(o._insideTickLabelsAutorange={}),o._insideTickLabelsAutorange[k._name+".autorange"]=k.autorange,w.push((function(){v.each((function(t,n){var r=At(this);r.select(".text-math-group").empty()&&(e._vals[n].bb=f.bBox(r.node()))}))})));var _=s.syncOrAsync(w);return _&&_.then&&t._promises.push(_),_},H.getPxPosition=function(t,e){var n,r=t._fullLayout._size,i=e._id.charAt(0),o=e.side;return"free"!==e.anchor?n=e._anchorAxis:"x"===i?n={_offset:r.t+(1-(e.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(e.position||0)*r.w,_length:0}),"top"===o||"left"===o?n._offset:"bottom"===o||"right"===o?n._offset+n._length:void 0},H.shouldShowZeroLine=function(t,e,n){var r=s.simpleMap(e.range,e.r2l);return r[0]*r[1]<=0&&e.zeroline&&("linear"===e.type||"-"===e.type)&&!(e.rangebreaks&&e.maskBreaks(0)===P)&&(_t(e,0)||!function(t,e,n,r){var i=n._mainAxis;if(i){var o=t._fullLayout,a=e._id.charAt(0),s=H.counterLetter(e._id),l=e._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===a)?0:e._length),c=o._plots[n._mainSubplot];if(!(c.mainplotinfo||c).overlays.length)return h(n);for(var u=H.list(t,s),d=0;d<u.length;d++){var f=u[d];if(f._mainAxis===i&&h(f))return!0}}function h(t){if(!t.showline||!t.linewidth)return!1;var n=Math.max((t.linewidth+e.zerolinewidth)/2,1);function r(t){return"number"==typeof t&&Math.abs(t-l)<n}if(r(t._mainLinePosition)||r(t._mainMirrorPosition))return!0;var i=t._linepositions||{};for(var o in i)if(r(i[o][0])||r(i[o][1]))return!0}}(t,e,n,r)||function(t,e){for(var n=t._fullData,r=e._mainSubplot,i=e._id.charAt(0),o=0;o<n.length;o++){var s=n[o];if(!0===s.visible&&s.xaxis+s.yaxis===r){if(a.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[i])return!0;if(s.fill&&s.fill.charAt(s.fill.length-1)===i)return!0}}return!1}(t,e))},H.clipEnds=function(t,e){return e.filter((function(e){return _t(t,e.x)}))},H.allowAutoMargin=function(t){for(var e=H.list(t,"",!0),n=0;n<e.length;n++){var r=e[n];r.automargin&&(o.allowAutoMargin(t,Tt(r)),r.mirror&&o.allowAutoMargin(t,Mt(r))),a.getComponentMethod("rangeslider","isVisible")(r)&&o.allowAutoMargin(t,Et(r))}},H.swap=function(t,e){for(var n=function(t,e){var n,r,i=[];for(n=0;n<e.length;n++){var o=[],a=t._fullData[e[n]].xaxis,s=t._fullData[e[n]].yaxis;if(a&&s){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(a)&&-1===i[r].y.indexOf(s)||o.push(r);if(o.length){var l,c=i[o[0]];if(o.length>1)for(r=1;r<o.length;r++)l=i[o[r]],Ct(c.x,l.x),Ct(c.y,l.y);Ct(c.x,[a]),Ct(c.y,[s])}else i.push({x:[a],y:[s]})}}return i}(t,e),r=0;r<n.length;r++)St(t,n[r].x,n[r].y)}},{"../../components/color":257,"../../components/drawing":279,"../../components/titles":366,"../../constants/alignment":373,"../../constants/numerical":378,"../../lib":400,"../../lib/svg_text_utils":426,"../../plots/plots":488,"../../registry":490,"./autorange":449,"./axis_autotype":451,"./axis_ids":454,"./clean_ticks":456,"./layout_attributes":463,"./set_convert":469,"@plotly/d3":14,"fast-isnumeric":121}],451:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../constants/numerical").BADNUM,a=i.isArrayOrTypedArray,s=i.isDateTime,l=i.cleanNumber,c=Math.round;function u(t,e){return e?r(t):"number"==typeof t}function d(t){return Math.max(1,(t-1)/1e3)}e.exports=function(t,e,n){var i=t,f=n.noMultiCategory;if(a(i)&&!i.length)return"-";if(!f&&function(t){return a(t[0])&&a(t[1])}(i))return"multicategory";if(f&&Array.isArray(i[0])){for(var h=[],p=0;p<i.length;p++)if(a(i[p]))for(var g=0;g<i[p].length;g++)h.push(i[p][g]);i=h}if(function(t,e){for(var n=t.length,i=d(n),o=0,a=0,l={},u=0;u<n;u+=i){var f=t[c(u)],h=String(f);l[h]||(l[h]=1,s(f,e)&&o++,r(f)&&a++)}return o>2*a}(i,e))return"date";var m="strict"!==n.autotypenumbers;return function(t,e){for(var n=t.length,r=d(n),i=0,a=0,s={},u=0;u<n;u+=r){var f=t[c(u)],h=String(f);if(!s[h]){s[h]=1;var p=typeof f;"boolean"===p?a++:(e?l(f)!==o:"number"===p)?i++:"string"===p&&a++}}return a>2*i}(i,m)?"category":function(t,e){for(var n=t.length,r=0;r<n;r++)if(u(t[r],e))return!0;return!1}(i,m)?"linear":"-"}},{"../../constants/numerical":378,"../../lib":400,"fast-isnumeric":121}],452:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../registry"),o=t("../../lib"),a=t("../../plot_api/plot_template"),s=t("../array_container_defaults"),l=t("./layout_attributes"),c=t("./tick_value_defaults"),u=t("./tick_mark_defaults"),d=t("./tick_label_defaults"),f=t("./prefix_suffix_defaults"),h=t("./category_order_defaults"),p=t("./line_grid_defaults"),g=t("./set_convert"),m=t("./constants").WEEKDAY_PATTERN,v=t("./constants").HOUR_PATTERN;function y(t,e,n){function i(n,r){return o.coerce(t,e,l.rangebreaks,n,r)}if(i("enabled")){var a=i("bounds");if(a&&a.length>=2){var s,c,u="";if(2===a.length)for(s=0;s<2;s++)if(c=x(a[s])){u=m;break}var d=i("pattern",u);if(d===m)for(s=0;s<2;s++)(c=x(a[s]))&&(e.bounds[s]=a[s]=c-1);if(d)for(s=0;s<2;s++)switch(c=a[s],d){case m:if(!r(c))return void(e.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(e.enabled=!1);e.bounds[s]=a[s]=c;break;case v:if(!r(c))return void(e.enabled=!1);if((c=+c)<0||c>24)return void(e.enabled=!1);e.bounds[s]=a[s]=c}if(!1===n.autorange){var f=n.range;if(f[0]<f[1]){if(a[0]<f[0]&&a[1]>f[1])return void(e.enabled=!1)}else if(a[0]>f[0]&&a[1]<f[1])return void(e.enabled=!1)}}else{var h=i("values");if(!h||!h.length)return void(e.enabled=!1);i("dvalue")}}}e.exports=function(t,e,n,r,v){var b,x=r.letter,w=r.font||{},k=r.splomStash||{},_=n("visible",!r.visibleDflt),A=e._template||{},T=e.type||A.type||"-";"date"===T&&(i.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",r.calendar),r.noTicklabelmode||(b=n("ticklabelmode")));var M="";r.noTicklabelposition&&"multicategory"!==T||(M=o.coerce(t,e,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===b?["outside","inside"]:"x"===x?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),r.noTicklabeloverflow||n("ticklabeloverflow",-1!==M.indexOf("inside")?"hide past domain":"category"===T||"multicategory"===T?"allow":"hide past div"),g(e,v);var E=!e.isValidRange(t.range);E&&r.reverseDflt&&(E="reversed"),!n("autorange",E)||"linear"!==T&&"-"!==T||n("rangemode"),n("range"),e.cleanRange(),h(t,e,n,r),"category"===T||r.noHover||n("hoverformat");var C=n("color"),S=C!==l.color.dflt?C:w.color,O=k.label||v._dfltTitle[x];if(f(t,e,n,T,r),!_)return e;n("title.text",O),o.coerceFont(n,"title.font",{family:w.family,size:o.bigFont(w.size),color:S}),c(t,e,n,T);var L=r.hasMinor;if(L&&(a.newContainer(e,"minor"),c(t,e,n,T,{isMinor:!0})),d(t,e,n,T,r),u(t,e,n,r),L){var P=r.isMinor;r.isMinor=!0,u(t,e,n,r),r.isMinor=P}p(t,e,n,{dfltColor:C,bgColor:r.bgColor,showGrid:r.showGrid,hasMinor:L,attributes:l}),!L||e.minor.ticks||e.minor.showgrid||delete e.minor,(e.showline||e.ticks)&&n("mirror"),r.automargin&&n("automargin");var D,R="multicategory"===T;if(r.noTickson||"category"!==T&&!R||!e.ticks&&!e.showgrid||(R&&(D="boundaries"),"boundaries"===n("tickson",D)&&delete e.ticklabelposition),R&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),"date"===T)if(s(t,e,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:y}),e.rangebreaks.length){for(var I=0;I<e.rangebreaks.length;I++)if(e.rangebreaks[I].pattern===m){e._hasDayOfWeekBreaks=!0;break}if(g(e,v),v._has("scattergl")||v._has("splom"))for(var z=0;z<r.data.length;z++){var N=r.data[z];"scattergl"!==N.type&&"splom"!==N.type||(N.visible=!1,o.warn(N.type+" traces do not work on axes with rangebreaks. Setting trace "+N.index+" to `visible: false`."))}}else delete e.rangebreaks;return e};var b={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function x(t){if("string"==typeof t)return b[t.substr(0,3).toLowerCase()]}},{"../../lib":400,"../../plot_api/plot_template":439,"../../registry":490,"../array_container_defaults":445,"./category_order_defaults":455,"./constants":457,"./layout_attributes":463,"./line_grid_defaults":465,"./prefix_suffix_defaults":467,"./set_convert":469,"./tick_label_defaults":471,"./tick_mark_defaults":472,"./tick_value_defaults":473,"fast-isnumeric":121}],453:[function(t,e,n){"use strict";var r=t("../../constants/docs"),i=r.FORMAT_LINK,o=r.DATE_FORMAT_LINK;function a(t,e){return["Sets the "+t+" formatting rule"+(e?"for `"+e+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+i+"."].join(" ")}function s(t,e){return a(t,e)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}e.exports={axisHoverFormat:function(t,e){return{valType:"string",dflt:"",editType:"none",description:(e?a:s)("hover text",t)+["By default the values are formatted using "+(e?"generic number format":"`"+t+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:a,descriptionWithDates:s}},{"../../constants/docs":375}],454:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("./constants");function o(t,e){if(e&&e.length)for(var n=0;n<e.length;n++)if(e[n][t])return!0;return!1}n.id2name=function(t){if("string"==typeof t&&t.match(i.AX_ID_PATTERN)){var e=t.split(" ")[0].substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},n.name2id=function(t){if(t.match(i.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},n.cleanId=function(t,e,n){var r=/( domain)$/.test(t);if("string"==typeof t&&t.match(i.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)&&(!r||n)){var o=t.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===o&&(o=""),t.charAt(0)+o+(r&&n?" domain":"")}},n.list=function(t,e,r){var i=t._fullLayout;if(!i)return[];var o,a=n.listIds(t,e),s=new Array(a.length);for(o=0;o<a.length;o++){var l=a[o];s[o]=i[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var c=i._subplots.gl3d||[];for(o=0;o<c.length;o++){var u=i[c[o]];e?s.push(u[e+"axis"]):s.push(u.xaxis,u.yaxis,u.zaxis)}}return s},n.listIds=function(t,e){var n=t._fullLayout;if(!n)return[];var r=n._subplots;return e?r[e+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(t,e,r){var i=t._fullLayout;return e=void 0===e||"string"!=typeof e?e:e.replace(" domain",""),"x"===r?e=e.replace(/y[0-9]*/,""):"y"===r&&(e=e.replace(/x[0-9]*/,"")),i[n.id2name(e)]},n.getFromTrace=function(t,e,i){var o=t._fullLayout,a=null;if(r.traceIs(e,"gl3d")){var s=e.scene;"scene"===s.substr(0,5)&&(a=o[s][i+"axis"])}else a=n.getFromId(t,e[i+"axis"]||i);return a},n.idSort=function(t,e){var n=t.charAt(0),r=e.charAt(0);return n!==r?n>r?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)},n.ref2id=function(t){return!!/^[xyz]/.test(t)&&t.split(" ")[0]},n.isLinked=function(t,e){return o(e,t._axisMatchGroups)||o(e,t._axisConstraintGroups)}},{"../../registry":490,"./constants":457}],455:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){if("category"===e.type){var i,o=t.categoryarray,a=Array.isArray(o)&&o.length>0;a&&(i="array");var s,l=n("categoryorder",i);"array"===l&&(s=n("categoryarray")),a||"array"!==l||(l=e.categoryorder="trace"),"trace"===l?e._initialCategories=[]:"array"===l?e._initialCategories=s.slice():(s=function(t,e){var n,r,i,o=e.dataAttr||t._id.charAt(0),a={};if(e.axData)n=e.axData;else for(n=[],r=0;r<e.data.length;r++){var s=e.data[r];s[o+"axis"]===t._id&&n.push(s)}for(r=0;r<n.length;r++){var l=n[r][o];for(i=0;i<l.length;i++){var c=l[i];null!=c&&(a[c]=1)}}return Object.keys(a)}(e,r).sort(),"category ascending"===l?e._initialCategories=s:"category descending"===l&&(e._initialCategories=s.reverse()))}}},{}],456:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../constants/numerical"),a=o.ONEDAY,s=o.ONEWEEK;n.dtick=function(t,e){var n="log"===e,i="date"===e,o="category"===e,s=i?a:1;if(!t)return s;if(r(t))return(t=Number(t))<=0?s:o?Math.max(1,Math.round(t)):i?Math.max(.1,t):t;if("string"!=typeof t||!i&&!n)return s;var l=t.charAt(0),c=t.substr(1);return(c=r(c)?Number(c):0)<=0||!(i&&"M"===l&&c===Math.round(c)||n&&"L"===l||n&&"D"===l&&(1===c||2===c))?s:t},n.tick0=function(t,e,n,o){return"date"===e?i.cleanDate(t,i.dateTick0(n,o%s==0?1:0)):"D1"!==o&&"D2"!==o?r(t)?Number(t):0:void 0}},{"../../constants/numerical":378,"../../lib":400,"fast-isnumeric":121}],457:[function(t,e,n){"use strict";var r=t("../../lib/regex").counter;e.exports={idRegex:{x:r("x","( domain)?"),y:r("y","( domain)?")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":417}],458:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./autorange"),o=t("./axis_ids").id2name,a=t("./layout_attributes"),s=t("./scale_zoom"),l=t("./set_convert"),c=t("../../constants/numerical").ALMOST_EQUAL,u=t("../../constants/alignment").FROM_BL;function d(t,e,n){var i=n.axIds,s=n.layoutOut,l=n.hasImage,c=s._axisConstraintGroups,u=s._axisMatchGroups,d=e._id,g=d.charAt(0),m=((s._splomAxes||{})[g]||{})[d]||{},v=e._id,y="x"===v.charAt(0);function b(n,i){return r.coerce(t,e,a,n,i)}e._matchGroup=null,e._constraintGroup=null,b("constrain",l?"domain":"range"),r.coerce(t,e,{constraintoward:{valType:"enumerated",values:y?["left","center","right"]:["bottom","middle","top"],dflt:y?"center":"middle"}},"constraintoward");var x,w,k=e.type,_=[];for(x=0;x<i.length;x++)(w=i[x])!==v&&s[o(w)].type===k&&_.push(w);var A=h(c,v);if(A){var T=[];for(x=0;x<_.length;x++)A[w=_[x]]||T.push(w);_=T}var M,E,C=_.length;C&&(t.matches||m.matches)&&(M=r.coerce(t,e,{matches:{valType:"enumerated",values:_,dflt:-1!==_.indexOf(m.matches)?m.matches:void 0}},"matches"));var S=l&&!y?e.anchor:void 0;if(C&&!M&&(t.scaleanchor||S)&&(E=r.coerce(t,e,{scaleanchor:{valType:"enumerated",values:_}},"scaleanchor",S)),M){e._matchGroup=p(u,v,M,1);var O=s[o(M)],L=f(s,e)/f(s,O);y!==("x"===M.charAt(0))&&(L=(y?"x":"y")+L),p(c,v,M,L)}else t.matches&&-1!==i.indexOf(t.matches)&&r.warn("ignored "+e._name+'.matches: "'+t.matches+'" to avoid an infinite loop');if(E){var P=b("scaleratio");P||(P=e.scaleratio=1),p(c,v,E,P)}else t.scaleanchor&&-1!==i.indexOf(t.scaleanchor)&&r.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function f(t,e){var n=e.domain;return n||(n=t[o(e.overlaying)].domain),n[1]-n[0]}function h(t,e){for(var n=0;n<t.length;n++)if(t[n][e])return t[n];return null}function p(t,e,n,r){var i,o,a,s,l,c=h(t,e);null===c?((c={})[e]=1,l=t.length,t.push(c)):l=t.indexOf(c);var u=Object.keys(c);for(i=0;i<t.length;i++)if(a=t[i],i!==l&&a[n]){var d=a[n];for(o=0;o<u.length;o++)a[s=u[o]]=g(d,g(r,c[s]));return void t.splice(l,1)}if(1!==r)for(o=0;o<u.length;o++){var f=u[o];c[f]=g(r,c[f])}c[n]=1}function g(t,e){var n,r,i="",o="";"string"==typeof t&&(n=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(n)),"string"==typeof e&&(r=(o=e.match(/^[xy]*/)[0]).length,e=+e.substr(r));var a=t*e;return n||r?n&&r&&i.charAt(0)!==o.charAt(0)?n===r?a:(n>r?i.substr(r):o.substr(n))+a:i+o+t*e:a}function m(t,e){for(var n=e._size,r=n.h/n.w,i={},o=Object.keys(t),a=0;a<o.length;a++){var s=o[a],l=t[s];if("string"==typeof l){var c=l.match(/^[xy]*/)[0],u=c.length;l=+l.substr(u);for(var d="y"===c.charAt(0)?r:1/r,f=0;f<u;f++)l*=d}i[s]=l}return i}function v(t,e){var n=t._inputDomain,r=u[t.constraintoward],i=n[0]+(n[1]-n[0])*r;t.domain=t._input.domain=[i+(n[0]-i)/e,i+(n[1]-i)/e],t.setScale()}n.handleDefaults=function(t,e,n){var i,a,s,c,u,f,h,p,g=n.axIds,m=n.axHasImage,v=e._axisConstraintGroups=[],y=e._axisMatchGroups=[];for(i=0;i<g.length;i++)d(u=t[c=o(g[i])],f=e[c],{axIds:g,layoutOut:e,hasImage:m[c]});function b(t,n){for(i=0;i<t.length;i++)for(s in a=t[i])e[o(s)][n]=a}for(b(y,"_matchGroup"),i=0;i<v.length;i++)for(s in a=v[i])if((f=e[o(s)]).fixedrange){for(var x in a){var w=o(x);!1===(t[w]||{}).fixedrange&&r.warn("fixedrange was specified as false for axis "+w+" but was overridden because another axis in its constraint group has fixedrange true"),e[w].fixedrange=!0}break}for(i=0;i<v.length;){for(s in a=v[i]){(f=e[o(s)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(a).length&&(v.splice(i,1),i--);break}i++}b(v,"_constraintGroup");var k=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],_=!1,A=!1;function T(){p=f[h],"rangebreaks"===h&&(A=f._hasDayOfWeekBreaks)}for(i=0;i<y.length;i++){a=y[i];for(var M=0;M<k.length;M++){var E;for(s in h=k[M],p=null,a)if(u=t[c=o(s)],f=e[c],h in f){if(!f.matches&&(E=f,h in u)){T();break}null===p&&h in u&&T()}if("range"===h&&p&&(_=!0),"autorange"===h&&null===p&&_&&(p=!1),null===p&&h in E&&(p=E[h]),null!==p)for(s in a)(f=e[o(s)])[h]="range"===h?p.slice():p,"rangebreaks"===h&&(f._hasDayOfWeekBreaks=A,l(f,e))}}},n.enforce=function(t){var e,n,r,a,l,u,d,f,h=t._fullLayout,p=h._axisConstraintGroups||[];for(e=0;e<p.length;e++){r=m(p[e],h);var g=Object.keys(r),y=1/0,b=0,x=1/0,w={},k={},_=!1;for(n=0;n<g.length;n++)k[a=g[n]]=l=h[o(a)],l._inputDomain?l.domain=l._inputDomain.slice():l._inputDomain=l.domain.slice(),l._inputRange||(l._inputRange=l.range.slice()),l.setScale(),w[a]=u=Math.abs(l._m)/r[a],y=Math.min(y,u),"domain"!==l.constrain&&l._constraintShrinkable||(x=Math.min(x,u)),delete l._constraintShrinkable,b=Math.max(b,u),"domain"===l.constrain&&(_=!0);if(!(y>c*b)||_)for(n=0;n<g.length;n++)if(u=w[a=g[n]],d=(l=k[a]).constrain,u!==x||"domain"===d)if(f=u/x,"range"===d)s(l,f);else{var A=l._inputDomain,T=(l.domain[1]-l.domain[0])/(A[1]-A[0]),M=(l.r2l(l.range[1])-l.r2l(l.range[0]))/(l.r2l(l._inputRange[1])-l.r2l(l._inputRange[0]));if((f/=T)*M<1){l.domain=l._input.domain=A.slice(),s(l,f);continue}if(M<1&&(l.range=l._input.range=l._inputRange.slice(),f*=M),l.autorange){var E=l.r2l(l.range[0]),C=l.r2l(l.range[1]),S=(E+C)/2,O=S,L=S,P=Math.abs(C-S),D=S-P*f*1.0001,R=S+P*f*1.0001,I=i.makePadFn(h,l,0),z=i.makePadFn(h,l,1);v(l,f);var N,B,F=Math.abs(l._m),j=i.concatExtremes(t,l),$=j.min,Z=j.max;for(B=0;B<$.length;B++)(N=$[B].val-I($[B])/F)>D&&N<O&&(O=N);for(B=0;B<Z.length;B++)(N=Z[B].val+z(Z[B])/F)<R&&N>L&&(L=N);f/=(L-O)/(2*P),O=l.l2r(O),L=l.l2r(L),l.range=l._input.range=E<C?[O,L]:[L,O]}v(l,f)}}},n.getAxisGroup=function(t,e){for(var n=t._axisMatchGroups,r=0;r<n.length;r++)if(n[r][e])return"g"+r;return e},n.clean=function(t,e){if(e._inputDomain){for(var n=!1,r=e._id,i=t._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][r]){n=!0;break}n&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}},{"../../constants/alignment":373,"../../constants/numerical":378,"../../lib":400,"./autorange":449,"./axis_ids":454,"./layout_attributes":463,"./scale_zoom":468,"./set_convert":469}],459:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../lib"),o=i.numberFormat,a=t("tinycolor2"),s=t("has-passive-events"),l=t("../../registry"),c=i.strTranslate,u=t("../../lib/svg_text_utils"),d=t("../../components/color"),f=t("../../components/drawing"),h=t("../../components/fx"),p=t("./axes"),g=t("../../lib/setcursor"),m=t("../../components/dragelement"),v=t("../../components/dragelement/helpers"),y=v.selectingOrDrawing,b=v.freeMode,x=t("../../constants/alignment").FROM_TL,w=t("../../lib/clear_gl_canvases"),k=t("../../plot_api/subroutines").redrawReglTraces,_=t("../plots"),A=t("./axis_ids").getFromId,T=t("../../components/selections").prepSelect,M=t("../../components/selections").clearOutline,E=t("../../components/selections").selectOnClick,C=t("./scale_zoom"),S=t("./constants"),O=S.MINDRAG,L=S.MINZOOM,P=!0;function D(t,e,n,r){var o=i.ensureSingle(t.draglayer,e,n,(function(e){e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)}));return o.call(g,r),o.node()}function R(t,e,n,i,o,a,s){var l=D(t,"rect",e,n);return r.select(l).call(f.setRect,i,o,a,s),l}function I(t,e){for(var n=0;n<t.length;n++)if(!t[n].fixedrange)return e;return""}function z(t,e,n,r,i){for(var o=0;o<t.length;o++){var a=t[o];if(!a.fixedrange)if(a.rangebreaks){var s="y"===a._id.charAt(0),l=s?1-e:e,c=s?1-n:n;r[a._name+".range[0]"]=a.l2r(a.p2l(l*a._length)),r[a._name+".range[1]"]=a.l2r(a.p2l(c*a._length))}else{var u=a._rl[0],d=a._rl[1]-u;r[a._name+".range[0]"]=a.l2r(u+d*e),r[a._name+".range[1]"]=a.l2r(u+d*n)}}if(i&&i.length){var f=(e+(1-n))/2;z(i,f,1-f,r,[])}}function N(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(!r.fixedrange)if(r.rangebreaks){var i=r._length,o=(r.p2l(0+e)-r.p2l(0)+(r.p2l(i+e)-r.p2l(i)))/2;r.range=[r.l2r(r._rl[0]-o),r.l2r(r._rl[1]-o)]}else r.range=[r.l2r(r._rl[0]-e/r._m),r.l2r(r._rl[1]-e/r._m)]}}function B(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function F(t,e,n,r,i){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",c(n,r)).attr("d",i+"Z")}function j(t,e,n){return t.append("path").attr("class","zoombox-corners").style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr("transform",c(e,n)).attr("d","M0,0Z")}function $(t,e,n,r,i,o){t.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),Z(t,e,i,o)}function Z(t,e,n,r){n||(t.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function U(t){r.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function H(t){P&&t.data&&t._context.showTips&&(i.notifier(i._(t,"Double-click to zoom back out"),"long"),P=!1)}function V(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,L)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function W(t,e,n,r,o){for(var a,s,l,c,u=!1,d={},f={},h=(o||{}).xaHash,p=(o||{}).yaHash,g=0;g<e.length;g++){var m=e[g];for(a in n)if(m[a]){for(l in m)o&&(h[l]||p[l])||("x"===l.charAt(0)?n:r)[l]||(d[l]=a);for(s in r)o&&(h[s]||p[s])||!m[s]||(u=!0)}for(s in r)if(m[s])for(c in m)o&&(h[c]||p[c])||("x"===c.charAt(0)?n:r)[c]||(f[c]=s)}u&&(i.extendFlat(d,f),f={});var v={},y=[];for(l in d){var b=A(t,l);y.push(b),v[b._id]=b}var x={},w=[];for(c in f){var k=A(t,c);w.push(k),x[k._id]=k}return{xaHash:v,yaHash:x,xaxes:y,yaxes:w,xLinks:d,yLinks:f,isSubplotConstrained:u}}function Y(t,e){if(s){var n=void 0!==t.onwheel?"wheel":"mousewheel";t._onwheel&&t.removeEventListener(n,t._onwheel),t._onwheel=e,t.addEventListener(n,e,{passive:!1})}else void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel?t.onmousewheel=e:t.isAddedWheelEvent||(t.isAddedWheelEvent=!0,t.addEventListener("wheel",e,{passive:!1}))}function G(t){var e=[];for(var n in t)e.push(t[n]);return e}e.exports={makeDragBox:function(t,e,n,s,c,d,g,v){var P,D,Z,q,X,J,K,Q,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,dt,ft,ht,pt,gt=t._fullLayout._zoomlayer,mt=g+v==="nsew",vt=1===(g+v).length;function yt(){if(P=e.xaxis,D=e.yaxis,tt=P._length,et=D._length,K=P._offset,Q=D._offset,(Z={})[P._id]=P,(q={})[D._id]=D,g&&v)for(var n=e.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;Z[i._id]=i;var o=n[r].yaxis;q[o._id]=o}X=G(Z),J=G(q),it=I(X,v),ot=I(J,g),at=!ot&&!it,rt=W(t,t._fullLayout._axisMatchGroups,Z,q);var a=(nt=W(t,t._fullLayout._axisConstraintGroups,Z,q,rt)).isSubplotConstrained||rt.isSubplotConstrained;st=v||a,lt=g||a;var s=t._fullLayout;ct=s._has("scattergl"),ut=s._has("splom"),dt=s._has("svg")}yt();var bt=function(t,e,n){return t?"nsew"===t?n?"":"pan"===e?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}(ot+it,t._fullLayout.dragmode,mt),xt=R(e,g+v+"drag",bt,n,s,c,d);if(at&&!mt)return xt.onmousedown=null,xt.style.pointerEvents="none",xt;var wt,kt,_t,At,Tt,Mt,Et,Ct,St,Ot,Lt={element:xt,gd:t,plotinfo:e};function Pt(){Lt.plotinfo.selection=!1,M(t)}function Dt(t,n){var i=Lt.gd;if(i._fullLayout._activeShapeIndex>=0)i._fullLayout._deactivateShape(i);else{var a=i._fullLayout.clickmode;if(U(i),2!==t||vt||Ht(),mt)a.indexOf("select")>-1&&E(n,i,X,J,e.id,Lt),a.indexOf("event")>-1&&h.click(i,n,e.id);else if(1===t&&vt){var s=g?D:P,c="s"===g||"w"===v?0:1,d=s._name+".range["+c+"]",f=function(t,e){var n,r=t.range[e],i=Math.abs(r-t.range[1-e]);return"date"===t.type?r:"log"===t.type?(n=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,o("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,o("."+String(n)+"g")(r))}(s,c),p="left",m="middle";if(s.fixedrange)return;g?(m="n"===g?"top":"bottom","right"===s.side&&(p="right")):"e"===v&&(p="right"),i._context.showAxisRangeEntryBoxes&&r.select(xt).call(u.makeEditable,{gd:i,immediate:!0,background:i._fullLayout.paper_bgcolor,text:String(f),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:p,verticalAlign:m}).on("edit",(function(t){var e=s.d2r(t);void 0!==e&&l.call("_guiRelayout",i,d,e)}))}}}function Rt(e,n){if(t._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(tt,ht*e+wt)),i=Math.max(0,Math.min(et,pt*n+kt)),o=Math.abs(r-wt),a=Math.abs(i-kt);function s(){Et="",_t.r=_t.l,_t.t=_t.b,St.attr("d","M0,0Z")}if(_t.l=Math.min(wt,r),_t.r=Math.max(wt,r),_t.t=Math.min(kt,i),_t.b=Math.max(kt,i),nt.isSubplotConstrained)o>L||a>L?(Et="xy",o/tt>a/et?(a=o*et/tt,kt>i?_t.t=kt-a:_t.b=kt+a):(o=a*tt/et,wt>r?_t.l=wt-o:_t.r=wt+o),St.attr("d",V(_t))):s();else if(rt.isSubplotConstrained)if(o>L||a>L){Et="xy";var l=Math.min(_t.l/tt,(et-_t.b)/et),c=Math.max(_t.r/tt,(et-_t.t)/et);_t.l=l*tt,_t.r=c*tt,_t.b=(1-l)*et,_t.t=(1-c)*et,St.attr("d",V(_t))}else s();else!ot||a<Math.min(Math.max(.6*o,O),L)?o<O||!it?s():(_t.t=0,_t.b=et,Et="x",St.attr("d",function(t,e){return"M"+(t.l-.5)+","+(e-L-.5)+"h-3v"+(2*L+1)+"h3ZM"+(t.r+.5)+","+(e-L-.5)+"h3v"+(2*L+1)+"h-3Z"}(_t,kt))):!it||o<Math.min(.6*a,L)?(_t.l=0,_t.r=tt,Et="y",St.attr("d",function(t,e){return"M"+(e-L-.5)+","+(t.t-.5)+"v-3h"+(2*L+1)+"v3ZM"+(e-L-.5)+","+(t.b+.5)+"v3h"+(2*L+1)+"v-3Z"}(_t,wt))):(Et="xy",St.attr("d",V(_t)));_t.w=_t.r-_t.l,_t.h=_t.b-_t.t,Et&&(Ot=!0),t._dragged=Ot,$(Ct,St,_t,Tt,Mt,At),It(),t.emit("plotly_relayouting",ft),Mt=!0}function It(){ft={},"xy"!==Et&&"x"!==Et||(z(X,_t.l/tt,_t.r/tt,ft,nt.xaxes),Zt("x",ft)),"xy"!==Et&&"y"!==Et||(z(J,(et-_t.b)/et,(et-_t.t)/et,ft,nt.yaxes),Zt("y",ft))}function zt(){It(),U(t),Vt(),H(t)}Lt.prepFn=function(e,n,r){var o=Lt.dragmode,s=t._fullLayout.dragmode;s!==o&&(Lt.dragmode=s),yt(),ht=t._fullLayout._invScaleX,pt=t._fullLayout._invScaleY,at||(mt?e.shiftKey?"pan"===s?s="zoom":y(s)||(s="pan"):e.ctrlKey&&(s="pan"):s="pan"),b(s)?Lt.minDrag=1:Lt.minDrag=void 0,y(s)?(Lt.xaxes=X,Lt.yaxes=J,T(e,n,r,Lt,s)):(Lt.clickFn=Dt,y(o)&&Pt(),at||("zoom"===s?(Lt.moveFn=Rt,Lt.doneFn=zt,Lt.minDrag=1,function(e,n,r){var o=xt.getBoundingClientRect();wt=n-o.left,kt=r-o.top,t._fullLayout._calcInverseTransform(t);var s=i.apply3DTransform(t._fullLayout._invTransform)(wt,kt);wt=s[0],kt=s[1],_t={l:wt,r:wt,w:0,t:kt,b:kt,h:0},At=t._hmpixcount?t._hmlumcount/t._hmpixcount:a(t._fullLayout.plot_bgcolor).getLuminance(),Mt=!1,Et="xy",Ot=!1,Ct=F(gt,At,K,Q,Tt="M0,0H"+tt+"V"+et+"H0V0"),St=j(gt,K,Q)}(0,n,r)):"pan"===s&&(Lt.moveFn=$t,Lt.doneFn=Vt))),t._fullLayout._redrag=function(){var e=t._dragdata;if(e&&e.element===xt){var n=t._fullLayout.dragmode;y(n)||(yt(),Wt([0,0,tt,et]),Lt.moveFn(e.dx,e.dy))}}},m.init(Lt);var Nt=[0,0,tt,et],Bt=null,Ft=S.REDRAWDELAY,jt=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function $t(e,n){if(e*=ht,n*=pt,!t._transitioningWithDuration){if(t._fullLayout._replotting=!0,"ew"===it||"ns"===ot){var r=it?-e:0,i=ot?-n:0;if(rt.isSubplotConstrained){if(it&&ot){var o=(e/tt-n/et)/2;r=-(e=o*tt),i=-(n=-o*et)}ot?r=-i*tt/et:i=-r*et/tt}return it&&(N(X,e),Zt("x")),ot&&(N(J,n),Zt("y")),Wt([r,i,tt,et]),Ut(),void t.emit("plotly_relayouting",ft)}var a,s,l="w"===it==("n"===ot)?1:-1;if(it&&ot&&(nt.isSubplotConstrained||rt.isSubplotConstrained)){var c=(e/tt+l*n/et)/2;e=c*tt,n=l*c*et}if("w"===it?e=h(X,0,e):"e"===it?e=h(X,1,-e):it||(e=0),"n"===ot?n=h(J,1,n):"s"===ot?n=h(J,0,-n):ot||(n=0),a="w"===it?e:0,s="n"===ot?n:0,nt.isSubplotConstrained&&!rt.isSubplotConstrained||rt.isSubplotConstrained&&it&&ot&&l>0){var u;if(rt.isSubplotConstrained||!it&&1===ot.length){for(u=0;u<X.length;u++)X[u].range=X[u]._r.slice(),C(X[u],1-n/et);a=(e=n*tt/et)/2}if(rt.isSubplotConstrained||!ot&&1===it.length){for(u=0;u<J.length;u++)J[u].range=J[u]._r.slice(),C(J[u],1-e/tt);s=(n=e*et/tt)/2}}rt.isSubplotConstrained&&ot||Zt("x"),rt.isSubplotConstrained&&it||Zt("y");var d=tt-e,f=et-n;!rt.isSubplotConstrained||it&&ot||(it?(s=a?0:e*et/tt,f=d*et/tt):(a=s?0:n*tt/et,d=f*tt/et)),Wt([a,s,d,f]),Ut(),t.emit("plotly_relayouting",ft)}function h(t,e,n){for(var r,i,o=1-e,a=0;a<t.length;a++){var s=t[a];if(!s.fixedrange){r=s,i=s._rl[o]+(s._rl[e]-s._rl[o])/B(n/s._length);var l=s.l2r(i);!1!==l&&void 0!==l&&(s.range[e]=l)}}return r._length*(r._rl[e]-i)/(r._rl[e]-r._rl[o])}}function Zt(t,e){for(var n=rt.isSubplotConstrained?{x:J,y:X}[t]:rt[t+"axes"],r=rt.isSubplotConstrained?{x:X,y:J}[t]:[],i=0;i<n.length;i++){var o=n[i],a=o._id,s=rt.xLinks[a]||rt.yLinks[a],l=r[0]||Z[s]||q[s];l&&(e?(e[o._name+".range[0]"]=e[l._name+".range[0]"],e[o._name+".range[1]"]=e[l._name+".range[1]"]):o.range=l.range.slice())}}function Ut(){var e,n=[];function r(t){for(e=0;e<t.length;e++)t[e].fixedrange||n.push(t[e]._id)}for(st&&(r(X),r(nt.xaxes),r(rt.xaxes)),lt&&(r(J),r(nt.yaxes),r(rt.yaxes)),ft={},e=0;e<n.length;e++){var i=n[e],o=A(t,i);p.drawOne(t,o,{skipTitle:!0}),ft[o._name+".range[0]"]=o.range[0],ft[o._name+".range[1]"]=o.range[1]}p.redrawComponents(t,n)}function Ht(){if(!t._transitioningWithDuration){var e=t._context.doubleClick,n=[];it&&(n=n.concat(X)),ot&&(n=n.concat(J)),rt.xaxes&&(n=n.concat(rt.xaxes)),rt.yaxes&&(n=n.concat(rt.yaxes));var r,i,o,a={};if("reset+autosize"===e)for(e="autosize",i=0;i<n.length;i++)if((r=n[i])._rangeInitial&&(r.range[0]!==r._rangeInitial[0]||r.range[1]!==r._rangeInitial[1])||!r._rangeInitial&&!r.autorange){e="reset";break}if("autosize"===e)for(i=0;i<n.length;i++)(r=n[i]).fixedrange||(a[r._name+".autorange"]=!0);else if("reset"===e)for((it||nt.isSubplotConstrained)&&(n=n.concat(nt.xaxes)),ot&&!nt.isSubplotConstrained&&(n=n.concat(nt.yaxes)),nt.isSubplotConstrained&&(it?ot||(n=n.concat(J)):n=n.concat(X)),i=0;i<n.length;i++)(r=n[i]).fixedrange||(r._rangeInitial?(o=r._rangeInitial,a[r._name+".range[0]"]=o[0],a[r._name+".range[1]"]=o[1]):a[r._name+".autorange"]=!0);t.emit("plotly_doubleclick",null),l.call("_guiRelayout",t,a)}}function Vt(){Wt([0,0,tt,et]),i.syncOrAsync([_.previousPromises,function(){t._fullLayout._replotting=!1,l.call("_guiRelayout",t,ft)}],t)}function Wt(e){var n,r,o,a,s=t._fullLayout,c=s._plots,u=s._subplots.cartesian;if(ut&&l.subplotsRegistry.splom.drag(t),ct)for(n=0;n<u.length;n++)if(o=(r=c[u[n]]).xaxis,a=r.yaxis,r._scene){var d=i.simpleMap(o.range,o.r2l),h=i.simpleMap(a.range,a.r2l);r._scene.update({range:[d[0],h[0],d[1],h[1]]})}if((ut||ct)&&(w(t),k(t)),dt){var p=e[2]/P._length,m=e[3]/D._length;for(n=0;n<u.length;n++){o=(r=c[u[n]]).xaxis,a=r.yaxis;var y,b,x,_,A=(st||rt.isSubplotConstrained)&&!o.fixedrange&&Z[o._id],T=(lt||rt.isSubplotConstrained)&&!a.fixedrange&&q[a._id];if(A?(y=p,x=v||rt.isSubplotConstrained?e[0]:qt(o,y)):rt.xaHash[o._id]?(y=p,x=e[0]*o._length/P._length):rt.yaHash[o._id]?(y=m,x="ns"===ot?-e[1]*o._length/D._length:qt(o,y,{n:"top",s:"bottom"}[ot])):x=Gt(o,y=Yt(o,p,m)),T?(b=m,_=g||rt.isSubplotConstrained?e[1]:qt(a,b)):rt.yaHash[a._id]?(b=m,_=e[1]*a._length/D._length):rt.xaHash[a._id]?(b=p,_="ew"===it?-e[0]*a._length/P._length:qt(a,b,{e:"right",w:"left"}[it])):_=Gt(a,b=Yt(a,p,m)),y||b){y||(y=1),b||(b=1);var M=o._offset-x/y,E=a._offset-_/b;r.clipRect.call(f.setTranslate,x,_).call(f.setScale,y,b),r.plot.call(f.setTranslate,M,E).call(f.setScale,1/y,1/b),y===r.xScaleFactor&&b===r.yScaleFactor||(f.setPointGroupScale(r.zoomScalePts,y,b),f.setTextPointsScale(r.zoomScaleTxt,y,b)),f.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=y,r.yScaleFactor=b}}}}function Yt(t,e,n){return t.fixedrange?0:st&&nt.xaHash[t._id]?e:lt&&(nt.isSubplotConstrained?nt.xaHash:nt.yaHash)[t._id]?n:0}function Gt(t,e){return e?(t.range=t._r.slice(),C(t,e),qt(t,e)):0}function qt(t,e,n){return t._length*(1-e)*x[n||t.constraintoward||"middle"]}return g.length*v.length!=1&&Y(xt,(function(e){if(t._context._scrollZoom.cartesian||t._fullLayout._enablescrollzoom){if(Pt(),t._transitioningWithDuration)return e.preventDefault(),void e.stopPropagation();yt(),clearTimeout(Bt);var n=-e.deltaY;if(isFinite(n)||(n=e.wheelDelta/10),isFinite(n)){var r,o=Math.exp(-Math.min(Math.max(n,-20),20)/200),a=jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),s=(e.clientX-a.left)/a.width,l=(a.bottom-e.clientY)/a.height;if(st){for(v||(s=.5),r=0;r<X.length;r++)c(X[r],s,o);Zt("x"),Nt[2]*=o,Nt[0]+=Nt[2]*s*(1/o-1)}if(lt){for(g||(l=.5),r=0;r<J.length;r++)c(J[r],l,o);Zt("y"),Nt[3]*=o,Nt[1]+=Nt[3]*(1-l)*(1/o-1)}Wt(Nt),Ut(),t.emit("plotly_relayouting",ft),Bt=setTimeout((function(){t._fullLayout&&(Nt=[0,0,tt,et],Vt())}),Ft),e.preventDefault()}else i.log("Did not find wheel motion attributes: ",e)}function c(t,e,n){if(!t.fixedrange){var r=i.simpleMap(t.range,t.r2l),o=r[0]+(r[1]-r[0])*e;t.range=r.map((function(e){return t.l2r(o+(e-o)*n)}))}}})),xt},makeDragger:D,makeRectDragger:R,makeZoombox:F,makeCorners:j,updateZoombox:$,xyCorners:V,transitionZoombox:Z,removeZoombox:U,showDoubleClickNotifier:H,attachWheelEventHandler:Y}},{"../../components/color":257,"../../components/dragelement":276,"../../components/dragelement/helpers":275,"../../components/drawing":279,"../../components/fx":297,"../../components/selections":345,"../../constants/alignment":373,"../../lib":400,"../../lib/clear_gl_canvases":386,"../../lib/setcursor":421,"../../lib/svg_text_utils":426,"../../plot_api/subroutines":440,"../../registry":490,"../plots":488,"./axes":450,"./axis_ids":454,"./constants":457,"./scale_zoom":468,"@plotly/d3":14,"has-passive-events":160,tinycolor2:205}],460:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../components/fx"),o=t("../../components/dragelement"),a=t("../../lib/setcursor"),s=t("./dragbox").makeDragBox,l=t("./constants").DRAGGERSIZE;n.initInteractions=function(t){var e=t._fullLayout;if(t._context.staticPlot)r.select(t).selectAll(".drag").remove();else if(e._has("cartesian")||e._has("splom")){Object.keys(e._plots||{}).sort((function(t,n){if((e._plots[t].mainplot&&!0)===(e._plots[n].mainplot&&!0)){var r=t.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return e._plots[t].mainplot?1:-1})).forEach((function(n){var r=e._plots[n],a=r.xaxis,c=r.yaxis;if(!r.mainplot){var u=s(t,r,a._offset,c._offset,a._length,c._length,"ns","ew");u.onmousemove=function(e){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===n&&t._fullLayout._plots[n]&&i.hover(t,e,n)},i.hover(t,e,n),t._fullLayout._lasthover=u,t._fullLayout._hoversubplot=n},u.onmouseout=function(e){t._dragging||(t._fullLayout._hoversubplot=null,o.unhover(t,e))},t._context.showAxisDragHandles&&(s(t,r,a._offset-l,c._offset-l,l,l,"n","w"),s(t,r,a._offset+a._length,c._offset-l,l,l,"n","e"),s(t,r,a._offset-l,c._offset+c._length,l,l,"s","w"),s(t,r,a._offset+a._length,c._offset+c._length,l,l,"s","e"))}if(t._context.showAxisDragHandles){if(n===a._mainSubplot){var d=a._mainLinePosition;"top"===a.side&&(d-=l),s(t,r,a._offset+.1*a._length,d,.8*a._length,l,"","ew"),s(t,r,a._offset,d,.1*a._length,l,"","w"),s(t,r,a._offset+.9*a._length,d,.1*a._length,l,"","e")}if(n===c._mainSubplot){var f=c._mainLinePosition;"right"!==c.side&&(f-=l),s(t,r,f,c._offset+.1*c._length,l,.8*c._length,"ns",""),s(t,r,f,c._offset+.9*c._length,l,.1*c._length,"s",""),s(t,r,f,c._offset,l,.1*c._length,"n","")}}}));var a=e._hoverlayer.node();a.onmousemove=function(n){n.target=t._fullLayout._lasthover,i.hover(t,n,e._hoversubplot)},a.onclick=function(e){e.target=t._fullLayout._lasthover,i.click(t,e)},a.onmousedown=function(e){t._fullLayout._lasthover.onmousedown(e)},n.updateFx(t)}},n.updateFx=function(t){var e=t._fullLayout,n="pan"===e.dragmode?"move":"crosshair";a(e._draggers,n)}},{"../../components/dragelement":276,"../../components/fx":297,"../../lib/setcursor":421,"./constants":457,"./dragbox":459,"@plotly/d3":14}],461:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("./axis_ids");e.exports=function(t){return function(e,n){var a=e[t];if(Array.isArray(a))for(var s=r.subplotsRegistry.cartesian,l=s.idRegex,c=n._subplots,u=c.xaxis,d=c.yaxis,f=c.cartesian,h=n._has("cartesian")||n._has("gl2d"),p=0;p<a.length;p++){var g=a[p];if(i.isPlainObject(g)){var m=o.cleanId(g.xref,"x",!1),v=o.cleanId(g.yref,"y",!1),y=l.x.test(m),b=l.y.test(v);if(y||b){h||i.pushUnique(n._basePlotModules,s);var x=!1;y&&-1===u.indexOf(m)&&(u.push(m),x=!0),b&&-1===d.indexOf(v)&&(d.push(v),x=!0),x&&y&&b&&f.push(m+v)}}}}}},{"../../lib":400,"../../registry":490,"./axis_ids":454}],462:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../registry"),o=t("../../lib"),a=t("../plots"),s=t("../../components/drawing"),l=t("../get_data").getModuleCalcData,c=t("./axis_ids"),u=t("./constants"),d=t("../../constants/xmlns_namespaces"),f=o.ensureSingle;function h(t,e,n){return o.ensureSingle(t,e,n,(function(t){t.datum(n)}))}function p(t,e,n,o,a){for(var c,d,f,h=u.traceLayerClasses,p=t._fullLayout,g=p._modules,m=[],v=[],y=0;y<g.length;y++){var b=(c=g[y]).name,x=i.modules[b].categories;if(x.svg){var w=c.layerName||b+"layer",k=c.plot;f=(d=l(n,k))[0],n=d[1],f.length&&m.push({i:h.indexOf(w),className:w,plotMethod:k,cdModule:f}),x.zoomScale&&v.push("."+w)}}m.sort((function(t,e){return t.i-e.i}));var _=e.plot.selectAll("g.mlayer").data(m,(function(t){return t.className}));if(_.enter().append("g").attr("class",(function(t){return t.className})).classed("mlayer",!0).classed("rangeplot",e.isRangePlot),_.exit().remove(),_.order(),_.each((function(n){var i=r.select(this),l=n.className;n.plotMethod(t,e,n.cdModule,i,o,a),-1===u.clipOnAxisFalseQuery.indexOf("."+l)&&s.setClipUrl(i,e.layerClipId,t)})),p._has("scattergl")&&(c=i.getModule("scattergl"),f=l(n,c)[0],c.plot(t,e,f)),!t._context.staticPlot&&(e._hasClipOnAxisFalse&&(e.clipOnAxisFalseTraces=e.plot.selectAll(u.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),v.length)){var A=e.plot.selectAll(v.join(",")).selectAll(".trace");e.zoomScalePts=A.selectAll("path.point"),e.zoomScaleTxt=A.selectAll(".textpoint")}}function g(t,e){var n=e.plotgroup,r=e.id,i=u.layerValue2layerClass[e.xaxis.layer],o=u.layerValue2layerClass[e.yaxis.layer],a=t._fullLayout._hasOnlyLargeSploms;if(e.mainplot){var s=e.mainplotinfo,l=s.plotgroup,d=r+"-x",p=r+"-y";e.minorGridlayer=s.minorGridlayer,e.gridlayer=s.gridlayer,e.zerolinelayer=s.zerolinelayer,f(s.overlinesBelow,"path",d),f(s.overlinesBelow,"path",p),f(s.overaxesBelow,"g",d),f(s.overaxesBelow,"g",p),e.plot=f(s.overplot,"g",r),f(s.overlinesAbove,"path",d),f(s.overlinesAbove,"path",p),f(s.overaxesAbove,"g",d),f(s.overaxesAbove,"g",p),e.xlines=l.select(".overlines-"+i).select("."+d),e.ylines=l.select(".overlines-"+o).select("."+p),e.xaxislayer=l.select(".overaxes-"+i).select("."+d),e.yaxislayer=l.select(".overaxes-"+o).select("."+p)}else if(a)e.xlines=f(n,"path","xlines-above"),e.ylines=f(n,"path","ylines-above"),e.xaxislayer=f(n,"g","xaxislayer-above"),e.yaxislayer=f(n,"g","yaxislayer-above");else{var g=f(n,"g","layer-subplot");e.shapelayer=f(g,"g","shapelayer"),e.imagelayer=f(g,"g","imagelayer"),e.minorGridlayer=f(n,"g","minor-gridlayer"),e.gridlayer=f(n,"g","gridlayer"),e.zerolinelayer=f(n,"g","zerolinelayer"),f(n,"path","xlines-below"),f(n,"path","ylines-below"),e.overlinesBelow=f(n,"g","overlines-below"),f(n,"g","xaxislayer-below"),f(n,"g","yaxislayer-below"),e.overaxesBelow=f(n,"g","overaxes-below"),e.plot=f(n,"g","plot"),e.overplot=f(n,"g","overplot"),e.xlines=f(n,"path","xlines-above"),e.ylines=f(n,"path","ylines-above"),e.overlinesAbove=f(n,"g","overlines-above"),f(n,"g","xaxislayer-above"),f(n,"g","yaxislayer-above"),e.overaxesAbove=f(n,"g","overaxes-above"),e.xlines=n.select(".xlines-"+i),e.ylines=n.select(".ylines-"+o),e.xaxislayer=n.select(".xaxislayer-"+i),e.yaxislayer=n.select(".yaxislayer-"+o)}a||(h(e.minorGridlayer,"g",e.xaxis._id),h(e.minorGridlayer,"g",e.yaxis._id),e.minorGridlayer.selectAll("g").map((function(t){return t[0]})).sort(c.idSort),h(e.gridlayer,"g",e.xaxis._id),h(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").map((function(t){return t[0]})).sort(c.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}function m(t,e){if(t){var n={};for(var i in t.each((function(t){var i=t[0];r.select(this).remove(),v(i,e),n[i]=!0})),e._plots)for(var o=e._plots[i].overlays||[],a=0;a<o.length;a++){var s=o[a];n[s.id]&&s.plot.selectAll(".trace").remove()}}}function v(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=u.idRegex,n.attrRegex=u.attrRegex,n.attributes=t("./attributes"),n.layoutAttributes=t("./layout_attributes"),n.supplyLayoutDefaults=t("./layout_defaults"),n.transitionAxes=t("./transition_axes"),n.finalizeSubplots=function(t,e){var n,r,i,a=e._subplots,s=a.xaxis,l=a.yaxis,d=a.cartesian,f=d.concat(a.gl2d||[]),h={},p={};for(n=0;n<f.length;n++){var g=f[n].split("y");h[g[0]]=1,p["y"+g[1]]=1}for(n=0;n<s.length;n++)h[r=s[n]]||(i=(t[c.id2name(r)]||{}).anchor,u.idRegex.y.test(i)||(i="y"),d.push(r+i),f.push(r+i),p[i]||(p[i]=1,o.pushUnique(l,i)));for(n=0;n<l.length;n++)p[i=l[n]]||(r=(t[c.id2name(i)]||{}).anchor,u.idRegex.x.test(r)||(r="x"),d.push(r+i),f.push(r+i),h[r]||(h[r]=1,o.pushUnique(s,r)));if(!f.length){for(var m in r="",i="",t)u.attrRegex.test(m)&&("x"===m.charAt(0)?(!r||+m.substr(5)<+r.substr(5))&&(r=m):(!i||+m.substr(5)<+i.substr(5))&&(i=m));r=r?c.name2id(r):"x",i=i?c.name2id(i):"y",s.push(r),l.push(i),d.push(r+i)}},n.plot=function(t,e,n,r){var i,o=t._fullLayout,a=o._subplots.cartesian,s=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<s.length;i++)e.push(i);for(i=0;i<a.length;i++){for(var l,c=a[i],u=o._plots[c],d=[],f=0;f<s.length;f++){var h=s[f],g=h[0].trace;g.xaxis+g.yaxis===c&&((-1!==e.indexOf(g.index)||g.carpet)&&(l&&l[0].trace.xaxis+l[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(g.fill)&&-1===d.indexOf(l)&&d.push(l),d.push(h)),l=h)}p(t,u,d,n,r)}},n.clean=function(t,e,n,r){var i,o,a,s=r._plots||{},l=e._plots||{},u=r._subplots||{};if(r._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(a in s)(i=s[a]).plotgroup&&i.plotgroup.remove();var d=r._has&&r._has("gl"),f=e._has&&e._has("gl");if(d&&!f)for(a in s)(i=s[a])._scene&&i._scene.destroy();if(u.xaxis&&u.yaxis){var h=c.listIds({_fullLayout:r});for(o=0;o<h.length;o++){var p=h[o];e[c.id2name(p)]||r._infolayer.selectAll(".g-"+p+"title").remove()}}var g=r._has&&r._has("cartesian"),y=e._has&&e._has("cartesian");if(g&&!y)m(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(u.cartesian)for(o=0;o<u.cartesian.length;o++){var b=u.cartesian[o];if(!l[b]){var x="."+b+",."+b+"-x,."+b+"-y";r._cartesianlayer.selectAll(x).remove(),v(b,r)}}},n.drawFramework=function(t){var e=t._fullLayout,n=function(t){var e,n,r,i,o,a,s=t._fullLayout,l=s._subplots.cartesian,c=l.length,u=[],d=[];for(e=0;e<c;e++){r=l[e],o=(i=s._plots[r]).xaxis,a=i.yaxis;var f=o._mainAxis,h=a._mainAxis,p=f._id+h._id,g=s._plots[p];i.overlays=[],p!==r&&g?(i.mainplot=p,i.mainplotinfo=g,d.push(r)):(i.mainplot=void 0,i.mainplotinfo=void 0,u.push(r))}for(e=0;e<d.length;e++)r=d[e],(i=s._plots[r]).mainplotinfo.overlays.push(i);var m=u.concat(d),v=new Array(c);for(e=0;e<c;e++){r=m[e],o=(i=s._plots[r]).xaxis,a=i.yaxis;var y=[r,o.layer,a.layer,o.overlaying||"",a.overlaying||""];for(n=0;n<i.overlays.length;n++)y.push(i.overlays[n].id);v[e]=y}return v}(t),i=e._cartesianlayer.selectAll(".subplot").data(n,String);i.enter().append("g").attr("class",(function(t){return"subplot "+t[0]})),i.order(),i.exit().call(m,e),i.each((function(n){var i=n[0],o=e._plots[i];o.plotgroup=r.select(this),g(t,o),o.draglayer=f(e._draggers,"g",i)}))},n.rangePlot=function(t,e,n){g(t,e),p(t,e,n),a.style(t)},n.toSVG=function(t){var e=t._fullLayout._glimages,n=r.select(t).selectAll(".svg-container");n.filter((function(t,e){return e===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var t=this.toDataURL("image/png");e.append("svg:image").attr({xmlns:d.svg,"xlink:href":t,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})}))},n.updateFx=t("./graph_interact").updateFx},{"../../components/drawing":279,"../../constants/xmlns_namespaces":379,"../../lib":400,"../../registry":490,"../get_data":480,"../plots":488,"./attributes":448,"./axis_ids":454,"./constants":457,"./graph_interact":460,"./layout_attributes":463,"./layout_defaults":464,"./transition_axes":474,"@plotly/d3":14}],463:[function(t,e,n){"use strict";var r=t("../font_attributes"),i=t("../../components/color/attributes"),o=t("../../components/drawing/attributes").dash,a=t("../../lib/extend").extendFlat,s=t("../../plot_api/plot_template").templatedArray,l=t("../../plots/cartesian/axis_format_attributes").descriptionWithDates,c=t("../../constants/numerical").ONEDAY,u=t("./constants"),d=u.HOUR_PATTERN,f=u.WEEKDAY_PATTERN,h={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function p(t){return{valType:"integer",min:0,dflt:t?5:0,editType:"ticks"}}var g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"data_array",editType:"ticks"},y={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function b(t){var e={valType:"number",min:0,editType:"ticks"};return t||(e.dflt=5),e}function x(t){var e={valType:"number",min:0,editType:"ticks"};return t||(e.dflt=1),e}var w={valType:"color",dflt:i.defaultLine,editType:"ticks"},k={valType:"color",dflt:i.lightLine,editType:"ticks"};function _(t){var e={valType:"number",min:0,editType:"ticks"};return t||(e.dflt=1),e}var A=a({},o,{editType:"ticks"}),T={valType:"boolean",editType:"ticks"};e.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:i.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"calc"},rangebreaks:s("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[f,d,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:c},editType:"calc"}),tickmode:h,nticks:p(),tick0:g,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:v,ticktext:{valType:"data_array",editType:"ticks"},ticks:y,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:b(),tickwidth:x(),tickcolor:w,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:l("tick label")},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:l("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:T,gridcolor:k,gridwidth:_(),griddash:A,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},minor:{tickmode:h,nticks:p("minor"),tick0:g,dtick:m,tickvals:v,ticks:y,ticklen:b("minor"),tickwidth:x("minor"),tickcolor:w,gridcolor:k,gridwidth:_("minor"),griddash:A,showgrid:T,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"})}}},{"../../components/color/attributes":256,"../../components/drawing/attributes":278,"../../constants/numerical":378,"../../lib/extend":392,"../../plot_api/plot_template":439,"../../plots/cartesian/axis_format_attributes":453,"../font_attributes":478,"./constants":457}],464:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../components/color"),o=t("../../components/fx/helpers").isUnifiedHover,a=t("../../components/fx/hovermode_defaults"),s=t("../../plot_api/plot_template"),l=t("../layout_attributes"),c=t("./layout_attributes"),u=t("./type_defaults"),d=t("./axis_defaults"),f=t("./constraints"),h=t("./position_defaults"),p=t("./axis_ids"),g=p.id2name,m=p.name2id,v=t("./constants").AX_ID_PATTERN,y=t("../../registry"),b=y.traceIs,x=y.getComponentMethod;function w(t,e,n){Array.isArray(t[e])?t[e].push(n):t[e]=[n]}e.exports=function(t,e,n){var y,k,_=e.autotypenumbers,A={},T={},M={},E={},C={},S={},O={},L={},P={},D={};for(y=0;y<n.length;y++){var R=n[y];if(b(R,"cartesian")||b(R,"gl2d")){var I,z;if(R.xaxis)I=g(R.xaxis),w(A,I,R);else if(R.xaxes)for(k=0;k<R.xaxes.length;k++)w(A,g(R.xaxes[k]),R);if(R.yaxis)z=g(R.yaxis),w(A,z,R);else if(R.yaxes)for(k=0;k<R.yaxes.length;k++)w(A,g(R.yaxes[k]),R);"funnel"===R.type?"h"===R.orientation?(I&&(T[I]=!0),z&&(O[z]=!0)):z&&(M[z]=!0):"image"===R.type?(z&&(L[z]=!0),I&&(L[I]=!0)):(z&&(C[z]=!0,S[z]=!0),b(R,"carpet")&&("carpet"!==R.type||R._cheater)||I&&(E[I]=!0)),"carpet"===R.type&&R._cheater&&I&&(T[I]=!0),b(R,"2dMap")&&(P[I]=!0,P[z]=!0),b(R,"oriented")&&(D["h"===R.orientation?z:I]=!0)}}var N=e._subplots,B=N.xaxis,F=N.yaxis,j=r.simpleMap(B,g),$=r.simpleMap(F,g),Z=j.concat($),U=i.background;B.length&&F.length&&(U=r.coerce(t,e,l,"plot_bgcolor"));var H,V,W,Y,G,q=i.combine(U,e.paper_bgcolor);function X(){var t=A[H]||[];G._traceIndices=t.map((function(t){return t._expandedIndex})),G._annIndices=[],G._shapeIndices=[],G._selectionIndices=[],G._imgIndices=[],G._subplotsWith=[],G._counterAxes=[],G._name=G._attr=H,G._id=V}function J(t,e){return r.coerce(Y,G,c,t,e)}function K(t,e){return r.coerce2(Y,G,c,t,e)}function Q(t){return"x"===t?F:B}function tt(e,n){for(var r="x"===e?j:$,i=[],o=0;o<r.length;o++){var a=r[o];a===n||(t[a]||{}).overlaying||i.push(m(a))}return i}var et={x:Q("x"),y:Q("y")},nt=et.x.concat(et.y),rt={},it=[];function ot(){var t=Y.matches;v.test(t)&&-1===nt.indexOf(t)&&(rt[t]=Y.type,it=Object.keys(rt))}var at=a(t,e),st=o(at);for(y=0;y<Z.length;y++){H=Z[y],V=m(H),W=H.charAt(0),r.isPlainObject(t[H])||(t[H]={}),Y=t[H],G=s.newContainer(e,H,W+"axis"),X();var lt="x"===W&&!E[H]&&T[H]||"y"===W&&!C[H]&&M[H],ct="y"===W&&(!S[H]&&O[H]||L[H]),ut={hasMinor:!0,letter:W,font:e.font,outerTicks:P[H],showGrid:!D[H],data:A[H]||[],bgColor:q,calendar:e.calendar,automargin:!0,visibleDflt:lt,reverseDflt:ct,autotypenumbersDflt:_,splomStash:((e._splomAxes||{})[W]||{})[V]};J("uirevision",e.uirevision),u(Y,G,J,ut),d(Y,G,J,ut,e);var dt=st&&W===at.charAt(0),ft=K("spikecolor",st?G.color:void 0),ht=K("spikethickness",st?1.5:void 0),pt=K("spikedash",st?"dot":void 0),gt=K("spikemode",st?"across":void 0),mt=K("spikesnap");J("showspikes",!!(dt||ft||ht||pt||gt||mt))||(delete G.spikecolor,delete G.spikethickness,delete G.spikedash,delete G.spikemode,delete G.spikesnap),h(Y,G,J,{letter:W,counterAxes:et[W],overlayableAxes:tt(W,H),grid:e.grid}),J("title.standoff"),ot(),G._input=Y}for(y=0;y<it.length;){V=it[y++],W=(H=g(V)).charAt(0),r.isPlainObject(t[H])||(t[H]={}),Y=t[H],G=s.newContainer(e,H,W+"axis"),X();var vt={letter:W,font:e.font,outerTicks:P[H],showGrid:!D[H],data:[],bgColor:q,calendar:e.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:_,splomStash:((e._splomAxes||{})[W]||{})[V]};J("uirevision",e.uirevision),G.type=rt[V]||"linear",d(Y,G,J,vt,e),h(Y,G,J,{letter:W,counterAxes:et[W],overlayableAxes:tt(W,H),grid:e.grid}),J("fixedrange"),ot(),G._input=Y}var yt=x("rangeslider","handleDefaults"),bt=x("rangeselector","handleDefaults");for(y=0;y<j.length;y++)H=j[y],Y=t[H],G=e[H],yt(t,e,H),"date"===G.type&&bt(Y,G,e,$,G.calendar),J("fixedrange");for(y=0;y<$.length;y++){H=$[y],Y=t[H],G=e[H];var xt=e[g(G.anchor)];J("fixedrange",x("rangeslider","isVisible")(xt))}f.handleDefaults(t,e,{axIds:nt.concat(it).sort(p.idSort),axHasImage:L})}},{"../../components/color":257,"../../components/fx/helpers":293,"../../components/fx/hovermode_defaults":296,"../../lib":400,"../../plot_api/plot_template":439,"../../registry":490,"../layout_attributes":486,"./axis_defaults":452,"./axis_ids":454,"./constants":457,"./constraints":458,"./layout_attributes":463,"./position_defaults":466,"./type_defaults":475}],465:[function(t,e,n){"use strict";var r=t("tinycolor2").mix,i=t("../../components/color/attributes"),o=t("../../lib");e.exports=function(t,e,n,a){var s=(a=a||{}).dfltColor;function l(n,r){return o.coerce2(t,e,a.attributes,n,r)}var c=l("linecolor",s),u=l("linewidth");n("showline",a.showLine||!!c||!!u)||(delete e.linecolor,delete e.linewidth);var d=l("gridcolor",r(s,a.bgColor,a.blend||i.lightFraction).toRgbString()),f=l("gridwidth"),h=l("griddash");if(n("showgrid",a.showGrid||!!d||!!f||!!h)||(delete e.gridcolor,delete e.gridwidth,delete e.griddash),a.hasMinor){var p=l("minor.gridcolor",r(e.gridcolor,a.bgColor,67).toRgbString()),g=l("minor.gridwidth",e.gridwidth||1),m=l("minor.griddash",e.griddash||"solid");n("minor.showgrid",!!p||!!g||!!m)||(delete e.minor.gridcolor,delete e.minor.gridwidth,delete e.minor.griddash)}if(!a.noZeroLine){var v=l("zerolinecolor",s),y=l("zerolinewidth");n("zeroline",a.showGrid||!!v||!!y)||(delete e.zerolinecolor,delete e.zerolinewidth)}}},{"../../components/color/attributes":256,"../../lib":400,tinycolor2:205}],466:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib");e.exports=function(t,e,n,o){var a,s,l,c,u=o.counterAxes||[],d=o.overlayableAxes||[],f=o.letter,h=o.grid;h&&(s=h._domains[f][h._axisMap[e._id]],a=h._anchors[e._id],s&&(l=h[f+"side"].split(" ")[0],c=h.domain[f]["right"===l||"top"===l?1:0])),s=s||[0,1],a=a||(r(t.position)?"free":u[0]||"free"),l=l||("x"===f?"bottom":"left"),c=c||0,"free"===i.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:a}},"anchor")&&n("position",c),i.coerce(t,e,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:l}},"side");var p=!1;if(d.length&&(p=i.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!p){var g=n("domain",s);g[0]>g[1]-1/4096&&(e.domain=s),i.noneOrAll(t.domain,e.domain,s)}return n("layer"),e}},{"../../lib":400,"fast-isnumeric":121}],467:[function(t,e,n){"use strict";var r=t("./show_dflt");e.exports=function(t,e,n,i,o){o||(o={});var a=o.tickSuffixDflt,s=r(t);n("tickprefix")&&n("showtickprefix",s),n("ticksuffix",a)&&n("showticksuffix",s)}},{"./show_dflt":470}],468:[function(t,e,n){"use strict";var r=t("../../constants/alignment").FROM_BL;e.exports=function(t,e,n){void 0===n&&(n=r[t.constraintoward||"center"]);var i=[t.r2l(t.range[0]),t.r2l(t.range[1])],o=i[0]+(i[1]-i[0])*n;t.range=t._input.range=[t.l2r(o+(i[0]-o)*e),t.l2r(o+(i[1]-o)*e)],t.setScale()}},{"../../constants/alignment":373}],469:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("d3-time-format").utcFormat,o=t("../../lib"),a=o.numberFormat,s=t("fast-isnumeric"),l=o.cleanNumber,c=o.ms2DateTime,u=o.dateTime2ms,d=o.ensureNumber,f=o.isArrayOrTypedArray,h=t("../../constants/numerical"),p=h.FP_SAFE,g=h.BADNUM,m=h.LOG_CLIP,v=h.ONEWEEK,y=h.ONEDAY,b=h.ONEHOUR,x=h.ONEMIN,w=h.ONESEC,k=t("./axis_ids"),_=t("./constants"),A=_.HOUR_PATTERN,T=_.WEEKDAY_PATTERN;function M(t){return Math.pow(10,t)}function E(t){return null!=t}e.exports=function(t,e){e=e||{};var n=t._id||"x",h=n.charAt(0);function C(e,n){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&n&&t.range&&2===t.range.length){var r=t.range[0],i=t.range[1];return.5*(r+i-2*m*Math.abs(r-i))}return g}function S(e,n,r,i){if((i||{}).msUTC&&s(e))return+e;var a=u(e,r||t.calendar);if(a===g){if(!s(e))return g;e=+e;var l=Math.floor(10*o.mod(e+.05,1)),c=Math.round(e-l/10);a=u(new Date(c))+l/10}return a}function O(e,n,r){return c(e,n,r||t.calendar)}function L(e){return t._categories[Math.round(e)]}function P(e){if(E(e)){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push("number"==typeof e?String(e):e);var n=t._categories.length-1;return t._categoriesMap[e]=n,n}return g}function D(e){if(t._categoriesMap)return t._categoriesMap[e]}function R(t){var e=D(t);return void 0!==e?e:s(t)?+t:void 0}function I(t){return s(t)?+t:D(t)}function z(t,e,n){return r.round(n+e*t,2)}function N(t,e,n){return(t-n)/e}var B=function(e){return s(e)?z(e,t._m,t._b):g},F=function(e){return N(e,t._m,t._b)};if(t.rangebreaks){var j="y"===h;B=function(e){if(!s(e))return g;var n=t._rangebreaks.length;if(!n)return z(e,t._m,t._b);var r=j;t.range[0]>t.range[1]&&(r=!r);for(var i=r?-1:1,o=i*e,a=0,l=0;l<n;l++){var c=i*t._rangebreaks[l].min,u=i*t._rangebreaks[l].max;if(o<c)break;if(!(o>u)){a=o<(c+u)/2?l:l+1;break}a=l+1}var d=t._B[a]||0;return isFinite(d)?z(e,t._m2,d):0},F=function(e){var n=t._rangebreaks.length;if(!n)return N(e,t._m,t._b);for(var r=0,i=0;i<n&&!(e<t._rangebreaks[i].pmin);i++)e>t._rangebreaks[i].pmax&&(r=i+1);return N(e,t._m2,t._B[r])}}t.c2l="log"===t.type?C:d,t.l2c="log"===t.type?M:d,t.l2p=B,t.p2l=F,t.c2p="log"===t.type?function(t,e){return B(C(t,e))}:B,t.p2c="log"===t.type?function(t){return M(F(t))}:F,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=l,t.c2d=t.c2r=t.l2d=t.l2r=d,t.d2p=t.r2p=function(e){return t.l2p(l(e))},t.p2d=t.p2r=F,t.cleanPos=d):"log"===t.type?(t.d2r=t.d2l=function(t,e){return C(l(t),e)},t.r2d=t.r2c=function(t){return M(l(t))},t.d2c=t.r2l=l,t.c2d=t.l2r=d,t.c2r=C,t.l2d=M,t.d2p=function(e,n){return t.l2p(t.d2r(e,n))},t.p2d=function(t){return M(F(t))},t.r2p=function(e){return t.l2p(l(e))},t.p2r=F,t.cleanPos=d):"date"===t.type?(t.d2r=t.r2d=o.identity,t.d2c=t.r2c=t.d2l=t.r2l=S,t.c2d=t.c2r=t.l2d=t.l2r=O,t.d2p=t.r2p=function(e,n,r){return t.l2p(S(e,0,r))},t.p2d=t.p2r=function(t,e,n){return O(F(t),e,n)},t.cleanPos=function(e){return o.cleanDate(e,g,t.calendar)}):"category"===t.type?(t.d2c=t.d2l=P,t.r2d=t.c2d=t.l2d=L,t.d2r=t.d2l_noadd=R,t.r2c=function(e){var n=I(e);return void 0!==n?n:t.fraction2r(.5)},t.l2r=t.c2r=d,t.r2l=I,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return L(F(t))},t.r2p=t.d2p,t.p2r=F,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:d(t)}):"multicategory"===t.type&&(t.r2d=t.c2d=t.l2d=L,t.d2r=t.d2l_noadd=R,t.r2c=function(e){var n=R(e);return void 0!==n?n:t.fraction2r(.5)},t.r2c_just_indices=D,t.l2r=t.c2r=d,t.r2l=R,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return L(F(t))},t.r2p=t.d2p,t.p2r=F,t.cleanPos=function(t){return Array.isArray(t)||"string"==typeof t&&""!==t?t:d(t)},t.setupMultiCategory=function(r){var i,a,s=t._traceIndices,l=t._matchGroup;if(l&&0===t._categories.length)for(var c in l)if(c!==n){var u=e[k.id2name(c)];s=s.concat(u._traceIndices)}var d=[[0,{}],[0,{}]],p=[];for(i=0;i<s.length;i++){var g=r[s[i]];if(h in g){var m=g[h],v=g._length||o.minRowLength(m);if(f(m[0])&&f(m[1]))for(a=0;a<v;a++){var y=m[0][a],b=m[1][a];E(y)&&E(b)&&(p.push([y,b]),y in d[0][1]||(d[0][1][y]=d[0][0]++),b in d[1][1]||(d[1][1][b]=d[1][0]++))}}}for(p.sort((function(t,e){var n=d[0][1],r=n[t[0]]-n[e[0]];if(r)return r;var i=d[1][1];return i[t[1]]-i[e[1]]})),i=0;i<p.length;i++)P(p[i])}),t.fraction2r=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return t.l2r(n+e*(r-n))},t.r2fraction=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return(t.r2l(e)-n)/(r-n)},t.cleanRange=function(e,n){n||(n={}),e||(e="range");var r,i,a=o.nestedProperty(t,e).get();if(i=(i="date"===t.type?o.dfltRange(t.calendar):"y"===h?_.DFLTRANGEY:"realaxis"===t._name?[0,1]:n.dfltRange||_.DFLTRANGEX).slice(),"tozero"!==t.rangemode&&"nonnegative"!==t.rangemode||(i[0]=0),a&&2===a.length)for("date"!==t.type||t.autorange||(a[0]=o.cleanDate(a[0],g,t.calendar),a[1]=o.cleanDate(a[1],g,t.calendar)),r=0;r<2;r++)if("date"===t.type){if(!o.isDateTime(a[r],t.calendar)){t[e]=i;break}if(t.r2l(a[0])===t.r2l(a[1])){var l=o.constrain(t.r2l(a[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);a[0]=t.l2r(l-1e3),a[1]=t.l2r(l+1e3);break}}else{if(!s(a[r])){if(!s(a[1-r])){t[e]=i;break}a[r]=a[1-r]*(r?10:.1)}if(a[r]<-p?a[r]=-p:a[r]>p&&(a[r]=p),a[0]===a[1]){var c=Math.max(1,Math.abs(1e-6*a[0]));a[0]-=c,a[1]+=c}}else o.nestedProperty(t,e).set(i)},t.setScale=function(n){var r=e._size;if(t.overlaying){var i=k.getFromId({_fullLayout:e},t.overlaying);t.domain=i.domain}var o=n&&t._r?"_r":"range",a=t.calendar;t.cleanRange(o);var s,l,c=t.r2l(t[o][0],a),u=t.r2l(t[o][1],a),d="y"===h;if(d?(t._offset=r.t+(1-t.domain[1])*r.h,t._length=r.h*(t.domain[1]-t.domain[0]),t._m=t._length/(c-u),t._b=-t._m*u):(t._offset=r.l+t.domain[0]*r.w,t._length=r.w*(t.domain[1]-t.domain[0]),t._m=t._length/(u-c),t._b=-t._m*c),t._rangebreaks=[],t._lBreaks=0,t._m2=0,t._B=[],t.rangebreaks&&(t._rangebreaks=t.locateBreaks(Math.min(c,u),Math.max(c,u)),t._rangebreaks.length)){for(s=0;s<t._rangebreaks.length;s++)l=t._rangebreaks[s],t._lBreaks+=Math.abs(l.max-l.min);var f=d;c>u&&(f=!f),f&&t._rangebreaks.reverse();var p=f?-1:1;for(t._m2=p*t._length/(Math.abs(u-c)-t._lBreaks),t._B.push(-t._m2*(d?u:c)),s=0;s<t._rangebreaks.length;s++)l=t._rangebreaks[s],t._B.push(t._B[t._B.length-1]-p*t._m2*(l.max-l.min));for(s=0;s<t._rangebreaks.length;s++)(l=t._rangebreaks[s]).pmin=B(l.min),l.pmax=B(l.max)}if(!isFinite(t._m)||!isFinite(t._b)||t._length<0)throw e._replotting=!1,new Error("Something went wrong with axis scaling")},t.maskBreaks=function(e){var n,r,i,a,s,c=t.rangebreaks||[];c._cachedPatterns||(c._cachedPatterns=c.map((function(e){return e.enabled&&e.bounds?o.simpleMap(e.bounds,e.pattern?l:t.d2c):null}))),c._cachedValues||(c._cachedValues=c.map((function(e){return e.enabled&&e.values?o.simpleMap(e.values,t.d2c).sort(o.sorterAsc):null})));for(var u=0;u<c.length;u++){var d=c[u];if(d.enabled)if(d.bounds){var f=d.pattern;switch(r=(n=c._cachedPatterns[u])[0],i=n[1],f){case T:a=(s=new Date(e)).getUTCDay(),r>i&&(i+=7,a<r&&(a+=7));break;case A:a=(s=new Date(e)).getUTCHours()+(s.getUTCMinutes()/60+s.getUTCSeconds()/3600+s.getUTCMilliseconds()/36e5),r>i&&(i+=24,a<r&&(a+=24));break;case"":a=e}if(a>=r&&a<i)return g}else for(var h=c._cachedValues[u],p=0;p<h.length;p++)if(i=(r=h[p])+d.dvalue,e>=r&&e<i)return g}return e},t.locateBreaks=function(e,n){var r,i,a,s,c=[];if(!t.rangebreaks)return c;var u=t.rangebreaks.slice().sort((function(t,e){return t.pattern===T&&e.pattern===A?-1:e.pattern===T&&t.pattern===A?1:0})),d=function(t,r){if((t=o.constrain(t,e,n))!==(r=o.constrain(r,e,n))){for(var i=!0,a=0;a<c.length;a++){var s=c[a];t<s.max&&r>=s.min&&(t<s.min&&(s.min=t),r>s.max&&(s.max=r),i=!1)}i&&c.push({min:t,max:r})}};for(r=0;r<u.length;r++){var f=u[r];if(f.enabled)if(f.bounds){var h=e,p=n;f.pattern&&(h=Math.floor(h)),a=(i=o.simpleMap(f.bounds,f.pattern?l:t.r2l))[0],s=i[1];var g,m,k=new Date(h);switch(f.pattern){case T:m=v,g=(s-a+(s<a?7:0))*y,h+=a*y-(k.getUTCDay()*y+k.getUTCHours()*b+k.getUTCMinutes()*x+k.getUTCSeconds()*w+k.getUTCMilliseconds());break;case A:m=y,g=(s-a+(s<a?24:0))*b,h+=a*b-(k.getUTCHours()*b+k.getUTCMinutes()*x+k.getUTCSeconds()*w+k.getUTCMilliseconds());break;default:h=Math.min(i[0],i[1]),g=m=(p=Math.max(i[0],i[1]))-h}for(var _=h;_<p;_+=m)d(_,_+g)}else for(var M=o.simpleMap(f.values,t.d2c),E=0;E<M.length;E++)d(a=M[E],s=a+f.dvalue)}return c.sort((function(t,e){return t.min-e.min})),c},t.makeCalcdata=function(e,n,r){var i,a,s,l,c=t.type,u="date"===c&&e[n+"calendar"];if(n in e){if(i=e[n],l=e._length||o.minRowLength(i),o.isTypedArray(i)&&("linear"===c||"log"===c)){if(l===i.length)return i;if(i.subarray)return i.subarray(0,l)}if("multicategory"===c)return function(t,e){for(var n=new Array(e),r=0;r<e;r++){var i=(t[0]||[])[r],o=(t[1]||[])[r];n[r]=D([i,o])}return n}(i,l);for(a=new Array(l),s=0;s<l;s++)a[s]=t.d2c(i[s],0,u,r)}else{var d=n+"0"in e?t.d2c(e[n+"0"],0,u):0,f=e["d"+n]?Number(e["d"+n]):1;for(i=e[{x:"y",y:"x"}[n]],l=e._length||i.length,a=new Array(l),s=0;s<l;s++)a[s]=d+s*f}if(t.rangebreaks)for(s=0;s<l;s++)a[s]=t.maskBreaks(a[s]);return a},t.isValidRange=function(e){return Array.isArray(e)&&2===e.length&&s(t.r2l(e[0]))&&s(t.r2l(e[1]))},t.isPtWithinRange=function(e,n){var r=t.c2l(e[h],null,n),i=t.r2l(t.range[0]),o=t.r2l(t.range[1]);return i<o?i<=r&&r<=o:o<=r&&r<=i},t._emptyCategories=function(){t._categories=[],t._categoriesMap={}},t.clearCalc=function(){var n=t._matchGroup;if(n){var r=null,i=null;for(var o in n){var a=e[k.id2name(o)];if(a._categories){r=a._categories,i=a._categoriesMap;break}}r&&i?(t._categories=r,t._categoriesMap=i):t._emptyCategories()}else t._emptyCategories();if(t._initialCategories)for(var s=0;s<t._initialCategories.length;s++)P(t._initialCategories[s])},t.sortByInitialCategories=function(){var r=[];if(t._emptyCategories(),t._initialCategories)for(var i=0;i<t._initialCategories.length;i++)P(t._initialCategories[i]);r=r.concat(t._traceIndices);var o=t._matchGroup;for(var a in o)if(n!==a){var s=e[k.id2name(a)];s._categories=t._categories,s._categoriesMap=t._categoriesMap,r=r.concat(s._traceIndices)}return r};var $=e._d3locale;"date"===t.type&&(t._dateFormat=$?$.timeFormat:i,t._extraFormat=e._extraFormat),t._separators=e.separators,t._numFormat=$?$.numberFormat:a,delete t._minDtick,delete t._forceTick0}},{"../../constants/numerical":378,"../../lib":400,"./axis_ids":454,"./constants":457,"@plotly/d3":14,"d3-time-format":53,"fast-isnumeric":121}],470:[function(t,e,n){"use strict";e.exports=function(t){var e=["showexponent","showtickprefix","showticksuffix"].filter((function(e){return void 0!==t[e]}));if(e.every((function(n){return t[n]===t[e[0]]}))||1===e.length)return t[e[0]]}},{}],471:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../components/color").contrast,o=t("./layout_attributes"),a=t("./show_dflt"),s=t("../array_container_defaults");function l(t,e){function n(n,i){return r.coerce(t,e,o.tickformatstops,n,i)}n("enabled")&&(n("dtickrange"),n("value"))}e.exports=function(t,e,n,c,u){u||(u={});var d=a(t);if(n("showticklabels")){var f=u.font||{},h=e.color,p=-1!==(e.ticklabelposition||"").indexOf("inside")?i(u.bgColor):h&&h!==o.color.dflt?h:f.color;if(r.coerceFont(n,"tickfont",{family:f.family,size:f.size,color:p}),u.noTicklabelstep||"multicategory"===c||"log"===c||n("ticklabelstep"),u.noAng||n("tickangle"),"category"!==c){var g=n("tickformat");s(t,e,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:l}),e.tickformatstops.length||delete e.tickformatstops,u.noExp||g||"date"===c||(n("showexponent",d),n("exponentformat"),n("minexponent"),n("separatethousands"))}}}},{"../../components/color":257,"../../lib":400,"../array_container_defaults":445,"./layout_attributes":463,"./show_dflt":470}],472:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e,n,o){var a=o.isMinor,s=a?t.minor||{}:t,l=a?e.minor:e,c=a?i.minor:i,u=a?"minor.":"",d=r.coerce2(s,l,c,"ticklen",a?.6*(e.ticklen||5):void 0),f=r.coerce2(s,l,c,"tickwidth",a?e.tickwidth||1:void 0),h=r.coerce2(s,l,c,"tickcolor",(a?e.tickcolor:void 0)||l.color);n(u+"ticks",!a&&o.outerTicks||d||f||h?"outside":"")||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}},{"../../lib":400,"./layout_attributes":463}],473:[function(t,e,n){"use strict";var r=t("./clean_ticks"),i=t("../../lib").isArrayOrTypedArray;e.exports=function(t,e,n,o,a){a||(a={});var s=a.isMinor,l=s?t.minor||{}:t,c=s?e.minor:e,u=s?"minor.":"";function d(t){var e=l[t];return void 0!==e?e:(c._template||{})[t]}var f=d("tick0"),h=d("dtick"),p=d("tickvals"),g=n(u+"tickmode",i(p)?"array":h?"linear":"auto");if("auto"===g)n(u+"nticks");else if("linear"===g){var m=c.dtick=r.dtick(h,o);c.tick0=r.tick0(f,o,e.calendar,m)}else"multicategory"!==o&&(void 0===n(u+"tickvals")?c.tickmode="auto":s||n("ticktext"))}},{"../../lib":400,"./clean_ticks":456}],474:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../registry"),o=t("../../lib"),a=t("../../components/drawing"),s=t("./axes");e.exports=function(t,e,n,l){var c=t._fullLayout;if(0!==e.length){var u,d,f,h;l&&(u=l());var p=r.ease(n.easing);return t._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(h),h=null,function(){for(var n={},r=0;r<e.length;r++){var o=e[r],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr0&&(n[a._name+".range"]=o.xr0.slice()),o.yr0&&(n[s._name+".range"]=o.yr0.slice())}return i.call("relayout",t,n).then((function(){for(var t=0;t<e.length;t++)g(e[t].plotinfo)}))}()})),d=Date.now(),h=window.requestAnimationFrame((function r(){f=Date.now();for(var o=Math.min(1,(f-d)/n.duration),a=p(o),s=0;s<e.length;s++)m(e[s],a);f-d>n.duration?(function(){for(var n={},r=0;r<e.length;r++){var o=e[r],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr1&&(n[a._name+".range"]=o.xr1.slice()),o.yr1&&(n[s._name+".range"]=o.yr1.slice())}u&&u(),i.call("relayout",t,n).then((function(){for(var t=0;t<e.length;t++)g(e[t].plotinfo)}))}(),h=window.cancelAnimationFrame(r)):h=window.requestAnimationFrame(r)})),Promise.resolve()}function g(t){var e=t.xaxis,n=t.yaxis;c._defs.select("#"+t.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),t.plot.call(a.setTranslate,e._offset,n._offset).call(a.setScale,1,1);var r=t.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(a.setPointGroupScale,1,1),r.selectAll(".textpoint").call(a.setTextPointsScale,1,1),r.call(a.hideOutsideRangePoints,t)}function m(e,n){var r=e.plotinfo,i=r.xaxis,l=r.yaxis,c=i._length,u=l._length,d=!!e.xr1,f=!!e.yr1,h=[];if(d){var p=o.simpleMap(e.xr0,i.r2l),g=o.simpleMap(e.xr1,i.r2l),m=p[1]-p[0],v=g[1]-g[0];h[0]=(p[0]*(1-n)+n*g[0]-p[0])/(p[1]-p[0])*c,h[2]=c*(1-n+n*v/m),i.range[0]=i.l2r(p[0]*(1-n)+n*g[0]),i.range[1]=i.l2r(p[1]*(1-n)+n*g[1])}else h[0]=0,h[2]=c;if(f){var y=o.simpleMap(e.yr0,l.r2l),b=o.simpleMap(e.yr1,l.r2l),x=y[1]-y[0],w=b[1]-b[0];h[1]=(y[1]*(1-n)+n*b[1]-y[1])/(y[0]-y[1])*u,h[3]=u*(1-n+n*w/x),l.range[0]=i.l2r(y[0]*(1-n)+n*b[0]),l.range[1]=l.l2r(y[1]*(1-n)+n*b[1])}else h[1]=0,h[3]=u;s.drawOne(t,i,{skipTitle:!0}),s.drawOne(t,l,{skipTitle:!0}),s.redrawComponents(t,[i._id,l._id]);var k=d?c/h[2]:1,_=f?u/h[3]:1,A=d?h[0]:0,T=f?h[1]:0,M=d?h[0]/h[2]*c:0,E=f?h[1]/h[3]*u:0,C=i._offset-M,S=l._offset-E;r.clipRect.call(a.setTranslate,A,T).call(a.setScale,1/k,1/_),r.plot.call(a.setTranslate,C,S).call(a.setScale,k,_),a.setPointGroupScale(r.zoomScalePts,1/k,1/_),a.setTextPointsScale(r.zoomScaleTxt,1/k,1/_)}s.redrawComponents(t)}},{"../../components/drawing":279,"../../lib":400,"../../registry":490,"./axes":450,"@plotly/d3":14}],475:[function(t,e,n){"use strict";var r=t("../../registry").traceIs,i=t("./axis_autotype");function o(t){return{v:"x",h:"y"}[t.orientation||"v"]}function a(t,e){var n=o(t),i=r(t,"box-violin"),a=r(t._fullInput||{},"candlestick");return i&&!a&&e===n&&void 0===t[n]&&void 0===t[n+"0"]}e.exports=function(t,e,n,s){n("autotypenumbers",s.autotypenumbersDflt),"-"===n("type",(s.splomStash||{}).type)&&(function(t,e){if("-"===t.type){var n,s=t._id,l=s.charAt(0);-1!==s.indexOf("scene")&&(s=l);var c=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if("splom"===i.type&&i._length>0&&(i["_"+n+"axes"]||{})[e])return i;if((i[n+"axis"]||n)===e){if(a(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}(e,s,l);if(c)if("histogram"!==c.type||l!=={v:"y",h:"x"}[c.orientation||"v"]){var u=l+"calendar",d=c[u],f={noMultiCategory:!r(c,"cartesian")||r(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&l==={h:"x",v:"y"}[c.orientation||"v"]&&(f.noMultiCategory=!0),f.autotypenumbers=t.autotypenumbers,a(c,l)){var h=o(c),p=[];for(n=0;n<e.length;n++){var g=e[n];r(g,"box-violin")&&(g[l+"axis"]||l)===s&&(void 0!==g[h]?p.push(g[h][0]):void 0!==g.name?p.push(g.name):p.push("text"),g[u]!==d&&(d=void 0))}t.type=i(p,d,f)}else if("splom"===c.type){var m=c.dimensions[c._axesDim[s]];m.visible&&(t.type=i(m.values,d,f))}else t.type=i(c[l]||[c[l+"0"]],d,f)}else t.type="linear"}}(e,s.data),"-"===e.type?e.type="linear":t.type=e.type)}},{"../../registry":490,"./axis_autotype":451}],476:[function(t,e,n){"use strict";var r=t("../registry"),i=t("../lib");function o(t,e,n){var r,o,a,s=!1;if("data"===e.type)r=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;r=t._fullLayout}return o=i.nestedProperty(r,e.prop).get(),(a=n[e.type]=n[e.type]||{}).hasOwnProperty(e.prop)&&a[e.prop]!==o&&(s=!0),a[e.prop]=o,{changed:s,value:o}}function a(t,e){var n=[],r=e[0],o={};if("string"==typeof r)o[r]=e[1];else{if(!i.isPlainObject(r))return n;o=r}return l(o,(function(t,e,r){n.push({type:"layout",prop:t,value:r})}),"",0),n}function s(t,e){var n,r,o,a,s=[];if(r=e[0],o=e[1],n=e[2],a={},"string"==typeof r)a[r]=o;else{if(!i.isPlainObject(r))return s;a=r,void 0===n&&(n=o)}return void 0===n&&(n=null),l(a,(function(e,r,i){var o,a;if(Array.isArray(i)){a=i.slice();var l=Math.min(a.length,t.data.length);n&&(l=Math.min(l,n.length)),o=[];for(var c=0;c<l;c++)o[c]=n?n[c]:c}else a=i,o=n?n.slice():null;if(null===o)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(o)){if(!Array.isArray(a)){var u=a;a=[];for(var d=0;d<o.length;d++)a[d]=u}a.length=Math.min(o.length,a.length)}s.push({type:"data",prop:e,traces:o,value:a})}),"",0),s}function l(t,e,n,r){Object.keys(t).forEach((function(o){var a=t[o];if("_"!==o[0]){var s=n+(r>0?".":"")+o;i.isPlainObject(a)?l(a,e,s,r+1):e(s,o,a)}}))}n.manageCommandObserver=function(t,e,r,a){var s={},l=!0;e&&e._commandObserver&&(s=e._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var c=n.hasSimpleAPICommandBindings(t,r,s.lookupTable);if(e&&e._commandObserver){if(c)return s;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,s}if(c){o(t,c,s.cache),s.check=function(){if(l){var e=o(t,c,s.cache);return e.changed&&a&&void 0!==s.lookupTable[e.value]&&(s.disable(),Promise.resolve(a({value:e.value,type:c.type,prop:c.prop,traces:c.traces,index:s.lookupTable[e.value]})).then(s.enable,s.enable)),e.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<u.length;d++)t._internalOn(u[d],s.check);s.remove=function(){for(var e=0;e<u.length;e++)t._removeInternalListener(u[e],s.check)}}else i.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},e&&(e._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(t,e,r){var i,o,a=e.length;for(i=0;i<a;i++){var s,l=e[i],c=l.method,u=l.args;if(Array.isArray(u)||(u=[]),!c)return!1;var d=n.computeAPICommandBindings(t,c,u);if(1!==d.length)return!1;if(o){if((s=d[0]).type!==o.type)return!1;if(s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var f=0;f<o.traces.length;f++)if(o.traces[f]!==s.traces[f])return!1}else if(s.prop!==o.prop)return!1}else o=d[0],Array.isArray(o.traces)&&o.traces.sort();var h=(s=d[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}r&&(r[h]=i)}return o},n.executeAPICommand=function(t,e,n){if("skip"===e)return Promise.resolve();var o=r.apiMethodRegistry[e],a=[t];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)a.push(n[s]);return o.apply(null,a).catch((function(t){return i.warn("API call to Plotly."+e+" rejected.",t),Promise.reject(t)}))},n.computeAPICommandBindings=function(t,e,n){var r;switch(Array.isArray(n)||(n=[]),e){case"restyle":r=s(t,n);break;case"relayout":r=a(t,n);break;case"update":r=s(t,[n[0],n[2]]).concat(a(t,[n[1]]));break;case"animate":r=function(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,n);break;default:r=[]}return r}},{"../lib":400,"../registry":490}],477:[function(t,e,n){"use strict";var r=t("../lib/extend").extendFlat;n.attributes=function(t,e){e=e||{};var n={valType:"info_array",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},i=(t.name&&t.name,t.trace,e.description&&e.description,{x:r({},n,{}),y:r({},n,{}),editType:t.editType});return t.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:t.editType},i.column={valType:"integer",min:0,dflt:0,editType:t.editType}),i},n.defaults=function(t,e,n,r){var i=r&&r.x||[0,1],o=r&&r.y||[0,1],a=e.grid;if(a){var s=n("domain.column");void 0!==s&&(s<a.columns?i=a._domains.x[s]:delete t.domain.column);var l=n("domain.row");void 0!==l&&(l<a.rows?o=a._domains.y[l]:delete t.domain.row)}var c=n("domain.x",i),u=n("domain.y",o);c[0]<c[1]||(t.domain.x=i.slice()),u[0]<u[1]||(t.domain.y=o.slice())}},{"../lib/extend":392}],478:[function(t,e,n){"use strict";e.exports=function(t){var e=t.editType,n=t.colorEditType;void 0===n&&(n=e);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:n},editType:e};return t.autoSize&&(r.size.dflt="auto"),t.autoColor&&(r.color.dflt="auto"),t.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],479:[function(t,e,n){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],480:[function(t,e,n){"use strict";var r=t("../registry"),i=t("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(t,e,n){var i=r.subplotsRegistry[e];if(!i)return[];for(var o=i.attr,a=[],s=0;s<t.length;s++){var l=t[s];l[0].trace[o]===n&&a.push(l)}return a},n.getModuleCalcData=function(t,e){var n,i=[],o=[];if(!(n="string"==typeof e?r.getModule(e).plot:"function"==typeof e?e:e.plot))return[i,t];for(var a=0;a<t.length;a++){var s=t[a],l=s[0].trace;!0===l.visible&&0!==l._length&&(l._module.plot===n?i.push(s):o.push(s))}return[i,o]},n.getSubplotData=function(t,e,n){if(!r.subplotsRegistry[e])return[];var o,a,s,l=r.subplotsRegistry[e].attr,c=[];if("gl2d"===e){var u=n.match(i);a="x"+u[1],s="y"+u[2]}for(var d=0;d<t.length;d++)o=t[d],"gl2d"===e&&r.traceIs(o,"gl2d")?o[l[0]]===a&&o[l[1]]===s&&c.push(o):o[l]===n&&c.push(o);return c}},{"../registry":490,"./cartesian/constants":457}],481:[function(t,e,n){"use strict";var r=t("mouse-change"),i=t("mouse-wheel"),o=t("mouse-event-offset"),a=t("../cartesian/constants"),s=t("has-passive-events");function l(t,e){this.element=t,this.plot=e,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}e.exports=function(t){var e=t.mouseContainer,n=t.glplot,c=new l(e,n);function u(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function d(e,r,i){var o,s,l=t.calcDataBox(),d=n.viewBox,f=c.lastPos[0],h=c.lastPos[1],p=a.MINDRAG*n.pixelRatio,g=a.MINZOOM*n.pixelRatio;function m(e,n,r){var i=Math.min(n,r),o=Math.max(n,r);i!==o?(l[e]=i,l[e+2]=o,c.dataBox=l,t.setRanges(l)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(r*=n.pixelRatio,i*=n.pixelRatio,i=d[3]-d[1]-i,t.fullLayout.dragmode){case"zoom":if(e){var v=r/(d[2]-d[0])*(l[2]-l[0])+l[0],y=i/(d[3]-d[1])*(l[3]-l[1])+l[1];c.boxInited||(c.boxStart[0]=v,c.boxStart[1]=y,c.dragStart[0]=r,c.dragStart[1]=i),c.boxEnd[0]=v,c.boxEnd[1]=y,c.boxInited=!0,c.boxEnabled||c.boxStart[0]===c.boxEnd[0]&&c.boxStart[1]===c.boxEnd[1]||(c.boxEnabled=!0);var b=Math.abs(c.dragStart[0]-r)<g,x=Math.abs(c.dragStart[1]-i)<g;if(!function(){for(var e=t.graphDiv._fullLayout._axisConstraintGroups,n=t.xaxis._id,r=t.yaxis._id,i=0;i<e.length;i++)if(-1!==e[i][n]){if(-1!==e[i][r])return!0;break}return!1}()||b&&x)b&&(c.boxEnd[0]=c.boxStart[0]),x&&(c.boxEnd[1]=c.boxStart[1]);else{o=c.boxEnd[0]-c.boxStart[0],s=c.boxEnd[1]-c.boxStart[1];var w=(l[3]-l[1])/(l[2]-l[0]);Math.abs(o*w)>Math.abs(s)?(c.boxEnd[1]=c.boxStart[1]+Math.abs(o)*w*(s>=0?1:-1),c.boxEnd[1]<l[1]?(c.boxEnd[1]=l[1],c.boxEnd[0]=c.boxStart[0]+(l[1]-c.boxStart[1])/Math.abs(w)):c.boxEnd[1]>l[3]&&(c.boxEnd[1]=l[3],c.boxEnd[0]=c.boxStart[0]+(l[3]-c.boxStart[1])/Math.abs(w))):(c.boxEnd[0]=c.boxStart[0]+Math.abs(s)/w*(o>=0?1:-1),c.boxEnd[0]<l[0]?(c.boxEnd[0]=l[0],c.boxEnd[1]=c.boxStart[1]+(l[0]-c.boxStart[0])*Math.abs(w)):c.boxEnd[0]>l[2]&&(c.boxEnd[0]=l[2],c.boxEnd[1]=c.boxStart[1]+(l[2]-c.boxStart[0])*Math.abs(w)))}}else c.boxEnabled?(o=c.boxStart[0]!==c.boxEnd[0],s=c.boxStart[1]!==c.boxEnd[1],o||s?(o&&(m(0,c.boxStart[0],c.boxEnd[0]),t.xaxis.autorange=!1),s&&(m(1,c.boxStart[1],c.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),c.boxEnabled=!1,c.boxInited=!1):c.boxInited&&(c.boxInited=!1);break;case"pan":c.boxEnabled=!1,c.boxInited=!1,e?(c.panning||(c.dragStart[0]=r,c.dragStart[1]=i),Math.abs(c.dragStart[0]-r)<p&&(r=c.dragStart[0]),Math.abs(c.dragStart[1]-i)<p&&(i=c.dragStart[1]),o=(f-r)*(l[2]-l[0])/(n.viewBox[2]-n.viewBox[0]),s=(h-i)*(l[3]-l[1])/(n.viewBox[3]-n.viewBox[1]),l[0]+=o,l[2]+=o,l[1]+=s,l[3]+=s,t.setRanges(l),c.panning=!0,c.lastInputTime=Date.now(),u(),t.cameraChanged(),t.handleAnnotations()):c.panning&&(c.panning=!1,t.relayoutCallback())}c.lastPos[0]=r,c.lastPos[1]=i}return c.mouseListener=r(e,d),e.addEventListener("touchstart",(function(t){var n=o(t.changedTouches[0],e);d(0,n[0],n[1]),d(1,n[0],n[1]),t.preventDefault()}),!!s&&{passive:!1}),e.addEventListener("touchmove",(function(t){t.preventDefault();var n=o(t.changedTouches[0],e);d(1,n[0],n[1]),t.preventDefault()}),!!s&&{passive:!1}),e.addEventListener("touchend",(function(t){d(0,c.lastPos[0],c.lastPos[1]),t.preventDefault()}),!!s&&{passive:!1}),c.wheelListener=i(e,(function(e,r){if(!t.scrollZoom)return!1;var i=t.calcDataBox(),o=n.viewBox,a=c.lastPos[0],s=c.lastPos[1],l=Math.exp(5*r/(o[3]-o[1])),d=a/(o[2]-o[0])*(i[2]-i[0])+i[0],f=s/(o[3]-o[1])*(i[3]-i[1])+i[1];return i[0]=(i[0]-d)*l+d,i[2]=(i[2]-d)*l+d,i[1]=(i[1]-f)*l+f,i[3]=(i[3]-f)*l+f,t.setRanges(i),c.lastInputTime=Date.now(),u(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0}),!0),c}},{"../cartesian/constants":457,"has-passive-events":160,"mouse-change":170,"mouse-event-offset":171,"mouse-wheel":173}],482:[function(t,e,n){"use strict";var r=t("../cartesian/axes"),i=t("../../lib/str2rgbarray");function o(t){this.scene=t,this.gl=t.gl,this.pixelRatio=t.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var a=o.prototype,s=["xaxis","yaxis"];a.merge=function(t){var e,n,r,o,a,l,c,u,d,f,h;for(this.titleEnable=!1,this.backgroundColor=i(t.plot_bgcolor),f=0;f<2;++f){var p=(e=s[f]).charAt(0);for(r=(n=t[this.scene[e]._name]).title.text===this.scene.fullLayout._dfltTitle[p]?"":n.title.text,h=0;h<=2;h+=2)this.labelEnable[f+h]=!1,this.labels[f+h]=r,this.labelColor[f+h]=i(n.title.font.color),this.labelFont[f+h]=n.title.font.family,this.labelSize[f+h]=n.title.font.size,this.labelPad[f+h]=this.getLabelPad(e,n),this.tickEnable[f+h]=!1,this.tickColor[f+h]=i((n.tickfont||{}).color),this.tickAngle[f+h]="auto"===n.tickangle?0:Math.PI*-n.tickangle/180,this.tickPad[f+h]=this.getTickPad(n),this.tickMarkLength[f+h]=0,this.tickMarkWidth[f+h]=n.tickwidth||0,this.tickMarkColor[f+h]=i(n.tickcolor),this.borderLineEnable[f+h]=!1,this.borderLineColor[f+h]=i(n.linecolor),this.borderLineWidth[f+h]=n.linewidth||0;c=this.hasSharedAxis(n),a=this.hasAxisInDfltPos(e,n)&&!c,l=this.hasAxisInAltrPos(e,n)&&!c,o=n.mirror||!1,u=c?-1!==String(o).indexOf("all"):!!o,d=c?"allticks"===o:-1!==String(o).indexOf("ticks"),a?this.labelEnable[f]=!0:l&&(this.labelEnable[f+2]=!0),a?this.tickEnable[f]=n.showticklabels:l&&(this.tickEnable[f+2]=n.showticklabels),(a||u)&&(this.borderLineEnable[f]=n.showline),(l||u)&&(this.borderLineEnable[f+2]=n.showline),(a||d)&&(this.tickMarkLength[f]=this.getTickMarkLength(n)),(l||d)&&(this.tickMarkLength[f+2]=this.getTickMarkLength(n)),this.gridLineEnable[f]=n.showgrid,this.gridLineColor[f]=i(n.gridcolor),this.gridLineWidth[f]=n.gridwidth,this.zeroLineEnable[f]=n.zeroline,this.zeroLineColor[f]=i(n.zerolinecolor),this.zeroLineWidth[f]=n.zerolinewidth}},a.hasSharedAxis=function(t){var e=this.scene,n=e.fullLayout._subplots.gl2d;return 0!==r.findSubplotsWithAxis(n,t).indexOf(e.id)},a.hasAxisInDfltPos=function(t,e){var n=e.side;return"xaxis"===t?"bottom"===n:"yaxis"===t?"left"===n:void 0},a.hasAxisInAltrPos=function(t,e){var n=e.side;return"xaxis"===t?"top"===n:"yaxis"===t?"right"===n:void 0},a.getLabelPad=function(t,e){var n=e.title.font.size,r=e.showticklabels;return"xaxis"===t?"top"===e.side?n*(1.5+(r?1:0))-10:n*(1.5+(r?.5:0))-10:"yaxis"===t?"right"===e.side?10+n*(1.5+(r?1:.5)):10+n*(1.5+(r?.5:0)):void 0},a.getTickPad=function(t){return"outside"===t.ticks?10+t.ticklen:15},a.getTickMarkLength=function(t){if(!t.ticks)return 0;var e=t.ticklen;return"inside"===t.ticks?-e:e},e.exports=function(t){return new o(t)}},{"../../lib/str2rgbarray":425,"../cartesian/axes":450}],483:[function(t,e,n){"use strict";var r=t("../../plot_api/edit_types").overrideAll,i=t("./scene2d"),o=t("../layout_attributes"),a=t("../../constants/xmlns_namespaces"),s=t("../cartesian/constants"),l=t("../cartesian"),c=t("../../components/fx/layout_attributes"),u=t("../get_data").getSubplotData;n.name="gl2d",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=s.idRegex,n.attrRegex=s.attrRegex,n.attributes=t("../cartesian/attributes"),n.supplyLayoutDefaults=function(t,e,n){e._has("cartesian")||l.supplyLayoutDefaults(t,e,n)},n.layoutAttrOverrides=r(l.layoutAttributes,"plot","from-root"),n.baseLayoutAttrOverrides=r({plot_bgcolor:o.plot_bgcolor,hoverlabel:c.hoverlabel},"plot","nested"),n.plot=function(t){for(var e=t._fullLayout,n=t._fullData,r=e._subplots.gl2d,o=0;o<r.length;o++){var a=r[o],s=e._plots[a],l=u(n,"gl2d",a),c=s._scene2d;void 0===c&&(c=new i({id:a,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio},e),s._scene2d=c),c.plot(l,t.calcdata,e,t.layout)}},n.clean=function(t,e,n,r){for(var i=r._subplots.gl2d||[],o=0;o<i.length;o++){var a=i[o],s=r._plots[a];s._scene2d&&0===u(t,"gl2d",a).length&&(s._scene2d.destroy(),delete r._plots[a])}l.clean.apply(this,arguments)},n.drawFramework=function(t){t._context.staticPlot||l.drawFramework(t)},n.toSVG=function(t){for(var e=t._fullLayout,n=e._subplots.gl2d,r=0;r<n.length;r++){var i=e._plots[n[r]]._scene2d,o=i.toImage("png");e._glimages.append("svg:image").attr({xmlns:a.svg,"xlink:href":o,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),i.destroy()}},n.updateFx=function(t){for(var e=t._fullLayout,n=e._subplots.gl2d,r=0;r<n.length;r++)e._plots[n[r]]._scene2d.updateFx(e.dragmode)}},{"../../components/fx/layout_attributes":298,"../../constants/xmlns_namespaces":379,"../../plot_api/edit_types":432,"../cartesian":462,"../cartesian/attributes":448,"../cartesian/constants":457,"../get_data":480,"../layout_attributes":486,"./scene2d":484}],484:[function(t,e,n){"use strict";var r,i,o=t("../../registry"),a=t("../../plots/cartesian/axes"),s=t("../../components/fx"),l=t("../../../stackgl_modules").gl_plot2d,c=t("../../../stackgl_modules").gl_spikes2d,u=t("../../../stackgl_modules").gl_select_box,d=t("webgl-context"),f=t("./convert"),h=t("./camera"),p=t("../../lib/show_no_webgl_msg"),g=t("../cartesian/constraints"),m=g.enforce,v=g.clean,y=t("../cartesian/autorange").doAutoRange,b=t("../../components/dragelement/helpers"),x=b.drawMode,w=b.selectMode,k=["xaxis","yaxis"],_=t("../cartesian/constants").SUBPLOT_PATTERN;function A(t,e){this.container=t.container,this.graphDiv=t.graphDiv,this.pixelRatio=t.plotGlPixelRatio||window.devicePixelRatio,this.id=t.id,this.staticPlot=!!t.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(e),this.makeFramework(),this.stopped||(this.glplotOptions=f(this),this.glplotOptions.merge(e),this.glplot=l(this.glplotOptions),this.camera=h(this),this.traces={},this.spikes=c(this.glplot),this.selectBox=u(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}e.exports=A;var T=A.prototype;T.makeFramework=function(){if(this.staticPlot){if(!(i||(r=document.createElement("canvas"),i=d({canvas:r,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=r,this.gl=i}else{var t=this.container.querySelector(".gl-canvas-focus"),e=d({canvas:t,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!e)return p(this),void(this.stopped=!0);this.canvas=t,this.gl=e}var n=this.canvas;n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style["pointer-events"]="none",this.updateSize(n);var o=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");o.style.position="absolute",o.style.top=o.style.left="0px",o.style.width=o.style.height="100%",o.style["z-index"]=20,o.style["pointer-events"]="none";var a=this.mouseContainer=document.createElement("div");a.style.position="absolute",a.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var s=this.container;s.appendChild(o),s.appendChild(a);var l=this;a.addEventListener("mouseout",(function(){l.isMouseOver=!1,l.unhover()})),a.addEventListener("mouseover",(function(){l.isMouseOver=!0}))},T.toImage=function(t){t||(t="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(r),this.updateSize(this.canvas);var e=this.glplot.gl,n=e.drawingBufferWidth,i=e.drawingBufferHeight;e.clearColor(1,1,1,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),e.bindFramebuffer(e.FRAMEBUFFER,null);var o=new Uint8Array(n*i*4);e.readPixels(0,0,n,i,e.RGBA,e.UNSIGNED_BYTE,o);for(var a=0,s=i-1;a<s;++a,--s)for(var l=0;l<n;++l)for(var c=0;c<4;++c){var u=o[4*(n*a+l)+c];o[4*(n*a+l)+c]=o[4*(n*s+l)+c],o[4*(n*s+l)+c]=u}var d=document.createElement("canvas");d.width=n,d.height=i;var f,h=d.getContext("2d",{willReadFrequently:!0}),p=h.createImageData(n,i);switch(p.data.set(o),h.putImageData(p,0,0),t){case"jpeg":f=d.toDataURL("image/jpeg");break;case"webp":f=d.toDataURL("image/webp");break;default:f=d.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(r),f},T.updateSize=function(t){t||(t=this.canvas);var e=this.pixelRatio,n=this.fullLayout,r=n.width,i=n.height,o=0|Math.ceil(e*r),a=0|Math.ceil(e*i);return t.width===o&&t.height===a||(t.width=o,t.height=a),t},T.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var t=[a.calcTicks(this.xaxis),a.calcTicks(this.yaxis)],e=0;e<2;++e)for(var n=0;n<t[e].length;++n)t[e][n].text=t[e][n].text+"";return t},T.updateRefs=function(t){this.fullLayout=t;var e=this.id.match(_),n="xaxis"+e[1],r="yaxis"+e[2];this.xaxis=this.fullLayout[n],this.yaxis=this.fullLayout[r]},T.relayoutCallback=function(){var t=this.graphDiv,e=this.xaxis,n=this.yaxis,r=t.layout,i={},a=i[e._name+".range"]=e.range.slice(),s=i[n._name+".range"]=n.range.slice();i[e._name+".autorange"]=e.autorange,i[n._name+".autorange"]=n.autorange,o.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,i);var l=r[e._name];l.range=a,l.autorange=e.autorange;var c=r[n._name];c.range=s,c.autorange=n.autorange,i.lastInputTime=this.camera.lastInputTime,t.emit("plotly_relayout",i)},T.cameraChanged=function(){var t=this.camera;this.glplot.setDataBox(this.calcDataBox());var e=this.computeTickMarks();(function(t,e){for(var n=0;n<2;++n){var r=t[n],i=e[n];if(r.length!==i.length)return!0;for(var o=0;o<r.length;++o)if(r[o].x!==i[o].x)return!0}return!1})(e,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=e,this.glplotOptions.dataBox=t.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},T.handleAnnotations=function(){for(var t=this.graphDiv,e=this.fullLayout.annotations,n=0;n<e.length;n++){var r=e[n];r.xref===this.xaxis._id&&r.yref===this.yaxis._id&&o.getComponentMethod("annotations","drawOne")(t,n)}},T.destroy=function(){if(this.glplot){var t=this.traces;t&&Object.keys(t).map((function(e){t[e].dispose(),delete t[e]})),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},T.plot=function(t,e,n){var r=this.glplot;this.updateRefs(n),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(t,e),this.updateFx(n.dragmode);var i=n.width,o=n.height;this.updateSize(this.canvas);var a=this.glplotOptions;a.merge(n),a.screenBox=[0,0,i,o];var s={_fullLayout:{_axisConstraintGroups:n._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:n._size}};v(s,this.xaxis),v(s,this.yaxis);var l,c,u=n._size,d=this.xaxis.domain,f=this.yaxis.domain;for(a.viewBox=[u.l+d[0]*u.w,u.b+f[0]*u.h,i-u.r-(1-d[1])*u.w,o-u.t-(1-f[1])*u.h],this.mouseContainer.style.width=u.w*(d[1]-d[0])+"px",this.mouseContainer.style.height=u.h*(f[1]-f[0])+"px",this.mouseContainer.height=u.h*(f[1]-f[0]),this.mouseContainer.style.left=u.l+d[0]*u.w+"px",this.mouseContainer.style.top=u.t+(1-f[1])*u.h+"px",c=0;c<2;++c)(l=this[k[c]])._length=a.viewBox[c+2]-a.viewBox[c],y(this.graphDiv,l),l.setScale();m(s),a.ticks=this.computeTickMarks(),a.dataBox=this.calcDataBox(),a.merge(n),r.update(a),this.glplot.draw()},T.calcDataBox=function(){var t=this.xaxis,e=this.yaxis,n=t.range,r=e.range,i=t.r2l,o=e.r2l;return[i(n[0]),o(r[0]),i(n[1]),o(r[1])]},T.setRanges=function(t){var e=this.xaxis,n=this.yaxis,r=e.l2r,i=n.l2r;e.range=[r(t[0]),r(t[2])],n.range=[i(t[1]),i(t[3])]},T.updateTraces=function(t,e){var n,r,i,o=Object.keys(this.traces);this.fullData=t;t:for(n=0;n<o.length;n++){var a=o[n],s=this.traces[a];for(r=0;r<t.length;r++)if((i=t[r]).uid===a&&i.type===s.type)continue t;s.dispose(),delete this.traces[a]}for(n=0;n<t.length;n++){i=t[n];var l=e[n],c=this.traces[i.uid];c?c.update(i,l):(c=i._module.plot(this,i,l),this.traces[i.uid]=c)}this.glplot.objects.sort((function(t,e){return t._trace.index-e._trace.index}))},T.updateFx=function(t){w(t)||x(t)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===t?"move":"zoom"===t?"crosshair":null},T.emitPointAction=function(t,e){for(var n,r=t.trace.uid,i=t.pointIndex,o=0;o<this.fullData.length;o++)this.fullData[o].uid===r&&(n=this.fullData[o]);var a={x:t.traceCoord[0],y:t.traceCoord[1],curveNumber:n.index,pointNumber:i,data:n._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};s.appendArrayPointValue(a,n,i),this.graphDiv.emit(e,{points:[a]})},T.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var t=this.glplot,e=this.camera,n=e.mouseListener,r=1===this.lastButtonState&&0===n.buttons,i=this.fullLayout;this.lastButtonState=n.buttons,this.cameraChanged();var o,a=n.x*t.pixelRatio,l=this.canvas.height-t.pixelRatio*n.y;if(e.boxEnabled&&"zoom"===i.dragmode){this.selectBox.enabled=!0;for(var c=this.selectBox.selectBox=[Math.min(e.boxStart[0],e.boxEnd[0]),Math.min(e.boxStart[1],e.boxEnd[1]),Math.max(e.boxStart[0],e.boxEnd[0]),Math.max(e.boxStart[1],e.boxEnd[1])],u=0;u<2;u++)e.boxStart[u]===e.boxEnd[u]&&(c[u]=t.dataBox[u],c[u+2]=t.dataBox[u+2]);t.setDirty()}else if(!e.panning&&this.isMouseOver){this.selectBox.enabled=!1;var d=i._size,f=this.xaxis.domain,h=this.yaxis.domain,p=(o=t.pick(a/t.pixelRatio+d.l+f[0]*d.w,l/t.pixelRatio-(d.t+(1-h[1])*d.h)))&&o.object._trace.handlePick(o);if(p&&r&&this.emitPointAction(p,"plotly_click"),o&&"skip"!==o.object._trace.hoverinfo&&i.hovermode&&p&&(!this.lastPickResult||this.lastPickResult.traceUid!==p.trace.uid||this.lastPickResult.dataCoord[0]!==p.dataCoord[0]||this.lastPickResult.dataCoord[1]!==p.dataCoord[1])){var g=p;this.lastPickResult={traceUid:p.trace?p.trace.uid:null,dataCoord:p.dataCoord.slice()},this.spikes.update({center:o.dataCoord}),g.screenCoord=[((t.viewBox[2]-t.viewBox[0])*(o.dataCoord[0]-t.dataBox[0])/(t.dataBox[2]-t.dataBox[0])+t.viewBox[0])/t.pixelRatio,(this.canvas.height-(t.viewBox[3]-t.viewBox[1])*(o.dataCoord[1]-t.dataBox[1])/(t.dataBox[3]-t.dataBox[1])-t.viewBox[1])/t.pixelRatio],this.emitPointAction(p,"plotly_hover");var m=this.fullData[g.trace.index]||{},v=g.pointIndex,y=s.castHoverinfo(m,i,v);if(y&&"all"!==y){var b=y.split("+");-1===b.indexOf("x")&&(g.traceCoord[0]=void 0),-1===b.indexOf("y")&&(g.traceCoord[1]=void 0),-1===b.indexOf("z")&&(g.traceCoord[2]=void 0),-1===b.indexOf("text")&&(g.textLabel=void 0),-1===b.indexOf("name")&&(g.name=void 0)}s.loneHover({x:g.screenCoord[0],y:g.screenCoord[1],xLabel:this.hoverFormatter("xaxis",g.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",g.traceCoord[1]),zLabel:g.traceCoord[2],text:g.textLabel,name:g.name,color:s.castHoverOption(m,v,"bgcolor")||g.color,borderColor:s.castHoverOption(m,v,"bordercolor"),fontFamily:s.castHoverOption(m,v,"font.family"),fontSize:s.castHoverOption(m,v,"font.size"),fontColor:s.castHoverOption(m,v,"font.color"),nameLength:s.castHoverOption(m,v,"namelength"),textAlign:s.castHoverOption(m,v,"align")},{container:this.svgContainer,gd:this.graphDiv})}}o||this.unhover(),t.draw()}},T.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),s.loneUnhover(this.svgContainer))},T.hoverFormatter=function(t,e){if(void 0!==e){var n=this[t];return a.tickText(n,n.c2l(e),"hover").text}}},{"../../../stackgl_modules":600,"../../components/dragelement/helpers":275,"../../components/fx":297,"../../lib/show_no_webgl_msg":422,"../../plots/cartesian/axes":450,"../../registry":490,"../cartesian/autorange":449,"../cartesian/constants":457,"../cartesian/constraints":458,"./camera":481,"./convert":482,"webgl-context":222}],485:[function(t,e,n){"use strict";function r(t,e){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=t[4*n+r]*e[n];return i}e.exports=function(t,e){return r(t.projection,r(t.view,r(t.model,[e[0],e[1],e[2],1])))}},{}],486:[function(t,e,n){"use strict";var r=t("./font_attributes"),i=t("./animation_attributes"),o=t("../components/color/attributes"),a=t("../components/shapes/draw_newshape/attributes"),s=t("../components/selections/draw_newselection/attributes"),l=t("./pad_attributes"),c=t("../lib/extend").extendFlat,u=r({editType:"calc"});u.family.dflt='"Open Sans", verdana, arial, sans-serif',u.size.dflt=12,u.color.dflt=o.defaultLine,e.exports={font:u,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:c(l({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:a.newshape,activeshape:a.activeshape,newselection:s.newselection,activeselection:s.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:c({},i.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"})}}},{"../components/color/attributes":256,"../components/selections/draw_newselection/attributes":341,"../components/shapes/draw_newshape/attributes":353,"../lib/extend":392,"./animation_attributes":444,"./font_attributes":478,"./pad_attributes":487}],487:[function(t,e,n){"use strict";e.exports=function(t){var e=t.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},{}],488:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("d3-time-format").timeFormatLocale,o=t("d3-format").formatLocale,a=t("fast-isnumeric"),s=t("../registry"),l=t("../plot_api/plot_schema"),c=t("../plot_api/plot_template"),u=t("../lib"),d=t("../components/color"),f=t("../constants/numerical").BADNUM,h=t("./cartesian/axis_ids"),p=t("../components/shapes/handle_outline").clearOutline,g=t("./animation_attributes"),m=t("./frame_attributes"),v=t("../plots/get_data").getModuleCalcData,y=u.relinkPrivateKeys,b=u._,x=e.exports={};u.extendFlat(x,s),x.attributes=t("./attributes"),x.attributes.type.values=x.allTypes,x.fontAttrs=t("./font_attributes"),x.layoutAttributes=t("./layout_attributes"),x.fontWeight="normal";var w=x.transformsRegistry,k=t("./command");x.executeAPICommand=k.executeAPICommand,x.computeAPICommandBindings=k.computeAPICommandBindings,x.manageCommandObserver=k.manageCommandObserver,x.hasSimpleAPICommandBindings=k.hasSimpleAPICommandBindings,x.redrawText=function(t){return t=u.getGraphDiv(t),new Promise((function(e){setTimeout((function(){t._fullLayout&&(s.getComponentMethod("annotations","draw")(t),s.getComponentMethod("legend","draw")(t),s.getComponentMethod("colorbar","draw")(t),e(x.previousPromises(t)))}),300)}))},x.resize=function(t){var e;t=u.getGraphDiv(t);var n=new Promise((function(n,r){t&&!u.isHidden(t)||r(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._resolveResize&&(e=t._resolveResize),t._resolveResize=n,t._redrawTimer=setTimeout((function(){if(!t.layout||t.layout.width&&t.layout.height||u.isHidden(t))n(t);else{delete t.layout.width,delete t.layout.height;var e=t.changed;t.autoplay=!0,s.call("relayout",t,{autosize:!0}).then((function(){t.changed=e,t._resolveResize===n&&(delete t._resolveResize,n(t))}))}}),100)}));return e&&e(n),n},x.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then((function(){t._promises=[]}))},x.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,n=u.ensureSingle(e._paper,"text","js-plot-link-container",(function(t){t.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:d.defaultLine,"pointer-events":"all"}).each((function(){var t=r.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)}))})),i=n.node(),o={y:e._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=e.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=e._paper.attr("width")-7),n.attr(o);var a=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),l=n.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var n=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)n.on("click",(function(){x.sendDataToCloud(t)}));else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}(t,a),s.text(a.text()&&l.text()?" - ":"")}},x.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var n=r.select(t).append("div").attr("id","hiddenform").style("display","none"),i=n.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=x.graphJson(t,!1,"keepdata"),i.node().submit(),n.remove(),t.emit("plotly_afterexport"),!1}};var _=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],A=["year","month","dayMonth","dayMonthYear"];function T(t,e){var n=t._context.locale;n||(n="en-US");var r=!1,i={};function o(t){for(var n=!0,o=0;o<e.length;o++){var a=e[o];i[a]||(t[a]?i[a]=t[a]:n=!1)}n&&(r=!0)}for(var a=0;a<2;a++){for(var l=t._context.locales,c=0;c<2;c++){var u=(l[n]||{}).format;if(u&&(o(u),r))break;l=s.localeRegistry}var d=n.split("-")[0];if(r||d===n)break;n=d}return r||o(s.localeRegistry.en.format),i}function M(t,e){var n={_fullLayout:e},r="x"===t._id.charAt(0),i=t._mainAxis._anchorAxis,o="",a="",s="";if(i&&(s=i._mainAxis._id,o=r?t._id+s:s+t._id),!o||!e._plots[o]){o="";for(var l=t._counterAxes,c=0;c<l.length;c++){var u=l[c],d=r?t._id+u:u+t._id;a||(a=d);var f=h.getFromId(n,u);if(s&&f.overlaying===s){o=d;break}}}return o||a}function E(t){var e=t.transforms;if(Array.isArray(e)&&e.length)for(var n=0;n<e.length;n++){var r=e[n],i=r._module||w[r.type];if(i&&i.makesData)return!0}return!1}function C(t,e,n,r){for(var i=t.transforms,o=[t],a=0;a<i.length;a++){var s=i[a],l=w[s.type];l&&l.transform&&(o=l.transform(o,{transform:s,fullTrace:t,fullData:e,layout:n,fullLayout:r,transformIndex:a}))}return o}function S(t){return"string"==typeof t&&"px"===t.substr(t.length-2)&&parseFloat(t)}function O(t){var e=t.margin;if(!t._size){var n=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)};n.w=Math.round(t.width)-n.l-n.r,n.h=Math.round(t.height)-n.t-n.b}t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={})}x.supplyDefaults=function(t,e){var n=e&&e.skipUpdateCalc,r=t._fullLayout||{};if(r._skipDefaults)delete r._skipDefaults;else{var a,l=t._fullLayout={},c=t.layout||{},d=t._fullData||[],f=t._fullData=[],h=t.data||[],g=t.calcdata||[],m=t._context||{};t._transitionData||x.createTransitionData(t),l._dfltTitle={plot:b(t,"Click to enter Plot title"),x:b(t,"Click to enter X axis title"),y:b(t,"Click to enter Y axis title"),colorbar:b(t,"Click to enter Colorscale title"),annotation:b(t,"new text")},l._traceWord=b(t,"trace");var v=T(t,_);if(l._mapboxAccessToken=m.mapboxAccessToken,r._initialAutoSizeIsDone){var w=r.width,k=r.height;x.supplyLayoutGlobalDefaults(c,l,v),c.width||(l.width=w),c.height||(l.height=k),x.sanitizeMargins(l)}else{x.supplyLayoutGlobalDefaults(c,l,v);var M=!c.width||!c.height,E=l.autosize,C=m.autosizable;M&&(E||C)?x.plotAutoSize(t,c,l):M&&x.sanitizeMargins(l),!E&&M&&(c.width=l.width,c.height=l.height)}l._d3locale=function(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),{numberFormat:function(e){try{e=o(t).format(u.adjustFormat(e))}catch(t){return u.warnBadFormat(e),u.noFormat}return e},timeFormat:i(t).utcFormat}}(v,l.separators),l._extraFormat=T(t,A),l._initialAutoSizeIsDone=!0,l._dataLength=h.length,l._modules=[],l._visibleModules=[],l._basePlotModules=[];var S=l._subplots=function(){var t,e,n=s.collectableSubplotTypes,r={};if(!n){n=[];var i=s.subplotsRegistry;for(var o in i){var a=i[o].attr;if(a&&(n.push(o),Array.isArray(a)))for(e=0;e<a.length;e++)u.pushUnique(n,a[e])}}for(t=0;t<n.length;t++)r[n[t]]=[];return r}(),L=l._splomAxes={x:{},y:{}},P=l._splomSubplots={};l._splomGridDflt={},l._scatterStackOpts={},l._firstScatter={},l._alignmentOpts={},l._colorAxes={},l._requestRangeslider={},l._traceUids=function(t,e){var n,r,i=e.length,o=[];for(n=0;n<t.length;n++){var a=t[n]._fullInput;a!==r&&o.push(a),r=a}var s=o.length,l=new Array(i),c={};function d(t,e){l[e]=t,c[t]=1}function f(t,e){if(t&&"string"==typeof t&&!c[t])return d(t,e),!0}for(n=0;n<i;n++){var h=e[n].uid;"number"==typeof h&&(h=String(h)),f(h,n)||n<s&&f(o[n].uid,n)||d(u.randstr(c),n)}return l}(d,h),l._globalTransforms=(t._context||{}).globalTransforms,x.supplyDataDefaults(h,f,c,l);var D=Object.keys(L.x),R=Object.keys(L.y);if(D.length>1&&R.length>1){for(s.getComponentMethod("grid","sizeDefaults")(c,l),a=0;a<D.length;a++)u.pushUnique(S.xaxis,D[a]);for(a=0;a<R.length;a++)u.pushUnique(S.yaxis,R[a]);for(var I in P)u.pushUnique(S.cartesian,I)}if(l._has=x._hasPlotType.bind(l),d.length===f.length)for(a=0;a<f.length;a++)y(f[a],d[a]);x.supplyLayoutModuleDefaults(c,l,f,t._transitionData);var z=l._visibleModules,N=[];for(a=0;a<z.length;a++){var B=z[a].crossTraceDefaults;B&&u.pushUnique(N,B)}for(a=0;a<N.length;a++)N[a](f,l);l._hasOnlyLargeSploms=1===l._basePlotModules.length&&"splom"===l._basePlotModules[0].name&&D.length>15&&R.length>15&&0===l.shapes.length&&0===l.images.length,x.linkSubplots(f,l,d,r),x.cleanPlot(f,l,d,r);var F=!(!r._has||!r._has("gl2d")),j=!(!l._has||!l._has("gl2d")),$=!(!r._has||!r._has("cartesian"))||F,Z=!(!l._has||!l._has("cartesian"))||j;$&&!Z?r._bgLayer.remove():Z&&!$&&(l._shouldCreateBgLayer=!0),r._zoomlayer&&!t._dragging&&p({_fullLayout:r}),function(t,e){var n,r=[];e.meta&&(n=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var i=0;i<t.length;i++){var o=t[i];o.meta?r[o.index]=o._meta={meta:o.meta}:e.meta&&(o._meta={meta:e.meta}),e.meta&&(o._meta.layout={meta:e.meta})}r.length&&(n||(n=e._meta={}),n.data=r)}(f,l),y(l,r),s.getComponentMethod("colorscale","crossTraceDefaults")(f,l),l._preGUI||(l._preGUI={}),l._tracePreGUI||(l._tracePreGUI={});var U,H=l._tracePreGUI,V={};for(U in H)V[U]="old";for(a=0;a<f.length;a++)V[U=f[a]._fullInput.uid]||(H[U]={}),V[U]="new";for(U in V)"old"===V[U]&&delete H[U];O(l),s.getComponentMethod("rangeslider","makeData")(l),n||g.length!==f.length||x.supplyDefaultsUpdateCalc(g,f)}},x.supplyDefaultsUpdateCalc=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=(t[n]||[])[0];if(i&&i.trace){var o=i.trace;if(o._hasCalcTransform){var a,s,l,c=o._arrayAttrs;for(a=0;a<c.length;a++)s=c[a],l=u.nestedProperty(o,s).get().slice(),u.nestedProperty(r,s).set(l)}i.trace=r}}},x.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},x._hasPlotType=function(t){var e,n=this._basePlotModules||[];for(e=0;e<n.length;e++)if(n[e].name===t)return!0;var r=this._modules||[];for(e=0;e<r.length;e++){var i=r[e].name;if(i===t)return!0;var o=s.modules[i];if(o&&o.categories[t])return!0}return!1},x.cleanPlot=function(t,e,n,r){var i,o,a=r._basePlotModules||[];for(i=0;i<a.length;i++){var s=a[i];s.clean&&s.clean(t,e,n,r)}var l=r._has&&r._has("gl"),c=e._has&&e._has("gl");l&&!c&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var u=!!r._infolayer;t:for(i=0;i<n.length;i++){var d=n[i].uid;for(o=0;o<t.length;o++)if(d===t[o].uid)continue t;u&&r._infolayer.select(".cb"+d).remove()}},x.linkSubplots=function(t,e,n,r){var i,o,a=r._plots||{},l=e._plots={},c=e._subplots,d={_fullData:t,_fullLayout:e},f=c.cartesian.concat(c.gl2d||[]);for(i=0;i<f.length;i++){var p,g=f[i],m=a[g],v=h.getFromId(d,g,"x"),y=h.getFromId(d,g,"y");for(m?p=l[g]=m:(p=l[g]={}).id=g,v._counterAxes.push(y._id),y._counterAxes.push(v._id),v._subplotsWith.push(g),y._subplotsWith.push(g),p.xaxis=v,p.yaxis=y,p._hasClipOnAxisFalse=!1,o=0;o<t.length;o++){var b=t[o];if(b.xaxis===p.xaxis._id&&b.yaxis===p.yaxis._id&&!1===b.cliponaxis){p._hasClipOnAxisFalse=!0;break}}}var x,w=h.list(d,null,!0);for(i=0;i<w.length;i++){var k=null;(x=w[i]).overlaying&&(k=h.getFromId(d,x.overlaying))&&k.overlaying&&(x.overlaying=!1,k=null),x._mainAxis=k||x,k&&(x.domain=k.domain.slice()),x._anchorAxis="free"===x.anchor?null:h.getFromId(d,x.anchor)}for(i=0;i<w.length;i++)if((x=w[i])._counterAxes.sort(h.idSort),x._subplotsWith.sort(u.subplotSort),x._mainSubplot=M(x,e),x._counterAxes.length&&(x.spikemode&&-1!==x.spikemode.indexOf("across")||x.automargin&&x.mirror&&"free"!==x.anchor||s.getComponentMethod("rangeslider","isVisible")(x))){var _=1,A=0;for(o=0;o<x._counterAxes.length;o++){var T=h.getFromId(d,x._counterAxes[o]);_=Math.min(_,T.domain[0]),A=Math.max(A,T.domain[1])}_<A&&(x._counterDomainMin=_,x._counterDomainMax=A)}},x.clearExpandedTraceDefaultColors=function(t){var e,n,r;for(n=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],l.crawl(t._module.attributes,(function(t,r,i,o){n[o]=r,n.length=o+1,"color"===t.valType&&void 0===t.dflt&&e.push(n.join("."))}))),r=0;r<e.length;r++)u.nestedProperty(t,"_input."+e[r]).get()||u.nestedProperty(t,e[r]).set(null)},x.supplyDataDefaults=function(t,e,n,r){var i,o,a,l=r._modules,d=r._visibleModules,f=r._basePlotModules,h=0,p=0;function g(t){e.push(t);var n=t._module;n&&(u.pushUnique(l,n),!0===t.visible&&u.pushUnique(d,n),u.pushUnique(f,t._module.basePlotModule),h++,!1!==t._input.visible&&p++)}r._transformModules=[];var m={},v=[],b=(n.template||{}).data||{},w=c.traceTemplater(b);for(i=0;i<t.length;i++){if(a=t[i],(o=w.newTrace(a)).uid=r._traceUids[i],x.supplyTraceDefaults(a,o,p,r,i),o.index=i,o._input=a,o._expandedIndex=h,o.transforms&&o.transforms.length)for(var k=!1!==a.visible&&!1===o.visible,_=C(o,e,n,r),A=0;A<_.length;A++){var T=_[A],M={_template:o._template,type:o.type,uid:o.uid+A};k&&!1===T.visible&&delete T.visible,x.supplyTraceDefaults(T,M,h,r,i),y(M,T),M.index=i,M._input=a,M._fullInput=o,M._expandedIndex=h,M._expandedInput=T,g(M)}else o._fullInput=o,o._expandedInput=o,g(o);s.traceIs(o,"carpetAxis")&&(m[o.carpet]=o),s.traceIs(o,"carpetDependent")&&v.push(i)}for(i=0;i<v.length;i++)if((o=e[v[i]]).visible){var E=m[o.carpet];o._carpet=E,E&&E.visible?(o.xaxis=E.xaxis,o.yaxis=E.yaxis):o.visible=!1}},x.supplyAnimationDefaults=function(t){var e;t=t||{};var n={};function r(e,r){return u.coerce(t||{},n,g,e,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(t.frame))for(n.frame=[],e=0;e<t.frame.length;e++)n.frame[e]=x.supplyAnimationFrameDefaults(t.frame[e]||{});else n.frame=x.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(n.transition=[],e=0;e<t.transition.length;e++)n.transition[e]=x.supplyAnimationTransitionDefaults(t.transition[e]||{});else n.transition=x.supplyAnimationTransitionDefaults(t.transition||{});return n},x.supplyAnimationFrameDefaults=function(t){var e={};function n(n,r){return u.coerce(t||{},e,g.frame,n,r)}return n("duration"),n("redraw"),e},x.supplyAnimationTransitionDefaults=function(t){var e={};function n(n,r){return u.coerce(t||{},e,g.transition,n,r)}return n("duration"),n("easing"),e},x.supplyFrameDefaults=function(t){var e={};function n(n,r){return u.coerce(t,e,m,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),e},x.supplyTraceDefaults=function(t,e,n,r,i){var o,a=r.colorway||d.defaults,l=a[n%a.length];function c(n,r){return u.coerce(t,e,x.attributes,n,r)}var f=c("visible");c("type"),c("name",r._traceWord+" "+i),c("uirevision",r.uirevision);var h=x.getModule(e);if(e._module=h,h){var p=h.basePlotModule,g=p.attr,m=p.attributes;if(g&&m){var v=r._subplots,y="";if(f||"gl2d"!==p.name){if(Array.isArray(g))for(o=0;o<g.length;o++){var b=g[o],w=u.coerce(t,e,m,b);v[b]&&u.pushUnique(v[b],w),y+=w}else y=u.coerce(t,e,m,g);v[p.name]&&u.pushUnique(v[p.name],y)}}}return f&&(c("customdata"),c("ids"),c("meta"),s.traceIs(e,"showLegend")?(u.coerce(t,e,h.attributes.showlegend?h.attributes:x.attributes,"showlegend"),c("legendgroup"),c("legendgrouptitle.text"),c("legendrank"),e._dfltShowLegend=!0):e._dfltShowLegend=!1,h&&h.supplyDefaults(t,e,l,r),s.traceIs(e,"noOpacity")||c("opacity"),s.traceIs(e,"notLegendIsolatable")&&(e.visible=!!e.visible),s.traceIs(e,"noHover")||(e.hovertemplate||u.coerceHoverinfo(t,e,r),"parcats"!==e.type&&s.getComponentMethod("fx","supplyDefaults")(t,e,l,r)),h&&h.selectPoints&&c("selectedpoints"),x.supplyTransformDefaults(t,e,r)),e},x.hasMakesDataTransform=E,x.supplyTransformDefaults=function(t,e,n){if(e._length||E(t)){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(t.transforms)||0!==r.length)for(var o=t.transforms||[],a=r.concat(o),s=e.transforms=[],l=0;l<a.length;l++){var c,d=a[l],f=d.type,h=w[f],p=!(d._module&&d._module===h),g=h&&"function"==typeof h.transform;h||u.warn("Unrecognized transform type "+f+"."),h&&h.supplyDefaults&&(p||g)?((c=h.supplyDefaults(d,e,n,t)).type=f,c._module=h,u.pushUnique(i,h)):c=u.extendFlat({},d),s.push(c)}}},x.supplyLayoutGlobalDefaults=function(t,e,n){function r(n,r){return u.coerce(t,e,x.layoutAttributes,n,r)}var i=t.template;u.isPlainObject(i)&&(e.template=i,e._template=i.layout,e._dataTemplate=i.data),r("autotypenumbers");var o=u.coerceFont(r,"font"),a=o.size;u.coerceFont(r,"title.font",u.extendFlat({},o,{size:Math.round(1.4*a)})),r("title.text",e._dfltTitle.plot),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(t.width&&t.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),t.width&&t.height&&x.sanitizeMargins(e),s.getComponentMethod("grid","sizeDefaults")(t,e),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var l=r("uirevision");r("editrevision",l),r("selectionrevision",l),s.getComponentMethod("modebar","supplyLayoutDefaults")(t,e),s.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(t,e,r),s.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(t,e,r),r("meta"),u.isPlainObject(t.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),s.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),s.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,r)},x.plotAutoSize=function(t,e,n){var r,i,o=t._context||{},s=o.frameMargins,l=u.isPlotDiv(t);if(l&&t.emit("plotly_autosize"),o.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var c=l?window.getComputedStyle(t):{};if(r=S(c.width)||S(c.maxWidth)||n.width,i=S(c.height)||S(c.maxHeight)||n.height,a(s)&&s>0){var d=1-2*s;r=Math.round(d*r),i=Math.round(d*i)}}var f=x.layoutAttributes.width.min,h=x.layoutAttributes.height.min;r<f&&(r=f),i<h&&(i=h);var p=!e.width&&Math.abs(n.width-r)>1,g=!e.height&&Math.abs(n.height-i)>1;(g||p)&&(p&&(n.width=r),g&&(n.height=i)),t._initialAutoSize||(t._initialAutoSize={width:r,height:i}),x.sanitizeMargins(n)},x.supplyLayoutModuleDefaults=function(t,e,n,r){var i,o,a,l=s.componentsRegistry,c=e._basePlotModules,d=s.subplotsRegistry.cartesian;for(i in l)(a=l[i]).includeBasePlot&&a.includeBasePlot(t,e);for(var f in c.length||c.push(d),e._has("cartesian")&&(s.getComponentMethod("grid","contentDefaults")(t,e),d.finalizeSubplots(t,e)),e._subplots)e._subplots[f].sort(u.subplotSort);for(o=0;o<c.length;o++)(a=c[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,n);var h=e._modules;for(o=0;o<h.length;o++)(a=h[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,n);var p=e._transformModules;for(o=0;o<p.length;o++)(a=p[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,n,r);for(i in l)(a=l[i]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,n)},x.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),u.clearThrottle(),u.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},x.style=function(t){var e,n=t._fullLayout._visibleModules,r=[];for(e=0;e<n.length;e++){var i=n[e];i.style&&u.pushUnique(r,i.style)}for(e=0;e<r.length;e++)r[e](t)},x.sanitizeMargins=function(t){if(t&&t.margin){var e,n=t.width,r=t.height,i=t.margin,o=n-(i.l+i.r),a=r-(i.t+i.b);o<0&&(e=(n-1)/(i.l+i.r),i.l=Math.floor(e*i.l),i.r=Math.floor(e*i.r)),a<0&&(e=(r-1)/(i.t+i.b),i.t=Math.floor(e*i.t),i.b=Math.floor(e*i.b))}},x.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}},x.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1},x.autoMargin=function(t,e,n){var r=t._fullLayout,i=r.width,o=r.height,a=r.margin,s=u.constrain(i-a.l-a.r,2,64),l=u.constrain(o-a.t-a.b,2,64),c=Math.max(0,i-s),d=Math.max(0,o-l),f=r._pushmargin,h=r._pushmarginIds;if(!1!==a.autoexpand){if(n){var p=n.pad;if(void 0===p&&(p=Math.min(12,a.l,a.r,a.t,a.b)),c){var g=(n.l+n.r)/c;g>1&&(n.l/=g,n.r/=g)}if(d){var m=(n.t+n.b)/d;m>1&&(n.t/=m,n.b/=m)}var v=void 0!==n.xl?n.xl:n.x,y=void 0!==n.xr?n.xr:n.x,b=void 0!==n.yt?n.yt:n.y,w=void 0!==n.yb?n.yb:n.y;f[e]={l:{val:v,size:n.l+p},r:{val:y,size:n.r+p},b:{val:w,size:n.b+p},t:{val:b,size:n.t+p}},h[e]=1}else delete f[e],delete h[e];if(!r._replotting)return x.doAutoMargin(t)}},x.doAutoMargin=function(t){var e=t._fullLayout,n=e.width,r=e.height;e._size||(e._size={}),O(e);var i=e._size,o=e.margin,l=u.extendFlat({},i),c=o.l,d=o.r,f=o.t,p=o.b,g=e._pushmargin,m=e._pushmarginIds;if(!1!==e.margin.autoexpand){for(var v in g)m[v]||delete g[v];for(var y in g.base={l:{val:0,size:c},r:{val:1,size:d},t:{val:1,size:f},b:{val:0,size:p}},g){var b=g[y].l||{},w=g[y].b||{},k=b.val,_=b.size,A=w.val,T=w.size;for(var M in g){if(a(_)&&g[M].r){var E=g[M].r.val,C=g[M].r.size;if(E>k){var S=(_*E+(C-n)*k)/(E-k),L=(C*(1-k)+(_-n)*(1-E))/(E-k);S+L>c+d&&(c=S,d=L)}}if(a(T)&&g[M].t){var P=g[M].t.val,D=g[M].t.size;if(P>A){var R=(T*P+(D-r)*A)/(P-A),I=(D*(1-A)+(T-r)*(1-P))/(P-A);R+I>p+f&&(p=R,f=I)}}}}}var z=u.constrain(n-o.l-o.r,2,64),N=u.constrain(r-o.t-o.b,2,64),B=Math.max(0,n-z),F=Math.max(0,r-N);if(B){var j=(c+d)/B;j>1&&(c/=j,d/=j)}if(F){var $=(p+f)/F;$>1&&(p/=$,f/=$)}if(i.l=Math.round(c),i.r=Math.round(d),i.t=Math.round(f),i.b=Math.round(p),i.p=Math.round(o.pad),i.w=Math.round(n)-i.l-i.r,i.h=Math.round(r)-i.t-i.b,!e._replotting&&x.didMarginChange(l,i)){"_redrawFromAutoMarginCount"in e?e._redrawFromAutoMarginCount++:e._redrawFromAutoMarginCount=1;var Z=3*(1+Object.keys(m).length);if(e._redrawFromAutoMarginCount<Z)return s.call("_doPlot",t);e._size=l,u.warn("Too many auto-margin redraws.")}!function(t){var e=h.list(t,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach((function(t){for(var n=0;n<e.length;n++){var r=e[n][t];r&&r()}}))}(t)};var L=["l","r","t","b","p","w","h"];function P(t,e,n){var r=!1,i=[x.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(t._transitionData._interruptCallbacks)},n.prepareFn,x.rehover,x.reselect,function(){return t.emit("plotly_transitioning",[]),new Promise((function(i){t._transitioning=!0,e.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push((function(){r=!0})),n.redraw&&t._transitionData._interruptCallbacks.push((function(){return s.call("redraw",t)})),t._transitionData._interruptCallbacks.push((function(){t.emit("plotly_transitioninterrupted",[])}));var o=0,a=0;function l(){return o++,function(){a++,r||a!==o||function(e){t._transitionData&&(function(t){if(t)for(;t.length;)t.shift()}(t._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(n.redraw)return s.call("redraw",t)})).then((function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])})).then(e))}(i)}}n.runFn(l),setTimeout(l())}))}],o=u.syncOrAsync(i,t);return o&&o.then||(o=Promise.resolve()),o.then((function(){return t}))}x.didMarginChange=function(t,e){for(var n=0;n<L.length;n++){var r=L[n],i=t[r],o=e[r];if(!a(i)||Math.abs(o-i)>1)return!0}return!1},x.graphJson=function(t,e,n,r,i,o){(i&&e&&!t._fullData||i&&!e&&!t._fullLayout)&&x.supplyDefaults(t);var a=i?t._fullData:t.data,s=i?t._fullLayout:t.layout,l=(t._transitionData||{})._frames;function c(t,e){if("function"==typeof t)return e?"_function_":null;if(u.isPlainObject(t)){var r,i={};return Object.keys(t).sort().forEach((function(o){if(-1===["_","["].indexOf(o.charAt(0)))if("function"!=typeof t[o]){if("keepdata"===n){if("src"===o.substr(o.length-3))return}else if("keepstream"===n){if("string"==typeof(r=t[o+"src"])&&r.indexOf(":")>0&&!u.isPlainObject(t.stream))return}else if("keepall"!==n&&"string"==typeof(r=t[o+"src"])&&r.indexOf(":")>0)return;i[o]=c(t[o],e)}else e&&(i[o]="_function")})),i}return Array.isArray(t)?t.map((function(t){return c(t,e)})):u.isTypedArray(t)?u.simpleMap(t,u.identity):u.isJSDate(t)?u.ms2DateTimeLocal(+t):t}var d={data:(a||[]).map((function(t){var n=c(t);return e&&delete n.fit,n}))};if(!e&&(d.layout=c(s),i)){var f=s._size;d.layout.computed={margin:{b:f.b,l:f.l,r:f.r,t:f.t}}}return l&&(d.frames=c(l)),o&&(d.config=c(t._context,!0)),"object"===r?d:JSON.stringify(d)},x.modifyFrames=function(t,e){var n,r,i,o=t._transitionData._frames,a=t._transitionData._frameHash;for(n=0;n<e.length;n++)switch((r=e[n]).type){case"replace":i=r.value;var s=(o[r.index]||{}).name,l=i.name;o[r.index]=a[l]=i,l!==s&&(delete a[s],a[l]=i);break;case"insert":a[(i=r.value).name]=i,o.splice(r.index,0,i);break;case"delete":delete a[(i=o[r.index]).name],o.splice(r.index,1)}return Promise.resolve()},x.computeFrame=function(t,e){var n,r,i,o,a=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var s=a[e.toString()];if(!s)return!1;for(var l=[s],c=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===c.indexOf(s.name);)l.push(s),c.push(s.name);for(var u={};s=l.pop();)if(s.layout&&(u.layout=x.extendLayout(u.layout,s.layout)),s.data){if(u.data||(u.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(u.traces||(u.traces=[]),n=0;n<s.data.length;n++)null!=(i=r[n])&&(-1===(o=u.traces.indexOf(i))&&(o=u.data.length,u.traces[o]=i),u.data[o]=x.extendTrace(u.data[o],s.data[n]))}return u},x.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},n=t._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(e[i.name]=i)}},x.extendObjectWithContainers=function(t,e,n){var r,i,o,a,s,l,c,d=u.extendDeepNoArrays({},e||{}),f=u.expandObjectPaths(d),h={};if(n&&n.length)for(o=0;o<n.length;o++)void 0===(i=(r=u.nestedProperty(f,n[o])).get())?u.nestedProperty(h,n[o]).set(null):(r.set(null),u.nestedProperty(h,n[o]).set(i));if(t=u.extendDeepNoArrays(t||{},f),n&&n.length)for(o=0;o<n.length;o++)if(l=u.nestedProperty(h,n[o]).get()){for(c=(s=u.nestedProperty(t,n[o])).get(),Array.isArray(c)||(c=[],s.set(c)),a=0;a<l.length;a++){var p=l[a];c[a]=null===p?null:x.extendObjectWithContainers(c[a],p)}s.set(c)}return t},x.dataArrayContainers=["transforms","dimensions"],x.layoutArrayContainers=s.layoutArrayContainers,x.extendTrace=function(t,e){return x.extendObjectWithContainers(t,e,x.dataArrayContainers)},x.extendLayout=function(t,e){return x.extendObjectWithContainers(t,e,x.layoutArrayContainers)},x.transition=function(t,e,n,r,i,o){var a={redraw:i.redraw},s={},l=[];return a.prepareFn=function(){for(var i=Array.isArray(e)?e.length:0,o=r.slice(0,i),a=0;a<o.length;a++){var c=o[a],d=t._fullData[c]._module;if(d){if(d.animatable){var f=d.basePlotModule.name;s[f]||(s[f]=[]),s[f].push(c)}t.data[o[a]]=x.extendTrace(t.data[o[a]],e[a])}}var h=u.expandObjectPaths(u.extendDeepNoArrays({},n)),p=/^[xy]axis[0-9]*$/;for(var g in h)p.test(g)&&delete h[g].range;x.extendLayout(t.layout,h),delete t.calcdata,x.supplyDefaults(t),x.doCalcdata(t);var m=u.expandObjectPaths(n);if(m){var v=t._fullLayout._plots;for(var y in v){var b=v[y],w=b.xaxis,k=b.yaxis,_=w.range.slice(),A=k.range.slice(),T=null,M=null,E=null,C=null;Array.isArray(m[w._name+".range"])?T=m[w._name+".range"].slice():Array.isArray((m[w._name]||{}).range)&&(T=m[w._name].range.slice()),Array.isArray(m[k._name+".range"])?M=m[k._name+".range"].slice():Array.isArray((m[k._name]||{}).range)&&(M=m[k._name].range.slice()),_&&T&&(w.r2l(_[0])!==w.r2l(T[0])||w.r2l(_[1])!==w.r2l(T[1]))&&(E={xr0:_,xr1:T}),A&&M&&(k.r2l(A[0])!==k.r2l(M[0])||k.r2l(A[1])!==k.r2l(M[1]))&&(C={yr0:A,yr1:M}),(E||C)&&l.push(u.extendFlat({plotinfo:b},E,C))}}return Promise.resolve()},a.runFn=function(e){var r,i,a=t._fullLayout._basePlotModules,c=l.length;if(n)for(i=0;i<a.length;i++)a[i].transitionAxes&&a[i].transitionAxes(t,l,o,e);for(var d in c?((r=u.extendFlat({},o)).duration=0,delete s.cartesian):r=o,s){var f=s[d];t._fullData[f[0]]._module.basePlotModule.plot(t,f,r,e)}},P(t,o,a)},x.transitionFromReact=function(t,e,n,r){var i=t._fullLayout,o=i.transition,a={},s=[];return a.prepareFn=function(){var t=i._plots;for(var o in a.redraw=!1,"some"===e.anim&&(a.redraw=!0),"some"===n.anim&&(a.redraw=!0),t){var l=t[o],c=l.xaxis,d=l.yaxis,f=r[c._name].range.slice(),h=r[d._name].range.slice(),p=c.range.slice(),g=d.range.slice();c.setScale(),d.setScale();var m=null,v=null;c.r2l(f[0])===c.r2l(p[0])&&c.r2l(f[1])===c.r2l(p[1])||(m={xr0:f,xr1:p}),d.r2l(h[0])===d.r2l(g[0])&&d.r2l(h[1])===d.r2l(g[1])||(v={yr0:h,yr1:g}),(m||v)&&s.push(u.extendFlat({plotinfo:l},m,v))}return Promise.resolve()},a.runFn=function(n){for(var r,i,a,l=t._fullData,c=t._fullLayout._basePlotModules,d=[],f=0;f<l.length;f++)d.push(f);function h(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].transitionAxes&&c[e].transitionAxes(t,s,r,n)}function p(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].plot(t,a,i,n)}s.length&&e.anim?"traces first"===o.ordering?(r=u.extendFlat({},o,{duration:0}),a=d,i=o,setTimeout(h,o.duration),p()):(r=o,a=null,i=u.extendFlat({},o,{duration:0}),setTimeout(p,r.duration),h()):s.length?(r=o,h()):e.anim&&(a=d,i=o,p())},P(t,o,a)},x.doCalcdata=function(t,e){var n,r,i,o,a=h.list(t),c=t._fullData,d=t._fullLayout,p=new Array(c.length),g=(t.calcdata||[]).slice();for(t.calcdata=p,d._numBoxes=0,d._numViolins=0,d._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,d._piecolormap={},d._sunburstcolormap={},d._treemapcolormap={},d._iciclecolormap={},d._funnelareacolormap={},i=0;i<c.length;i++)Array.isArray(e)&&-1===e.indexOf(i)&&(p[i]=g[i]);for(i=0;i<c.length;i++)(n=c[i])._arrayAttrs=l.findArrayAttributes(n),n._extremes={};var m=d._subplots.polar||[];for(i=0;i<m.length;i++)a.push(d[m[i]].radialaxis,d[m[i]].angularaxis);for(var v in d._colorAxes){var y=d[v];!1!==y.cauto&&(delete y.cmin,delete y.cmax)}var b=!1;function x(e){if(n=c[e],r=n._module,!0===n.visible&&n.transforms){if(r&&r.calc){var i=r.calc(t,n);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(o=0;o<n.transforms.length;o++){var a=n.transforms[o];(r=w[a.type])&&r.calcTransform&&(n._hasCalcTransform=!0,b=!0,r.calcTransform(t,n,a))}}}function k(e,i){if(n=c[e],!!(r=n._module).isContainer===i){var a=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var s=n.transforms||[];for(o=s.length-1;o>=0;o--)if(s[o].enabled){n._indexToPoints=s[o]._indexToPoints;break}r&&r.calc&&(a=r.calc(t,n))}Array.isArray(a)&&a[0]||(a=[{x:f,y:f}]),a[0].t||(a[0].t={}),a[0].trace=n,p[e]=a}}for(R(a,c,d),i=0;i<c.length;i++)k(i,!0);for(i=0;i<c.length;i++)x(i);for(b&&R(a,c,d),i=0;i<c.length;i++)k(i,!0);for(i=0;i<c.length;i++)k(i,!1);I(t);var _=function(t,e){var n,r,i,o,a,l=[];function c(t,n,r){var i=n._id.charAt(0);if("histogram2dcontour"===t){var o=n._counterAxes[0],a=h.getFromId(e,o),s="x"===i||"x"===o&&"category"===a.type,l="y"===i||"y"===o&&"category"===a.type;return function(t,e){return 0===t||0===e||s&&t===r[e].length-1||l&&e===r.length-1?-1:("y"===i?e:t)-1}}return function(t,e){return"y"===i?e:t}}var d={min:function(t){return u.aggNums(Math.min,null,t)},max:function(t){return u.aggNums(Math.max,null,t)},sum:function(t){return u.aggNums((function(t,e){return t+e}),null,t)},total:function(t){return u.aggNums((function(t,e){return t+e}),null,t)},mean:function(t){return u.mean(t)},median:function(t){return u.median(t)}};for(n=0;n<t.length;n++){var f=t[n];if("category"===f.type){var p=f.categoryorder.match(D);if(p){var g=p[1],m=p[2],v=f._id.charAt(0),y="x"===v,b=[];for(r=0;r<f._categories.length;r++)b.push([f._categories[r],[]]);for(r=0;r<f._traceIndices.length;r++){var x=f._traceIndices[r],w=e._fullData[x];if(!0===w.visible){var k=w.type;s.traceIs(w,"histogram")&&(delete w._xautoBinFinished,delete w._yautoBinFinished);var _="splom"===k,A="scattergl"===k,T=e.calcdata[x];for(i=0;i<T.length;i++){var M,E,C=T[i];if(_){var S=w._axesDim[f._id];if(!y){var O=w._diag[S][0];O&&(f=e._fullLayout[h.id2name(O)])}var L=C.trace.dimensions[S].values;for(o=0;o<L.length;o++)for(M=f._categoriesMap[L[o]],a=0;a<C.trace.dimensions.length;a++)if(a!==S){var P=C.trace.dimensions[a];b[M][1].push(P.values[o])}}else if(A){for(o=0;o<C.t.x.length;o++)y?(M=C.t.x[o],E=C.t.y[o]):(M=C.t.y[o],E=C.t.x[o]),b[M][1].push(E);C.t&&C.t._scene&&delete C.t._scene.dirty}else if(C.hasOwnProperty("z")){E=C.z;var R=c(w.type,f,E);for(o=0;o<E.length;o++)for(a=0;a<E[o].length;a++)(M=R(a,o))+1&&b[M][1].push(E[o][a])}else for(void 0===(M=C.p)&&(M=C[v]),void 0===(E=C.s)&&(E=C.v),void 0===E&&(E=y?C.y:C.x),Array.isArray(E)||(E=void 0===E?[]:[E]),o=0;o<E.length;o++)b[M][1].push(E[o])}}}f._categoriesValue=b;var I=[];for(r=0;r<b.length;r++)I.push([b[r][0],d[g](b[r][1])]);I.sort((function(t,e){return t[1]-e[1]})),f._categoriesAggregatedValue=I,f._initialCategories=I.map((function(t){return t[0]})),"descending"===m&&f._initialCategories.reverse(),l=l.concat(f.sortByInitialCategories())}}}return l}(a,t);if(_.length){for(d._numBoxes=0,d._numViolins=0,i=0;i<_.length;i++)k(_[i],!0);for(i=0;i<_.length;i++)k(_[i],!1);I(t)}s.getComponentMethod("fx","calc")(t),s.getComponentMethod("errorbars","calc")(t)};var D=/(total|sum|min|max|mean|median) (ascending|descending)/;function R(t,e,n){var r={};function i(t){t.clearCalc(),"multicategory"===t.type&&t.setupMultiCategory(e),r[t._id]=1}u.simpleMap(t,i);for(var o=n._axisMatchGroups||[],a=0;a<o.length;a++)for(var s in o[a])r[s]||i(n[h.id2name(s)])}function I(t){var e,n,r,i=t._fullLayout,o=i._visibleModules,a={};for(n=0;n<o.length;n++){var s=o[n],l=s.crossTraceCalc;if(l){var c=s.basePlotModule.name;a[c]?u.pushUnique(a[c],l):a[c]=[l]}}for(r in a){var d=a[r],f=i._subplots[r];if(Array.isArray(f))for(e=0;e<f.length;e++){var h=f[e],p="cartesian"===r?i._plots[h]:i[h];for(n=0;n<d.length;n++)d[n](t,p,h)}else for(n=0;n<d.length;n++)d[n](t)}}x.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},x.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()},x.reselect=function(t){var e=t._fullLayout,n=(t.layout||{}).selections,r=e._previousSelections;e._previousSelections=n;var i=e._reselect||JSON.stringify(n)!==JSON.stringify(r);s.getComponentMethod("selections","reselect")(t,i)},x.generalUpdatePerTraceModule=function(t,e,n,r){var i,o=e.traceHash,a={};for(i=0;i<n.length;i++){var s=n[i],l=s[0].trace;l.visible&&(a[l.type]=a[l.type]||[],a[l.type].push(s))}for(var c in o)if(!a[c]){var d=o[c][0];d[0].trace.visible=!1,a[c]=[d]}for(var f in a){var h=a[f];h[0][0].trace._module.plot(t,e,u.filterVisible(h),r)}e.traceHash=a},x.plotBasePlot=function(t,e,n,r,i){var o=s.getModule(t),a=v(e.calcdata,o)[0];o.plot(e,a,r,i)},x.cleanBasePlot=function(t,e,n,r,i){var o=i._has&&i._has(t),a=n._has&&n._has(t);o&&!a&&i["_"+t+"layer"].selectAll("g.trace").remove()}},{"../components/color":257,"../components/shapes/handle_outline":358,"../constants/numerical":378,"../lib":400,"../plot_api/plot_schema":438,"../plot_api/plot_template":439,"../plots/get_data":480,"../registry":490,"./animation_attributes":444,"./attributes":446,"./cartesian/axis_ids":454,"./command":476,"./font_attributes":478,"./frame_attributes":479,"./layout_attributes":486,"@plotly/d3":14,"d3-format":52,"d3-time-format":53,"fast-isnumeric":121}],489:[function(t,e,n){"use strict";var r=t("../constants/docs");function i(t){var e=t.description?" "+t.description:"",n=t.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";e+="Finally, the template string has access to ",e=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return e}r.FORMAT_LINK,r.DATE_FORMAT_LINK,n.hovertemplateAttrs=function(t,e){t=t||{},i(e=e||{});var n={valType:"string",dflt:"",editType:t.editType||"none"};return!1!==t.arrayOk&&(n.arrayOk=!0),n},n.texttemplateAttrs=function(t,e){t=t||{},i(e=e||{});var n={valType:"string",dflt:"",editType:t.editType||"calc"};return!1!==t.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":375}],490:[function(t,e,n){"use strict";var r=t("./lib/loggers"),i=t("./lib/noop"),o=t("./lib/push_unique"),a=t("./lib/is_plain_object"),s=t("./lib/dom").addStyleRule,l=t("./lib/extend"),c=t("./plots/attributes"),u=t("./plots/layout_attributes"),d=l.extendFlat,f=l.extendDeepAll;function h(t){var e=t.name,i=t.categories,o=t.meta;if(n.modules[e])r.log("Type "+e+" already registered");else{n.subplotsRegistry[t.basePlotModule.name]||function(t){var e=t.name;if(n.subplotsRegistry[e])r.log("Plot type "+e+" already registered.");else for(var i in v(t),n.subplotsRegistry[e]=t,n.componentsRegistry)x(i,t.name)}(t.basePlotModule);for(var a={},l=0;l<i.length;l++)a[i[l]]=!0,n.allCategories[i[l]]=!0;for(var c in n.modules[e]={_module:t,categories:a},o&&Object.keys(o).length&&(n.modules[e].meta=o),n.allTypes.push(e),n.componentsRegistry)y(c,e);t.layoutAttributes&&d(n.traceLayoutAttributes,t.layoutAttributes);var u=t.basePlotModule,f=u.name;if("mapbox"===f){var h=u.constants.styleRules;for(var p in h)s(".js-plotly-plot .plotly .mapboxgl-"+p,h[p])}"geo"!==f&&"mapbox"!==f||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function p(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");var e=t.name;for(var r in n.componentsRegistry[e]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&o(n.layoutArrayContainers,e),v(t)),n.modules)y(e,r);for(var i in n.subplotsRegistry)x(e,i);for(var a in n.transformsRegistry)b(e,a);t.schema&&t.schema.layout&&f(u,t.schema.layout)}function g(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name,i="function"==typeof t.transform,o="function"==typeof t.calcTransform;if(!i&&!o)throw new Error(e+" is missing a *transform* or *calcTransform* method.");for(var s in i&&o&&r.log([e+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(t.attributes)||r.log(e+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&r.log(e+" registered without a *supplyDefaults* method."),n.transformsRegistry[t.name]=t,n.componentsRegistry)b(s,t.name)}function m(t){var e=t.name,r=e.split("-")[0],i=t.dictionary,o=t.format,a=i&&Object.keys(i).length,s=o&&Object.keys(o).length,l=n.localeRegistry,c=l[e];if(c||(l[e]=c={}),r!==e){var u=l[r];u||(l[r]=u={}),a&&u.dictionary===c.dictionary&&(u.dictionary=i),s&&u.format===c.format&&(u.format=o)}a&&(c.dictionary=i),s&&(c.format=o)}function v(t){if(t.layoutAttributes){var e=t.layoutAttributes._arrayAttrRegexps;if(e)for(var r=0;r<e.length;r++)o(n.layoutArrayRegexes,e[r])}}function y(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.traces){var i=r.traces[e];i&&f(n.modules[e]._module.attributes,i)}}function b(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.transforms){var i=r.transforms[e];i&&f(n.transformsRegistry[e].attributes,i)}}function x(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.subplots){var i=n.subplotsRegistry[e],o=i.layoutAttributes,a="subplot"===i.attr?i.name:i.attr;Array.isArray(a)&&(a=a[0]);var s=r.subplots[a];o&&s&&f(o,s)}}function w(t){return"object"==typeof t&&(t=t.type),t}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.collectableSubplotTypes=null,n.register=function(t){if(n.collectableSubplotTypes=null,!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var e=0;e<t.length;e++){var r=t[e];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":h(r);break;case"transform":g(r);break;case"component":p(r);break;case"locale":m(r);break;case"apiMethod":var i=r.name;n.apiMethodRegistry[i]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(t){var e=n.modules[w(t)];return!!e&&e._module},n.traceIs=function(t,e){if("various"===(t=w(t)))return!1;var i=n.modules[t];return i||(t&&r.log("Unrecognized trace type "+t+"."),i=n.modules[c.type.dflt]),!!i.categories[e]},n.getTransformIndices=function(t,e){for(var n=[],r=t.transforms||[],i=0;i<r.length;i++)r[i].type===e&&n.push(i);return n},n.hasTransform=function(t,e){for(var n=t.transforms||[],r=0;r<n.length;r++)if(n[r].type===e)return!0;return!1},n.getComponentMethod=function(t,e){var r=n.componentsRegistry[t];return r&&r[e]||i},n.call=function(){var t=arguments[0],e=[].slice.call(arguments,1);return n.apiMethodRegistry[t].apply(null,e)}},{"./lib/dom":390,"./lib/extend":392,"./lib/is_plain_object":401,"./lib/loggers":404,"./lib/noop":409,"./lib/push_unique":415,"./plots/attributes":446,"./plots/layout_attributes":486}],491:[function(t,e,n){"use strict";var r=t("../registry"),i=t("../lib"),o=i.extendFlat,a=i.extendDeep;function s(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}e.exports=function(t,e){var n,i,l=t.data,c=t.layout,u=a([],l),d=a({},c,s(e.tileClass)),f=t._context||{};if(e.width&&(d.width=e.width),e.height&&(d.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){d.annotations=[];var h=Object.keys(d);for(n=0;n<h.length;n++)i=h[n],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(d[h[n]].title={text:""});for(n=0;n<u.length;n++){var p=u[n];p.showscale=!1,p.marker&&(p.marker.showscale=!1),r.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(e.annotations))for(n=0;n<e.annotations.length;n++)d.annotations.push(e.annotations[n]);var g=Object.keys(d).filter((function(t){return t.match(/^scene\d*$/)}));if(g.length){var m={};for("thumbnail"===e.tileClass&&(m={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<g.length;n++){var v=d[g[n]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),o(v.xaxis,m),o(v.yaxis,m),o(v.zaxis,m),v._scene=null}}var y=document.createElement("div");e.tileClass&&(y.className=e.tileClass);var b={gd:y,td:y,layout:d,data:u,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return"transparent"!==e.setBackground&&(b.config.setBackground=e.setBackground||"opaque"),b.gd.defaultLayout=s(e.tileClass),b}},{"../lib":400,"../registry":490}],492:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plot_api/to_image"),o=t("./filesaver"),a=t("./helpers");e.exports=function(t,e){var n;return r.isPlainObject(t)||(n=r.getGraphDiv(t)),(e=e||{}).format=e.format||"png",e.width=e.width||null,e.height=e.height||null,e.imageDataOnly=!0,new Promise((function(s,l){n&&n._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),r.isIE()&&"svg"!==e.format&&l(new Error(a.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var c=i(t,e),u=e.filename||t.fn||"newplot";u+="."+e.format.replace("-","."),c.then((function(t){return n&&(n._snapshotInProgress=!1),o(t,u,e.format)})).then((function(t){s(t)})).catch((function(t){n&&(n._snapshotInProgress=!1),l(t)}))}))}},{"../lib":400,"../plot_api/to_image":442,"./filesaver":493,"./helpers":494}],493:[function(t,e,n){"use strict";var r=t("../lib"),i=t("./helpers");e.exports=function(t,e,n){var o=document.createElement("a"),a="download"in o;return new Promise((function(s,l){var c,u;if(r.isIE())return c=i.createBlob(t,"svg"),window.navigator.msSaveBlob(c,e),c=null,s(e);if(a)return c=i.createBlob(t,n),u=i.createObjectURL(c),o.href=u,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),i.revokeObjectURL(u),c=null,s(e);if(r.isSafari()){var d="svg"===n?",":";base64,";return i.octetStream(d+encodeURIComponent(t)),s(e)}l(new Error("download error"))}))}},{"../lib":400,"./helpers":494}],494:[function(t,e,n){"use strict";var r=t("../registry");n.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d")||t._has("mapbox"))?500:0},n.getRedrawFunc=function(t){return function(){r.getComponentMethod("colorbar","draw")(t)}},n.encodeSVG=function(t){return"data:image/svg+xml,"+encodeURIComponent(t)},n.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var i=window.URL||window.webkitURL;n.createObjectURL=function(t){return i.createObjectURL(t)},n.revokeObjectURL=function(t){return i.revokeObjectURL(t)},n.createBlob=function(t,e){if("svg"===e)return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([t],{type:"application/json;charset=utf-8"});var n=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(window.atob(t));return new window.Blob([n],{type:"image/"+e})},n.octetStream=function(t){document.location.href="data:application/octet-stream"+t},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":490}],495:[function(t,e,n){"use strict";var r=t("./helpers"),i={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage"),downloadImage:t("./download")};e.exports=i},{"./cloneplot":491,"./download":492,"./helpers":494,"./svgtoimg":496,"./toimage":497,"./tosvg":498}],496:[function(t,e,n){"use strict";var r=t("../lib"),i=t("events").EventEmitter,o=t("./helpers");e.exports=function(t){var e=t.emitter||new i,n=new Promise((function(i,a){var s=window.Image,l=t.svg,c=t.format||"png";if(r.isIE()&&"svg"!==c){var u=new Error(o.MSG_IE_BAD_FORMAT);return a(u),t.promise?n:e.emit("error",u)}var d,f,h=t.canvas,p=t.scale||1,g=t.width||300,m=t.height||150,v=p*g,y=p*m,b=h.getContext("2d",{willReadFrequently:!0}),x=new s;"svg"===c||r.isSafari()?f=o.encodeSVG(l):(d=o.createBlob(l,"svg"),f=o.createObjectURL(d)),h.width=v,h.height=y,x.onload=function(){var n;switch(d=null,o.revokeObjectURL(f),"svg"!==c&&b.drawImage(x,0,0,v,y),c){case"jpeg":n=h.toDataURL("image/jpeg");break;case"png":n=h.toDataURL("image/png");break;case"webp":n=h.toDataURL("image/webp");break;case"svg":n=f;break;default:var r="Image format is not jpeg, png, svg or webp.";if(a(new Error(r)),!t.promise)return e.emit("error",r)}i(n),t.promise||e.emit("success",n)},x.onerror=function(n){if(d=null,o.revokeObjectURL(f),a(n),!t.promise)return e.emit("error",n)},x.src=f}));return t.promise?n:e}},{"../lib":400,"./helpers":494,events:30}],497:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i=t("../registry"),o=t("../lib"),a=t("./helpers"),s=t("./cloneplot"),l=t("./tosvg"),c=t("./svgtoimg");e.exports=function(t,e){var n=new r,u=s(t,{format:"png"}),d=u.gd;d.style.position="absolute",d.style.left="-5000px",document.body.appendChild(d);var f=a.getRedrawFunc(d);return i.call("_doPlot",d,u.data,u.layout,u.config).then(f).then((function(){var t=a.getDelay(d._fullLayout);setTimeout((function(){var t=l(d),r=document.createElement("canvas");r.id=o.randstr(),(n=c({format:e.format,width:d._fullLayout.width,height:d._fullLayout.height,canvas:r,emitter:n,svg:t})).clean=function(){d&&document.body.removeChild(d)}}),t)})).catch((function(t){n.emit("error",t)})),n}},{"../lib":400,"../registry":490,"./cloneplot":491,"./helpers":494,"./svgtoimg":496,"./tosvg":498,events:30}],498:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../lib"),o=t("../components/drawing"),a=t("../components/color"),s=t("../constants/xmlns_namespaces"),l=/"/g,c=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");e.exports=function(t,e,n){var u,d=t._fullLayout,f=d._paper,h=d._toppaper,p=d.width,g=d.height;f.insert("rect",":first-child").call(o.setRect,0,0,p,g).call(a.fill,d.paper_bgcolor);var m=d._basePlotModules||[];for(u=0;u<m.length;u++){var v=m[u];v.toSVG&&v.toSVG(t)}if(h){var y=h.node().childNodes,b=Array.prototype.slice.call(y);for(u=0;u<b.length;u++){var x=b[u];x.childNodes.length&&f.node().appendChild(x)}}d._draggers&&d._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var t=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(l,"TOBESTRIPPED"))}else t.remove()})),f.selectAll(".gradient_filled,.pattern_filled").each((function(){var t=r.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(l,"TOBESTRIPPED"));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&t.style("stroke",n.replace(l,"TOBESTRIPPED"))})),"pdf"!==e&&"eps"!==e||f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(s.xmlns,"xmlns",s.svg),f.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===e&&n&&(f.attr("width",n*p),f.attr("height",n*g),f.attr("viewBox","0 0 "+p+" "+g));var w=(new window.XMLSerializer).serializeToString(f.node());return w=function(t){var e=r.select("body").append("div").style({display:"none"}).html(""),n=t.replace(/(&[^;]*;)/gi,(function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":e.html(t).text()}));return e.remove(),n}(w),w=(w=w.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(c,"'"),i.isIE()&&(w=(w=(w=w.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),w}},{"../components/color":257,"../components/drawing":279,"../constants/xmlns_namespaces":379,"../lib":400,"@plotly/d3":14}],499:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;r.mergeArray(e.text,t,"tx"),r.mergeArray(e.hovertext,t,"htx");var i=e.marker;if(i){r.mergeArray(i.opacity,t,"mo",!0),r.mergeArray(i.color,t,"mc");var o=i.line;o&&(r.mergeArray(o.color,t,"mlc"),r.mergeArrayCastPositive(o.width,t,"mlw"))}}},{"../../lib":400}],500:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),i=t("../../plots/attributes"),o=t("../../plots/font_attributes"),a=t("../../plots/cartesian/axis_format_attributes").axisHoverFormat,s=t("../../plots/template_attributes").hovertemplateAttrs,l=t("../../plots/template_attributes").texttemplateAttrs,c=t("../../components/colorscale/attributes"),u=t("../../lib/extend").extendFlat;e.exports=u({z:{valType:"data_array",editType:"calc"},x:u({},r.x,{impliedEdits:{xtype:"array"}}),x0:u({},r.x0,{impliedEdits:{xtype:"scaled"}}),dx:u({},r.dx,{impliedEdits:{xtype:"scaled"}}),y:u({},r.y,{impliedEdits:{ytype:"array"}}),y0:u({},r.y0,{impliedEdits:{ytype:"scaled"}}),dy:u({},r.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:u({},r.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:u({},r.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:u({},r.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:u({},r.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:u({},r.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:u({},r.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z",1),hovertemplate:s(),texttemplate:l({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:o({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:u({},i.showlegend,{dflt:!1})},{transforms:void 0},c("",{cLetter:"z",autoColorDflt:!1}))},{"../../components/colorscale/attributes":264,"../../lib/extend":392,"../../plots/attributes":446,"../../plots/cartesian/axis_format_attributes":453,"../../plots/font_attributes":478,"../../plots/template_attributes":489,"../scatter/attributes":539}],501:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("../../plots/cartesian/axes"),a=t("../../plots/cartesian/align_period"),s=t("../histogram2d/calc"),l=t("../../components/colorscale/calc"),c=t("./convert_column_xyz"),u=t("./clean_2d_array"),d=t("./interp2d"),f=t("./find_empties"),h=t("./make_bound_array"),p=t("../../constants/numerical").BADNUM;function g(t){for(var e=[],n=t.length,r=0;r<n;r++){var i=t[r];i!==p&&e.push(i)}return e}e.exports=function(t,e){var n,m,v,y,b,x,w,k,_,A,T,M=o.getFromId(t,e.xaxis||"x"),E=o.getFromId(t,e.yaxis||"y"),C=r.traceIs(e,"contour"),S=r.traceIs(e,"histogram"),O=r.traceIs(e,"gl2d"),L=C?"best":e.zsmooth;if(M._minDtick=0,E._minDtick=0,S)y=(T=s(t,e)).orig_x,n=T.x,m=T.x0,v=T.dx,k=T.orig_y,b=T.y,x=T.y0,w=T.dy,_=T.z;else{var P=e.z;i.isArray1D(P)?(c(e,M,E,"x","y",["z"]),n=e._x,b=e._y,P=e._z):(y=e.x?M.makeCalcdata(e,"x"):[],k=e.y?E.makeCalcdata(e,"y"):[],n=a(e,M,"x",y).vals,b=a(e,E,"y",k).vals,e._x=n,e._y=b),m=e.x0,v=e.dx,x=e.y0,w=e.dy,_=u(P,e,M,E)}function D(t){L=e._input.zsmooth=e.zsmooth=!1,i.warn('cannot use zsmooth: "fast": '+t)}if((M.rangebreaks||E.rangebreaks)&&(_=function(t,e,n){for(var r=[],i=-1,o=0;o<n.length;o++)if(e[o]!==p){r[++i]=[];for(var a=0;a<n[o].length;a++)t[a]!==p&&r[i].push(n[o][a])}return r}(n,b,_),S||(n=g(n),b=g(b),e._x=n,e._y=b)),S||!C&&!e.connectgaps||(e._emptypoints=f(_),d(_,e._emptypoints)),"fast"===L)if("log"===M.type||"log"===E.type)D("log axis found");else if(!S){if(n.length){var R=(n[n.length-1]-n[0])/(n.length-1),I=Math.abs(R/100);for(A=0;A<n.length-1;A++)if(Math.abs(n[A+1]-n[A]-R)>I){D("x scale is not linear");break}}if(b.length&&"fast"===L){var z=(b[b.length-1]-b[0])/(b.length-1),N=Math.abs(z/100);for(A=0;A<b.length-1;A++)if(Math.abs(b[A+1]-b[A]-z)>N){D("y scale is not linear");break}}}var B=i.maxRowLength(_),F="scaled"===e.xtype?"":n,j=h(e,F,m,v,B,M),$="scaled"===e.ytype?"":b,Z=h(e,$,x,w,_.length,E);O||(e._extremes[M._id]=o.findExtremes(M,j),e._extremes[E._id]=o.findExtremes(E,Z));var U={x:j,y:Z,z:_,text:e._text||e.text,hovertext:e._hovertext||e.hovertext};if(e.xperiodalignment&&y&&(U.orig_x=y),e.yperiodalignment&&k&&(U.orig_y=k),F&&F.length===j.length-1&&(U.xCenter=F),$&&$.length===Z.length-1&&(U.yCenter=$),S&&(U.xRanges=T.xRanges,U.yRanges=T.yRanges,U.pts=T.pts),C||l(t,e,{vals:_,cLetter:"z"}),C&&e.contours&&"heatmap"===e.contours.coloring){var H={type:"contour"===e.type?"heatmap":"histogram2d",xcalendar:e.xcalendar,ycalendar:e.ycalendar};U.xfill=h(H,F,m,v,B,M),U.yfill=h(H,$,x,w,_.length,E)}return[U]}},{"../../components/colorscale/calc":265,"../../constants/numerical":378,"../../lib":400,"../../plots/cartesian/align_period":447,"../../plots/cartesian/axes":450,"../../registry":490,"../histogram2d/calc":518,"./clean_2d_array":502,"./convert_column_xyz":504,"./find_empties":505,"./interp2d":506,"./make_bound_array":507}],502:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../constants/numerical").BADNUM;e.exports=function(t,e,n,a){var s,l,c,u,d,f;function h(t){if(r(t))return+t}if(e&&e.transpose){for(s=0,d=0;d<t.length;d++)s=Math.max(s,t[d].length);if(0===s)return!1;c=function(t){return t.length},u=function(t,e,n){return(t[n]||[])[e]}}else s=t.length,c=function(t,e){return t[e].length},u=function(t,e,n){return(t[e]||[])[n]};var p=function(t,e,n){return e===o||n===o?o:u(t,e,n)};function g(t){if(e&&"carpet"!==e.type&&"contourcarpet"!==e.type&&t&&"category"===t.type&&e["_"+t._id.charAt(0)].length){var n=t._id.charAt(0),r={},a=e["_"+n+"CategoryMap"]||e[n];for(d=0;d<a.length;d++)r[a[d]]=d;return function(e){var n=r[t._categories[e]];return n+1?n:o}}return i.identity}var m=g(n),v=g(a);a&&"category"===a.type&&(s=a._categories.length);var y=new Array(s);for(d=0;d<s;d++)for(l=n&&"category"===n.type?n._categories.length:c(t,d),y[d]=new Array(l),f=0;f<l;f++)y[d][f]=h(p(t,v(d),m(f)));return y}},{"../../constants/numerical":378,"../../lib":400,"fast-isnumeric":121}],503:[function(t,e,n){"use strict";e.exports={min:"zmin",max:"zmax"}},{}],504:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../constants/numerical").BADNUM,o=t("../../plots/cartesian/align_period");e.exports=function(t,e,n,a,s,l){var c=t._length,u=e.makeCalcdata(t,a),d=n.makeCalcdata(t,s);u=o(t,e,a,u).vals,d=o(t,n,s,d).vals;var f,h,p,g,m=t.text,v=void 0!==m&&r.isArray1D(m),y=t.hovertext,b=void 0!==y&&r.isArray1D(y),x=r.distinctVals(u),w=x.vals,k=r.distinctVals(d),_=k.vals,A=[],T=_.length,M=w.length;for(f=0;f<l.length;f++)A[f]=r.init2dArray(T,M);v&&(p=r.init2dArray(T,M)),b&&(g=r.init2dArray(T,M));var E=r.init2dArray(T,M);for(f=0;f<c;f++)if(u[f]!==i&&d[f]!==i){var C=r.findBin(u[f]+x.minDiff/2,w),S=r.findBin(d[f]+k.minDiff/2,_);for(h=0;h<l.length;h++){var O=t[l[h]];A[h][S][C]=O[f],E[S][C]=f}v&&(p[S][C]=m[f]),b&&(g[S][C]=y[f])}for(t["_"+a]=w,t["_"+s]=_,h=0;h<l.length;h++)t["_"+l[h]]=A[h];v&&(t._text=p),b&&(t._hovertext=g),e&&"category"===e.type&&(t["_"+a+"CategoryMap"]=w.map((function(t){return e._categories[t]}))),n&&"category"===n.type&&(t["_"+s+"CategoryMap"]=_.map((function(t){return n._categories[t]}))),t._after2before=E}},{"../../constants/numerical":378,"../../lib":400,"../../plots/cartesian/align_period":447}],505:[function(t,e,n){"use strict";var r=t("../../lib").maxRowLength;e.exports=function(t){var e,n,i,o,a,s,l,c,u=[],d={},f=[],h=t[0],p=[],g=[0,0,0],m=r(t);for(n=0;n<t.length;n++)for(e=p,p=h,h=t[n+1]||[],i=0;i<m;i++)void 0===p[i]&&((s=(void 0!==p[i-1]?1:0)+(void 0!==p[i+1]?1:0)+(void 0!==e[i]?1:0)+(void 0!==h[i]?1:0))?(0===n&&s++,0===i&&s++,n===t.length-1&&s++,i===p.length-1&&s++,s<4&&(d[[n,i]]=[n,i,s]),u.push([n,i,s])):f.push([n,i]));for(;f.length;){for(l={},c=!1,a=f.length-1;a>=0;a--)(s=((d[[(n=(o=f[a])[0])-1,i=o[1]]]||g)[2]+(d[[n+1,i]]||g)[2]+(d[[n,i-1]]||g)[2]+(d[[n,i+1]]||g)[2])/20)&&(l[o]=[n,i,s],f.splice(a,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(o in l)d[o]=l[o],u.push(l[o])}return u.sort((function(t,e){return e[2]-t[2]}))}},{"../../lib":400}],506:[function(t,e,n){"use strict";var r=t("../../lib"),i=[[-1,0],[1,0],[0,-1],[0,1]];function o(t){return.5-.25*Math.min(1,.5*t)}function a(t,e,n){var r,o,a,s,l,c,u,d,f,h,p,g,m,v=0;for(s=0;s<e.length;s++){for(o=(r=e[s])[0],a=r[1],p=t[o][a],h=0,f=0,l=0;l<4;l++)(u=t[o+(c=i[l])[0]])&&void 0!==(d=u[a+c[1]])&&(0===h?g=m=d:(g=Math.min(g,d),m=Math.max(m,d)),f++,h+=d);if(0===f)throw"iterateInterp2d order is wrong: no defined neighbors";t[o][a]=h/f,void 0===p?f<4&&(v=1):(t[o][a]=(1+n)*t[o][a]-n*p,m>g&&(v=Math.max(v,Math.abs(t[o][a]-p)/(m-g))))}return v}e.exports=function(t,e){var n,i=1;for(a(t,e),n=0;n<e.length&&!(e[n][2]<4);n++);for(e=e.slice(n),n=0;n<100&&i>.01;n++)i=a(t,e,o(i));return i>.01&&r.log("interp2d didn't converge quickly",i),t}},{"../../lib":400}],507:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib").isArrayOrTypedArray;e.exports=function(t,e,n,o,a,s){var l,c,u,d=[],f=r.traceIs(t,"contour"),h=r.traceIs(t,"histogram"),p=r.traceIs(t,"gl2d");if(i(e)&&e.length>1&&!h&&"category"!==s.type){var g=e.length;if(!(g<=a))return f?e.slice(0,a):e.slice(0,a+1);if(f||p)d=e.slice(0,a);else if(1===a)d=[e[0]-.5,e[0]+.5];else{for(d=[1.5*e[0]-.5*e[1]],u=1;u<g;u++)d.push(.5*(e[u-1]+e[u]));d.push(1.5*e[g-1]-.5*e[g-2])}if(g<a){var m=d[d.length-1],v=m-d[d.length-2];for(u=g;u<a;u++)m+=v,d.push(m)}}else{var y=t[s._id.charAt(0)+"calendar"];for(l=h?s.r2c(n,0,y):i(e)&&1===e.length?e[0]:void 0===n?0:("log"===s.type?s.d2c:s.r2c)(n,0,y),c=o||1,u=f||p?0:-.5;u<a;u++)d.push(l+c*u)}return d}},{"../../lib":400,"../../registry":490}],508:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../registry");function a(t,e){var n=e(t);return"scaled"===(n?e(t+"type","array"):"scaled")&&(e(t+"0"),e("d"+t)),n}e.exports=function(t,e,n,s,l,c){var u,d,f=n("z");if(l=l||"x",c=c||"y",void 0===f||!f.length)return 0;if(i.isArray1D(t.z)){u=n(l),d=n(c);var h=i.minRowLength(u),p=i.minRowLength(d);if(0===h||0===p)return 0;e._length=Math.min(h,p,f.length)}else{if(u=a(l,n),d=a(c,n),!function(t){for(var e,n=!0,o=!1,a=!1,s=0;s<t.length;s++){if(e=t[s],!i.isArrayOrTypedArray(e)){n=!1;break}e.length>0&&(o=!0);for(var l=0;l<e.length;l++)if(r(e[l])){a=!0;break}}return n&&o&&a}(f))return 0;n("transpose"),e._length=null}return"heatmapgl"===t.type||o.getComponentMethod("calendars","handleTraceDefaults")(t,e,[l,c],s),!0}},{"../../lib":400,"../../registry":490,"fast-isnumeric":121}],509:[function(t,e,n){"use strict";for(var r=t("../heatmap/attributes"),i=t("../../components/colorscale/attributes"),o=t("../../lib/extend").extendFlat,a=t("../../plot_api/edit_types").overrideAll,s=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],l={},c=0;c<s.length;c++){var u=s[c];l[u]=r[u]}l.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},o(l,i("",{cLetter:"z",autoColorDflt:!1})),e.exports=a(l,"calc","nested")},{"../../components/colorscale/attributes":264,"../../lib/extend":392,"../../plot_api/edit_types":432,"../heatmap/attributes":500}],510:[function(t,e,n){"use strict";var r=t("../../../stackgl_modules").gl_heatmap2d,i=t("../../plots/cartesian/axes"),o=t("../../lib/str2rgbarray");function a(t,e){this.scene=t,this.uid=e,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=r(t.glplot,this.options),this.heatmap._trace=this}var s=a.prototype;s.handlePick=function(t){var e=this.options,n=e.shape,r=t.pointId,i=r%n[0],o=Math.floor(r/n[0]),a=r;return{trace:this,dataCoord:t.dataCoord,traceCoord:[e.x[i],e.y[o],e.z[a]],textLabel:this.textLabels[r],name:this.name,pointIndex:[o,i],hoverinfo:this.hoverinfo}},s.update=function(t,e){var n=e[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var r=n.z;this.options.z=[].concat.apply([],r);var a=r[0].length,s=r.length;this.options.shape=[a,s],this.options.x=n.x,this.options.y=n.y,this.options.zsmooth=t.zsmooth;var l=function(t){for(var e=t.colorscale,n=t.zmin,r=t.zmax,i=e.length,a=new Array(i),s=new Array(4*i),l=0;l<i;l++){var c=e[l],u=o(c[1]);a[l]=n+c[0]*(r-n);for(var d=0;d<4;d++)s[4*l+d]=u[d]}return{colorLevels:a,colorValues:s}}(t);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var c,u,d=this.scene.xaxis,f=this.scene.yaxis;!1===t.zsmooth&&(c={ppad:n.x[1]-n.x[0]},u={ppad:n.y[1]-n.y[0]}),t._extremes[d._id]=i.findExtremes(d,n.x,c),t._extremes[f._id]=i.findExtremes(f,n.y,u)},s.dispose=function(){this.heatmap.dispose()},e.exports=function(t,e,n){var r=new a(t,e.uid);return r.update(e,n),r}},{"../../../stackgl_modules":600,"../../lib/str2rgbarray":425,"../../plots/cartesian/axes":450}],511:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../heatmap/xyz_defaults"),o=t("../../components/colorscale/defaults"),a=t("./attributes");e.exports=function(t,e,n,s){function l(n,i){return r.coerce(t,e,a,n,i)}i(t,e,l,s)?(l("text"),l("zsmooth"),o(t,e,s,l,{prefix:"",cLetter:"z"})):e.visible=!1}},{"../../components/colorscale/defaults":267,"../../lib":400,"../heatmap/xyz_defaults":508,"./attributes":509}],512:[function(t,e,n){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),e.exports={attributes:t("./attributes"),supplyDefaults:t("./defaults"),colorbar:t("../heatmap/colorbar"),calc:t("../heatmap/calc"),plot:t("./convert"),moduleType:"trace",name:"heatmapgl",basePlotModule:t("../../plots/gl2d"),categories:["gl","gl2d","2dMap"],meta:{}}},{"../../plots/gl2d":483,"../heatmap/calc":501,"../heatmap/colorbar":503,"./attributes":509,"./convert":510,"./defaults":511}],513:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=t.length,r=0,i=0;i<n;i++)e[i]?(t[i]/=e[i],r+=t[i]):t[i]=null;return r}},{}],514:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports={count:function(t,e,n){return n[t]++,1},sum:function(t,e,n,i){var o=i[e];return r(o)?(o=Number(o),n[t]+=o,o):0},avg:function(t,e,n,i,o){var a=i[e];return r(a)&&(a=Number(a),n[t]+=a,o[t]++),0},min:function(t,e,n,i){var o=i[e];if(r(o)){if(o=Number(o),!r(n[t]))return n[t]=o,o;if(n[t]>o){var a=o-n[t];return n[t]=o,a}}return 0},max:function(t,e,n,i){var o=i[e];if(r(o)){if(o=Number(o),!r(n[t]))return n[t]=o,o;if(n[t]<o){var a=o-n[t];return n[t]=o,a}}return 0}}},{"fast-isnumeric":121}],515:[function(t,e,n){"use strict";var r=t("../../constants/numerical"),i=r.ONEAVGYEAR,o=r.ONEAVGMONTH,a=r.ONEDAY,s=r.ONEHOUR,l=r.ONEMIN,c=r.ONESEC,u=t("../../plots/cartesian/axes").tickIncrement;function d(t,e,n,r){if(t*e<=0)return 1/0;for(var i=Math.abs(e-t),o="date"===n.type,a=f(i,o),s=0;s<10;s++){var l=f(80*a,o);if(a===l)break;if(!h(l,t,e,o,n,r))break;a=l}return a}function f(t,e){return e&&t>c?t>a?t>1.1*i?i:t>1.1*o?o:a:t>s?s:t>l?l:c:Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function h(t,e,n,r,o,s){if(r&&t>a){var l=p(e,o,s),c=p(n,o,s),u=t===i?0:1;return l[u]!==c[u]}return Math.floor(n/t)-Math.floor(e/t)>.1}function p(t,e,n){var r=e.c2d(t,i,n).split("-");return""===r[0]&&(r.unshift(),r[0]="-"+r[0]),r}e.exports=function(t,e,n,r,o){var s,l,c=-1.1*e,f=-.1*e,h=t-f,p=n[0],g=n[1],m=Math.min(d(p+f,p+h,r,o),d(g+f,g+h,r,o)),v=Math.min(d(p+c,p+f,r,o),d(g+c,g+f,r,o));if(m>v&&v<Math.abs(g-p)/4e3?(s=m,l=!1):(s=Math.min(m,v),l=!0),"date"===r.type&&s>a){var y=s===i?1:6,b=s===i?"M12":"M1";return function(e,n){var a=r.c2d(e,i,o),s=a.indexOf("-",y);s>0&&(a=a.substr(0,s));var c=r.d2c(a,0,o);if(c<e){var d=u(c,b,!1,o);(c+d)/2<e+t&&(c=d)}return n&&l?u(c,b,!0,o):c}}return function(e,n){var r=s*Math.round(e/s);return r+s/10<e&&r+.9*s<e+t&&(r+=s),n&&l&&(r-=s),r}}},{"../../constants/numerical":378,"../../plots/cartesian/axes":450}],516:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../registry"),a=t("../../plots/cartesian/axes"),s=t("../bar/arrays_to_calcdata"),l=t("./bin_functions"),c=t("./norm_functions"),u=t("./average"),d=t("./bin_label_vals");function f(t,e,n,s,l){var c,u,d,h,p,g,m,v=s+"bins",y=t._fullLayout,b=e["_"+s+"bingroup"],x=y._histogramBinOpts[b],w="overlay"===y.barmode,k=function(t){return n.r2c(t,0,h)},_=function(t){return n.c2r(t,0,h)},A="date"===n.type?function(t){return t||0===t?i.cleanDate(t,null,h):null}:function(t){return r(t)?Number(t):null};function T(t,e,n){e[t+"Found"]?(e[t]=A(e[t]),null===e[t]&&(e[t]=n[t])):(g[t]=e[t]=n[t],i.nestedProperty(u[0],v+"."+t).set(n[t]))}if(e["_"+s+"autoBinFinished"])delete e["_"+s+"autoBinFinished"];else{u=x.traces;var M=[],E=!0,C=!1,S=!1;for(c=0;c<u.length;c++)if((d=u[c]).visible){var O=x.dirs[c];p=d["_"+O+"pos0"]=n.makeCalcdata(d,O),M=i.concat(M,p),delete d["_"+s+"autoBinFinished"],!0===e.visible&&(E?E=!1:(delete d._autoBin,d["_"+s+"autoBinFinished"]=1),o.traceIs(d,"2dMap")&&(C=!0),"histogram2dcontour"===d.type&&(S=!0))}h=u[0][s+"calendar"];var L=a.autoBin(M,n,x.nbins,C,h,x.sizeFound&&x.size),P=u[0]._autoBin={};if(g=P[x.dirs[0]]={},S&&(x.size||(L.start=_(a.tickIncrement(k(L.start),L.size,!0,h))),void 0===x.end&&(L.end=_(a.tickIncrement(k(L.end),L.size,!1,h)))),w&&!o.traceIs(e,"2dMap")&&0===L._dataSpan&&"category"!==n.type&&"multicategory"!==n.type){if(l)return[L,p,!0];L=function(t,e,n,r,o){var a,s,l,c=t._fullLayout,u=function(t,e){for(var n=e.xaxis,r=e.yaxis,i=e.orientation,o=[],a=t._fullData,s=0;s<a.length;s++){var l=a[s];"histogram"===l.type&&!0===l.visible&&l.orientation===i&&l.xaxis===n&&l.yaxis===r&&o.push(l)}return o}(t,e),d=!1,h=1/0,p=[e];for(a=0;a<u.length;a++)if((s=u[a])===e)d=!0;else if(d){var g=f(t,s,n,r,!0),m=g[0],v=g[2];s["_"+r+"autoBinFinished"]=1,s["_"+r+"pos0"]=g[1],v?p.push(s):h=Math.min(h,m.size)}else l=c._histogramBinOpts[s["_"+r+"bingroup"]],h=Math.min(h,l.size||s[o].size);var y=new Array(p.length);for(a=0;a<p.length;a++)for(var b=p[a]["_"+r+"pos0"],x=0;x<b.length;x++)if(void 0!==b[x]){y[a]=b[x];break}for(isFinite(h)||(h=i.distinctVals(y).minDiff),a=0;a<p.length;a++){var w=(s=p[a])[r+"calendar"],k={start:n.c2r(y[a]-h/2,0,w),end:n.c2r(y[a]+h/2,0,w),size:h};s._input[o]=s[o]=k,(l=c._histogramBinOpts[s["_"+r+"bingroup"]])&&i.extendFlat(l,k)}return e[o]}(t,e,n,s,v)}(m=d.cumulative||{}).enabled&&"include"!==m.currentbin&&("decreasing"===m.direction?L.start=_(a.tickIncrement(k(L.start),L.size,!0,h)):L.end=_(a.tickIncrement(k(L.end),L.size,!1,h))),x.size=L.size,x.sizeFound||(g.size=L.size,i.nestedProperty(u[0],v+".size").set(L.size)),T("start",x,L),T("end",x,L)}p=e["_"+s+"pos0"],delete e["_"+s+"pos0"];var D=e._input[v]||{},R=i.extendFlat({},x),I=x.start,z=n.r2l(D.start),N=void 0!==z;if((x.startFound||N)&&z!==n.r2l(I)){var B=N?z:i.aggNums(Math.min,null,p),F={type:"category"===n.type||"multicategory"===n.type?"linear":n.type,r2l:n.r2l,dtick:x.size,tick0:I,calendar:h,range:[B,a.tickIncrement(B,x.size,!1,h)].map(n.l2r)},j=a.tickFirst(F);j>n.r2l(B)&&(j=a.tickIncrement(j,x.size,!0,h)),R.start=n.l2r(j),N||i.nestedProperty(e,v+".start").set(R.start)}var $=x.end,Z=n.r2l(D.end),U=void 0!==Z;if((x.endFound||U)&&Z!==n.r2l($)){var H=U?Z:i.aggNums(Math.max,null,p);R.end=n.l2r(H),U||i.nestedProperty(e,v+".start").set(R.end)}var V="autobin"+s;return!1===e._input[V]&&(e._input[v]=i.extendFlat({},e[v]||{}),delete e._input[V],delete e[V]),[R,p]}e.exports={calc:function(t,e){var n,o,h,p,g=[],m=[],v="h"===e.orientation,y=a.getFromId(t,v?e.yaxis:e.xaxis),b=v?"y":"x",x={x:"y",y:"x"}[b],w=e[b+"calendar"],k=e.cumulative,_=f(t,e,y,b),A=_[0],T=_[1],M="string"==typeof A.size,E=[],C=M?E:A,S=[],O=[],L=[],P=0,D=e.histnorm,R=e.histfunc,I=-1!==D.indexOf("density");k.enabled&&I&&(D=D.replace(/ ?density$/,""),I=!1);var z,N="max"===R||"min"===R?null:0,B=l.count,F=c[D],j=!1,$=function(t){return y.r2c(t,0,w)};for(i.isArrayOrTypedArray(e[x])&&"count"!==R&&(z=e[x],j="avg"===R,B=l[R]),n=$(A.start),h=$(A.end)+(n-a.tickIncrement(n,A.size,!1,w))/1e6;n<h&&g.length<1e6&&(o=a.tickIncrement(n,A.size,!1,w),g.push((n+o)/2),m.push(N),L.push([]),E.push(n),I&&S.push(1/(o-n)),j&&O.push(0),!(o<=n));)n=o;E.push(n),M||"date"!==y.type||(C={start:$(C.start),end:$(C.end),size:C.size}),t._fullLayout._roundFnOpts||(t._fullLayout._roundFnOpts={});var Z=e["_"+b+"bingroup"],U={leftGap:1/0,rightGap:1/0};Z&&(t._fullLayout._roundFnOpts[Z]||(t._fullLayout._roundFnOpts[Z]=U),U=t._fullLayout._roundFnOpts[Z]);var H,V=m.length,W=!0,Y=U.leftGap,G=U.rightGap,q={};for(n=0;n<T.length;n++){var X=T[n];(p=i.findBin(X,C))>=0&&p<V&&(P+=B(p,n,m,z,O),W&&L[p].length&&X!==T[L[p][0]]&&(W=!1),L[p].push(n),q[n]=p,Y=Math.min(Y,X-E[p]),G=Math.min(G,E[p+1]-X))}U.leftGap=Y,U.rightGap=G,W||(H=function(e,n){return function(){var r=t._fullLayout._roundFnOpts[Z];return d(r.leftGap,r.rightGap,E,y,w)(e,n)}}),j&&(P=u(m,O)),F&&F(m,P,S),k.enabled&&function(t,e,n){var r,i,o;function a(e){o=t[e],t[e]/=2}function s(e){i=t[e],t[e]=o+i/2,o+=i}if("half"===n)if("increasing"===e)for(a(0),r=1;r<t.length;r++)s(r);else for(a(t.length-1),r=t.length-2;r>=0;r--)s(r);else if("increasing"===e){for(r=1;r<t.length;r++)t[r]+=t[r-1];"exclude"===n&&(t.unshift(0),t.pop())}else{for(r=t.length-2;r>=0;r--)t[r]+=t[r+1];"exclude"===n&&(t.push(0),t.shift())}}(m,k.direction,k.currentbin);var J=Math.min(g.length,m.length),K=[],Q=0,tt=J-1;for(n=0;n<J;n++)if(m[n]){Q=n;break}for(n=J-1;n>=Q;n--)if(m[n]){tt=n;break}for(n=Q;n<=tt;n++)if(r(g[n])&&r(m[n])){var et={p:g[n],s:m[n],b:0};k.enabled||(et.pts=L[n],W?et.ph0=et.ph1=L[n].length?T[L[n][0]]:g[n]:(e._computePh=!0,et.ph0=H(E[n]),et.ph1=H(E[n+1],!0))),K.push(et)}return 1===K.length&&(K[0].width1=a.tickIncrement(K[0].p,A.size,!1,w)-K[0].p),s(K,e),i.isArrayOrTypedArray(e.selectedpoints)&&i.tagSelected(K,e,q),K},calcAllAutoBins:f}},{"../../lib":400,"../../plots/cartesian/axes":450,"../../registry":490,"../bar/arrays_to_calcdata":499,"./average":513,"./bin_functions":514,"./bin_label_vals":515,"./norm_functions":517,"fast-isnumeric":121}],517:[function(t,e,n){"use strict";e.exports={percent:function(t,e){for(var n=t.length,r=100/e,i=0;i<n;i++)t[i]*=r},probability:function(t,e){for(var n=t.length,r=0;r<n;r++)t[r]/=e},density:function(t,e,n,r){var i=t.length;r=r||1;for(var o=0;o<i;o++)t[o]*=n[o]*r},"probability density":function(t,e,n,r){var i=t.length;r&&(e/=r);for(var o=0;o<i;o++)t[o]*=n[o]/e}}},{}],518:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../histogram/bin_functions"),a=t("../histogram/norm_functions"),s=t("../histogram/average"),l=t("../histogram/bin_label_vals"),c=t("../histogram/calc").calcAllAutoBins;function u(t,e,n,r){var i,o=new Array(t);if(r)for(i=0;i<t;i++)o[i]=1/(e[i+1]-e[i]);else{var a=1/n;for(i=0;i<t;i++)o[i]=a}return o}function d(t,e){return{start:t(e.start),end:t(e.end),size:e.size}}function f(t,e,n,r,i,o){var a,s=t.length-1,c=new Array(s),u=l(n,r,t,i,o);for(a=0;a<s;a++){var d=(e||[])[a];c[a]=void 0===d?[u(t[a]),u(t[a+1],!0)]:[d,d]}return c}e.exports=function(t,e){var n,l,h,p,g=i.getFromId(t,e.xaxis),m=i.getFromId(t,e.yaxis),v=e.xcalendar,y=e.ycalendar,b=function(t){return g.r2c(t,0,v)},x=function(t){return m.r2c(t,0,y)},w=c(t,e,g,"x"),k=w[0],_=w[1],A=c(t,e,m,"y"),T=A[0],M=A[1],E=e._length;_.length>E&&_.splice(E,_.length-E),M.length>E&&M.splice(E,M.length-E);var C=[],S=[],O=[],L="string"==typeof k.size,P="string"==typeof T.size,D=[],R=[],I=L?D:k,z=P?R:T,N=0,B=[],F=[],j=e.histnorm,$=e.histfunc,Z=-1!==j.indexOf("density"),U="max"===$||"min"===$?null:0,H=o.count,V=a[j],W=!1,Y=[],G=[],q="z"in e?e.z:"marker"in e&&Array.isArray(e.marker.color)?e.marker.color:"";q&&"count"!==$&&(W="avg"===$,H=o[$]);var X=k.size,J=b(k.start),K=b(k.end)+(J-i.tickIncrement(J,X,!1,v))/1e6;for(n=J;n<K;n=i.tickIncrement(n,X,!1,v))S.push(U),D.push(n),W&&O.push(0);D.push(n);var Q,tt=S.length,et=(n-J)/tt,nt=(Q=J+et/2,g.c2r(Q,0,v)),rt=T.size,it=x(T.start),ot=x(T.end)+(it-i.tickIncrement(it,rt,!1,y))/1e6;for(n=it;n<ot;n=i.tickIncrement(n,rt,!1,y)){C.push(S.slice()),R.push(n);var at=new Array(tt);for(l=0;l<tt;l++)at[l]=[];F.push(at),W&&B.push(O.slice())}R.push(n);var st=C.length,lt=(n-it)/st,ct=function(t){return m.c2r(t,0,y)}(it+lt/2);Z&&(Y=u(S.length,I,et,L),G=u(C.length,z,lt,P)),L||"date"!==g.type||(I=d(b,I)),P||"date"!==m.type||(z=d(x,z));var ut=!0,dt=!0,ft=new Array(tt),ht=new Array(st),pt=1/0,gt=1/0,mt=1/0,vt=1/0;for(n=0;n<E;n++){var yt=_[n],bt=M[n];h=r.findBin(yt,I),p=r.findBin(bt,z),h>=0&&h<tt&&p>=0&&p<st&&(N+=H(h,n,C[p],q,B[p]),F[p][h].push(n),ut&&(void 0===ft[h]?ft[h]=yt:ft[h]!==yt&&(ut=!1)),dt&&(void 0===ht[p]?ht[p]=bt:ht[p]!==bt&&(dt=!1)),pt=Math.min(pt,yt-D[h]),gt=Math.min(gt,D[h+1]-yt),mt=Math.min(mt,bt-R[p]),vt=Math.min(vt,R[p+1]-bt))}if(W)for(p=0;p<st;p++)N+=s(C[p],B[p]);if(V)for(p=0;p<st;p++)V(C[p],N,Y,G[p]);return{x:_,xRanges:f(D,ut&&ft,pt,gt,g,v),x0:nt,dx:et,y:M,yRanges:f(R,dt&&ht,mt,vt,m,y),y0:ct,dy:lt,z:C,pts:F}}},{"../../lib":400,"../../plots/cartesian/axes":450,"../histogram/average":513,"../histogram/bin_functions":514,"../histogram/bin_label_vals":515,"../histogram/calc":516,"../histogram/norm_functions":517}],519:[function(t,e,n){"use strict";var r=t("../../components/colorscale/attributes"),i=t("../../plots/cartesian/layout_attributes"),o=t("../../plots/font_attributes"),a=t("../../plots/domain").attributes,s=t("../../lib/extend").extendFlat,l=t("../../plot_api/plot_template").templatedArray;e.exports={domain:a({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:o({editType:"plot"}),tickfont:o({editType:"plot"}),rangefont:o({editType:"plot"}),dimensions:l("dimension",{label:{valType:"string",editType:"plot"},tickvals:s({},i.tickvals,{editType:"plot"}),ticktext:s({},i.ticktext,{editType:"plot"}),tickformat:s({},i.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:s({editType:"calc"},r("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},{"../../components/colorscale/attributes":264,"../../lib/extend":392,"../../plot_api/plot_template":439,"../../plots/cartesian/layout_attributes":463,"../../plots/domain":477,"../../plots/font_attributes":478}],520:[function(t,e,n){"use strict";var r=t("./constants"),i=t("@plotly/d3"),o=t("../../lib/gup").keyFun,a=t("../../lib/gup").repeat,s=t("../../lib").sorterAsc,l=t("../../lib").strTranslate,c=r.bar.snapRatio;function u(t,e){return t*(1-c)+e*c}var d=r.bar.snapClose;function f(t,e){return t*(1-d)+e*d}function h(t,e,n,r){if(function(t,e){for(var n=0;n<e.length;n++)if(t>=e[n][0]&&t<=e[n][1])return!0;return!1}(n,r))return n;var i=t?-1:1,o=0,a=e.length-1;if(i<0){var s=o;o=a,a=s}for(var l=e[o],c=l,d=o;i*d<i*a;d+=i){var h=d+i,p=e[h];if(i*n<i*f(l,p))return u(l,c);if(i*n<i*p||h===a)return u(p,l);c=l,l=p}}function p(t){t.attr("x",-r.bar.captureWidth/2).attr("width",r.bar.captureWidth)}function g(t){t.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(t){if(!t.brush.filterSpecified)return"0,"+t.height;for(var e,n,r,i=v(t.brush.filter.getConsolidated(),t.height),o=[0],a=i.length?i[0][0]:null,s=0;s<i.length;s++)n=(e=i[s])[1]-e[0],o.push(a),o.push(n),(r=s+1)<i.length&&(a=i[r][0]-e[1]);return o.push(t.height),o}function v(t,e){return t.map((function(t){return t.map((function(t){return Math.max(0,t*e)})).sort(s)}))}function y(){i.select(document.body).style("cursor",null)}function b(t){t.attr("stroke-dasharray",m)}function x(t,e){var n=i.select(t).selectAll(".highlight, .highlight-shadow");b(e?n.transition().duration(r.bar.snapDuration).each("end",e):n)}function w(t,e){var n,i=t.brush,o=NaN,a={};if(i.filterSpecified){var s=t.height,l=i.filter.getConsolidated(),c=v(l,s),u=NaN,d=NaN,f=NaN;for(n=0;n<=c.length;n++){var h=c[n];if(h&&h[0]<=e&&e<=h[1]){u=n;break}if(d=n?n-1:NaN,h&&h[0]>e){f=n;break}}if(o=u,isNaN(o)&&(o=isNaN(d)||isNaN(f)?isNaN(d)?f:d:e-c[d][1]<c[f][0]-e?d:f),!isNaN(o)){var p=c[o],g=function(t,e){var n=r.bar.handleHeight;if(!(e>t[1]+n||e<t[0]-n))return e>=.9*t[1]+.1*t[0]?"n":e<=.9*t[0]+.1*t[1]?"s":"ns"}(p,e);g&&(a.interval=l[o],a.intervalPix=p,a.region=g)}}if(t.ordinal&&!a.region){var m=t.unitTickvals,y=t.unitToPaddedPx.invert(e);for(n=0;n<m.length;n++){var b=[.25*m[Math.max(n-1,0)]+.75*m[n],.25*m[Math.min(n+1,m.length-1)]+.75*m[n]];if(y>=b[0]&&y<=b[1]){a.clickableOrdinalRange=b;break}}}return a}function k(t,e){i.event.sourceEvent.stopPropagation();var n=e.height-i.mouse(t)[1]-2*r.verticalPadding,o=e.brush.svgBrush;o.wasDragged=!0,o._dragging=!0,o.grabbingBar?o.newExtent=[n-o.grabPoint,n+o.barLength-o.grabPoint].map(e.unitToPaddedPx.invert):o.newExtent=[o.startExtent,e.unitToPaddedPx.invert(n)].sort(s),e.brush.filterSpecified=!0,o.extent=o.stayingIntervals.concat([o.newExtent]),o.brushCallback(e),x(t.parentNode)}function _(t,e){var n=w(e,e.height-i.mouse(t)[1]-2*r.verticalPadding),o="crosshair";n.clickableOrdinalRange?o="pointer":n.region&&(o=n.region+"-resize"),i.select(document.body).style("cursor",o)}function A(t){t.on("mousemove",(function(t){i.event.preventDefault(),t.parent.inBrushDrag||_(this,t)})).on("mouseleave",(function(t){t.parent.inBrushDrag||y()})).call(i.behavior.drag().on("dragstart",(function(t){!function(t,e){i.event.sourceEvent.stopPropagation();var n=e.height-i.mouse(t)[1]-2*r.verticalPadding,o=e.unitToPaddedPx.invert(n),a=e.brush,s=w(e,n),l=s.interval,c=a.svgBrush;if(c.wasDragged=!1,c.grabbingBar="ns"===s.region,c.grabbingBar){var u=l.map(e.unitToPaddedPx);c.grabPoint=n-u[0]-r.verticalPadding,c.barLength=u[1]-u[0]}c.clickableOrdinalRange=s.clickableOrdinalRange,c.stayingIntervals=e.multiselect&&a.filterSpecified?a.filter.getConsolidated():[],l&&(c.stayingIntervals=c.stayingIntervals.filter((function(t){return t[0]!==l[0]&&t[1]!==l[1]}))),c.startExtent=s.region?l["s"===s.region?1:0]:o,e.parent.inBrushDrag=!0,c.brushStartCallback()}(this,t)})).on("drag",(function(t){k(this,t)})).on("dragend",(function(t){!function(t,e){var n=e.brush,r=n.filter,o=n.svgBrush;o._dragging||(_(t,e),k(t,e),e.brush.svgBrush.wasDragged=!1),o._dragging=!1,i.event.sourceEvent.stopPropagation();var a=o.grabbingBar;if(o.grabbingBar=!1,o.grabLocation=void 0,e.parent.inBrushDrag=!1,y(),!o.wasDragged)return o.wasDragged=void 0,o.clickableOrdinalRange?n.filterSpecified&&e.multiselect?o.extent.push(o.clickableOrdinalRange):(o.extent=[o.clickableOrdinalRange],n.filterSpecified=!0):a?(o.extent=o.stayingIntervals,0===o.extent.length&&M(n)):M(n),o.brushCallback(e),x(t.parentNode),void o.brushEndCallback(n.filterSpecified?r.getConsolidated():[]);var s=function(){r.set(r.getConsolidated())};if(e.ordinal){var l=e.unitTickvals;l[l.length-1]<l[0]&&l.reverse(),o.newExtent=[h(0,l,o.newExtent[0],o.stayingIntervals),h(1,l,o.newExtent[1],o.stayingIntervals)];var c=o.newExtent[1]>o.newExtent[0];o.extent=o.stayingIntervals.concat(c?[o.newExtent]:[]),o.extent.length||M(n),o.brushCallback(e),c?x(t.parentNode,s):(s(),x(t.parentNode))}else s();o.brushEndCallback(n.filterSpecified?r.getConsolidated():[])}(this,t)})))}function T(t,e){return t[0]-e[0]}function M(t){t.filterSpecified=!1,t.svgBrush.extent=[[-1/0,1/0]]}function E(t){for(var e,n=t.slice(),r=[],i=n.shift();i;){for(e=i.slice();(i=n.shift())&&i[0]<=e[1];)e[1]=Math.max(e[1],i[1]);r.push(e)}return 1===r.length&&r[0][0]>r[0][1]&&(r=[]),r}e.exports={makeBrush:function(t,e,n,r,i,o){var a,l=function(){var t,e,n=[];return{set:function(r){1===(n=r.map((function(t){return t.slice().sort(s)})).sort(T)).length&&n[0][0]===-1/0&&n[0][1]===1/0&&(n=[[0,-1]]),t=E(n),e=n.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0])},get:function(){return n.slice()},getConsolidated:function(){return t},getBounds:function(){return e}}}();return l.set(n),{filter:l,filterSpecified:e,svgBrush:{extent:[],brushStartCallback:r,brushCallback:(a=i,function(t){var e=t.brush,n=function(t){return t.svgBrush.extent.map((function(t){return t.slice()}))}(e).slice();e.filter.set(n),a()}),brushEndCallback:o}}},ensureAxisBrush:function(t,e){var n=t.selectAll("."+r.cn.axisBrush).data(a,o);n.enter().append("g").classed(r.cn.axisBrush,!0),function(t,e){var n=t.selectAll(".background").data(a);n.enter().append("rect").classed("background",!0).call(p).call(g).style("pointer-events","auto").attr("transform",l(0,r.verticalPadding)),n.call(A).attr("height",(function(t){return t.height-r.verticalPadding}));var i=t.selectAll(".highlight-shadow").data(a);i.enter().append("line").classed("highlight-shadow",!0).attr("x",-r.bar.width/2).attr("stroke-width",r.bar.width+r.bar.strokeWidth).attr("stroke",e).attr("opacity",r.bar.strokeOpacity).attr("stroke-linecap","butt"),i.attr("y1",(function(t){return t.height})).call(b);var o=t.selectAll(".highlight").data(a);o.enter().append("line").classed("highlight",!0).attr("x",-r.bar.width/2).attr("stroke-width",r.bar.width-r.bar.strokeWidth).attr("stroke",r.bar.fillColor).attr("opacity",r.bar.fillOpacity).attr("stroke-linecap","butt"),o.attr("y1",(function(t){return t.height})).call(b)}(n,e)},cleanRanges:function(t,e){if(Array.isArray(t[0])?(t=t.map((function(t){return t.sort(s)})),t=e.multiselect?E(t.sort(T)):[t[0]]):t=[t.sort(s)],e.tickvals){var n=e.tickvals.slice().sort(s);if(!(t=t.map((function(t){var e=[h(0,n,t[0],[]),h(1,n,t[1],[])];if(e[1]>e[0])return e})).filter((function(t){return t}))).length)return}return t.length>1?t:t[0]}}},{"../../lib":400,"../../lib/gup":397,"./constants":524,"@plotly/d3":14}],521:[function(t,e,n){"use strict";e.exports={attributes:t("./attributes"),supplyDefaults:t("./defaults"),calc:t("./calc"),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:t("./base_plot"),categories:["gl","regl","noOpacity","noHover"],meta:{}}},{"./attributes":519,"./base_plot":522,"./calc":523,"./defaults":525}],522:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../plots/get_data").getModuleCalcData,o=t("./plot"),a=t("../../constants/xmlns_namespaces");n.name="parcoords",n.plot=function(t){var e=i(t.calcdata,"parcoords")[0];e.length&&o(t,e)},n.clean=function(t,e,n,r){var i=r._has&&r._has("parcoords"),o=e._has&&e._has("parcoords");i&&!o&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},n.toSVG=function(t){var e=t._fullLayout._glimages,n=r.select(t).selectAll(".svg-container");n.filter((function(t,e){return e===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var t=this.toDataURL("image/png");e.append("svg:image").attr({xmlns:a.svg,"xlink:href":t,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})),window.setTimeout((function(){r.selectAll("#filterBarPattern").attr("id","filterBarPattern")}),60)}},{"../../constants/xmlns_namespaces":379,"../../plots/get_data":480,"./plot":531,"@plotly/d3":14}],523:[function(t,e,n){"use strict";var r=t("../../lib").isArrayOrTypedArray,i=t("../../components/colorscale"),o=t("../../lib/gup").wrap;e.exports=function(t,e){var n,a;return i.hasColorscale(e,"line")&&r(e.line.color)?(n=e.line.color,a=i.extractOpts(e.line).colorscale,i.calc(t,e,{vals:n,containerStr:"line",cLetter:"c"})):(n=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=.5;return e}(e._length),a=[[0,e.line.color],[1,e.line.color]]),o({lineColor:n,cscale:a})}},{"../../components/colorscale":269,"../../lib":400,"../../lib/gup":397}],524:[function(t,e,n){"use strict";e.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},{}],525:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../components/colorscale/helpers").hasColorscale,o=t("../../components/colorscale/defaults"),a=t("../../plots/domain").defaults,s=t("../../plots/array_container_defaults"),l=t("../../plots/cartesian/axes"),c=t("./attributes"),u=t("./axisbrush"),d=t("./constants").maxDimensionCount,f=t("./merge_length");function h(t,e,n,i){function o(n,i){return r.coerce(t,e,c.dimensions,n,i)}var a=o("values"),s=o("visible");if(a&&a.length||(s=e.visible=!1),s){o("label"),o("tickvals"),o("ticktext"),o("tickformat");var d=o("range");e._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},l.setConvert(e._ax,i.layout),o("multiselect");var f=o("constraintrange");f&&(e.constraintrange=u.cleanRanges(f,e))}}e.exports=function(t,e,n,l){function u(n,i){return r.coerce(t,e,c,n,i)}var p=t.dimensions;Array.isArray(p)&&p.length>d&&(r.log("parcoords traces support up to "+d+" dimensions at the moment"),p.splice(d));var g=s(t,e,{name:"dimensions",layout:l,handleItemDefaults:h}),m=function(t,e,n,a,s){var l=s("line.color",n);if(i(t,"line")&&r.isArrayOrTypedArray(l)){if(l.length)return s("line.colorscale"),o(t,e,a,s,{prefix:"line.",cLetter:"c"}),l.length;e.line.color=n}return 1/0}(t,e,n,l,u);a(e,l,u),Array.isArray(g)&&g.length||(e.visible=!1),f(e,g,"values",m);var v={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};r.coerceFont(u,"labelfont",v),r.coerceFont(u,"tickfont",v),r.coerceFont(u,"rangefont",v),u("labelangle"),u("labelside"),u("unselected.line.color"),u("unselected.line.opacity")}},{"../../components/colorscale/defaults":267,"../../components/colorscale/helpers":268,"../../lib":400,"../../plots/array_container_defaults":445,"../../plots/cartesian/axes":450,"../../plots/domain":477,"./attributes":519,"./axisbrush":520,"./constants":524,"./merge_length":529}],526:[function(t,e,n){"use strict";var r=t("../../lib").isTypedArray;n.convertTypedArray=function(t){return r(t)?Array.prototype.slice.call(t):t},n.isOrdinal=function(t){return!!t.tickvals},n.isVisible=function(t){return t.visible||!("visible"in t)}},{"../../lib":400}],527:[function(t,e,n){"use strict";var r=t("./base_index");r.plot=t("./plot"),e.exports=r},{"./base_index":521,"./plot":531}],528:[function(t,e,n){"use strict";var r=t("glslify"),i=r(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),a=t("./constants").maxDimensionCount,s=t("../../lib"),l=new Uint8Array(4),c=new Uint8Array(4),u={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function d(t,e,n,r,i){var o=t._gl;o.enable(o.SCISSOR_TEST),o.scissor(e,n,r,i),t.clear({color:[0,0,0,0],depth:1})}function f(t,e,n,r,i,o){var a=o.key;n.drawCompleted||(function(t){t.read({x:0,y:0,width:1,height:1,data:l})}(t),n.drawCompleted=!0),function s(l){var c=Math.min(r,i-l*r);0===l&&(window.cancelAnimationFrame(n.currentRafs[a]),delete n.currentRafs[a],d(t,o.scissorX,o.scissorY,o.scissorWidth,o.viewBoxSize[1])),n.clearOnly||(o.count=2*c,o.offset=2*l*r,e(o),l*r+c<i&&(n.currentRafs[a]=window.requestAnimationFrame((function(){s(l+1)}))),n.drawCompleted=!1)}(0)}function h(t,e){for(var n=new Array(256),r=0;r<256;r++)n[r]=t(r/255).concat(e);return n}function p(t,e){return(t>>>8*e)%256/255}function g(t,e,n){for(var r=new Array(8*e),i=0,o=0;o<e;o++)for(var a=0;a<2;a++)for(var s=0;s<4;s++){var l=4*t+s,c=n[64*o+l];63===l&&0===a&&(c*=-1),r[i++]=c}return r}function m(t){var e="0"+t;return e.substr(e.length-2)}function v(t){return t<a?"p"+m(t+1)+"_"+m(t+4):"colors"}function y(t,e,n,r,i,o,a,l,c,u,d,f,h,p){for(var g=[[],[]],m=0;m<64;m++)g[0][m]=m===i?1:0,g[1][m]=m===o?1:0;a*=p,l*=p,c*=p,u*=p;var v=t.lines.canvasOverdrag*p,y=t.domain,b=t.canvasWidth*p,x=t.canvasHeight*p,w=t.pad.l*p,k=t.pad.b*p,_=t.layoutHeight*p,A=t.layoutWidth*p,T=t.deselectedLines.color,M=t.deselectedLines.opacity;return s.extendFlat({key:d,resolution:[b,x],viewBoxPos:[a+v,l],viewBoxSize:[c,u],i0:i,i1:o,dim0A:g[0].slice(0,16),dim0B:g[0].slice(16,32),dim0C:g[0].slice(32,48),dim0D:g[0].slice(48,64),dim1A:g[1].slice(0,16),dim1B:g[1].slice(16,32),dim1C:g[1].slice(32,48),dim1D:g[1].slice(48,64),drwLayer:f,contextColor:[T[0]/255,T[1]/255,T[2]/255,"auto"!==M?T[3]*M:Math.max(1/255,Math.pow(1/t.lines.color.length,1/3))],scissorX:(r===e?0:a+v)+(w-v)+A*y.x[0],scissorWidth:(r===n?b-a+v:c+.5)+(r===e?a+v:0),scissorY:l+k+_*y.y[0],scissorHeight:u,viewportX:w-v+A*y.x[0],viewportY:k+_*y.y[0],viewportWidth:b,viewportHeight:x},h)}function b(t){var e=Math.max(0,Math.floor(2047*t[0]),0),n=Math.min(2047,Math.ceil(2047*t[1]),2047);return[Math.min(e,n),Math.max(e,n)]}e.exports=function(t,e){var n,r,l,m,x,w=e.context,k=e.pick,_=e.regl,A=_._gl,T=A.getParameter(A.ALIASED_LINE_WIDTH_RANGE),M=Math.max(T[0],Math.min(T[1],e.viewModel.plotGlPixelRatio)),E={currentRafs:{},drawCompleted:!0,clearOnly:!1},C=function(t){for(var e={},n=0;n<=a;n+=4)e[v(n)]=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return e}(_),S=_.texture(u),O=[];P(e);var L=_({profile:!1,blend:{enable:w,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!w,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:_.prop("scissorX"),y:_.prop("scissorY"),width:_.prop("scissorWidth"),height:_.prop("scissorHeight")}},viewport:{x:_.prop("viewportX"),y:_.prop("viewportY"),width:_.prop("viewportWidth"),height:_.prop("viewportHeight")},dither:!1,vert:i,frag:o,primitive:"lines",lineWidth:M,attributes:C,uniforms:{resolution:_.prop("resolution"),viewBoxPos:_.prop("viewBoxPos"),viewBoxSize:_.prop("viewBoxSize"),dim0A:_.prop("dim0A"),dim1A:_.prop("dim1A"),dim0B:_.prop("dim0B"),dim1B:_.prop("dim1B"),dim0C:_.prop("dim0C"),dim1C:_.prop("dim1C"),dim0D:_.prop("dim0D"),dim1D:_.prop("dim1D"),loA:_.prop("loA"),hiA:_.prop("hiA"),loB:_.prop("loB"),hiB:_.prop("hiB"),loC:_.prop("loC"),hiC:_.prop("hiC"),loD:_.prop("loD"),hiD:_.prop("hiD"),palette:S,contextColor:_.prop("contextColor"),maskTexture:_.prop("maskTexture"),drwLayer:_.prop("drwLayer"),maskHeight:_.prop("maskHeight")},offset:_.prop("offset"),count:_.prop("count")});function P(t){n=t.model,r=t.viewModel,l=r.dimensions.slice(),m=l[0]?l[0].values.length:0;var e=n.lines,i=k?e.color.map((function(t,n){return n/e.color.length})):e.color,o=function(t,e,n){for(var r,i=new Array(t*(a+4)),o=0,s=0;s<t;s++){for(var l=0;l<a;l++)i[o++]=l<e.length?e[l].paddedUnitValues[s]:.5;i[o++]=p(s,2),i[o++]=p(s,1),i[o++]=p(s,0),i[o++]=(r=n[s],Math.max(1e-6,Math.min(.999999,r)))}return i}(m,l,i);!function(t,e,n){for(var r=0;r<=a;r+=4)t[v(r)](g(r/4,e,n))}(C,m,o),w||k||(S=_.texture(s.extendFlat({data:h(n.unitToColor,255)},u)))}return{render:function(t,e,r){var i,o,a,s=t.length,c=1/0,u=-1/0;for(i=0;i<s;i++)t[i].dim0.canvasX<c&&(c=t[i].dim0.canvasX,o=i),t[i].dim1.canvasX>u&&(u=t[i].dim1.canvasX,a=i);0===s&&d(_,0,0,n.canvasWidth,n.canvasHeight);var h=function(t){var e,n,r,i=[[],[]];for(r=0;r<64;r++){var o=!t&&r<l.length?l[r].brush.filter.getBounds():[-1/0,1/0];i[0][r]=o[0],i[1][r]=o[1]}var a=new Array(16384);for(e=0;e<16384;e++)a[e]=255;if(!t)for(e=0;e<l.length;e++){var s=e%8,c=(e-s)/8,u=Math.pow(2,s),d=l[e].brush.filter.get();if(!(d.length<2)){var f=b(d[0])[1];for(n=1;n<d.length;n++){var h=b(d[n]);for(r=f+1;r<h[0];r++)a[8*r+c]&=~u;f=Math.max(f,h[1])}}}var p={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:a};return x?x(p):x=_.texture(p),{maskTexture:x,maskHeight:2048,loA:i[0].slice(0,16),loB:i[0].slice(16,32),loC:i[0].slice(32,48),loD:i[0].slice(48,64),hiA:i[1].slice(0,16),hiB:i[1].slice(16,32),hiC:i[1].slice(32,48),hiD:i[1].slice(48,64)}}(w);for(i=0;i<s;i++){var p=t[i],g=p.dim0.crossfilterDimensionIndex,v=p.dim1.crossfilterDimensionIndex,A=p.canvasX,T=p.canvasY,M=A+p.panelSizeX,C=p.plotGlPixelRatio;if(e||!O[g]||O[g][0]!==A||O[g][1]!==M){O[g]=[A,M];var S=y(n,o,a,i,g,v,A,T,p.panelSizeX,p.panelSizeY,p.dim0.crossfilterDimensionIndex,w?0:k?2:1,h,C);E.clearOnly=r;var P=e?n.lines.blockLineCount:m;f(_,L,E,P,m,S)}}},readPixel:function(t,e){return _.read({x:t,y:e,width:1,height:1,data:c}),c},readPixels:function(t,e,n,r){var i=new Uint8Array(4*n*r);return _.read({x:t,y:e,width:n,height:r,data:i}),i},destroy:function(){for(var e in t.style["pointer-events"]="none",S.destroy(),x&&x.destroy(),C)C[e].destroy()},update:P}}},{"../../lib":400,"./constants":524,glslify:158}],529:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i,o;for(r||(r=1/0),i=0;i<e.length;i++)(o=e[i]).visible&&(r=Math.min(r,o[n].length));for(r===1/0&&(r=0),t._length=r,i=0;i<e.length;i++)(o=e[i]).visible&&(o._length=r);return r}},{}],530:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../lib"),o=i.numberFormat,a=t("color-rgba"),s=t("../../plots/cartesian/axes"),l=i.strRotate,c=i.strTranslate,u=t("../../lib/svg_text_utils"),d=t("../../components/drawing"),f=t("../../components/colorscale"),h=t("../../lib/gup"),p=h.keyFun,g=h.repeat,m=h.unwrap,v=t("./helpers"),y=t("./constants"),b=t("./axisbrush"),x=t("./lines");function w(t,e,n){return i.aggNums(t,null,e,n)}function k(t,e){return A(w(Math.min,t,e),w(Math.max,t,e))}function _(t){var e=t.range;return e?A(e[0],e[1]):k(t.values,t._length)}function A(t,e){return!isNaN(t)&&isFinite(t)||(t=0),!isNaN(e)&&isFinite(e)||(e=0),t===e&&(0===t?(t-=1,e+=1):(t*=.9,e*=1.1)),[t,e]}function T(t,e,n,i,a){var s,l,c=_(n);return i?r.scale.ordinal().domain(i.map((s=o(n.tickformat),l=a,l?function(t,e){var n=l[e];return null==n?s(t):n}:s))).range(i.map((function(n){var r=(n-c[0])/(c[1]-c[0]);return t-e+r*(2*e-t)}))):r.scale.linear().domain(c).range([t-e,e])}function M(t){if(t.tickvals){var e=_(t);return r.scale.ordinal().domain(t.tickvals).range(t.tickvals.map((function(t){return(t-e[0])/(e[1]-e[0])})))}}function E(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){var e=a(t[1]);return r.rgb("rgb("+e[0]+","+e[1]+","+e[2]+")")})),i="rgb".split("").map((function(t){return r.scale.linear().clamp(!0).domain(e).range(n.map((i=t,function(t){return t[i]})));var i}));return function(t){return i.map((function(e){return e(t)}))}}function C(t){return t.dimensions.some((function(t){return t.brush.filterSpecified}))}function S(t,e,n){var o=m(e),s=o.trace,l=v.convertTypedArray(o.lineColor),c=s.line,u={color:a(s.unselected.line.color),opacity:s.unselected.line.opacity},d=f.extractOpts(c),h=d.reversescale?f.flipScale(o.cscale):o.cscale,p=s.domain,g=s.dimensions,b=t.width,x=s.labelangle,w=s.labelside,k=s.labelfont,A=s.tickfont,T=s.rangefont,M=i.extendDeepNoArrays({},c,{color:l.map(r.scale.linear().domain(_({values:l,range:[d.min,d.max],_length:s._length}))),blockLineCount:y.blockLineCount,canvasOverdrag:y.overdrag*y.canvasPixelRatio}),C=Math.floor(b*(p.x[1]-p.x[0])),S=Math.floor(t.height*(p.y[1]-p.y[0])),O=t.margin||{l:80,r:80,t:100,b:80},L=C,P=S;return{key:n,colCount:g.filter(v.isVisible).length,dimensions:g,tickDistance:y.tickDistance,unitToColor:E(h),lines:M,deselectedLines:u,labelAngle:x,labelSide:w,labelFont:k,tickFont:A,rangeFont:T,layoutWidth:b,layoutHeight:t.height,domain:p,translateX:p.x[0]*b,translateY:t.height-p.y[1]*t.height,pad:O,canvasWidth:L*y.canvasPixelRatio+2*M.canvasOverdrag,canvasHeight:P*y.canvasPixelRatio,width:L,height:P,canvasPixelRatio:y.canvasPixelRatio}}function O(t,e,n){var a=n.width,s=n.height,l=n.dimensions,c=n.canvasPixelRatio,u=function(t){return a*t/Math.max(1,n.colCount-1)},d=y.verticalPadding/s,f=function(t,e){return r.scale.linear().range([e,t-e])}(s,y.verticalPadding),h={key:n.key,xScale:u,model:n,inBrushDrag:!1},p={};return h.dimensions=l.filter(v.isVisible).map((function(a,l){var g=function(t,e){return r.scale.linear().domain(_(t)).range([e,1-e])}(a,d),m=p[a.label];p[a.label]=(m||0)+1;var x=a.label+(m?"__"+m:""),w=a.constraintrange,k=w&&w.length;k&&!Array.isArray(w[0])&&(w=[w]);var A=k?w.map((function(t){return t.map(g)})):[[-1/0,1/0]],E=a.values;E.length>a._length&&(E=E.slice(0,a._length));var S,O=a.tickvals;function L(t,e){return{val:t,text:S[e]}}function P(t,e){return t.val-e.val}if(Array.isArray(O)&&O.length){S=a.ticktext,Array.isArray(S)&&S.length?S.length>O.length?S=S.slice(0,O.length):O.length>S.length&&(O=O.slice(0,S.length)):S=O.map(o(a.tickformat));for(var D=1;D<O.length;D++)if(O[D]<O[D-1]){for(var R=O.map(L).sort(P),I=0;I<O.length;I++)O[I]=R[I].val,S[I]=R[I].text;break}}else O=void 0;return E=v.convertTypedArray(E),{key:x,label:a.label,tickFormat:a.tickformat,tickvals:O,ticktext:S,ordinal:v.isOrdinal(a),multiselect:a.multiselect,xIndex:l,crossfilterDimensionIndex:l,visibleIndex:a._index,height:s,values:E,paddedUnitValues:E.map(g),unitTickvals:O&&O.map(g),xScale:u,x:u(l),canvasX:u(l)*c,unitToPaddedPx:f,domainScale:T(s,y.verticalPadding,a,O,S),ordinalScale:M(a),parent:h,model:n,brush:b.makeBrush(t,k,A,(function(){t.linePickActive(!1)}),(function(){var e=h;e.focusLayer&&e.focusLayer.render(e.panels,!0);var n=C(e);!t.contextShown()&&n?(e.contextLayer&&e.contextLayer.render(e.panels,!0),t.contextShown(!0)):t.contextShown()&&!n&&(e.contextLayer&&e.contextLayer.render(e.panels,!0,!0),t.contextShown(!1))}),(function(n){if(h.focusLayer.render(h.panels,!0),h.pickLayer&&h.pickLayer.render(h.panels,!0),t.linePickActive(!0),e&&e.filterChanged){var r=g.invert,o=n.map((function(t){return t.map(r).sort(i.sorterAsc)})).sort((function(t,e){return t[0]-e[0]}));e.filterChanged(h.key,a._index,o)}}))}})),h}function L(t){t.classed(y.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function P(t,e){var n="top"===e?1:-1,r=t*Math.PI/180;return{dir:n,dx:Math.sin(r),dy:Math.cos(r),degrees:t}}function D(t,e,n){for(var r=e.panels||(e.panels=[]),i=t.data(),o=0;o<i.length-1;o++){var a=r[o]||(r[o]={}),s=i[o],l=i[o+1];a.dim0=s,a.dim1=l,a.canvasX=s.canvasX,a.panelSizeX=l.canvasX-s.canvasX,a.panelSizeY=e.model.canvasHeight,a.y=0,a.canvasY=0,a.plotGlPixelRatio=n}}function R(t,e){return s.tickText(t._ax,e,!1).text}function I(t,e){if(t.ordinal)return"";var n=t.domainScale.domain(),r=n[e?n.length-1:0];return R(t.model.dimensions[t.visibleIndex],r)}e.exports=function(t,e,n,o){var a=t._fullLayout,f=a._toppaper,h=a._glcontainer,w=t._context.plotGlPixelRatio,_=t._fullLayout.paper_bgcolor;!function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t[e].length;n++)for(var r=t[e][n].trace,i=r.dimensions,o=0;o<i.length;o++){var a=i[o].values,l=i[o]._ax;l&&(l.range?l.range=A(l.range[0],l.range[1]):l.range=k(a,r._length),l.dtick||(l.dtick=.01*(Math.abs(l.range[1]-l.range[0])||1)),l.tickformat=i[o].tickformat,s.calcTicks(l),l.cleanRange())}}(e);var T,M,E=(T=!0,M=!1,{linePickActive:function(t){return arguments.length?T=!!t:T},contextShown:function(t){return arguments.length?M=!!t:M}}),z=e.filter((function(t){return m(t).trace.visible})).map(S.bind(0,n)).map(O.bind(0,E,o));h.each((function(t,e){return i.extendFlat(t,z[e])}));var N=h.selectAll(".gl-canvas").each((function(t){t.viewModel=z[0],t.viewModel.plotGlPixelRatio=w,t.viewModel.paperColor=_,t.model=t.viewModel?t.viewModel.model:null})),B=null;N.filter((function(t){return t.pick})).style("pointer-events","auto").on("mousemove",(function(t){if(E.linePickActive()&&t.lineLayer&&o&&o.hover){var e=r.event,n=this.width,i=this.height,a=r.mouse(this),s=a[0],l=a[1];if(s<0||l<0||s>=n||l>=i)return;var c=t.lineLayer.readPixel(s,i-1-l),u=0!==c[3],d=u?c[2]+256*(c[1]+256*c[0]):null,f={x:s,y:l,clientX:e.clientX,clientY:e.clientY,dataIndex:t.model.key,curveNumber:d};d!==B&&(u?o.hover(f):o.unhover&&o.unhover(f),B=d)}})),N.style("opacity",(function(t){return t.pick?0:1})),f.style("background","rgba(255, 255, 255, 0)");var F=f.selectAll("."+y.cn.parcoords).data(z,p);F.exit().remove(),F.enter().append("g").classed(y.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),F.attr("transform",(function(t){return c(t.model.translateX,t.model.translateY)}));var j=F.selectAll("."+y.cn.parcoordsControlView).data(g,p);j.enter().append("g").classed(y.cn.parcoordsControlView,!0),j.attr("transform",(function(t){return c(t.model.pad.l,t.model.pad.t)}));var $=j.selectAll("."+y.cn.yAxis).data((function(t){return t.dimensions}),p);$.enter().append("g").classed(y.cn.yAxis,!0),j.each((function(t){D($,t,w)})),N.each((function(t){if(t.viewModel){!t.lineLayer||o?t.lineLayer=x(this,t):t.lineLayer.update(t),(t.key||0===t.key)&&(t.viewModel[t.key]=t.lineLayer);var e=!t.context||o;t.lineLayer.render(t.viewModel.panels,e)}})),$.attr("transform",(function(t){return c(t.xScale(t.xIndex),0)})),$.call(r.behavior.drag().origin((function(t){return t})).on("drag",(function(t){var e=t.parent;E.linePickActive(!1),t.x=Math.max(-y.overdrag,Math.min(t.model.width+y.overdrag,r.event.x)),t.canvasX=t.x*t.model.canvasPixelRatio,$.sort((function(t,e){return t.x-e.x})).each((function(e,n){e.xIndex=n,e.x=t===e?e.x:e.xScale(e.xIndex),e.canvasX=e.x*e.model.canvasPixelRatio})),D($,e,w),$.filter((function(e){return 0!==Math.abs(t.xIndex-e.xIndex)})).attr("transform",(function(t){return c(t.xScale(t.xIndex),0)})),r.select(this).attr("transform",c(t.x,0)),$.each((function(n,r,i){i===t.parent.key&&(e.dimensions[r]=n)})),e.contextLayer&&e.contextLayer.render(e.panels,!1,!C(e)),e.focusLayer.render&&e.focusLayer.render(e.panels)})).on("dragend",(function(t){var e=t.parent;t.x=t.xScale(t.xIndex),t.canvasX=t.x*t.model.canvasPixelRatio,D($,e,w),r.select(this).attr("transform",(function(t){return c(t.x,0)})),e.contextLayer&&e.contextLayer.render(e.panels,!1,!C(e)),e.focusLayer&&e.focusLayer.render(e.panels),e.pickLayer&&e.pickLayer.render(e.panels,!0),E.linePickActive(!0),o&&o.axesMoved&&o.axesMoved(e.key,e.dimensions.map((function(t){return t.crossfilterDimensionIndex})))}))),$.exit().remove();var Z=$.selectAll("."+y.cn.axisOverlays).data(g,p);Z.enter().append("g").classed(y.cn.axisOverlays,!0),Z.selectAll("."+y.cn.axis).remove();var U=Z.selectAll("."+y.cn.axis).data(g,p);U.enter().append("g").classed(y.cn.axis,!0),U.each((function(t){var e=t.model.height/t.model.tickDistance,n=t.domainScale,i=n.domain();r.select(this).call(r.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(e,t.tickFormat).tickValues(t.ordinal?i:null).tickFormat((function(e){return v.isOrdinal(t)?e:R(t.model.dimensions[t.visibleIndex],e)})).scale(n)),d.font(U.selectAll("text"),t.model.tickFont)})),U.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),U.selectAll("text").style("text-shadow",u.makeTextShadow(_)).style("cursor","default");var H=Z.selectAll("."+y.cn.axisHeading).data(g,p);H.enter().append("g").classed(y.cn.axisHeading,!0);var V=H.selectAll("."+y.cn.axisTitle).data(g,p);V.enter().append("text").classed(y.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events","auto"),V.text((function(t){return t.label})).each((function(e){var n=r.select(this);d.font(n,e.model.labelFont),u.convertToTspans(n,t)})).attr("transform",(function(t){var e=P(t.model.labelAngle,t.model.labelSide),n=y.axisTitleOffset;return(e.dir>0?"":c(0,2*n+t.model.height))+l(e.degrees)+c(-n*e.dx,-n*e.dy)})).attr("text-anchor",(function(t){var e=P(t.model.labelAngle,t.model.labelSide);return 2*Math.abs(e.dx)>Math.abs(e.dy)?e.dir*e.dx<0?"start":"end":"middle"}));var W=Z.selectAll("."+y.cn.axisExtent).data(g,p);W.enter().append("g").classed(y.cn.axisExtent,!0);var Y=W.selectAll("."+y.cn.axisExtentTop).data(g,p);Y.enter().append("g").classed(y.cn.axisExtentTop,!0),Y.attr("transform",c(0,-y.axisExtentOffset));var G=Y.selectAll("."+y.cn.axisExtentTopText).data(g,p);G.enter().append("text").classed(y.cn.axisExtentTopText,!0).call(L),G.text((function(t){return I(t,!0)})).each((function(t){d.font(r.select(this),t.model.rangeFont)}));var q=W.selectAll("."+y.cn.axisExtentBottom).data(g,p);q.enter().append("g").classed(y.cn.axisExtentBottom,!0),q.attr("transform",(function(t){return c(0,t.model.height+y.axisExtentOffset)}));var X=q.selectAll("."+y.cn.axisExtentBottomText).data(g,p);X.enter().append("text").classed(y.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(L),X.text((function(t){return I(t,!1)})).each((function(t){d.font(r.select(this),t.model.rangeFont)})),b.ensureAxisBrush(Z,_)}},{"../../components/colorscale":269,"../../components/drawing":279,"../../lib":400,"../../lib/gup":397,"../../lib/svg_text_utils":426,"../../plots/cartesian/axes":450,"./axisbrush":520,"./constants":524,"./helpers":526,"./lines":528,"@plotly/d3":14,"color-rgba":37}],531:[function(t,e,n){"use strict";var r=t("./parcoords"),i=t("../../lib/prepare_regl"),o=t("./helpers").isVisible,a={};function s(t,e,n){var r=e.indexOf(n),i=t.indexOf(r);return-1===i&&(i+=e.length),i}(e.exports=function(t,e){var n=t._fullLayout;if(i(t,[],a)){var l={},c={},u={},d={},f=n._size;e.forEach((function(e,n){var r=e[0].trace;u[n]=r.index;var i=d[n]=r._fullInput.index;l[n]=t.data[i].dimensions,c[n]=t.data[i].dimensions.slice()})),r(t,e,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{filterChanged:function(e,r,i){var o=c[e][r],a=i.map((function(t){return t.slice()})),s="dimensions["+r+"].constraintrange",l=n._tracePreGUI[t._fullData[u[e]]._fullInput.uid];if(void 0===l[s]){var f=o.constraintrange;l[s]=f||null}var h=t._fullData[u[e]].dimensions[r];a.length?(1===a.length&&(a=a[0]),o.constraintrange=a,h.constraintrange=a.slice(),a=[a]):(delete o.constraintrange,delete h.constraintrange,a=null);var p={};p[s]=a,t.emit("plotly_restyle",[p,[d[e]]])},hover:function(e){t.emit("plotly_hover",e)},unhover:function(e){t.emit("plotly_unhover",e)},axesMoved:function(e,n){var r=function(t,e){return function(n,r){return s(t,e,n)-s(t,e,r)}}(n,c[e].filter(o));l[e].sort(r),c[e].filter((function(t){return!o(t)})).sort((function(t){return c[e].indexOf(t)})).forEach((function(t){l[e].splice(l[e].indexOf(t),1),l[e].splice(c[e].indexOf(t),0,t)})),t.emit("plotly_restyle",[{dimensions:[l[e]]},[d[e]]])}})}}).reglPrecompiled=a},{"../../lib/prepare_regl":413,"./helpers":526,"./parcoords":530}],532:[function(t,e,n){"use strict";var r=t("../../lib");function i(t){return-1!==t.indexOf("e")?t.replace(/[.]?0+e/,"e"):-1!==t.indexOf(".")?t.replace(/[.]?0+$/,""):t}n.formatPiePercent=function(t,e){var n=i((100*t).toPrecision(3));return r.numSeparate(n,e)+"%"},n.formatPieValue=function(t,e){var n=i(t.toPrecision(10));return r.numSeparate(n,e)},n.getFirstFilled=function(t,e){if(Array.isArray(t))for(var n=0;n<e.length;n++){var r=t[e[n]];if(r||0===r||""===r)return r}},n.castOption=function(t,e){return Array.isArray(t)?n.getFirstFilled(t,e):t||void 0},n.getRotationAngle=function(t){return("auto"===t?0:t)*Math.PI/180}},{"../../lib":400}],533:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("./helpers").castOption;e.exports=function(t,e,n){var o=n.marker.line,a=i(o.color,e.pts)||r.defaultLine,s=i(o.width,e.pts)||0;t.style("stroke-width",s).call(r.fill,e.color).call(r.stroke,a)}},{"../../components/color":257,"./helpers":532}],534:[function(t,e,n){"use strict";var r=t("../scatter/attributes");e.exports={x:r.x,y:r.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:r.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},{"../scatter/attributes":539}],535:[function(t,e,n){"use strict";var r=t("../../../stackgl_modules").gl_pointcloud2d,i=t("../../lib/str2rgbarray"),o=t("../../plots/cartesian/autorange").findExtremes,a=t("../scatter/get_trace_color");function s(t,e){this.scene=t,this.uid=e,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=r(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var l=s.prototype;l.handlePick=function(t){var e=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*e],this.pickXYData[2*e+1]]:[this.pickXData[e],this.pickYData[e]],textLabel:Array.isArray(this.textLabels)?this.textLabels[e]:this.textLabels,color:this.color,name:this.name,pointIndex:e,hoverinfo:this.hoverinfo}},l.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=a(t,{})},l.updateFast=function(t){var e,n,r,a,s,l,c=this.xData=this.pickXData=t.x,u=this.yData=this.pickYData=t.y,d=this.pickXYData=t.xy,f=t.xbounds&&t.ybounds,h=t.indices,p=this.bounds;if(d){if(r=d,e=d.length>>>1,f)p[0]=t.xbounds[0],p[2]=t.xbounds[1],p[1]=t.ybounds[0],p[3]=t.ybounds[1];else for(l=0;l<e;l++)a=r[2*l],s=r[2*l+1],a<p[0]&&(p[0]=a),a>p[2]&&(p[2]=a),s<p[1]&&(p[1]=s),s>p[3]&&(p[3]=s);if(h)n=h;else for(n=new Int32Array(e),l=0;l<e;l++)n[l]=l}else for(e=c.length,r=new Float32Array(2*e),n=new Int32Array(e),l=0;l<e;l++)a=c[l],s=u[l],n[l]=l,r[2*l]=a,r[2*l+1]=s,a<p[0]&&(p[0]=a),a>p[2]&&(p[2]=a),s<p[1]&&(p[1]=s),s>p[3]&&(p[3]=s);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var g=i(t.marker.color),m=i(t.marker.border.color),v=t.opacity*t.marker.opacity;g[3]*=v,this.pointcloudOptions.color=g;var y=t.marker.blend;null===y&&(y=c.length<100||u.length<100),this.pointcloudOptions.blend=y,m[3]*=v,this.pointcloudOptions.borderColor=m;var b=t.marker.sizemin,x=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=x,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var w=this.scene.xaxis,k=this.scene.yaxis,_=x/2||.5;t._extremes[w._id]=o(w,[p[0],p[2]],{ppad:_}),t._extremes[k._id]=o(k,[p[1],p[3]],{ppad:_})},l.dispose=function(){this.pointcloud.dispose()},e.exports=function(t,e){var n=new s(t,e.uid);return n.update(e),n}},{"../../../stackgl_modules":600,"../../lib/str2rgbarray":425,"../../plots/cartesian/autorange":449,"../scatter/get_trace_color":549}],536:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./attributes");e.exports=function(t,e,n){function o(n,o){return r.coerce(t,e,i,n,o)}o("x"),o("y"),o("xbounds"),o("ybounds"),t.xy&&t.xy instanceof Float32Array&&(e.xy=t.xy),t.indices&&t.indices instanceof Int32Array&&(e.indices=t.indices),o("text"),o("marker.color",n),o("marker.opacity"),o("marker.blend"),o("marker.sizemin"),o("marker.sizemax"),o("marker.border.color",n),o("marker.border.arearatio"),e._length=null}},{"../../lib":400,"./attributes":534}],537:[function(t,e,n){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),e.exports={attributes:t("./attributes"),supplyDefaults:t("./defaults"),calc:t("../scatter3d/calc"),plot:t("./convert"),moduleType:"trace",name:"pointcloud",basePlotModule:t("../../plots/gl2d"),categories:["gl","gl2d","showLegend"],meta:{}}},{"../../plots/gl2d":483,"../scatter3d/calc":567,"./attributes":534,"./convert":535,"./defaults":536}],538:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;r.mergeArray(e.text,t,"tx"),r.mergeArray(e.texttemplate,t,"txt"),r.mergeArray(e.hovertext,t,"htx"),r.mergeArray(e.customdata,t,"data"),r.mergeArray(e.textposition,t,"tp"),e.textfont&&(r.mergeArrayCastPositive(e.textfont.size,t,"ts"),r.mergeArray(e.textfont.color,t,"tc"),r.mergeArray(e.textfont.family,t,"tf"));var i=e.marker;if(i){r.mergeArrayCastPositive(i.size,t,"ms"),r.mergeArrayCastPositive(i.opacity,t,"mo"),r.mergeArray(i.symbol,t,"mx"),r.mergeArray(i.color,t,"mc");var o=i.line;i.line&&(r.mergeArray(o.color,t,"mlc"),r.mergeArrayCastPositive(o.width,t,"mlw"));var a=i.gradient;a&&"none"!==a.type&&(r.mergeArray(a.type,t,"mgt"),r.mergeArray(a.color,t,"mgc"))}}},{"../../lib":400}],539:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axis_format_attributes").axisHoverFormat,i=t("../../plots/template_attributes").texttemplateAttrs,o=t("../../plots/template_attributes").hovertemplateAttrs,a=t("../../components/colorscale/attributes"),s=t("../../plots/font_attributes"),l=t("../../components/drawing/attributes").dash,c=t("../../components/drawing/attributes").pattern,u=t("../../components/drawing"),d=t("./constants"),f=t("../../lib/extend").extendFlat;e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:r("x"),yhoverformat:r("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:i({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:d.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:f({},l,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:c,marker:f({symbol:{valType:"enumerated",values:u.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:f({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},a("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},a("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:s({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":264,"../../components/drawing":279,"../../components/drawing/attributes":278,"../../lib/extend":392,"../../plots/cartesian/axis_format_attributes":453,"../../plots/font_attributes":478,"../../plots/template_attributes":489,"./constants":543}],540:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../plots/cartesian/axes"),a=t("../../plots/cartesian/align_period"),s=t("../../constants/numerical").BADNUM,l=t("./subtypes"),c=t("./colorscale_calc"),u=t("./arrays_to_calcdata"),d=t("./calc_selection");function f(t,e,n,r,i,a,s){var c=e._length,u=t._fullLayout,d=n._id,f=r._id,h=u._firstScatter[g(e)]===e.uid,p=(m(e,u,n,r)||{}).orientation,v=e.fill;n._minDtick=0,r._minDtick=0;var y={padded:!0},b={padded:!0};s&&(y.ppad=b.ppad=s);var x=c<2||i[0]!==i[c-1]||a[0]!==a[c-1];x&&("tozerox"===v||"tonextx"===v&&(h||"h"===p))?y.tozero=!0:(e.error_y||{}).visible||"tonexty"!==v&&"tozeroy"!==v&&(l.hasMarkers(e)||l.hasText(e))||(y.padded=!1,y.ppad=0),x&&("tozeroy"===v||"tonexty"===v&&(h||"v"===p))?b.tozero=!0:"tonextx"!==v&&"tozerox"!==v||(b.padded=!1),d&&(e._extremes[d]=o.findExtremes(n,i,y)),f&&(e._extremes[f]=o.findExtremes(r,a,b))}function h(t,e){if(l.hasMarkers(t)){var n,r=t.marker,a=1.6*(t.marker.sizeref||1);if(n="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/a),3)}:function(t){return Math.max((t||0)/a,3)},i.isArrayOrTypedArray(r.size)){var s={type:"linear"};o.setConvert(s);for(var c=s.makeCalcdata(t.marker,"size"),u=new Array(e),d=0;d<e;d++)u[d]=n(c[d]);return u}return n(r.size)}}function p(t,e){var n=g(e),r=t._firstScatter;r[n]||(r[n]=e.uid)}function g(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function m(t,e,n,r){var i=t.stackgroup;if(i){var o=e._scatterStackOpts[n._id+r._id][i],a="v"===o.orientation?r:n;return"linear"===a.type||"log"===a.type?o:void 0}}e.exports={calc:function(t,e){var n,l,g,v,y,b,x=t._fullLayout,w=o.getFromId(t,e.xaxis||"x"),k=o.getFromId(t,e.yaxis||"y"),_=w.makeCalcdata(e,"x"),A=k.makeCalcdata(e,"y"),T=a(e,w,"x",_),M=a(e,k,"y",A),E=T.vals,C=M.vals,S=e._length,O=new Array(S),L=e.ids,P=m(e,x,w,k),D=!1;p(x,e);var R,I="x",z="y";P?(i.pushUnique(P.traceIndices,e._expandedIndex),(n="v"===P.orientation)?(z="s",R="x"):(I="s",R="y"),y="interpolate"===P.stackgaps):f(t,e,w,k,E,C,h(e,S));var N=!!e.xperiodalignment,B=!!e.yperiodalignment;for(l=0;l<S;l++){var F=O[l]={},j=r(E[l]),$=r(C[l]);j&&$?(F[I]=E[l],F[z]=C[l],N&&(F.orig_x=_[l],F.xEnd=T.ends[l],F.xStart=T.starts[l]),B&&(F.orig_y=A[l],F.yEnd=M.ends[l],F.yStart=M.starts[l])):P&&(n?j:$)?(F[R]=n?E[l]:C[l],F.gap=!0,y?(F.s=s,D=!0):F.s=0):F[I]=F[z]=s,L&&(F.id=String(L[l]))}if(u(O,e),c(t,e),d(O,e),P){for(l=0;l<O.length;)O[l][R]===s?O.splice(l,1):l++;if(i.sort(O,(function(t,e){return t[R]-e[R]||t.i-e.i})),D){for(l=0;l<O.length-1&&O[l].gap;)l++;for((b=O[l].s)||(b=O[l].s=0),g=0;g<l;g++)O[g].s=b;for(v=O.length-1;v>l&&O[v].gap;)v--;for(b=O[v].s,g=O.length-1;g>v;g--)O[g].s=b;for(;l<v;)if(O[++l].gap){for(g=l+1;O[g].gap;)g++;for(var Z=O[l-1][R],U=O[l-1].s,H=(O[g].s-U)/(O[g][R]-Z);l<g;)O[l].s=U+(O[l][R]-Z)*H,l++}}}return O},calcMarkerSize:h,calcAxisExpansion:f,setFirstScatter:p,getStackOpts:m}},{"../../constants/numerical":378,"../../lib":400,"../../plots/cartesian/align_period":447,"../../plots/cartesian/axes":450,"./arrays_to_calcdata":538,"./calc_selection":541,"./colorscale_calc":542,"./subtypes":564,"fast-isnumeric":121}],541:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){r.isArrayOrTypedArray(e.selectedpoints)&&r.tagSelected(t,e)}},{"../../lib":400}],542:[function(t,e,n){"use strict";var r=t("../../components/colorscale/helpers").hasColorscale,i=t("../../components/colorscale/calc"),o=t("./subtypes");e.exports=function(t,e){o.hasLines(e)&&r(e,"line")&&i(t,e,{vals:e.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(e)&&(r(e,"marker")&&i(t,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),r(e,"marker.line")&&i(t,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":265,"../../components/colorscale/helpers":268,"./subtypes":564}],543:[function(t,e,n){"use strict";e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],544:[function(t,e,n){"use strict";var r=t("./calc");function i(t,e,n,r,i,o,a){i[r]=!0;var s={i:null,gap:!0,s:0};if(s[a]=n,t.splice(e,0,s),e&&n===t[e-1][a]){var l=t[e-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else o&&(s.s=function(t,e,n,r){var i=t[e-1],o=t[e+1];return o?i?i.s+(o.s-i.s)*(n-i[r])/(o[r]-i[r]):o.s:i.s}(t,e,n,a));e||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}e.exports=function(t,e){var n=e.xaxis,o=e.yaxis,a=n._id+o._id,s=t._fullLayout._scatterStackOpts[a];if(s){var l,c,u,d,f,h,p,g,m,v,y,b,x,w,k,_=t.calcdata;for(var A in s){var T=(v=s[A]).traceIndices;if(T.length){for(y="interpolate"===v.stackgaps,b=v.groupnorm,"v"===v.orientation?(x="x",w="y"):(x="y",w="x"),k=new Array(T.length),l=0;l<k.length;l++)k[l]=!1;h=_[T[0]];var M=new Array(h.length);for(l=0;l<h.length;l++)M[l]=h[l][x];for(l=1;l<T.length;l++){for(f=_[T[l]],c=u=0;c<f.length;c++){for(p=f[c][x];p>M[u]&&u<M.length;u++)i(f,c,M[u],l,k,y,x),c++;if(p!==M[u]){for(d=0;d<l;d++)i(_[T[d]],u,p,d,k,y,x);M.splice(u,0,p)}u++}for(;u<M.length;u++)i(f,c,M[u],l,k,y,x),c++}var E=M.length;for(c=0;c<h.length;c++){for(g=h[c][w]=h[c].s,l=1;l<T.length;l++)(f=_[T[l]])[0].trace._rawLength=f[0].trace._length,f[0].trace._length=E,g+=f[c].s,f[c][w]=g;if(b)for(m=("fraction"===b?g:g/100)||1,l=0;l<T.length;l++){var C=_[T[l]][c];C[w]/=m,C.sNorm=C.s/m}}for(l=0;l<T.length;l++){var S=(f=_[T[l]])[0].trace,O=r.calcMarkerSize(S,S._rawLength),L=Array.isArray(O);if(O&&k[l]||L){var P=O;for(O=new Array(E),c=0;c<E;c++)O[c]=f[c].gap?0:L?P[f[c].i]:P}var D=new Array(E),R=new Array(E);for(c=0;c<E;c++)D[c]=f[c].x,R[c]=f[c].y;r.calcAxisExpansion(t,S,n,o,D,R,O),f[0].t.orientation=v.orientation}}}}}},{"./calc":540}],545:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=e-1;i>=0;i--){var o=t[i];if("scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},{}],546:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry"),o=t("./attributes"),a=t("./constants"),s=t("./subtypes"),l=t("./xy_defaults"),c=t("./period_defaults"),u=t("./stack_defaults"),d=t("./marker_defaults"),f=t("./line_defaults"),h=t("./line_shape_defaults"),p=t("./text_defaults"),g=t("./fillcolor_defaults"),m=t("../../lib").coercePattern;e.exports=function(t,e,n,v){function y(n,i){return r.coerce(t,e,o,n,i)}var b=l(t,e,v,y);if(b||(e.visible=!1),e.visible){c(t,e,v,y),y("xhoverformat"),y("yhoverformat");var x=u(t,e,v,y),w=!x&&b<a.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",w),s.hasLines(e)&&(f(t,e,n,v,y),h(t,e,y),y("connectgaps"),y("line.simplify")),s.hasMarkers(e)&&d(t,e,n,v,y,{gradient:!0}),s.hasText(e)&&(y("texttemplate"),p(t,e,v,y));var k=[];(s.hasMarkers(e)||s.hasText(e))&&(y("cliponaxis"),y("marker.maxdisplayed"),k.push("points")),y("fill",x?x.fillDflt:"none"),"none"!==e.fill&&(g(t,e,n,y),s.hasLines(e)||h(t,e,y),m(y,"fillpattern",e.fillcolor,!1));var _=(e.line||{}).color,A=(e.marker||{}).color;"tonext"!==e.fill&&"toself"!==e.fill||k.push("fills"),y("hoveron",k.join("+")||"points"),"fills"!==e.hoveron&&y("hovertemplate");var T=i.getComponentMethod("errorbars","supplyDefaults");T(t,e,_||A||n,{axis:"y"}),T(t,e,_||A||n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(e,y)}}},{"../../lib":400,"../../registry":490,"./attributes":539,"./constants":543,"./fillcolor_defaults":547,"./line_defaults":552,"./line_shape_defaults":554,"./marker_defaults":558,"./period_defaults":559,"./stack_defaults":562,"./subtypes":564,"./text_defaults":565,"./xy_defaults":566}],547:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("../../lib").isArrayOrTypedArray;e.exports=function(t,e,n,o){var a=!1;if(e.marker){var s=e.marker.color,l=(e.marker.line||{}).color;s&&!i(s)?a=s:l&&!i(l)&&(a=l)}o("fillcolor",r.addOpacity((e.line||{}).color||a||n,.5))}},{"../../components/color":257,"../../lib":400}],548:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axes");e.exports=function(t,e,n){var i={},o={_fullLayout:n},a=r.getFromTrace(o,e,"x"),s=r.getFromTrace(o,e,"y");return i.xLabel=r.tickText(a,a.c2l(t.x),!0).text,i.yLabel=r.tickText(s,s.c2l(t.y),!0).text,i}},{"../../plots/cartesian/axes":450}],549:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("./subtypes");e.exports=function(t,e){var n,o;if("lines"===t.mode)return(n=t.line.color)&&r.opacity(n)?n:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var a=e.mcc||(t.marker||{}).color,s=e.mlcc||((t.marker||{}).line||{}).color;return(o=a&&r.opacity(a)?a:s&&r.opacity(s)&&(e.mlw||((t.marker||{}).line||{}).width)?s:"")?r.opacity(o)<.3?r.addOpacity(o,.3):o:(n=(t.line||{}).color)&&r.opacity(n)&&i.hasLines(t)&&t.line.width?n:t.fillcolor}},{"../../components/color":257,"./subtypes":564}],550:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../components/fx"),o=t("../../registry"),a=t("./get_trace_color"),s=t("../../components/color"),l=r.fillText;e.exports=function(t,e,n,c){var u=t.cd,d=u[0].trace,f=t.xa,h=t.ya,p=f.c2p(e),g=h.c2p(n),m=[p,g],v=d.hoveron||"",y=-1!==d.mode.indexOf("markers")?3:.5,b=!!d.xperiodalignment,x=!!d.yperiodalignment;if(-1!==v.indexOf("points")){var w=function(t){var e=Math.max(y,t.mrc||0),n=f.c2p(t.x)-p,r=h.c2p(t.y)-g;return Math.max(Math.sqrt(n*n+r*r)-e,1-y/e)},k=i.getDistanceFunction(c,(function(t){if(b){var e=f.c2p(t.xStart),n=f.c2p(t.xEnd);return p>=Math.min(e,n)&&p<=Math.max(e,n)?0:1/0}var r=Math.max(3,t.mrc||0),i=1-1/r,o=Math.abs(f.c2p(t.x)-p);return o<r?i*o/r:o-r+i}),(function(t){if(x){var e=h.c2p(t.yStart),n=h.c2p(t.yEnd);return g>=Math.min(e,n)&&g<=Math.max(e,n)?0:1/0}var r=Math.max(3,t.mrc||0),i=1-1/r,o=Math.abs(h.c2p(t.y)-g);return o<r?i*o/r:o-r+i}),w);if(i.getClosest(u,k,t),!1!==t.index){var _=u[t.index],A=f.c2p(_.x,!0),T=h.c2p(_.y,!0),M=_.mrc||1;t.index=_.i;var E=u[0].t.orientation,C=E&&(_.sNorm||_.s),S="h"===E?C:void 0!==_.orig_x?_.orig_x:_.x,O="v"===E?C:void 0!==_.orig_y?_.orig_y:_.y;return r.extendFlat(t,{color:a(d,_),x0:A-M,x1:A+M,xLabelVal:S,y0:T-M,y1:T+M,yLabelVal:O,spikeDistance:w(_),hovertemplate:d.hovertemplate}),l(_,d,t),o.getComponentMethod("errorbars","hoverInfo")(_,d,t),[t]}}if(-1!==v.indexOf("fills")&&d._polygons){var L,P,D,R,I,z,N,B,F,j=d._polygons,$=[],Z=!1,U=1/0,H=-1/0,V=1/0,W=-1/0;for(L=0;L<j.length;L++)(D=j[L]).contains(m)&&(Z=!Z,$.push(D),V=Math.min(V,D.ymin),W=Math.max(W,D.ymax));if(Z){var Y=((V=Math.max(V,0))+(W=Math.min(W,h._length)))/2;for(L=0;L<$.length;L++)for(R=$[L].pts,P=1;P<R.length;P++)(B=R[P-1][1])>Y!=(F=R[P][1])>=Y&&(z=R[P-1][0],N=R[P][0],F-B&&(I=z+(N-z)*(Y-B)/(F-B),U=Math.min(U,I),H=Math.max(H,I)));U=Math.max(U,0),H=Math.min(H,f._length);var G=s.defaultLine;return s.opacity(d.fillcolor)?G=d.fillcolor:s.opacity((d.line||{}).color)&&(G=d.line.color),r.extendFlat(t,{distance:t.maxHoverDistance,x0:U,x1:H,y0:Y,y1:Y,color:G,hovertemplate:!1}),delete t.index,d.text&&!Array.isArray(d.text)?t.text=String(d.text):t.text=d.name,[t]}}}},{"../../components/color":257,"../../components/fx":297,"../../lib":400,"../../registry":490,"./get_trace_color":549}],551:[function(t,e,n){"use strict";var r=t("./subtypes");e.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:t("./attributes"),supplyDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),calc:t("./calc").calc,crossTraceCalc:t("./cross_trace_calc"),arraysToCalcdata:t("./arrays_to_calcdata"),plot:t("./plot"),colorbar:t("./marker_colorbar"),formatLabels:t("./format_labels"),style:t("./style").style,styleOnSelect:t("./style").styleOnSelect,hoverPoints:t("./hover"),selectPoints:t("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":462,"./arrays_to_calcdata":538,"./attributes":539,"./calc":540,"./cross_trace_calc":544,"./cross_trace_defaults":545,"./defaults":546,"./format_labels":548,"./hover":550,"./marker_colorbar":557,"./plot":560,"./select":561,"./style":563,"./subtypes":564}],552:[function(t,e,n){"use strict";var r=t("../../lib").isArrayOrTypedArray,i=t("../../components/colorscale/helpers").hasColorscale,o=t("../../components/colorscale/defaults");e.exports=function(t,e,n,a,s,l){var c=(t.marker||{}).color;s("line.color",n),i(t,"line")?o(t,e,a,s,{prefix:"line.",cLetter:"c"}):s("line.color",!r(c)&&c||n),s("line.width"),(l||{}).noDash||s("line.dash")}},{"../../components/colorscale/defaults":267,"../../components/colorscale/helpers":268,"../../lib":400}],553:[function(t,e,n){"use strict";var r=t("../../constants/numerical"),i=r.BADNUM,o=r.LOG_CLIP,a=o+.5,s=o-.5,l=t("../../lib"),c=l.segmentsIntersect,u=l.constrain,d=t("./constants");e.exports=function(t,e){var n,r,o,f,h,p,g,m,v,y,b,x,w,k,_,A,T,M,E=e.xaxis,C=e.yaxis,S="log"===E.type,O="log"===C.type,L=E._length,P=C._length,D=e.connectGaps,R=e.baseTolerance,I=e.shape,z="linear"===I,N=e.fill&&"none"!==e.fill,B=[],F=d.minTolerance,j=t.length,$=new Array(j),Z=0;function U(n){var r=t[n];if(!r)return!1;var o=e.linearized?E.l2p(r.x):E.c2p(r.x),l=e.linearized?C.l2p(r.y):C.c2p(r.y);if(o===i){if(S&&(o=E.c2p(r.x,!0)),o===i)return!1;O&&l===i&&(o*=Math.abs(E._m*P*(E._m>0?a:s)/(C._m*L*(C._m>0?a:s)))),o*=1e3}if(l===i){if(O&&(l=C.c2p(r.y,!0)),l===i)return!1;l*=1e3}return[o,l]}function H(t,e,n,r){var i=n-t,o=r-e,a=.5-t,s=.5-e,l=i*i+o*o,c=i*a+o*s;if(c>0&&c<l){var u=a*o-s*i;if(u*u<l)return!0}}function V(t,e){var n=t[0]/L,r=t[1]/P,i=Math.max(0,-n,n-1,-r,r-1);return i&&void 0!==T&&H(n,r,T,M)&&(i=0),i&&e&&H(n,r,e[0]/L,e[1]/P)&&(i=0),(1+d.toleranceGrowth*i)*R}function W(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}var Y,G,q,X,J,K,Q,tt=d.maxScreensAway,et=-L*tt,nt=L*(1+tt),rt=-P*tt,it=P*(1+tt),ot=[[et,rt,nt,rt],[nt,rt,nt,it],[nt,it,et,it],[et,it,et,rt]];function at(t){if(t[0]<et||t[0]>nt||t[1]<rt||t[1]>it)return[u(t[0],et,nt),u(t[1],rt,it)]}function st(t,e){return t[0]===e[0]&&(t[0]===et||t[0]===nt)||t[1]===e[1]&&(t[1]===rt||t[1]===it)||void 0}function lt(t,e,n){return function(r,i){var o=at(r),a=at(i),s=[];if(o&&a&&st(o,a))return s;o&&s.push(o),a&&s.push(a);var c=2*l.constrain((r[t]+i[t])/2,e,n)-((o||r)[t]+(a||i)[t]);return c&&((o&&a?c>0==o[t]>a[t]?o:a:o||a)[t]+=c),s}}function ct(t){var e=t[0],n=t[1],r=e===$[Z-1][0],i=n===$[Z-1][1];if(!r||!i)if(Z>1){var o=e===$[Z-2][0],a=n===$[Z-2][1];r&&(e===et||e===nt)&&o?a?Z--:$[Z-1]=t:i&&(n===rt||n===it)&&a?o?Z--:$[Z-1]=t:$[Z++]=t}else $[Z++]=t}function ut(t){$[Z-1][0]!==t[0]&&$[Z-1][1]!==t[1]&&ct([q,X]),ct(t),J=null,q=X=0}function dt(t){if(T=t[0]/L,M=t[1]/P,Y=t[0]<et?et:t[0]>nt?nt:0,G=t[1]<rt?rt:t[1]>it?it:0,Y||G){if(Z)if(J){var e=Q(J,t);e.length>1&&(ut(e[0]),$[Z++]=e[1])}else K=Q($[Z-1],t)[0],$[Z++]=K;else $[Z++]=[Y||t[0],G||t[1]];var n=$[Z-1];Y&&G&&(n[0]!==Y||n[1]!==G)?(J&&(q!==Y&&X!==G?ct(q&&X?(r=J,o=(i=t)[0]-r[0],a=(i[1]-r[1])/o,(r[1]*i[0]-i[1]*r[0])/o>0?[a>0?et:nt,it]:[a>0?nt:et,rt]):[q||Y,X||G]):q&&X&&ct([q,X])),ct([Y,G])):q-Y&&X-G&&ct([Y||q,G||X]),J=t,q=Y,X=G}else J&&ut(Q(J,t)[0]),$[Z++]=t;var r,i,o,a}for("linear"===I||"spline"===I?Q=function(t,e){for(var n=[],r=0,i=0;i<4;i++){var o=ot[i],a=c(t[0],t[1],e[0],e[1],o[0],o[1],o[2],o[3]);a&&(!r||Math.abs(a.x-n[0][0])>1||Math.abs(a.y-n[0][1])>1)&&(a=[a.x,a.y],r&&W(a,t)<W(n[0],t)?n.unshift(a):n.push(a),r++)}return n}:"hv"===I||"vh"===I?Q=function(t,e){var n=[],r=at(t),i=at(e);return r&&i&&st(r,i)||(r&&n.push(r),i&&n.push(i)),n}:"hvh"===I?Q=lt(0,et,nt):"vhv"===I&&(Q=lt(1,rt,it)),n=0;n<j;n++)if(r=U(n)){for(Z=0,J=null,dt(r),n++;n<j;n++){if(!(f=U(n))){if(D)continue;break}if(z&&e.simplify){var ft=U(n+1);if(y=W(f,r),N&&(0===Z||Z===j-1)||!(y<V(f,ft)*F)){for(m=[(f[0]-r[0])/y,(f[1]-r[1])/y],h=r,b=y,x=k=_=0,g=!1,o=f,n++;n<t.length;n++){if(p=ft,ft=U(n+1),!p){if(D)continue;break}if(A=(v=[p[0]-r[0],p[1]-r[1]])[0]*m[1]-v[1]*m[0],k=Math.min(k,A),(_=Math.max(_,A))-k>V(p,ft))break;o=p,(w=v[0]*m[0]+v[1]*m[1])>b?(b=w,f=p,g=!1):w<x&&(x=w,h=p,g=!0)}if(g?(dt(f),o!==h&&dt(h)):(h!==r&&dt(h),o!==f&&dt(f)),dt(o),n>=t.length||!p)break;dt(p),r=p}}else dt(f)}J&&ct([q||J[0],X||J[1]]),B.push($.slice(0,Z))}return B}},{"../../constants/numerical":378,"../../lib":400,"./constants":543}],554:[function(t,e,n){"use strict";e.exports=function(t,e,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],555:[function(t,e,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};e.exports=function(t,e,n){var i,o,a,s,l,c={},u=!1,d=-1,f=0,h=-1;for(o=0;o<n.length;o++)(a=(i=n[o][0].trace).stackgroup||"")?a in c?l=c[a]:(l=c[a]=f,f++):i.fill in r&&h>=0?l=h:(l=h=f,f++),l<d&&(u=!0),i._groupIndex=d=l;var p=n.slice();u&&p.sort((function(t,e){var n=t[0].trace,r=e[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index}));var g={};for(o=0;o<p.length;o++)a=(i=p[o][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in r&&(s=g[a],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),g[a]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return p}},{}],556:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t,e){e||(e=2);var n=t.marker,i=n.sizeref||1,o=n.sizemin||0,a="area"===n.sizemode?function(t){return Math.sqrt(t/i)}:function(t){return t/i};return function(t){var n=a(t/e);return r(n)&&n>0?Math.max(n,o):0}}},{"fast-isnumeric":121}],557:[function(t,e,n){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},{}],558:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("../../components/colorscale/helpers").hasColorscale,o=t("../../components/colorscale/defaults"),a=t("./subtypes");e.exports=function(t,e,n,s,l,c){var u=a.isBubble(t),d=(t.line||{}).color;c=c||{},d&&(n=d),l("marker.symbol"),l("marker.opacity",u?.7:1),l("marker.size"),l("marker.color",n),i(t,"marker")&&o(t,e,s,l,{prefix:"marker.",cLetter:"c"}),c.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),c.noLine||(l("marker.line.color",d&&!Array.isArray(d)&&e.marker.color!==d?d:u?r.background:r.defaultLine),i(t,"marker.line")&&o(t,e,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",u?1:0)),u&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),c.gradient&&"none"!==l("marker.gradient.type")&&l("marker.gradient.color")}},{"../../components/color":257,"../../components/colorscale/defaults":267,"../../components/colorscale/helpers":268,"./subtypes":564}],559:[function(t,e,n){"use strict";var r=t("../../lib").dateTick0,i=t("../../constants/numerical").ONEWEEK;function o(t,e){return r(e,t%i==0?1:0)}e.exports=function(t,e,n,r,i){if(i||(i={x:!0,y:!0}),i.x){var a=r("xperiod");a&&(r("xperiod0",o(a,e.xcalendar)),r("xperiodalignment"))}if(i.y){var s=r("yperiod");s&&(r("yperiod0",o(s,e.ycalendar)),r("yperiodalignment"))}}},{"../../constants/numerical":378,"../../lib":400}],560:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../registry"),o=t("../../lib"),a=o.ensureSingle,s=o.identity,l=t("../../components/drawing"),c=t("./subtypes"),u=t("./line_points"),d=t("./link_traces"),f=t("../../lib/polygon").tester;function h(t,e,n,d,h,p,g){var m;!function(t,e,n,i,a){var s=n.xaxis,l=n.yaxis,u=r.extent(o.simpleMap(s.range,s.r2c)),d=r.extent(o.simpleMap(l.range,l.r2c)),f=i[0].trace;if(c.hasMarkers(f)){var h=f.marker.maxdisplayed;if(0!==h){var p=i.filter((function(t){return t.x>=u[0]&&t.x<=u[1]&&t.y>=d[0]&&t.y<=d[1]})),g=Math.ceil(p.length/h),m=0;a.forEach((function(t,n){var r=t[0].trace;c.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<e&&m++}));var v=Math.round(m*g/3+Math.floor(m/3)*g/7.1);i.forEach((function(t){delete t.vis})),p.forEach((function(t,e){0===Math.round((e+v)%g)&&(t.vis=!0)}))}}}(0,e,n,d,h);var v=!!g&&g.duration>0;function y(t){return v?t.transition():t}var b=n.xaxis,x=n.yaxis,w=d[0].trace,k=w.line,_=r.select(p),A=a(_,"g","errorbars"),T=a(_,"g","lines"),M=a(_,"g","points"),E=a(_,"g","text");if(i.getComponentMethod("errorbars","plot")(t,A,n,g),!0===w.visible){var C,S;y(_).style("opacity",w.opacity);var O=w.fill.charAt(w.fill.length-1);"x"!==O&&"y"!==O&&(O=""),d[0][n.isRangePlot?"nodeRangePlot3":"node3"]=_;var L,P,D="",R=[],I=w._prevtrace;I&&(D=I._prevRevpath||"",S=I._nextFill,R=I._polygons);var z,N,B,F,j,$,Z,U="",H="",V=[],W=o.noop;if(C=w._ownFill,c.hasLines(w)||"none"!==w.fill){for(S&&S.datum(d),-1!==["hv","vh","hvh","vhv"].indexOf(k.shape)?(z=l.steps(k.shape),N=l.steps(k.shape.split("").reverse().join(""))):z=N="spline"===k.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?l.smoothclosed(t.slice(1),k.smoothing):l.smoothopen(t,k.smoothing)}:function(t){return"M"+t.join("L")},B=function(t){return N(t.reverse())},V=u(d,{xaxis:b,yaxis:x,connectGaps:w.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,simplify:k.simplify,fill:w.fill}),Z=w._polygons=new Array(V.length),m=0;m<V.length;m++)w._polygons[m]=f(V[m]);V.length&&(F=V[0][0],$=(j=V[V.length-1])[j.length-1]),W=function(t){return function(e){if(L=z(e),P=B(e),U?O?(U+="L"+L.substr(1),H=P+"L"+H.substr(1)):(U+="Z"+L,H=P+"Z"+H):(U=L,H=P),c.hasLines(w)&&e.length>1){var n=r.select(this);if(n.datum(d),t)y(n.style("opacity",0).attr("d",L).call(l.lineGroupStyle)).style("opacity",1);else{var i=y(n);i.attr("d",L),l.singleLineStyle(d,i)}}}}}var Y=T.selectAll(".js-line").data(V);y(Y.exit()).style("opacity",0).remove(),Y.each(W(!1)),Y.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(W(!0)),l.setClipUrl(Y,n.layerClipId,t),V.length?(C?(C.datum(d),F&&$&&(O?("y"===O?F[1]=$[1]=x.c2p(0,!0):"x"===O&&(F[0]=$[0]=b.c2p(0,!0)),y(C).attr("d","M"+$+"L"+F+"L"+U.substr(1)).call(l.singleFillStyle,t)):y(C).attr("d",U+"Z").call(l.singleFillStyle,t))):S&&("tonext"===w.fill.substr(0,6)&&U&&D?("tonext"===w.fill?y(S).attr("d",U+"Z"+D+"Z").call(l.singleFillStyle,t):y(S).attr("d",U+"L"+D.substr(1)+"Z").call(l.singleFillStyle,t),w._polygons=w._polygons.concat(R)):(q(S),w._polygons=null)),w._prevRevpath=H,w._prevPolygons=Z):(C?q(C):S&&q(S),w._polygons=w._prevRevpath=w._prevPolygons=null),M.datum(d),E.datum(d),function(e,i,o){var a,u=o[0].trace,d=c.hasMarkers(u),f=c.hasText(u),h=tt(u),p=et,g=et;if(d||f){var m=s,w=u.stackgroup,k=w&&"infer zero"===t._fullLayout._scatterStackOpts[b._id+x._id][w].stackgaps;u.marker.maxdisplayed||u._needsCull?m=k?J:X:w&&!k&&(m=K),d&&(p=m),f&&(g=m)}var _,A=(a=e.selectAll("path.point").data(p,h)).enter().append("path").classed("point",!0);v&&A.call(l.pointStyle,u,t).call(l.translatePoints,b,x).style("opacity",0).transition().style("opacity",1),a.order(),d&&(_=l.makePointStyleFns(u)),a.each((function(e){var i=r.select(this),o=y(i);l.translatePoint(e,o,b,x)?(l.singlePointStyle(e,o,u,_,t),n.layerClipId&&l.hideOutsideRangePoint(e,o,b,x,u.xcalendar,u.ycalendar),u.customdata&&i.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):o.remove()})),v?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=i.selectAll("g").data(g,h)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each((function(t){var e=r.select(this),i=y(e.select("text"));l.translatePoint(t,i,b,x)?n.layerClipId&&l.hideOutsideRangePoint(t,e,b,x,u.xcalendar,u.ycalendar):e.remove()})),a.selectAll("text").call(l.textPointStyle,u,t).each((function(t){var e=b.c2p(t.x),n=x.c2p(t.y);r.select(this).selectAll("tspan.line").each((function(){y(r.select(this)).attr({x:e,y:n})}))})),a.exit().remove()}(M,E,d);var G=!1===w.cliponaxis?null:n.layerClipId;l.setClipUrl(M,G,t),l.setClipUrl(E,G,t)}function q(t){y(t).attr("d","M0,0Z")}function X(t){return t.filter((function(t){return!t.gap&&t.vis}))}function J(t){return t.filter((function(t){return t.vis}))}function K(t){return t.filter((function(t){return!t.gap}))}function Q(t){return t.id}function tt(t){if(t.ids)return Q}function et(){return!1}}e.exports=function(t,e,n,i,o,c){var u,f,p=!o,g=!!o&&o.duration>0,m=d(t,e,n);(u=i.selectAll("g.trace").data(m,(function(t){return t[0].trace.uid}))).enter().append("g").attr("class",(function(t){return"trace scatter trace"+t[0].trace.uid})).style("stroke-miterlimit",2),u.order(),function(t,e,n){e.each((function(e){var i=a(r.select(this),"g","fills");l.setClipUrl(i,n.layerClipId,t);var o=e[0].trace,c=[];o._ownfill&&c.push("_ownFill"),o._nexttrace&&c.push("_nextFill");var u=i.selectAll("g").data(c,s);u.enter().append("g"),u.exit().each((function(t){o[t]=null})).remove(),u.order().each((function(t){o[t]=a(r.select(this),"path","js-fill")}))}))}(t,u,e),g?(c&&(f=c()),r.transition().duration(o.duration).ease(o.easing).each("end",(function(){f&&f()})).each("interrupt",(function(){f&&f()})).each((function(){i.selectAll("g.trace").each((function(n,r){h(t,r,e,n,m,this,o)}))}))):u.each((function(n,r){h(t,r,e,n,m,this,o)})),p&&u.exit().remove(),i.selectAll("path:not([d])").remove()}},{"../../components/drawing":279,"../../lib":400,"../../lib/polygon":412,"../../registry":490,"./line_points":553,"./link_traces":555,"./subtypes":564,"@plotly/d3":14}],561:[function(t,e,n){"use strict";var r=t("./subtypes");e.exports=function(t,e){var n,i,o,a,s=t.cd,l=t.xaxis,c=t.yaxis,u=[],d=s[0].trace;if(!r.hasMarkers(d)&&!r.hasText(d))return[];if(!1===e)for(n=0;n<s.length;n++)s[n].selected=0;else for(n=0;n<s.length;n++)i=s[n],o=l.c2p(i.x),a=c.c2p(i.y),null!==i.i&&e.contains([o,a],!1,n,t)?(u.push({pointNumber:i.i,x:l.c2d(i.x),y:c.c2d(i.y)}),i.selected=1):i.selected=0;return u}},{"./subtypes":564}],562:[function(t,e,n){"use strict";var r=["orientation","groupnorm","stackgaps"];e.exports=function(t,e,n,i){var o=n._scatterStackOpts,a=i("stackgroup");if(a){var s=e.xaxis+e.yaxis,l=o[s];l||(l=o[s]={});var c=l[a],u=!1;c?c.traces.push(e):(c=l[a]={traceIndices:[],traces:[e]},u=!0);for(var d={orientation:e.x&&!e.y?"h":"v"},f=0;f<r.length;f++){var h=r[f],p=h+"Found";if(!c[p]){var g=void 0!==t[h],m="orientation"===h;if((g||u)&&(c[h]=i(h,d[h]),m&&(c.fillDflt="h"===c[h]?"tonextx":"tonexty"),g&&(c[p]=!0,!u&&(delete c.traces[0][h],m))))for(var v=0;v<c.traces.length-1;v++){var y=c.traces[v];y._input.fill!==y.fill&&(y.fill=c.fillDflt)}}}return c}}},{}],563:[function(t,e,n){"use strict";var r=t("@plotly/d3"),i=t("../../components/drawing"),o=t("../../registry");function a(t,e,n){i.pointStyle(t.selectAll("path.point"),e,n)}function s(t,e,n){i.textPointStyle(t.selectAll("text"),e,n)}e.exports={style:function(t){var e=r.select(t).selectAll("g.trace.scatter");e.style("opacity",(function(t){return t[0].trace.opacity})),e.selectAll("g.points").each((function(e){a(r.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.text").each((function(e){s(r.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.trace path.js-line").call(i.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(i.fillGroupStyle,t),o.getComponentMethod("errorbars","style")(e)},stylePoints:a,styleText:s,styleOnSelect:function(t,e,n){var r=e[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll("path.point"),r),i.selectedTextStyle(n.selectAll("text"),r)):(a(n,r,t),s(n,r,t))}}},{"../../components/drawing":279,"../../registry":490,"@plotly/d3":14}],564:[function(t,e,n){"use strict";var r=t("../../lib");e.exports={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&(t.mode&&-1!==t.mode.indexOf("markers")||"splom"===t.type)},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){return r.isPlainObject(t.marker)&&r.isArrayOrTypedArray(t.marker.size)}}},{"../../lib":400}],565:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e,n,i,o){o=o||{},i("textposition"),r.coerceFont(i,"textfont",n.font),o.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},{"../../lib":400}],566:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry");e.exports=function(t,e,n,o){var a,s=o("x"),l=o("y");if(i.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],n),s){var c=r.minRowLength(s);l?a=Math.min(c,r.minRowLength(l)):(a=c,o("y0"),o("dy"))}else{if(!l)return 0;a=r.minRowLength(l),o("x0"),o("dx")}return e._length=a,a}},{"../../lib":400,"../../registry":490}],567:[function(t,e,n){"use strict";var r=t("../scatter/arrays_to_calcdata"),i=t("../scatter/colorscale_calc");e.exports=function(t,e){var n=[{x:!1,y:!1,trace:e,t:{}}];return r(n,e),i(t,e),n}},{"../scatter/arrays_to_calcdata":538,"../scatter/colorscale_calc":542}],568:[function(t,e,n){"use strict";var r=t("../../plots/attributes"),i=t("../scatter/attributes"),o=t("../../plots/cartesian/axis_format_attributes").axisHoverFormat,a=t("../../components/colorscale/attributes"),s=t("../../lib/sort_object_keys"),l=t("../../lib/extend").extendFlat,c=t("../../plot_api/edit_types").overrideAll,u=t("./constants").DASHES,d=i.line,f=i.marker,h=f.line,p=e.exports=c({x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),text:i.text,hovertext:i.hovertext,textposition:i.textposition,textfont:i.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:d.color,width:d.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:s(u),dflt:"solid"}},marker:l({},a("marker"),{symbol:f.symbol,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:l({},a("marker.line"),{width:h.width})}),connectgaps:i.connectgaps,fill:l({},i.fill,{dflt:"none"}),fillcolor:i.fillcolor,selected:{marker:i.selected.marker,textfont:i.selected.textfont},unselected:{marker:i.unselected.marker,textfont:i.unselected.textfont},opacity:r.opacity},"calc","nested");p.x.editType=p.y.editType=p.x0.editType=p.y0.editType="calc+clearAxisTypes",p.hovertemplate=i.hovertemplate,p.texttemplate=i.texttemplate},{"../../components/colorscale/attributes":264,"../../lib/extend":392,"../../lib/sort_object_keys":423,"../../plot_api/edit_types":432,"../../plots/attributes":446,"../../plots/cartesian/axis_format_attributes":453,"../scatter/attributes":539,"./constants":571}],569:[function(t,e,n){"use strict";var r=t("./hover");e.exports={moduleType:"trace",name:"scattergl",basePlotModule:t("../../plots/cartesian"),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:t("./attributes"),supplyDefaults:t("./defaults"),crossTraceDefaults:t("../scatter/cross_trace_defaults"),colorbar:t("../scatter/marker_colorbar"),formatLabels:t("./format_labels"),calc:t("./calc"),hoverPoints:r.hoverPoints,selectPoints:t("./select"),meta:{}}},{"../../plots/cartesian":462,"../scatter/cross_trace_defaults":545,"../scatter/marker_colorbar":557,"./attributes":568,"./calc":570,"./defaults":573,"./format_labels":575,"./hover":577,"./select":581}],570:[function(t,e,n){"use strict";var r=t("@plotly/point-cluster"),i=t("../../lib"),o=t("../../plots/cartesian/axis_ids"),a=t("../../plots/cartesian/autorange").findExtremes,s=t("../../plots/cartesian/align_period"),l=t("../scatter/calc"),c=l.calcMarkerSize,u=l.calcAxisExpansion,d=l.setFirstScatter,f=t("../scatter/colorscale_calc"),h=t("./convert"),p=t("./scene_update"),g=t("../../constants/numerical").BADNUM,m=t("./constants").TOO_MANY_POINTS;function v(t,e,n){var r=t._extremes[e._id],i=a(e,n._bnds,{padded:!0});r.min=r.min.concat(i.min),r.max=r.max.concat(i.max)}e.exports=function(t,e){var n,a=t._fullLayout,l=o.getFromId(t,e.xaxis),y=o.getFromId(t,e.yaxis),b=a._plots[e.xaxis+e.yaxis],x=e._length,w=x>=m,k=2*x,_={},A=l.makeCalcdata(e,"x"),T=y.makeCalcdata(e,"y"),M=s(e,l,"x",A),E=s(e,y,"y",T),C=M.vals,S=E.vals;e._x=C,e._y=S,e.xperiodalignment&&(e._origX=A,e._xStarts=M.starts,e._xEnds=M.ends),e.yperiodalignment&&(e._origY=T,e._yStarts=E.starts,e._yEnds=E.ends);var O=new Array(k),L=new Array(x);for(n=0;n<x;n++)O[2*n]=C[n]===g?NaN:C[n],O[2*n+1]=S[n]===g?NaN:S[n],L[n]=n;if("log"===l.type)for(n=0;n<k;n+=2)O[n]=l.c2l(O[n]);if("log"===y.type)for(n=1;n<k;n+=2)O[n]=y.c2l(O[n]);w&&"log"!==l.type&&"log"!==y.type?_.tree=r(O):_.ids=L,f(t,e);var P,D=function(t,e,n,r,o,a){var s=h.style(t,n);if(s.marker&&(s.marker.positions=r),s.line&&r.length>1&&i.extendFlat(s.line,h.linePositions(t,n,r)),s.errorX||s.errorY){var l=h.errorBarPositions(t,n,r,o,a);s.errorX&&i.extendFlat(s.errorX,l.x),s.errorY&&i.extendFlat(s.errorY,l.y)}return s.text&&(i.extendFlat(s.text,{positions:r},h.textPosition(t,n,s.text,s.marker)),i.extendFlat(s.textSel,{positions:r},h.textPosition(t,n,s.text,s.markerSel)),i.extendFlat(s.textUnsel,{positions:r},h.textPosition(t,n,s.text,s.markerUnsel))),s}(t,0,e,O,C,S),R=p(t,b);return d(a,e),w?D.marker&&(P=D.marker.sizeAvg||Math.max(D.marker.size,3)):P=c(e,x),u(t,e,l,y,C,S,P),D.errorX&&v(e,l,D.errorX),D.errorY&&v(e,y,D.errorY),D.fill&&!R.fill2d&&(R.fill2d=!0),D.marker&&!R.scatter2d&&(R.scatter2d=!0),D.line&&!R.line2d&&(R.line2d=!0),!D.errorX&&!D.errorY||R.error2d||(R.error2d=!0),D.text&&!R.glText&&(R.glText=!0),D.marker&&(D.marker.snap=x),R.lineOptions.push(D.line),R.errorXOptions.push(D.errorX),R.errorYOptions.push(D.errorY),R.fillOptions.push(D.fill),R.markerOptions.push(D.marker),R.markerSelectedOptions.push(D.markerSel),R.markerUnselectedOptions.push(D.markerUnsel),R.textOptions.push(D.text),R.textSelectedOptions.push(D.textSel),R.textUnselectedOptions.push(D.textUnsel),R.selectBatch.push([]),R.unselectBatch.push([]),_._scene=R,_.index=R.count,_.x=C,_.y=S,_.positions=O,R.count++,[{x:!1,y:!1,t:_,trace:e}]}},{"../../constants/numerical":378,"../../lib":400,"../../plots/cartesian/align_period":447,"../../plots/cartesian/autorange":449,"../../plots/cartesian/axis_ids":454,"../scatter/calc":540,"../scatter/colorscale_calc":542,"./constants":571,"./convert":572,"./scene_update":580,"@plotly/point-cluster":15}],571:[function(t,e,n){"use strict";e.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},{}],572:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("svg-path-sdf"),o=t("color-normalize"),a=t("../../registry"),s=t("../../lib"),l=t("../../components/drawing"),c=t("../../plots/cartesian/axis_ids"),u=t("../../lib/gl_format_color").formatColor,d=t("../scatter/subtypes"),f=t("../scatter/make_bubble_size_func"),h=t("./helpers"),p=t("./constants"),g=t("../../constants/interactions").DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},v=t("../../components/fx/helpers").appendArrayPointValue;function y(t,e){var n,i=t._fullLayout,o=e._length,a=e.textfont,l=e.textposition,c=Array.isArray(l)?l:[l],u=a.color,d=a.size,f=a.family,h={},p=t._context.plotGlPixelRatio,g=e.texttemplate;if(g){h.text=[];var m=i._d3locale,y=Array.isArray(g),b=y?Math.min(g.length,o):o,x=y?function(t){return g[t]}:function(){return g};for(n=0;n<b;n++){var w={i:n},k=e._module.formatLabels(w,e,i),_={};v(_,e,n);var A=e._meta||{};h.text.push(s.texttemplateString(x(n),k,m,_,w,A))}}else Array.isArray(e.text)&&e.text.length<o?h.text=e.text.slice():h.text=e.text;if(Array.isArray(h.text))for(n=h.text.length;n<o;n++)h.text[n]="";for(h.opacity=e.opacity,h.font={},h.align=[],h.baseline=[],n=0;n<c.length;n++){var T=c[n].split(/\s+/);switch(T[1]){case"left":h.align.push("right");break;case"right":h.align.push("left");break;default:h.align.push(T[1])}switch(T[0]){case"top":h.baseline.push("bottom");break;case"bottom":h.baseline.push("top");break;default:h.baseline.push(T[0])}}if(Array.isArray(u))for(h.color=new Array(o),n=0;n<o;n++)h.color[n]=u[n];else h.color=u;if(s.isArrayOrTypedArray(d)||Array.isArray(f))for(h.font=new Array(o),n=0;n<o;n++){var M=h.font[n]={};M.size=(s.isTypedArray(d)?d[n]:Array.isArray(d)?r(d[n])?d[n]:0:d)*p,M.family=Array.isArray(f)?f[n]:f}else h.font={size:d*p,family:f};return h}function b(t){var e,n,r=t._length,i=t.marker,a={},l=s.isArrayOrTypedArray(i.symbol),c=s.isArrayOrTypedArray(i.color),d=s.isArrayOrTypedArray(i.line.color),p=s.isArrayOrTypedArray(i.opacity),g=s.isArrayOrTypedArray(i.size),m=s.isArrayOrTypedArray(i.line.width);if(l||(n=h.isOpenSymbol(i.symbol)),l||c||d||p){a.colors=new Array(r),a.borderColors=new Array(r);var v=u(i,i.opacity,r),y=u(i.line,i.opacity,r);if(!Array.isArray(y[0])){var b=y;for(y=Array(r),e=0;e<r;e++)y[e]=b}if(!Array.isArray(v[0])){var x=v;for(v=Array(r),e=0;e<r;e++)v[e]=x}for(a.colors=v,a.borderColors=y,e=0;e<r;e++){if(l){var w=i.symbol[e];n=h.isOpenSymbol(w)}n&&(y[e]=v[e].slice(),v[e]=v[e].slice(),v[e][3]=0)}a.opacity=t.opacity}else n?(a.color=o(i.color,"uint8"),a.color[3]=0,a.borderColor=o(i.color,"uint8")):(a.color=o(i.color,"uint8"),a.borderColor=o(i.line.color,"uint8")),a.opacity=t.opacity*i.opacity;if(l)for(a.markers=new Array(r),e=0;e<r;e++)a.markers[e]=C(i.symbol[e]);else a.marker=C(i.symbol);var k,_=f(t,1);if(g||m){var A,T=a.sizes=new Array(r),M=a.borderSizes=new Array(r),E=0;if(g){for(e=0;e<r;e++)T[e]=_(i.size[e]),E+=T[e];A=E/r}else for(k=_(i.size),e=0;e<r;e++)T[e]=k;if(m)for(e=0;e<r;e++)M[e]=i.line.width[e];else for(k=i.line.width,e=0;e<r;e++)M[e]=k;a.sizeAvg=A}else a.size=_(i&&i.size||10),a.borderSizes=_(i.line.width);return a}function x(t,e){var n=t.marker,r={};return e?(e.marker&&e.marker.symbol?r=b(s.extendFlat({},n,e.marker)):e.marker&&(e.marker.size&&(r.size=e.marker.size),e.marker.color&&(r.colors=e.marker.color),void 0!==e.marker.opacity&&(r.opacity=e.marker.opacity)),r):r}function w(t,e,n){var r={};if(!n)return r;if(n.textfont){var i={opacity:1,text:e.text,texttemplate:e.texttemplate,textposition:e.textposition,textfont:s.extendFlat({},e.textfont)};n.textfont&&s.extendFlat(i.textfont,n.textfont),r=y(t,i)}return r}function k(t,e,n){var r={capSize:2*e.width*n,lineWidth:e.thickness*n,color:e.color};return e.copy_ystyle&&(r=t.error_y),r}var _=p.SYMBOL_SDF_SIZE,A=p.SYMBOL_SIZE,T=p.SYMBOL_STROKE,M={},E=l.symbolFuncs[0](.05*A);function C(t){if("circle"===t)return null;var e,n,r=l.symbolNumber(t),o=l.symbolFuncs[r%100],a=!!l.symbolNoDot[r%100],s=!!l.symbolNoFill[r%100],c=h.isDotSymbol(t);return M[t]?M[t]:(e=c&&!a?o(1.1*A)+E:o(A),n=i(e,{w:_,h:_,viewBox:[-A,-A,A,A],stroke:s?T:-T}),M[t]=n,n||null)}e.exports={style:function(t,e){var n,r={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},i=t._context.plotGlPixelRatio;if(!0!==e.visible)return r;if(d.hasText(e)&&(r.text=y(t,e),r.textSel=w(t,e,e.selected),r.textUnsel=w(t,e,e.unselected)),d.hasMarkers(e)&&(r.marker=b(e),r.markerSel=x(e,e.selected),r.markerUnsel=x(e,e.unselected),!e.unselected&&s.isArrayOrTypedArray(e.marker.opacity))){var o=e.marker.opacity;for(r.markerUnsel.opacity=new Array(o.length),n=0;n<o.length;n++)r.markerUnsel.opacity[n]=g*o[n]}if(d.hasLines(e)){r.line={overlay:!0,thickness:e.line.width*i,color:e.line.color,opacity:e.opacity};var a=(p.DASHES[e.line.dash]||[1]).slice();for(n=0;n<a.length;++n)a[n]*=e.line.width*i;r.line.dashes=a}return e.error_x&&e.error_x.visible&&(r.errorX=k(e,e.error_x,i)),e.error_y&&e.error_y.visible&&(r.errorY=k(e,e.error_y,i)),e.fill&&"none"!==e.fill&&(r.fill={closed:!0,fill:e.fillcolor,thickness:0}),r},markerStyle:b,markerSelection:x,linePositions:function(t,e,n){var r,i,o=n.length,a=o/2;if(d.hasLines(e)&&a)if("hv"===e.line.shape){for(r=[],i=0;i<a-1;i++)isNaN(n[2*i])||isNaN(n[2*i+1])?r.push(NaN,NaN,NaN,NaN):(r.push(n[2*i],n[2*i+1]),isNaN(n[2*i+2])||isNaN(n[2*i+3])?r.push(NaN,NaN):r.push(n[2*i+2],n[2*i+1]));r.push(n[o-2],n[o-1])}else if("hvh"===e.line.shape){for(r=[],i=0;i<a-1;i++)if(isNaN(n[2*i])||isNaN(n[2*i+1])||isNaN(n[2*i+2])||isNaN(n[2*i+3]))isNaN(n[2*i])||isNaN(n[2*i+1])?r.push(NaN,NaN):r.push(n[2*i],n[2*i+1]),r.push(NaN,NaN);else{var s=(n[2*i]+n[2*i+2])/2;r.push(n[2*i],n[2*i+1],s,n[2*i+1],s,n[2*i+3])}r.push(n[o-2],n[o-1])}else if("vhv"===e.line.shape){for(r=[],i=0;i<a-1;i++)if(isNaN(n[2*i])||isNaN(n[2*i+1])||isNaN(n[2*i+2])||isNaN(n[2*i+3]))isNaN(n[2*i])||isNaN(n[2*i+1])?r.push(NaN,NaN):r.push(n[2*i],n[2*i+1]),r.push(NaN,NaN);else{var l=(n[2*i+1]+n[2*i+3])/2;r.push(n[2*i],n[2*i+1],n[2*i],l,n[2*i+2],l)}r.push(n[o-2],n[o-1])}else if("vh"===e.line.shape){for(r=[],i=0;i<a-1;i++)isNaN(n[2*i])||isNaN(n[2*i+1])?r.push(NaN,NaN,NaN,NaN):(r.push(n[2*i],n[2*i+1]),isNaN(n[2*i+2])||isNaN(n[2*i+3])?r.push(NaN,NaN):r.push(n[2*i],n[2*i+3]));r.push(n[o-2],n[o-1])}else r=n;var c=!1;for(i=0;i<r.length;i++)if(isNaN(r[i])){c=!0;break}var u=c||r.length>p.TOO_MANY_POINTS||d.hasMarkers(e)?"rect":"round";if(c&&e.connectgaps){var f=r[0],h=r[1];for(i=0;i<r.length;i+=2)isNaN(r[i])||isNaN(r[i+1])?(r[i]=f,r[i+1]=h):(f=r[i],h=r[i+1])}return{join:u,positions:r}},errorBarPositions:function(t,e,n,i,o){var s=a.getComponentMethod("errorbars","makeComputeError"),l=c.getFromId(t,e.xaxis),u=c.getFromId(t,e.yaxis),d=n.length/2,f={};function h(t,i){var o=i._id.charAt(0),a=e["error_"+o];if(a&&a.visible&&("linear"===i.type||"log"===i.type)){for(var l=s(a),c={x:0,y:1}[o],u={x:[0,1,2,3],y:[2,3,0,1]}[o],h=new Float64Array(4*d),p=1/0,g=-1/0,m=0,v=0;m<d;m++,v+=4){var y=t[m];if(r(y)){var b=n[2*m+c],x=l(y,m),w=x[0],k=x[1];if(r(w)&&r(k)){var _=y-w,A=y+k;h[v+u[0]]=b-i.c2l(_),h[v+u[1]]=i.c2l(A)-b,h[v+u[2]]=0,h[v+u[3]]=0,p=Math.min(p,y-w),g=Math.max(g,y+k)}}}f[o]={positions:n,errors:h,_bnds:[p,g]}}}return h(i,l),h(o,u),f},textPosition:function(t,e,n,r){var i,o=e._length,a={};if(d.hasMarkers(e)){var s=n.font,l=n.align,c=n.baseline;for(a.offset=new Array(o),i=0;i<o;i++){var u=r.sizes?r.sizes[i]:r.size,f=Array.isArray(s)?s[i].size:s.size,h=Array.isArray(l)?l.length>1?l[i]:l[0]:l,p=Array.isArray(c)?c.length>1?c[i]:c[0]:c,g=m[h],v=m[p],y=u?u/.8+1:0,b=-v*y-.5*v;a.offset[i]=[g*y/f,b/f]}}return a}}},{"../../components/drawing":279,"../../components/fx/helpers":293,"../../constants/interactions":377,"../../lib":400,"../../lib/gl_format_color":396,"../../plots/cartesian/axis_ids":454,"../../registry":490,"../scatter/make_bubble_size_func":556,"../scatter/subtypes":564,"./constants":571,"./helpers":576,"color-normalize":35,"fast-isnumeric":121,"svg-path-sdf":203}],573:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry"),o=t("./helpers"),a=t("./attributes"),s=t("../scatter/constants"),l=t("../scatter/subtypes"),c=t("../scatter/xy_defaults"),u=t("../scatter/period_defaults"),d=t("../scatter/marker_defaults"),f=t("../scatter/line_defaults"),h=t("../scatter/fillcolor_defaults"),p=t("../scatter/text_defaults");e.exports=function(t,e,n,g){function m(n,i){return r.coerce(t,e,a,n,i)}var v=!!t.marker&&o.isOpenSymbol(t.marker.symbol),y=l.isBubble(t),b=c(t,e,g,m);if(b){u(t,e,g,m),m("xhoverformat"),m("yhoverformat");var x=b<s.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("hovertemplate"),m("mode",x),l.hasLines(e)&&(m("connectgaps"),f(t,e,n,g,m),m("line.shape")),l.hasMarkers(e)&&(d(t,e,n,g,m),m("marker.line.width",v||y?1:0)),l.hasText(e)&&(m("texttemplate"),p(t,e,g,m));var w=(e.line||{}).color,k=(e.marker||{}).color;m("fill"),"none"!==e.fill&&h(t,e,n,m);var _=i.getComponentMethod("errorbars","supplyDefaults");_(t,e,w||k||n,{axis:"y"}),_(t,e,w||k||n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(e,m)}else e.visible=!1}},{"../../lib":400,"../../registry":490,"../scatter/constants":543,"../scatter/fillcolor_defaults":547,"../scatter/line_defaults":552,"../scatter/marker_defaults":558,"../scatter/period_defaults":559,"../scatter/subtypes":564,"../scatter/text_defaults":565,"../scatter/xy_defaults":566,"./attributes":568,"./helpers":576}],574:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../components/color"),o=t("../../constants/interactions").DESELECTDIM;e.exports={styleTextSelection:function(t){var e,n,a=t[0],s=a.trace,l=a.t,c=l._scene,u=l.index,d=c.selectBatch[u],f=c.unselectBatch[u],h=c.textOptions[u],p=c.textSelectedOptions[u]||{},g=c.textUnselectedOptions[u]||{},m=r.extendFlat({},h);if(d.length||f.length){var v=p.color,y=g.color,b=h.color,x=Array.isArray(b);for(m.color=new Array(s._length),e=0;e<d.length;e++)n=d[e],m.color[n]=v||(x?b[n]:b);for(e=0;e<f.length;e++){n=f[e];var w=x?b[n]:b;m.color[n]=y||(v?w:i.addOpacity(w,o))}}c.glText[u].update(m)}}},{"../../components/color":257,"../../constants/interactions":377,"../../lib":400}],575:[function(t,e,n){"use strict";var r=t("../scatter/format_labels");e.exports=function(t,e,n){var i=t.i;return"x"in t||(t.x=e._x[i]),"y"in t||(t.y=e._y[i]),r(t,e,n)}},{"../scatter/format_labels":548}],576:[function(t,e,n){"use strict";var r=t("./constants");n.isOpenSymbol=function(t){return"string"==typeof t?r.OPEN_RE.test(t):t%200>100},n.isDotSymbol=function(t){return"string"==typeof t?r.DOT_RE.test(t):t>200}},{"./constants":571}],577:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("../scatter/get_trace_color");function a(t,e,n,a){var s=t.xa,l=t.ya,c=t.distance,u=t.dxy,d=t.index,f={pointNumber:d,x:e[d],y:n[d]};f.tx=Array.isArray(a.text)?a.text[d]:a.text,f.htx=Array.isArray(a.hovertext)?a.hovertext[d]:a.hovertext,f.data=Array.isArray(a.customdata)?a.customdata[d]:a.customdata,f.tp=Array.isArray(a.textposition)?a.textposition[d]:a.textposition;var h=a.textfont;h&&(f.ts=i.isArrayOrTypedArray(h.size)?h.size[d]:h.size,f.tc=Array.isArray(h.color)?h.color[d]:h.color,f.tf=Array.isArray(h.family)?h.family[d]:h.family);var p=a.marker;p&&(f.ms=i.isArrayOrTypedArray(p.size)?p.size[d]:p.size,f.mo=i.isArrayOrTypedArray(p.opacity)?p.opacity[d]:p.opacity,f.mx=i.isArrayOrTypedArray(p.symbol)?p.symbol[d]:p.symbol,f.mc=i.isArrayOrTypedArray(p.color)?p.color[d]:p.color);var g=p&&p.line;g&&(f.mlc=Array.isArray(g.color)?g.color[d]:g.color,f.mlw=i.isArrayOrTypedArray(g.width)?g.width[d]:g.width);var m=p&&p.gradient;m&&"none"!==m.type&&(f.mgt=Array.isArray(m.type)?m.type[d]:m.type,f.mgc=Array.isArray(m.color)?m.color[d]:m.color);var v=s.c2p(f.x,!0),y=l.c2p(f.y,!0),b=f.mrc||1,x=a.hoverlabel;x&&(f.hbg=Array.isArray(x.bgcolor)?x.bgcolor[d]:x.bgcolor,f.hbc=Array.isArray(x.bordercolor)?x.bordercolor[d]:x.bordercolor,f.hts=i.isArrayOrTypedArray(x.font.size)?x.font.size[d]:x.font.size,f.htc=Array.isArray(x.font.color)?x.font.color[d]:x.font.color,f.htf=Array.isArray(x.font.family)?x.font.family[d]:x.font.family,f.hnl=i.isArrayOrTypedArray(x.namelength)?x.namelength[d]:x.namelength);var w=a.hoverinfo;w&&(f.hi=Array.isArray(w)?w[d]:w);var k=a.hovertemplate;k&&(f.ht=Array.isArray(k)?k[d]:k);var _={};_[t.index]=f;var A=a._origX,T=a._origY,M=i.extendFlat({},t,{color:o(a,f),x0:v-b,x1:v+b,xLabelVal:A?A[d]:f.x,y0:y-b,y1:y+b,yLabelVal:T?T[d]:f.y,cd:_,distance:c,spikeDistance:u,hovertemplate:f.ht});return f.htx?M.text=f.htx:f.tx?M.text=f.tx:a.text&&(M.text=a.text),i.fillText(f,a,M),r.getComponentMethod("errorbars","hoverInfo")(f,a,M),M}e.exports={hoverPoints:function(t,e,n,r){var i,o,s,l,c,u,d,f,h,p,g=t.cd,m=g[0].t,v=g[0].trace,y=t.xa,b=t.ya,x=m.x,w=m.y,k=y.c2p(e),_=b.c2p(n),A=t.distance;if(m.tree){var T=y.p2c(k-A),M=y.p2c(k+A),E=b.p2c(_-A),C=b.p2c(_+A);i="x"===r?m.tree.range(Math.min(T,M),Math.min(b._rl[0],b._rl[1]),Math.max(T,M),Math.max(b._rl[0],b._rl[1])):m.tree.range(Math.min(T,M),Math.min(E,C),Math.max(T,M),Math.max(E,C))}else i=m.ids;var S=A;if("x"===r){var O=!!v.xperiodalignment,L=!!v.yperiodalignment;for(u=0;u<i.length;u++){if(l=x[o=i[u]],d=Math.abs(y.c2p(l)-k),O){var P=y.c2p(v._xStarts[o]),D=y.c2p(v._xEnds[o]);d=k>=Math.min(P,D)&&k<=Math.max(P,D)?0:1/0}if(d<S){if(S=d,c=w[o],f=b.c2p(c)-_,L){var R=b.c2p(v._yStarts[o]),I=b.c2p(v._yEnds[o]);f=_>=Math.min(R,I)&&_<=Math.max(R,I)?0:1/0}p=Math.sqrt(d*d+f*f),s=i[u]}}}else for(u=i.length-1;u>-1;u--)l=x[o=i[u]],c=w[o],d=y.c2p(l)-k,f=b.c2p(c)-_,(h=Math.sqrt(d*d+f*f))<S&&(S=p=h,s=o);return t.index=s,t.distance=S,t.dxy=p,void 0===s?[t]:[a(t,x,w,v)]},calcHover:a}},{"../../lib":400,"../../registry":490,"../scatter/get_trace_color":549}],578:[function(t,e,n){arguments[4][527][0].apply(n,arguments)},{"./base_index":569,"./plot":579,dup:527}],579:[function(t,e,n){"use strict";var r=t("regl-scatter2d"),i=t("regl-line2d"),o=t("regl-error2d"),a=t("gl-text"),s=t("../../lib"),l=t("../../components/dragelement/helpers").selectMode,c=t("../../lib/prepare_regl"),u=t("../scatter/subtypes"),d=t("../scatter/link_traces"),f=t("./edit_style").styleTextSelection,h={};function p(t,e,n,r){var i=t._size,o=t.width*r,a=t.height*r,s=i.l*r,l=i.b*r,c=i.r*r,u=i.t*r,d=i.w*r,f=i.h*r;return[s+e.domain[0]*d,l+n.domain[0]*f,o-c-(1-e.domain[1])*d,a-u-(1-n.domain[1])*f]}(e.exports=function(t,e,n){if(n.length){var g,m,v=t._fullLayout,y=e._scene,b=e.xaxis,x=e.yaxis;if(y)if(c(t,["ANGLE_instanced_arrays","OES_element_index_uint"],h)){var w=y.count,k=v._glcanvas.data()[0].regl;if(d(t,e,n),y.dirty){if(!0===y.error2d&&(y.error2d=o(k)),!0===y.line2d&&(y.line2d=i(k)),!0===y.scatter2d&&(y.scatter2d=r(k)),!0===y.fill2d&&(y.fill2d=i(k)),!0===y.glText)for(y.glText=new Array(w),g=0;g<w;g++)y.glText[g]=new a(k);if(y.glText){if(w>y.glText.length){var _=w-y.glText.length;for(g=0;g<_;g++)y.glText.push(new a(k))}else if(w<y.glText.length){var A=y.glText.length-w;y.glText.splice(w,A).forEach((function(t){t.destroy()}))}for(g=0;g<w;g++)y.glText[g].update(y.textOptions[g])}if(y.line2d&&(y.line2d.update(y.lineOptions),y.lineOptions=y.lineOptions.map((function(t){if(t&&t.positions){for(var e=t.positions,n=0;n<e.length&&(isNaN(e[n])||isNaN(e[n+1]));)n+=2;for(var r=e.length-2;r>n&&(isNaN(e[r])||isNaN(e[r+1]));)r-=2;t.positions=e.slice(n,r+2)}return t})),y.line2d.update(y.lineOptions)),y.error2d){var T=(y.errorXOptions||[]).concat(y.errorYOptions||[]);y.error2d.update(T)}y.scatter2d&&y.scatter2d.update(y.markerOptions),y.fillOrder=s.repeat(null,w),y.fill2d&&(y.fillOptions=y.fillOptions.map((function(t,e){var r=n[e];if(t&&r&&r[0]&&r[0].trace){var i,o,a=r[0],s=a.trace,l=a.t,c=y.lineOptions[e],u=[];s._ownfill&&u.push(e),s._nexttrace&&u.push(e+1),u.length&&(y.fillOrder[e]=u);var d,f,h=[],p=c&&c.positions||l.positions;if("tozeroy"===s.fill){for(d=0;d<p.length&&isNaN(p[d+1]);)d+=2;for(f=p.length-2;f>d&&isNaN(p[f+1]);)f-=2;0!==p[d+1]&&(h=[p[d],0]),h=h.concat(p.slice(d,f+2)),0!==p[f+1]&&(h=h.concat([p[f],0]))}else if("tozerox"===s.fill){for(d=0;d<p.length&&isNaN(p[d]);)d+=2;for(f=p.length-2;f>d&&isNaN(p[f]);)f-=2;0!==p[d]&&(h=[0,p[d+1]]),h=h.concat(p.slice(d,f+2)),0!==p[f]&&(h=h.concat([0,p[f+1]]))}else if("toself"===s.fill||"tonext"===s.fill){for(h=[],i=0,t.splitNull=!0,o=0;o<p.length;o+=2)(isNaN(p[o])||isNaN(p[o+1]))&&((h=h.concat(p.slice(i,o))).push(p[i],p[i+1]),h.push(null,null),i=o+2);h=h.concat(p.slice(i)),i&&h.push(p[i],p[i+1])}else{var g=s._nexttrace;if(g){var m=y.lineOptions[e+1];if(m){var v=m.positions;if("tonexty"===s.fill){for(h=p.slice(),e=Math.floor(v.length/2);e--;){var b=v[2*e],x=v[2*e+1];isNaN(b)||isNaN(x)||h.push(b,x)}t.fill=g.fillcolor}}}}if(s._prevtrace&&"tonext"===s._prevtrace.fill){var w=y.lineOptions[e-1].positions,k=h.length/2,_=[i=k];for(o=0;o<w.length;o+=2)(isNaN(w[o])||isNaN(w[o+1]))&&(_.push(o/2+k+1),i=o+2);h=h.concat(w),t.hole=_}return t.fillmode=s.fill,t.opacity=s.opacity,t.positions=h,t}})),y.fill2d.update(y.fillOptions))}var M=v.dragmode,E=l(M),C=v.clickmode.indexOf("select")>-1;for(g=0;g<w;g++){var S=n[g][0],O=S.trace,L=S.t,P=L.index,D=O._length,R=L.x,I=L.y;if(O.selectedpoints||E||C){if(E||(E=!0),O.selectedpoints){var z=y.selectBatch[P]=s.selIndices2selPoints(O),N={};for(m=0;m<z.length;m++)N[z[m]]=1;var B=[];for(m=0;m<D;m++)N[m]||B.push(m);y.unselectBatch[P]=B}var F=L.xpx=new Array(D),j=L.ypx=new Array(D);for(m=0;m<D;m++)F[m]=b.c2p(R[m]),j[m]=x.c2p(I[m])}else L.xpx=L.ypx=null}if(E){if(y.select2d||(y.select2d=r(v._glcanvas.data()[1].regl)),y.scatter2d){var $=new Array(w);for(g=0;g<w;g++)$[g]=y.selectBatch[g].length||y.unselectBatch[g].length?y.markerUnselectedOptions[g]:{};y.scatter2d.update($)}y.select2d&&(y.select2d.update(y.markerOptions),y.select2d.update(y.markerSelectedOptions)),y.glText&&n.forEach((function(t){var e=((t||[])[0]||{}).trace||{};u.hasText(e)&&f(t)}))}else y.scatter2d&&y.scatter2d.update(y.markerOptions);var Z={viewport:p(v,b,x,t._context.plotGlPixelRatio),range:[(b._rl||b.range)[0],(x._rl||x.range)[0],(b._rl||b.range)[1],(x._rl||x.range)[1]]},U=s.repeat(Z,y.count);y.fill2d&&y.fill2d.update(U),y.line2d&&y.line2d.update(U),y.error2d&&y.error2d.update(U.concat(U)),y.scatter2d&&y.scatter2d.update(U),y.select2d&&y.select2d.update(U),y.glText&&y.glText.forEach((function(t){t.update(Z)}))}else y.init()}}).reglPrecompiled=h},{"../../components/dragelement/helpers":275,"../../lib":400,"../../lib/prepare_regl":413,"../scatter/link_traces":555,"../scatter/subtypes":564,"./edit_style":574,"gl-text":156,"regl-error2d":194,"regl-line2d":195,"regl-scatter2d":196}],580:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){var n=e._scene,i={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},o={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return e._scene||((n=e._scene={}).init=function(){r.extendFlat(n,o,i)},n.init(),n.update=function(t){var e=r.repeat(t,n.count);if(n.fill2d&&n.fill2d.update(e),n.scatter2d&&n.scatter2d.update(e),n.line2d&&n.line2d.update(e),n.error2d&&n.error2d.update(e.concat(e)),n.select2d&&n.select2d.update(e),n.glText)for(var i=0;i<n.count;i++)n.glText[i].update(t)},n.draw=function(){for(var t=n.count,e=n.fill2d,i=n.error2d,o=n.line2d,a=n.scatter2d,s=n.glText,l=n.select2d,c=n.selectBatch,u=n.unselectBatch,d=0;d<t;d++){if(e&&n.fillOrder[d]&&e.draw(n.fillOrder[d]),o&&n.lineOptions[d]&&o.draw(d),i&&(n.errorXOptions[d]&&i.draw(d),n.errorYOptions[d]&&i.draw(d+t)),a&&n.markerOptions[d])if(u[d].length){var f=r.repeat([],n.count);f[d]=u[d],a.draw(f)}else c[d].length||a.draw(d);s[d]&&n.textOptions[d]&&s[d].render()}l&&l.draw(c),n.dirty=!1},n.destroy=function(){n.fill2d&&n.fill2d.destroy&&n.fill2d.destroy(),n.scatter2d&&n.scatter2d.destroy&&n.scatter2d.destroy(),n.error2d&&n.error2d.destroy&&n.error2d.destroy(),n.line2d&&n.line2d.destroy&&n.line2d.destroy(),n.select2d&&n.select2d.destroy&&n.select2d.destroy(),n.glText&&n.glText.forEach((function(t){t.destroy&&t.destroy()})),n.lineOptions=null,n.fillOptions=null,n.markerOptions=null,n.markerSelectedOptions=null,n.markerUnselectedOptions=null,n.errorXOptions=null,n.errorYOptions=null,n.textOptions=null,n.textSelectedOptions=null,n.textUnselectedOptions=null,n.selectBatch=null,n.unselectBatch=null,e._scene=null}),n.dirty||r.extendFlat(n,i),n}},{"../../lib":400}],581:[function(t,e,n){"use strict";var r=t("../scatter/subtypes"),i=t("./edit_style").styleTextSelection;e.exports=function(t,e){var n=t.cd,o=t.xaxis,a=t.yaxis,s=[],l=n[0].trace,c=n[0].t,u=l._length,d=c.x,f=c.y,h=c._scene,p=c.index;if(!h)return s;var g=r.hasText(l),m=r.hasMarkers(l),v=!m&&!g;if(!0!==l.visible||v)return s;var y=[],b=[];if(!1!==e&&!e.degenerate)for(var x=0;x<u;x++)e.contains([c.xpx[x],c.ypx[x]],!1,x,t)?(y.push(x),s.push({pointNumber:x,x:o.c2d(d[x]),y:a.c2d(f[x])})):b.push(x);if(m){var w=h.scatter2d;if(y.length||b.length){if(!h.selectBatch[p].length&&!h.unselectBatch[p].length){var k=new Array(h.count);k[p]=h.markerUnselectedOptions[p],w.update.apply(w,k)}}else{var _=new Array(h.count);_[p]=h.markerOptions[p],w.update.apply(w,_)}}return h.selectBatch[p]=y,h.unselectBatch[p]=b,g&&i(n),s}},{"../scatter/subtypes":564,"./edit_style":574}],582:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),i=t("../../components/colorscale/attributes"),o=t("../../plots/cartesian/axis_format_attributes").axisHoverFormat,a=t("../../plots/template_attributes").hovertemplateAttrs,s=t("../scattergl/attributes"),l=t("../../plots/cartesian/constants").idRegex,c=t("../../plot_api/plot_template").templatedArray,u=t("../../lib/extend").extendFlat,d=r.marker,f=d.line,h=u(i("marker.line",{editTypeOverride:"calc"}),{width:u({},f.width,{editType:"calc"}),editType:"calc"}),p=u(i("marker"),{symbol:d.symbol,size:u({},d.size,{editType:"markerSize"}),sizeref:d.sizeref,sizemin:d.sizemin,sizemode:d.sizemode,opacity:d.opacity,colorbar:d.colorbar,line:h,editType:"calc"});function g(t){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:l[t],editType:"plot"}}}p.color.editType=p.cmin.editType=p.cmax.editType="style",e.exports={dimensions:c("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:u({},s.text,{}),hovertext:u({},s.hovertext,{}),hovertemplate:a(),xhoverformat:o("x"),yhoverformat:o("y"),marker:p,xaxes:g("x"),yaxes:g("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:s.selected.marker,editType:"calc"},unselected:{marker:s.unselected.marker,editType:"calc"},opacity:s.opacity}},{"../../components/colorscale/attributes":264,"../../lib/extend":392,"../../plot_api/plot_template":439,"../../plots/cartesian/axis_format_attributes":453,"../../plots/cartesian/constants":457,"../../plots/template_attributes":489,"../scatter/attributes":539,"../scattergl/attributes":568}],583:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../components/grid");e.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:t("./attributes"),supplyDefaults:t("./defaults"),colorbar:t("../scatter/marker_colorbar"),calc:t("./calc"),plot:t("./plot"),hoverPoints:t("./hover").hoverPoints,selectPoints:t("./select"),editStyle:t("./edit_style"),meta:{}},r.register(i)},{"../../components/grid":301,"../../registry":490,"../scatter/marker_colorbar":557,"./attributes":582,"./calc":585,"./defaults":586,"./edit_style":587,"./hover":589,"./plot":591,"./select":593}],584:[function(t,e,n){"use strict";var r=t("regl-line2d"),i=t("../../registry"),o=t("../../lib/prepare_regl"),a=t("../../plots/get_data").getModuleCalcData,s=t("../../plots/cartesian"),l=t("../../plots/cartesian/axis_ids").getFromId,c=t("../../plots/cartesian/axes").shouldShowZeroLine,u={};function d(t,e,n){for(var r=n.matrixOptions.data.length,i=e._visibleDims,o=n.viewOpts.ranges=new Array(r),a=0;a<i.length;a++){var s=i[a],c=o[a]=new Array(4),u=l(t,e._diag[s][0]);u&&(c[0]=u.r2l(u.range[0]),c[2]=u.r2l(u.range[1]));var d=l(t,e._diag[s][1]);d&&(c[1]=d.r2l(d.range[0]),c[3]=d.r2l(d.range[1]))}n.selectBatch.length||n.unselectBatch.length?n.matrix.update({ranges:o},{ranges:o}):n.matrix.update({ranges:o})}function f(t){var e=t._fullLayout,n=e._glcanvas.data()[0].regl,i=e._splomGrid;i||(i=e._splomGrid=r(n)),i.update(function(t){var e,n=t._context.plotGlPixelRatio,r=t._fullLayout,i=r._size,o=[0,0,r.width*n,r.height*n],a={};function s(t,e,r,i,s,l){r*=n,i*=n,s*=n,l*=n;var c=e[t+"color"],u=e[t+"width"],d=String(c+u);d in a?a[d].data.push(NaN,NaN,r,i,s,l):a[d]={data:[r,i,s,l],join:"rect",thickness:u*n,color:c,viewport:o,range:o,overlay:!1}}for(e in r._splomSubplots){var l,u,d=r._plots[e],f=d.xaxis,h=d.yaxis,p=f._gridVals,g=h._gridVals,m=f._offset,v=f._length,y=h._length,b=i.b+h.domain[0]*i.h,x=-h._m,w=-x*h.r2l(h.range[0],h.calendar);if(f.showgrid)for(e=0;e<p.length;e++)l=m+f.l2p(p[e].x),s("grid",f,l,b,l,b+y);if(h.showgrid)for(e=0;e<g.length;e++)s("grid",h,m,u=b+w+x*g[e].x,m+v,u);c(t,f,h)&&(l=m+f.l2p(0),s("zeroline",f,l,b,l,b+y)),c(t,h,f)&&s("zeroline",h,m,u=b+w+0,m+v,u)}var k=[];for(e in a)k.push(a[e]);return k}(t))}e.exports={name:"splom",attr:s.attr,attrRegex:s.attrRegex,layoutAttributes:s.layoutAttributes,supplyLayoutDefaults:s.supplyLayoutDefaults,drawFramework:s.drawFramework,plot:function(t){var e=t._fullLayout,n=i.getModule("splom"),r=a(t.calcdata,n)[0];o(t,["ANGLE_instanced_arrays","OES_element_index_uint"],u)&&(e._hasOnlyLargeSploms&&f(t),n.plot(t,{},r))},drag:function(t){var e=t.calcdata,n=t._fullLayout;n._hasOnlyLargeSploms&&f(t);for(var r=0;r<e.length;r++){var i=e[r][0].trace,o=n._splomScenes[i.uid];"splom"===i.type&&o&&o.matrix&&d(t,i,o)}},updateGrid:f,clean:function(t,e,n,r){var i,o={};if(r._splomScenes){for(i=0;i<t.length;i++){var a=t[i];"splom"===a.type&&(o[a.uid]=1)}for(i=0;i<n.length;i++){var l=n[i];if(!o[l.uid]){var c=r._splomScenes[l.uid];c&&c.destroy&&c.destroy(),r._splomScenes[l.uid]=null,delete r._splomScenes[l.uid]}}}0===Object.keys(r._splomScenes||{}).length&&delete r._splomScenes,r._splomGrid&&!e._hasOnlyLargeSploms&&r._hasOnlyLargeSploms&&(r._splomGrid.destroy(),r._splomGrid=null,delete r._splomGrid),s.clean(t,e,n,r)},updateFx:s.updateFx,toSVG:s.toSVG,reglPrecompiled:u}},{"../../lib/prepare_regl":413,"../../plots/cartesian":462,"../../plots/cartesian/axes":450,"../../plots/cartesian/axis_ids":454,"../../plots/get_data":480,"../../registry":490,"regl-line2d":195}],585:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axis_ids"),o=t("../scatter/calc").calcMarkerSize,a=t("../scatter/calc").calcAxisExpansion,s=t("../scatter/colorscale_calc"),l=t("../scattergl/convert").markerSelection,c=t("../scattergl/convert").markerStyle,u=t("./scene_update"),d=t("../../constants/numerical").BADNUM,f=t("../scattergl/constants").TOO_MANY_POINTS;e.exports=function(t,e){var n,h,p,g,m,v,y=e.dimensions,b=e._length,x={},w=x.cdata=[],k=x.data=[],_=e._visibleDims=[];function A(t,n){for(var i=t.makeCalcdata({v:n.values,vcalendar:e.calendar},"v"),o=0;o<i.length;o++)i[o]=i[o]===d?NaN:i[o];w.push(i),k.push("log"===t.type?r.simpleMap(i,t.c2l):i)}for(n=0;n<y.length;n++)if((p=y[n]).visible){if(g=i.getFromId(t,e._diag[n][0]),m=i.getFromId(t,e._diag[n][1]),g&&m&&g.type!==m.type){r.log("Skipping splom dimension "+n+" with conflicting axis types");continue}g?(A(g,p),m&&"category"===m.type&&(m._categories=g._categories.slice())):A(m,p),_.push(n)}for(s(t,e),r.extendFlat(x,c(e)),v=w.length*b>f?x.sizeAvg||Math.max(x.size,3):o(e,b),h=0;h<_.length;h++)p=y[n=_[h]],g=i.getFromId(t,e._diag[n][0])||{},m=i.getFromId(t,e._diag[n][1])||{},a(t,e,g,m,w[h],w[h],v);var T=u(t,e);return T.matrix||(T.matrix=!0),T.matrixOptions=x,T.selectedOptions=l(e,e.selected),T.unselectedOptions=l(e,e.unselected),[{x:!1,y:!1,t:{},trace:e}]}},{"../../constants/numerical":378,"../../lib":400,"../../plots/cartesian/axis_ids":454,"../scatter/calc":540,"../scatter/colorscale_calc":542,"../scattergl/constants":571,"../scattergl/convert":572,"./scene_update":592}],586:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/array_container_defaults"),o=t("./attributes"),a=t("../scatter/subtypes"),s=t("../scatter/marker_defaults"),l=t("../parcoords/merge_length"),c=t("../scattergl/helpers").isOpenSymbol;function u(t,e){function n(n,i){return r.coerce(t,e,o.dimensions,n,i)}n("label");var i=n("values");i&&i.length?n("visible"):e.visible=!1,n("axis.type"),n("axis.matches")}e.exports=function(t,e,n,d){function f(n,i){return r.coerce(t,e,o,n,i)}var h=i(t,e,{name:"dimensions",handleItemDefaults:u}),p=f("diagonal.visible"),g=f("showupperhalf"),m=f("showlowerhalf");if(l(e,h,"values")&&(p||g||m)){f("text"),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat"),s(t,e,n,d,f);var v=c(e.marker.symbol),y=a.isBubble(e);f("marker.line.width",v||y?1:0),function(t,e,n,r){var i,o,a=e.dimensions,s=a.length,l=e.showupperhalf,c=e.showlowerhalf,u=e.diagonal.visible,d=new Array(s),f=new Array(s);for(i=0;i<s;i++){var h=i?i+1:"";d[i]="x"+h,f[i]="y"+h}var p=r("xaxes",d),g=r("yaxes",f),m=e._diag=new Array(s);e._xaxes={},e._yaxes={};var v=[],y=[];function b(t,r,i,o){if(t){var a=t.charAt(0),s=n._splomAxes[a];if(e["_"+a+"axes"][t]=1,o.push(t),!(t in s)){var l=s[t]={};i&&(l.label=i.label||"",i.visible&&i.axis&&(i.axis.type&&(l.type=i.axis.type),i.axis.matches&&(l.matches=r)))}}}var x=!u&&!c,w=!u&&!l;for(e._axesDim={},i=0;i<s;i++){var k=a[i],_=0===i,A=i===s-1,T=_&&x||A&&w?void 0:p[i],M=_&&w||A&&x?void 0:g[i];b(T,M,k,v),b(M,T,k,y),m[i]=[T,M],e._axesDim[T]=i,e._axesDim[M]=i}for(i=0;i<v.length;i++)for(o=0;o<y.length;o++){var E=v[i]+y[o];i>o&&l||i<o&&c?n._splomSubplots[E]=1:i!==o||!u&&c&&l||(n._splomSubplots[E]=1)}(!c||!u&&l&&c)&&(n._splomGridDflt.xside="bottom",n._splomGridDflt.yside="left")}(0,e,d,f),r.coerceSelectionMarkerOpacity(e,f)}else e.visible=!1}},{"../../lib":400,"../../plots/array_container_defaults":445,"../parcoords/merge_length":529,"../scatter/marker_defaults":558,"../scatter/subtypes":564,"../scattergl/helpers":576,"./attributes":582}],587:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../scatter/colorscale_calc"),o=t("../scattergl/convert").markerStyle;e.exports=function(t,e){var n=e.trace,a=t._fullLayout._splomScenes[n.uid];if(a){i(t,n),r.extendFlat(a.matrixOptions,o(n));var s=r.extendFlat({},a.matrixOptions,a.viewOpts);a.matrix.update(s,null)}}},{"../../lib":400,"../scatter/colorscale_calc":542,"../scattergl/convert":572}],588:[function(t,e,n){"use strict";n.getDimIndex=function(t,e){for(var n=e._id,r={x:0,y:1}[n.charAt(0)],i=t._visibleDims,o=0;o<i.length;o++){var a=i[o];if(t._diag[a][r]===n)return o}return!1}},{}],589:[function(t,e,n){"use strict";var r=t("./helpers"),i=t("../scattergl/hover").calcHover;e.exports={hoverPoints:function(t,e,n){var o=t.cd[0].trace,a=t.scene.matrixOptions.cdata,s=t.xa,l=t.ya,c=s.c2p(e),u=l.c2p(n),d=t.distance,f=r.getDimIndex(o,s),h=r.getDimIndex(o,l);if(!1===f||!1===h)return[t];for(var p,g,m=a[f],v=a[h],y=d,b=0;b<m.length;b++){var x=m[b],w=v[b],k=s.c2p(x)-c,_=l.c2p(w)-u,A=Math.sqrt(k*k+_*_);A<y&&(y=g=A,p=b)}return t.index=p,t.distance=y,t.dxy=g,void 0===p?[t]:[i(t,m,v,o)]}}},{"../scattergl/hover":577,"./helpers":588}],590:[function(t,e,n){"use strict";var r=t("./base_index");r.basePlotModule=t("./base_plot"),e.exports=r},{"./base_index":583,"./base_plot":584}],591:[function(t,e,n){"use strict";var r=t("regl-splom"),i=t("../../lib"),o=t("../../plots/cartesian/axis_ids"),a=t("../../components/dragelement/helpers").selectMode;function s(t,e){var n,s,l,c,u,d=t._fullLayout,f=d._size,h=e.trace,p=e.t,g=d._splomScenes[h.uid],m=g.matrixOptions,v=m.cdata,y=d._glcanvas.data()[0].regl,b=d.dragmode;if(0!==v.length){m.lower=h.showupperhalf,m.upper=h.showlowerhalf,m.diagonal=h.diagonal.visible;var x=h._visibleDims,w=v.length,k=g.viewOpts={};for(k.ranges=new Array(w),k.domains=new Array(w),u=0;u<x.length;u++){l=x[u];var _=k.ranges[u]=new Array(4),A=k.domains[u]=new Array(4);(n=o.getFromId(t,h._diag[l][0]))&&(_[0]=n._rl[0],_[2]=n._rl[1],A[0]=n.domain[0],A[2]=n.domain[1]),(s=o.getFromId(t,h._diag[l][1]))&&(_[1]=s._rl[0],_[3]=s._rl[1],A[1]=s.domain[0],A[3]=s.domain[1])}var T=t._context.plotGlPixelRatio,M=f.l*T,E=f.b*T,C=f.w*T,S=f.h*T;k.viewport=[M,E,C+M,S+E],!0===g.matrix&&(g.matrix=r(y));var O=d.clickmode.indexOf("select")>-1,L=!0;if(a(b)||h.selectedpoints||O){var P=h._length;if(h.selectedpoints){g.selectBatch=h.selectedpoints;var D=h.selectedpoints,R={};for(l=0;l<D.length;l++)R[D[l]]=!0;var I=[];for(l=0;l<P;l++)R[l]||I.push(l);g.unselectBatch=I}var z=p.xpx=new Array(w),N=p.ypx=new Array(w);for(u=0;u<x.length;u++){if(l=x[u],n=o.getFromId(t,h._diag[l][0]))for(z[u]=new Array(P),c=0;c<P;c++)z[u][c]=n.c2p(v[u][c]);if(s=o.getFromId(t,h._diag[l][1]))for(N[u]=new Array(P),c=0;c<P;c++)N[u][c]=s.c2p(v[u][c])}if(g.selectBatch.length||g.unselectBatch.length){var B=i.extendFlat({},m,g.unselectedOptions,k),F=i.extendFlat({},m,g.selectedOptions,k);g.matrix.update(B,F),L=!1}}else p.xpx=p.ypx=null;if(L){var j=i.extendFlat({},m,k);g.matrix.update(j,null)}}}e.exports=function(t,e,n){if(n.length)for(var r=0;r<n.length;r++)s(t,n[r][0])}},{"../../components/dragelement/helpers":275,"../../lib":400,"../../plots/cartesian/axis_ids":454,"regl-splom":197}],592:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){var n=t._fullLayout,i=e.uid,o=n._splomScenes;o||(o=n._splomScenes={});var a={dirty:!0,selectBatch:[],unselectBatch:[]},s=o[e.uid];return s||((s=o[i]=r.extendFlat({},a,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||r.extendFlat(s,a),s}},{"../../lib":400}],593:[function(t,e,n){"use strict";var r=t("../../lib"),i=r.pushUnique,o=t("../scatter/subtypes"),a=t("./helpers");e.exports=function(t,e){var n=t.cd,s=n[0].trace,l=n[0].t,c=t.scene,u=c.matrixOptions.cdata,d=t.xaxis,f=t.yaxis,h=[];if(!c)return h;var p=!o.hasMarkers(s)&&!o.hasText(s);if(!0!==s.visible||p)return h;var g=a.getDimIndex(s,d),m=a.getDimIndex(s,f);if(!1===g||!1===m)return h;var v=l.xpx[g],y=l.ypx[m],b=u[g],x=u[m],w=(t.scene.selectBatch||[]).slice(),k=[];if(!1!==e&&!e.degenerate)for(var _=0;_<b.length;_++)e.contains([v[_],y[_]],null,_,t)?(h.push({pointNumber:_,x:b[_],y:x[_]}),i(w,_)):-1!==w.indexOf(_)?i(w,_):k.push(_);var A=c.matrixOptions;return w.length||k.length?c.selectBatch.length||c.unselectBatch.length||c.matrix.update(c.unselectedOptions,r.extendFlat({},A,c.selectedOptions,c.viewOpts)):c.matrix.update(A,null),c.selectBatch=w,c.unselectBatch=k,h}},{"../../lib":400,"../scatter/subtypes":564,"./helpers":588}],594:[function(t,e,n){"use strict";var r=t("../plots/cartesian/axes"),i=t("../lib"),o=t("../plot_api/plot_schema"),a=t("./helpers").pointsAccessorFunction,s=t("../constants/numerical").BADNUM;n.moduleType="transform",n.name="aggregate";var l=n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},c=l.aggregations;function u(t,e,n,o){if(o.enabled){for(var a=o.target,l=i.nestedProperty(e,a),c=l.get(),u=function(t,e){var n=t.func,r=e.d2c,o=e.c2d;switch(n){case"count":return d;case"first":return f;case"last":return h;case"sum":return function(t,e){for(var n=0,i=0;i<e.length;i++){var a=r(t[e[i]]);a!==s&&(n+=a)}return o(n)};case"avg":return function(t,e){for(var n=0,i=0,a=0;a<e.length;a++){var l=r(t[e[a]]);l!==s&&(n+=l,i++)}return i?o(n/i):s};case"min":return function(t,e){for(var n=1/0,i=0;i<e.length;i++){var a=r(t[e[i]]);a!==s&&(n=Math.min(n,a))}return n===1/0?s:o(n)};case"max":return function(t,e){for(var n=-1/0,i=0;i<e.length;i++){var a=r(t[e[i]]);a!==s&&(n=Math.max(n,a))}return n===-1/0?s:o(n)};case"range":return function(t,e){for(var n=1/0,i=-1/0,a=0;a<e.length;a++){var l=r(t[e[a]]);l!==s&&(n=Math.min(n,l),i=Math.max(i,l))}return i===-1/0||n===1/0?s:o(i-n)};case"change":return function(t,e){var n=r(t[e[0]]),i=r(t[e[e.length-1]]);return n===s||i===s?s:o(i-n)};case"median":return function(t,e){for(var n=[],a=0;a<e.length;a++){var l=r(t[e[a]]);l!==s&&n.push(l)}if(!n.length)return s;n.sort(i.sorterAsc);var c=(n.length-1)/2;return o((n[Math.floor(c)]+n[Math.ceil(c)])/2)};case"mode":return function(t,e){for(var n={},i=0,a=s,l=0;l<e.length;l++){var c=r(t[e[l]]);if(c!==s){var u=n[c]=(n[c]||0)+1;u>i&&(i=u,a=c)}}return i?o(a):s};case"rms":return function(t,e){for(var n=0,i=0,a=0;a<e.length;a++){var l=r(t[e[a]]);l!==s&&(n+=l*l,i++)}return i?o(Math.sqrt(n/i)):s};case"stddev":return function(e,n){var i,o=0,a=0,l=1,c=s;for(i=0;i<n.length&&c===s;i++)c=r(e[n[i]]);if(c===s)return s;for(;i<n.length;i++){var u=r(e[n[i]]);if(u!==s){var d=u-c;o+=d,a+=d*d,l++}}var f="sample"===t.funcmode?l-1:l;return f?Math.sqrt((a-o*o/l)/f):0}}}(o,r.getDataConversions(t,e,a,c)),p=new Array(n.length),g=0;g<n.length;g++)p[g]=u(c,n[g]);l.set(p),"count"===o.func&&i.pushUnique(e._arrayAttrs,a)}}function d(t,e){return e.length}function f(t,e){return t[e[0]]}function h(t,e){return t[e[e.length-1]]}n.supplyDefaults=function(t,e){var n,r={};function a(e,n){return i.coerce(t,r,l,e,n)}if(!a("enabled"))return r;var s=o.findArrayAttributes(e),u={};for(n=0;n<s.length;n++)u[s[n]]=1;var d=a("groups");if(!Array.isArray(d)){if(!u[d])return r.enabled=!1,r;u[d]=0}var f,h=t.aggregations||[],p=r.aggregations=new Array(h.length);function g(t,e){return i.coerce(h[n],f,c,t,e)}for(n=0;n<h.length;n++){f={_index:n};var m=g("target"),v=g("func");g("enabled")&&m&&(u[m]||"count"===v&&void 0===u[m])?("stddev"===v&&g("funcmode"),u[m]=0,p[n]=f):p[n]={enabled:!1,_index:n}}for(n=0;n<s.length;n++)u[s[n]]&&p.push({target:s[n],func:c.func.dflt,enabled:!0,_index:-1});return r},n.calcTransform=function(t,e,n){if(n.enabled){var r=n.groups,o=i.getTargetArray(e,{target:r});if(o){var s,l,c,d,f={},h={},p=[],g=a(e.transforms,n),m=o.length;for(e._length&&(m=Math.min(m,e._length)),s=0;s<m;s++)void 0===(c=f[l=o[s]])?(f[l]=p.length,d=[s],p.push(d),h[f[l]]=g(s)):(p[c].push(s),h[f[l]]=(h[f[l]]||[]).concat(g(s)));n._indexToPoints=h;var v=n.aggregations;for(s=0;s<v.length;s++)u(t,e,p,v[s]);"string"==typeof r&&u(t,e,p,{target:r,func:"first",enabled:!0}),e._length=p.length}}}},{"../constants/numerical":378,"../lib":400,"../plot_api/plot_schema":438,"../plots/cartesian/axes":450,"./helpers":597}],595:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../registry"),o=t("../plots/cartesian/axes"),a=t("./helpers").pointsAccessorFunction,s=t("../constants/filter_ops"),l=s.COMPARISON_OPS,c=s.INTERVAL_OPS,u=s.SET_OPS;n.moduleType="transform",n.name="filter",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(l).concat(c).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},n.supplyDefaults=function(t){var e={};function o(i,o){return r.coerce(t,e,n.attributes,i,o)}if(o("enabled")){var a=o("target");if(r.isArrayOrTypedArray(a)&&0===a.length)return e.enabled=!1,e;o("preservegaps"),o("operation"),o("value");var s=i.getComponentMethod("calendars","handleDefaults");s(t,e,"valuecalendar",null),s(t,e,"targetcalendar",null)}return e},n.calcTransform=function(t,e,n){if(n.enabled){var i=r.getTargetArray(e,n);if(i){var s=n.target,d=i.length;e._length&&(d=Math.min(d,e._length));var f=n.targetcalendar,h=e._arrayAttrs,p=n.preservegaps;if("string"==typeof s){var g=r.nestedProperty(e,s+"calendar").get();g&&(f=g)}var m,v,y=function(t,e,n){var r=t.operation,i=t.value,o=Array.isArray(i);function a(t){return-1!==t.indexOf(r)}var s,d=function(n){return e(n,0,t.valuecalendar)},f=function(t){return e(t,0,n)};switch(a(l)?s=d(o?i[0]:i):a(c)?s=o?[d(i[0]),d(i[1])]:[d(i),d(i)]:a(u)&&(s=o?i.map(d):[d(i)]),r){case"=":return function(t){return f(t)===s};case"!=":return function(t){return f(t)!==s};case"<":return function(t){return f(t)<s};case"<=":return function(t){return f(t)<=s};case">":return function(t){return f(t)>s};case">=":return function(t){return f(t)>=s};case"[]":return function(t){var e=f(t);return e>=s[0]&&e<=s[1]};case"()":return function(t){var e=f(t);return e>s[0]&&e<s[1]};case"[)":return function(t){var e=f(t);return e>=s[0]&&e<s[1]};case"(]":return function(t){var e=f(t);return e>s[0]&&e<=s[1]};case"][":return function(t){var e=f(t);return e<=s[0]||e>=s[1]};case")(":return function(t){var e=f(t);return e<s[0]||e>s[1]};case"](":return function(t){var e=f(t);return e<=s[0]||e>s[1]};case")[":return function(t){var e=f(t);return e<s[0]||e>=s[1]};case"{}":return function(t){return-1!==s.indexOf(f(t))};case"}{":return function(t){return-1===s.indexOf(f(t))}}}(n,o.getDataToCoordFunc(t,e,s,i),f),b={},x={},w=0;p?(m=function(t){b[t.astr]=r.extendDeep([],t.get()),t.set(new Array(d))},v=function(t,e){var n=b[t.astr][e];t.get()[e]=n}):(m=function(t){b[t.astr]=r.extendDeep([],t.get()),t.set([])},v=function(t,e){var n=b[t.astr][e];t.get().push(n)}),A(m);for(var k=a(e.transforms,n),_=0;_<d;_++)y(i[_])?(A(v,_),x[w++]=k(_)):p&&w++;n._indexToPoints=x,e._length=w}}function A(t,n){for(var i=0;i<h.length;i++)t(r.nestedProperty(e,h[i]),n)}}},{"../constants/filter_ops":376,"../lib":400,"../plots/cartesian/axes":450,"../registry":490,"./helpers":597}],596:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plot_api/plot_schema"),o=t("../plots/plots"),a=t("./helpers").pointsAccessorFunction;function s(t,e){var n,s,l,c,u,d,f,h,p,g,m=e.transform,v=e.transformIndex,y=t.transforms[v].groups,b=a(t.transforms,m);if(!r.isArrayOrTypedArray(y)||0===y.length)return[t];var x=r.filterUnique(y),w=new Array(x.length),k=y.length,_=i.findArrayAttributes(t),A=m.styles||[],T={};for(n=0;n<A.length;n++)T[A[n].target]=A[n].value;m.styles&&(g=r.keyedContainer(m,"styles","target","value.name"));var M={},E={};for(n=0;n<x.length;n++){M[d=x[n]]=n,E[d]=0,(f=w[n]=r.extendDeepNoArrays({},t))._group=d,f.transforms[v]._indexToPoints={};var C=null;for(g&&(C=g.get(d)),f.name=C||""===C?C:r.templateString(m.nameformat,{trace:t.name,group:d}),h=f.transforms,f.transforms=[],s=0;s<h.length;s++)f.transforms[s]=r.extendDeepNoArrays({},h[s]);for(s=0;s<_.length;s++)r.nestedProperty(f,_[s]).set([])}for(l=0;l<_.length;l++){for(c=_[l],s=0,p=[];s<x.length;s++)p[s]=r.nestedProperty(w[s],c).get();for(u=r.nestedProperty(t,c).get(),s=0;s<k;s++)p[M[y[s]]].push(u[s])}for(s=0;s<k;s++)(f=w[M[y[s]]]).transforms[v]._indexToPoints[E[y[s]]]=b(s),E[y[s]]++;for(n=0;n<x.length;n++)d=x[n],f=w[n],o.clearExpandedTraceDefaultColors(f),f=r.extendDeepNoArrays(f,T[d]||{});return w}n.moduleType="transform",n.name="groupby",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},n.supplyDefaults=function(t,e,i){var o,a={};function s(e,i){return r.coerce(t,a,n.attributes,e,i)}if(!s("enabled"))return a;s("groups"),s("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var l=t.styles,c=a.styles=[];if(l)for(o=0;o<l.length;o++){var u=c[o]={};r.coerce(l[o],c[o],n.attributes.styles,"target");var d=r.coerce(l[o],c[o],n.attributes.styles,"value");r.isPlainObject(d)?u.value=r.extendDeep({},d):d&&delete u.value}return a},n.transform=function(t,e){var n,r,i,o=[];for(r=0;r<t.length;r++)for(n=s(t[r],e),i=0;i<n.length;i++)o.push(n[i]);return o}},{"../lib":400,"../plot_api/plot_schema":438,"../plots/plots":488,"./helpers":597}],597:[function(t,e,n){"use strict";n.pointsAccessorFunction=function(t,e){for(var n,r,i=0;i<t.length&&(n=t[i])!==e;i++)n._indexToPoints&&!1!==n.enabled&&(r=n._indexToPoints);return r?function(t){return r[t]}:function(t){return[t]}}},{}],598:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plots/cartesian/axes"),o=t("./helpers").pointsAccessorFunction,a=t("../constants/numerical").BADNUM;n.moduleType="transform",n.name="sort",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},n.supplyDefaults=function(t){var e={};function i(i,o){return r.coerce(t,e,n.attributes,i,o)}return i("enabled")&&(i("target"),i("order")),e},n.calcTransform=function(t,e,n){if(n.enabled){var s=r.getTargetArray(e,n);if(s){var l=n.target,c=s.length;e._length&&(c=Math.min(c,e._length));var u,d,f=e._arrayAttrs,h=function(t,e,n,r){var i,o=new Array(r),s=new Array(r);for(i=0;i<r;i++)o[i]={v:e[i],i:i};for(o.sort(function(t,e){switch(t.order){case"ascending":return function(t,n){var r=e(t.v),i=e(n.v);return r===a?1:i===a?-1:r-i};case"descending":return function(t,n){var r=e(t.v),i=e(n.v);return r===a?1:i===a?-1:i-r}}}(t,n)),i=0;i<r;i++)s[i]=o[i].i;return s}(n,s,i.getDataToCoordFunc(t,e,l,s),c),p=o(e.transforms,n),g={};for(u=0;u<f.length;u++){var m=r.nestedProperty(e,f[u]),v=m.get(),y=new Array(c);for(d=0;d<c;d++)y[d]=v[h[d]];m.set(y)}for(d=0;d<c;d++)g[d]=p(h[d]);n._indexToPoints=g,e._length=c}}}},{"../constants/numerical":378,"../lib":400,"../plots/cartesian/axes":450,"./helpers":597}],599:[function(t,e,n){"use strict";n.version="2.14.0"},{}],600:[function(t,e,r){(function(n){(function(){!function(t){"object"==typeof r&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).stackgl=t()}((function(){return function e(n,r,i){function o(s,l){if(!r[s]){if(!n[s]){var c="function"==typeof t&&t;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[s]={exports:{}};n[s][0].call(d.exports,(function(t){return o(n[s][1][t]||t)}),d,d.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},n.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(u(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){},{}],3:[function(t,e,n){(function(e){(function(){"use strict";var e=t("base64-js"),r=t("ieee754");function i(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=o.prototype,e}function o(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return a(t,e,n)}function a(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|d(t,e),r=i(n),a=r.write(t,e);return a!==n&&(r=r.slice(0,a)),r}(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(B(t,ArrayBuffer)||t&&B(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=o.prototype,r}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return o.from(r,e,n);var a=function(t){if(o.isBuffer(t)){var e=0|u(t.length),n=i(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||F(t.length)?i(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return s(t),i(t<0?0:0|u(t))}function c(t){for(var e=t.length<0?0:0|u(t.length),n=i(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function u(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function d(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||B(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return I(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(i)return r?-1:I(t).length;e=(""+e).toLowerCase(),i=!0}}function f(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return _(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),F(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,a=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(c(t,o+f)!==c(e,f)){d=!1;break}if(d)return o}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(F(s))return a;t[n+a]=s}return a}function v(t,e,n,r){return N(I(e,t.length-n),t,n,r)}function y(t,e,n,r){return N(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function b(t,e,n,r){return y(t,e,n,r)}function x(t,e,n,r){return N(z(e),t,n,r)}function w(t,e,n,r){return N(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function _(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,l,c=t[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function M(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=R(t[o]);return i}function E(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,i,o){return e=+e,n>>>=0,o||O(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function P(t,e,n,i,o){return e=+e,n>>>=0,o||O(t,0,n,8),r.write(t,e,n,i,52,8),n+8}n.Buffer=o,n.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(t,e,n){return a(t,e,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(t,e,n){return function(t,e,n){return s(t),t<=0?i(t):void 0!==e?"string"==typeof n?i(t).fill(e,n):i(t).fill(e):i(t)}(t,e,n)},o.allocUnsafe=function(t){return l(t)},o.allocUnsafeSlow=function(t){return l(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(B(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),B(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(B(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(B(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),l=Math.min(a,s),c=this.slice(r,i),u=t.slice(e,n),d=0;d<l;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=o.prototype,r},o.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){t>>>=0,e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t>>>=0,e||C(t,4,this.length),r.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||C(t,4,this.length),r.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||C(t,8,this.length),r.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||C(t,8,this.length),r.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||S(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||S(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);S(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);S(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var a=i-1;a>=0;--a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:o.from(t,r),l=s.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var D=/[^+/0-9A-Za-z-_]/g;function R(t){return t<16?"0"+t.toString(16):t.toString(16)}function I(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function N(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function B(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function F(t){return t!=t}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:4}],4:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+t[e+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*l-1)*Math.pow(2,i),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*g}},{}],5:[function(t,e,n){var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,u=[],d=!1,f=-1;function h(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!d){var t=l(h);d=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new g(t,e)),1!==u.length||d||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],6:[function(t,e,n){e.exports={alpha_shape:t("alpha-shape"),convex_hull:t("convex-hull"),delaunay_triangulate:t("delaunay-triangulate"),gl_cone3d:t("gl-cone3d"),gl_error3d:t("gl-error3d"),gl_heatmap2d:t("gl-heatmap2d"),gl_line3d:t("gl-line3d"),gl_mesh3d:t("gl-mesh3d"),gl_plot2d:t("gl-plot2d"),gl_plot3d:t("gl-plot3d"),gl_pointcloud2d:t("gl-pointcloud2d"),gl_scatter3d:t("gl-scatter3d"),gl_select_box:t("gl-select-box"),gl_spikes2d:t("gl-spikes2d"),gl_streamtube3d:t("gl-streamtube3d"),gl_surface3d:t("gl-surface3d"),ndarray:t("ndarray"),ndarray_linear_interpolate:t("ndarray-linear-interpolate")}},{"alpha-shape":12,"convex-hull":58,"delaunay-triangulate":63,"gl-cone3d":79,"gl-error3d":84,"gl-heatmap2d":88,"gl-line3d":91,"gl-mesh3d":112,"gl-plot2d":118,"gl-plot3d":121,"gl-pointcloud2d":123,"gl-scatter3d":128,"gl-select-box":130,"gl-spikes2d":139,"gl-streamtube3d":143,"gl-surface3d":145,ndarray:259,"ndarray-linear-interpolate":253}],7:[function(t,e,n){"use strict";e.exports=function(t){var e=(t=t||{}).eye||[0,0,1],n=t.center||[0,0,0],s=t.up||[0,1,0],l=t.distanceLimits||[0,1/0],c=t.mode||"turntable",u=r(),d=i(),f=o();return u.setDistanceLimits(l[0],l[1]),u.lookAt(0,e,n,s),d.setDistanceLimits(l[0],l[1]),d.lookAt(0,e,n,s),f.setDistanceLimits(l[0],l[1]),f.lookAt(0,e,n,s),new a({turntable:u,orbit:d,matrix:f},c)};var r=t("turntable-camera-controller"),i=t("orbit-camera-controller"),o=t("matrix-camera-controller");function a(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map((function(e){return t[e]})),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=a.prototype;s.flush=function(t){for(var e=this._controllerList,n=0;n<e.length;++n)e[n].flush(t)},s.idle=function(t){for(var e=this._controllerList,n=0;n<e.length;++n)e[n].idle(t)},s.lookAt=function(t,e,n,r){for(var i=this._controllerList,o=0;o<i.length;++o)i[o].lookAt(t,e,n,r)},s.rotate=function(t,e,n,r){for(var i=this._controllerList,o=0;o<i.length;++o)i[o].rotate(t,e,n,r)},s.pan=function(t,e,n,r){for(var i=this._controllerList,o=0;o<i.length;++o)i[o].pan(t,e,n,r)},s.translate=function(t,e,n,r){for(var i=this._controllerList,o=0;o<i.length;++o)i[o].translate(t,e,n,r)},s.setMatrix=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setMatrix(t,e)},s.setDistanceLimits=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistanceLimits(t,e)},s.setDistance=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistance(t,e)},s.recalcMatrix=function(t){this._active.recalcMatrix(t)},s.getDistance=function(t){return this._active.getDistance(t)},s.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},s.lastT=function(){return this._active.lastT()},s.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var n=this._active,r=this._controllerList[e],i=Math.max(n.lastT(),r.lastT());n.recalcMatrix(i),r.setMatrix(i,n.computedMatrix),this._active=r,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},{"matrix-camera-controller":245,"orbit-camera-controller":263,"turntable-camera-controller":305}],8:[function(t,e,n){"use strict";var r="undefined"==typeof WeakMap?t("weak-map"):WeakMap,i=t("gl-buffer"),o=t("gl-vao"),a=new r;e.exports=function(t){var e=a.get(t),n=e&&(e._triangleBuffer.handle||e._triangleBuffer.buffer);if(!n||!t.isBuffer(n)){var r=i(t,new Float32Array([-1,-1,-1,4,4,-1]));(e=o(t,[{buffer:r,type:t.FLOAT,size:2}]))._triangleBuffer=r,a.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}},{"gl-buffer":78,"gl-vao":150,"weak-map":313}],9:[function(t,e,n){var r=t("pad-left");e.exports=function(t,e,n){e="number"==typeof e?e:1,n=n||": ";var i=t.split(/\r?\n/),o=String(i.length+e-1).length;return i.map((function(t,i){var a=i+e,s=String(a).length;return r(a,o-s)+n+t})).join("\n")}},{"pad-left":264}],10:[function(t,e,n){"use strict";e.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var n=t[0].length,r=[t[0]],o=[0],a=1;a<e;++a)if(r.push(t[a]),i(r,n)){if(o.push(a),o.length===n+1)return o}else r.pop();return o};var r=t("robust-orientation");function i(t,e){for(var n=new Array(e+1),i=0;i<t.length;++i)n[i]=t[i];for(i=0;i<=t.length;++i){for(var o=t.length;o<=e;++o){for(var a=new Array(e),s=0;s<e;++s)a[s]=Math.pow(o+1-i,s);n[o]=a}if(r.apply(void 0,n))return!0}return!1}},{"robust-orientation":284}],11:[function(t,e,n){"use strict";e.exports=function(t,e){return r(e).filter((function(n){for(var r=new Array(n.length),o=0;o<n.length;++o)r[o]=e[n[o]];return i(r)*t<1}))};var r=t("delaunay-triangulate"),i=t("circumradius")},{circumradius:49,"delaunay-triangulate":63}],12:[function(t,e,n){e.exports=function(t,e){return i(r(t,e))};var r=t("alpha-complex"),i=t("simplicial-complex-boundary")},{"alpha-complex":11,"simplicial-complex-boundary":290}],13:[function(t,e,n){e.exports=function(t){return atob(t)}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=e.length,o=new Array(n+1),a=0;a<n;++a){for(var s=new Array(n+1),l=0;l<=n;++l)s[l]=t[l][a];o[a]=s}for(o[n]=new Array(n+1),a=0;a<=n;++a)o[n][a]=1;var c=new Array(n+1);for(a=0;a<n;++a)c[a]=e[a];c[n]=1;var u=r(o,c),d=i(u[n+1]);0===d&&(d=1);var f=new Array(n+1);for(a=0;a<=n;++a)f[a]=i(u[a])/d;return f};var r=t("robust-linear-solve");function i(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return e}},{"robust-linear-solve":283}],15:[function(t,e,n){"use strict";var r=t("./lib/rationalize");e.exports=function(t,e){return r(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}},{"./lib/rationalize":25}],16:[function(t,e,n){"use strict";e.exports=function(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}},{}],17:[function(t,e,n){"use strict";var r=t("./lib/rationalize");e.exports=function(t,e){return r(t[0].mul(e[1]),t[1].mul(e[0]))}},{"./lib/rationalize":25}],18:[function(t,e,n){"use strict";var r=t("./is-rat"),i=t("./lib/is-bn"),o=t("./lib/num-to-bn"),a=t("./lib/str-to-bn"),s=t("./lib/rationalize"),l=t("./div");e.exports=function t(e,n){if(r(e))return n?l(e,t(n)):[e[0].clone(),e[1].clone()];var c,u,d=0;if(i(e))c=e.clone();else if("string"==typeof e)c=a(e);else{if(0===e)return[o(0),o(1)];if(e===Math.floor(e))c=o(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),d-=256;c=o(e)}}if(r(n))c.mul(n[1]),u=n[0].clone();else if(i(n))u=n.clone();else if("string"==typeof n)u=a(n);else if(n)if(n===Math.floor(n))u=o(n);else{for(;n!==Math.floor(n);)n*=Math.pow(2,256),d+=256;u=o(n)}else u=o(1);return d>0?c=c.ushln(d):d<0&&(u=u.ushln(-d)),s(c,u)}},{"./div":17,"./is-rat":19,"./lib/is-bn":23,"./lib/num-to-bn":24,"./lib/rationalize":25,"./lib/str-to-bn":26}],19:[function(t,e,n){"use strict";var r=t("./lib/is-bn");e.exports=function(t){return Array.isArray(t)&&2===t.length&&r(t[0])&&r(t[1])}},{"./lib/is-bn":23}],20:[function(t,e,n){"use strict";var r=t("bn.js");e.exports=function(t){return t.cmp(new r(0))}},{"bn.js":33}],21:[function(t,e,n){"use strict";var r=t("./bn-sign");e.exports=function(t){var e=t.length,n=t.words,i=0;if(1===e)i=n[0];else if(2===e)i=n[0]+67108864*n[1];else for(var o=0;o<e;o++)i+=n[o]*Math.pow(67108864,o);return r(t)*i}},{"./bn-sign":20}],22:[function(t,e,n){"use strict";var r=t("double-bits"),i=t("bit-twiddle").countTrailingZeros;e.exports=function(t){var e=i(r.lo(t));if(e<32)return e;var n=i(r.hi(t));return n>20?52:n+32}},{"bit-twiddle":32,"double-bits":64}],23:[function(t,e,n){"use strict";t("bn.js"),e.exports=function(t){return t&&"object"==typeof t&&Boolean(t.words)}},{"bn.js":33}],24:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("double-bits");e.exports=function(t){var e=i.exponent(t);return e<52?new r(t):new r(t*Math.pow(2,52-e)).ushln(e-52)}},{"bn.js":33,"double-bits":64}],25:[function(t,e,n){"use strict";var r=t("./num-to-bn"),i=t("./bn-sign");e.exports=function(t,e){var n=i(t),o=i(e);if(0===n)return[r(0),r(1)];if(0===o)return[r(0),r(0)];o<0&&(t=t.neg(),e=e.neg());var a=t.gcd(e);return a.cmpn(1)?[t.div(a),e.div(a)]:[t,e]}},{"./bn-sign":20,"./num-to-bn":24}],26:[function(t,e,n){"use strict";var r=t("bn.js");e.exports=function(t){return new r(t)}},{"bn.js":33}],27:[function(t,e,n){"use strict";var r=t("./lib/rationalize");e.exports=function(t,e){return r(t[0].mul(e[0]),t[1].mul(e[1]))}},{"./lib/rationalize":25}],28:[function(t,e,n){"use strict";var r=t("./lib/bn-sign");e.exports=function(t){return r(t[0])*r(t[1])}},{"./lib/bn-sign":20}],29:[function(t,e,n){"use strict";var r=t("./lib/rationalize");e.exports=function(t,e){return r(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}},{"./lib/rationalize":25}],30:[function(t,e,n){"use strict";var r=t("./lib/bn-to-num"),i=t("./lib/ctz");e.exports=function(t){var e=t[0],n=t[1];if(0===e.cmpn(0))return 0;var o=e.abs().divmod(n.abs()),a=o.div,s=r(a),l=o.mod,c=e.negative!==n.negative?-1:1;if(0===l.cmpn(0))return c*s;if(s){var u=i(s)+4,d=r(l.ushln(u).divRound(n));return c*(s+d*Math.pow(2,-u))}var f=n.bitLength()-l.bitLength()+53;return d=r(l.ushln(f).divRound(n)),f<1023?c*d*Math.pow(2,-f):c*(d*=Math.pow(2,-1023))*Math.pow(2,1023-f)}},{"./lib/bn-to-num":21,"./lib/ctz":22}],31:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)>=0?(o=a,i=a-1):r=a+1}return o}function i(t,e,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)>0?(o=a,i=a-1):r=a+1}return o}function o(t,e,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)<0?(o=a,r=a+1):i=a-1}return o}function a(t,e,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)<=0?(o=a,r=a+1):i=a-1}return o}function s(t,e,n,r,i){for(;r<=i;){var o=r+i>>>1,a=t[o],s=void 0!==n?n(a,e):a-e;if(0===s)return o;s<=0?r=o+1:i=o-1}return-1}function l(t,e,n,r,i,o){return"function"==typeof n?o(t,e,n,void 0===r?0:0|r,void 0===i?t.length-1:0|i):o(t,e,void 0,void 0===n?0:0|n,void 0===r?t.length-1:0|r)}e.exports={ge:function(t,e,n,i,o){return l(t,e,n,i,o,r)},gt:function(t,e,n,r,o){return l(t,e,n,r,o,i)},lt:function(t,e,n,r,i){return l(t,e,n,r,i,o)},le:function(t,e,n,r,i){return l(t,e,n,r,i,a)},eq:function(t,e,n,r,i){return l(t,e,n,r,i,s)}}},{}],32:[function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(t){return(t>0)-(t<0)},n.abs=function(t){var e=t>>31;return(t^e)-e},n.min=function(t,e){return e^(t^e)&-(t<e)},n.max=function(t,e){return t^(t^e)&-(t<e)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),n.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},n.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},n.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},n.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},n.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},{}],33:[function(t,e,n){!function(e,n){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"==typeof e?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:t("buffer").Buffer}catch(t){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function l(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=l(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=l(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,l=0,u=n;u<s;u+=r)l=c(t,u,u+r,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var d=1;for(l=c(t,u,t.length,e),u=0;u<a;u++)d*=e;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var u=l>>>26,d=67108863&l,f=Math.min(c,e.length-1),h=Math.max(0,c-t.length+1);h<=f;h++){var p=c-h|0;u+=(a=(i=0|t.words[p])*(o=0|e.words[h])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,l=0|u}return 0!==l?n.words[c]=0|l:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],h=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(h).toString(t);n=(p=p.idivn(h)).isZero()?g+n:u[c-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===e,c=new t(o),u=this.clone();if(l){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,l=n.words,c=0,u=0|a[0],d=8191&u,f=u>>>13,h=0|a[1],p=8191&h,g=h>>>13,m=0|a[2],v=8191&m,y=m>>>13,b=0|a[3],x=8191&b,w=b>>>13,k=0|a[4],_=8191&k,A=k>>>13,T=0|a[5],M=8191&T,E=T>>>13,C=0|a[6],S=8191&C,O=C>>>13,L=0|a[7],P=8191&L,D=L>>>13,R=0|a[8],I=8191&R,z=R>>>13,N=0|a[9],B=8191&N,F=N>>>13,j=0|s[0],$=8191&j,Z=j>>>13,U=0|s[1],H=8191&U,V=U>>>13,W=0|s[2],Y=8191&W,G=W>>>13,q=0|s[3],X=8191&q,J=q>>>13,K=0|s[4],Q=8191&K,tt=K>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],lt=8191&st,ct=st>>>13,ut=0|s[8],dt=8191&ut,ft=ut>>>13,ht=0|s[9],pt=8191&ht,gt=ht>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(c+(r=Math.imul(d,$))|0)+((8191&(i=(i=Math.imul(d,Z))+Math.imul(f,$)|0))<<13)|0;c=((o=Math.imul(f,Z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,$),i=(i=Math.imul(p,Z))+Math.imul(g,$)|0,o=Math.imul(g,Z);var vt=(c+(r=r+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(f,H)|0))<<13)|0;c=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(v,$),i=(i=Math.imul(v,Z))+Math.imul(y,$)|0,o=Math.imul(y,Z),r=r+Math.imul(p,H)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,H)|0,o=o+Math.imul(g,V)|0;var yt=(c+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(f,Y)|0))<<13)|0;c=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(x,$),i=(i=Math.imul(x,Z))+Math.imul(w,$)|0,o=Math.imul(w,Z),r=r+Math.imul(v,H)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,V)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,G)|0;var bt=(c+(r=r+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(_,$),i=(i=Math.imul(_,Z))+Math.imul(A,$)|0,o=Math.imul(A,Z),r=r+Math.imul(x,H)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,G)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,X)|0,o=o+Math.imul(g,J)|0;var xt=(c+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,tt)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(M,$),i=(i=Math.imul(M,Z))+Math.imul(E,$)|0,o=Math.imul(E,Z),r=r+Math.imul(_,H)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,V)|0,r=r+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,G)|0,r=r+Math.imul(v,X)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,J)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var wt=(c+(r=r+Math.imul(d,nt)|0)|0)+((8191&(i=(i=i+Math.imul(d,rt)|0)+Math.imul(f,nt)|0))<<13)|0;c=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(S,$),i=(i=Math.imul(S,Z))+Math.imul(O,$)|0,o=Math.imul(O,Z),r=r+Math.imul(M,H)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,G)|0,r=r+Math.imul(x,X)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,J)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var kt=(c+(r=r+Math.imul(d,ot)|0)|0)+((8191&(i=(i=i+Math.imul(d,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(P,$),i=(i=Math.imul(P,Z))+Math.imul(D,$)|0,o=Math.imul(D,Z),r=r+Math.imul(S,H)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,G)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,J)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(v,nt)|0,i=(i=i+Math.imul(v,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var _t=(c+(r=r+Math.imul(d,lt)|0)|0)+((8191&(i=(i=i+Math.imul(d,ct)|0)+Math.imul(f,lt)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(I,$),i=(i=Math.imul(I,Z))+Math.imul(z,$)|0,o=Math.imul(z,Z),r=r+Math.imul(P,H)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,G)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(g,lt)|0,o=o+Math.imul(g,ct)|0;var At=(c+(r=r+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,ft)|0)+Math.imul(f,dt)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,Z))+Math.imul(F,$)|0,o=Math.imul(F,Z),r=r+Math.imul(I,H)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(z,H)|0,o=o+Math.imul(z,V)|0,r=r+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,G)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,J)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(_,nt)|0,i=(i=i+Math.imul(_,rt)|0)+Math.imul(A,nt)|0,o=o+Math.imul(A,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,r=r+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(p,dt)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(g,dt)|0,o=o+Math.imul(g,ft)|0;var Tt=(c+(r=r+Math.imul(d,pt)|0)|0)+((8191&(i=(i=i+Math.imul(d,gt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(B,H),i=(i=Math.imul(B,V))+Math.imul(F,H)|0,o=Math.imul(F,V),r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(z,Y)|0,o=o+Math.imul(z,G)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(D,X)|0,o=o+Math.imul(D,J)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,at)|0,r=r+Math.imul(x,lt)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,ct)|0,r=r+Math.imul(v,dt)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,dt)|0,o=o+Math.imul(y,ft)|0;var Mt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,Y),i=(i=Math.imul(B,G))+Math.imul(F,Y)|0,o=Math.imul(F,G),r=r+Math.imul(I,X)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(z,X)|0,o=o+Math.imul(z,J)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,r=r+Math.imul(_,lt)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ct)|0,r=r+Math.imul(x,dt)|0,i=(i=i+Math.imul(x,ft)|0)+Math.imul(w,dt)|0,o=o+Math.imul(w,ft)|0;var Et=(c+(r=r+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,gt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,gt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,J))+Math.imul(F,X)|0,o=Math.imul(F,J),r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(z,Q)|0,o=o+Math.imul(z,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(E,lt)|0,o=o+Math.imul(E,ct)|0,r=r+Math.imul(_,dt)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(A,dt)|0,o=o+Math.imul(A,ft)|0;var Ct=(c+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(I,nt)|0,i=(i=i+Math.imul(I,rt)|0)+Math.imul(z,nt)|0,o=o+Math.imul(z,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(M,dt)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,dt)|0,o=o+Math.imul(E,ft)|0;var St=(c+(r=r+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,gt)|0)+Math.imul(A,pt)|0))<<13)|0;c=((o=o+Math.imul(A,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,at)|0)+Math.imul(z,ot)|0,o=o+Math.imul(z,at)|0,r=r+Math.imul(P,lt)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(D,lt)|0,o=o+Math.imul(D,ct)|0,r=r+Math.imul(S,dt)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(O,dt)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(z,lt)|0,o=o+Math.imul(z,ct)|0,r=r+Math.imul(P,dt)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(D,dt)|0,o=o+Math.imul(D,ft)|0;var Lt=(c+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,gt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(B,lt),i=(i=Math.imul(B,ct))+Math.imul(F,lt)|0,o=Math.imul(F,ct),r=r+Math.imul(I,dt)|0,i=(i=i+Math.imul(I,ft)|0)+Math.imul(z,dt)|0,o=o+Math.imul(z,ft)|0;var Pt=(c+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(D,pt)|0))<<13)|0;c=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(B,dt),i=(i=Math.imul(B,ft))+Math.imul(F,dt)|0,o=Math.imul(F,ft);var Dt=(c+(r=r+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,gt)|0)+Math.imul(z,pt)|0))<<13)|0;c=((o=o+Math.imul(z,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Rt=(c+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(F,pt)|0))<<13)|0;return c=((o=Math.imul(F,gt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,l[0]=mt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=xt,l[5]=wt,l[6]=kt,l[7]=_t,l[8]=At,l[9]=Tt,l[10]=Mt,l[11]=Et,l[12]=Ct,l[13]=St,l[14]=Ot,l[15]=Lt,l[16]=Pt,l[17]=Dt,l[18]=Rt,0!==c&&(l[19]=c,n.length++),n};function g(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=h),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?h(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var u=o-c,d=(0|t.words[u])*(0|e.words[c]),f=67108863&d;s=67108863&(f=f+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=l,f=c,h=0;h<a;h++){var p=n[u+h],g=r[u+h],m=n[u+h+a],v=r[u+h+a],y=d*m-f*v;v=d*v+f*m,m=y,n[u+h]=p+m,r[u+h]=g+v,n[u+h+a]=p-m,r[u+h+a]=g-v,h!==s&&(y=l*d-c*f,f=l*f+c*d,d=y)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),l=new Array(r),c=new Array(r),u=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,l,r,i),this.transform(c,o,u,d,r,i);for(var h=0;h<r;h++){var p=s[h]*u[h]-l[h]*d[h];l[h]=s[h]*d[h]+l[h]*u[h],s[h]=p}return this.conjugate(s,l,r),this.transform(s,l,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,l=(0|this.words[e])-s<<n;this.words[e]=l|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(i-=a,i=Math.max(0,i),l){for(var c=0;c<a;c++)l.words[c]=this.words[c];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=i);c--){var d=0|this.words[c];this.words[c]=u<<26-o|d>>>o,u=d&s}return l&&0!==u&&(l.words[l.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var l=(0|t.words[i])*e;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,l=r.length-i.length;if("mod"!==e){(s=new o(null)).length=l+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var u=r.clone()._ishlnsubmul(i,1,l);0===u.negative&&(r=u,s&&(s.words[l]=1));for(var d=l-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);s&&(s.words[d]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),l=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var u=n.clone(),d=e.clone();!e.isZero();){for(var f=0,h=1;0==(e.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(u),l.isub(d)),s.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(l)):(n.isub(e),s.isub(i),l.isub(a))}return{a:s,b:l,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;0==(e.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new _(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(x,y),i(w,y),i(k,y),k.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new x;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new k}return v[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},_.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),l=s.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,c).cmp(l);)u.redIAdd(l);for(var d=this.pow(u,i),f=this.pow(t,i.addn(1).iushrn(1)),h=this.pow(t,i),p=a;0!==h.cmp(s);){for(var g=h,m=0;0!==g.cmp(s);m++)g=g.redSqr();r(m<p);var v=this.pow(d,new o(1).iushln(p-m-1));f=f.redMul(v),d=v.redSqr(),h=h.redMul(d),p=m}return f},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,l=e.bitLength()%26;for(0===l&&(l=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],u=l-1;u>=0;u--){var d=c>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===r&&0===u)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}l=26}return i},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new A(t)},i(A,_),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:2}],34:[function(t,e,n){"use strict";e.exports=function(t){var e,n,r,i=t.length,o=0;for(e=0;e<i;++e)o+=t[e].length;var a=new Array(o),s=0;for(e=0;e<i;++e){var l=t[e],c=l.length;for(n=0;n<c;++n){var u=a[s++]=new Array(c-1),d=0;for(r=0;r<c;++r)r!==n&&(u[d++]=l[r]);if(1&n){var f=u[1];u[1]=u[0],u[0]=f}}}return a}},{}],35:[function(t,e,n){"use strict";e.exports=function(t,e,n){switch(arguments.length){case 1:return d(t);case 2:return"function"==typeof e?c(t,t,e,!0):f(t,e);case 3:return c(t,e,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,i=t("typedarray-pool"),o=t("./lib/sweep"),a=t("./lib/intersect");function s(t,e){for(var n=0;n<t;++n)if(!(e[n]<=e[n+t]))return!0;return!1}function l(t,e,n,r){for(var i=0,o=0,a=0,l=t.length;a<l;++a){var c=t[a];if(!s(e,c)){for(var u=0;u<2*e;++u)n[i++]=c[u];r[o++]=a}}return o}function c(t,e,n,r){var s=t.length,c=e.length;if(!(s<=0||c<=0)){var u=t[0].length>>>1;if(!(u<=0)){var d,f=i.mallocDouble(2*u*s),h=i.mallocInt32(s);if((s=l(t,u,f,h))>0){if(1===u&&r)o.init(s),d=o.sweepComplete(u,n,0,s,f,h,0,s,f,h);else{var p=i.mallocDouble(2*u*c),g=i.mallocInt32(c);(c=l(e,u,p,g))>0&&(o.init(s+c),d=1===u?o.sweepBipartite(u,n,0,s,f,h,0,c,p,g):a(u,n,r,s,f,h,c,p,g),i.free(p),i.free(g))}i.free(f),i.free(h)}return d}}}function u(t,e){r.push([t,e])}function d(t){return r=[],c(t,t,u,!0),r}function f(t,e){return r=[],c(t,e,u,!1),r}},{"./lib/intersect":37,"./lib/sweep":41,"typedarray-pool":308}],36:[function(t,e,n){"use strict";function r(t){return t?function(t,e,n,r,i,o,a,s,l,c,u){return i-r>l-s?function(t,e,n,r,i,o,a,s,l,c,u){for(var d=2*t,f=r,h=d*r;f<i;++f,h+=d){var p=o[e+h],g=o[e+h+t],m=a[f];t:for(var v=s,y=d*s;v<l;++v,y+=d){var b=c[e+y],x=c[e+y+t],w=u[v];if(!(x<p||g<b)){for(var k=e+1;k<t;++k){var _=o[k+h],A=o[k+t+h],T=c[k+y],M=c[k+t+y];if(A<T||M<_)continue t}var E=n(m,w);if(void 0!==E)return E}}}}(t,e,n,r,i,o,a,s,l,c,u):function(t,e,n,r,i,o,a,s,l,c,u){for(var d=2*t,f=s,h=d*s;f<l;++f,h+=d){var p=c[e+h],g=c[e+h+t],m=u[f];t:for(var v=r,y=d*r;v<i;++v,y+=d){var b=o[e+y],x=o[e+y+t],w=a[v];if(!(g<b||x<p)){for(var k=e+1;k<t;++k){var _=o[k+y],A=o[k+t+y],T=c[k+h],M=c[k+t+h];if(A<T||M<_)continue t}var E=n(w,m);if(void 0!==E)return E}}}}(t,e,n,r,i,o,a,s,l,c,u)}:function(t,e,n,r,i,o,a,s,l,c,u,d){return o-i>c-l?r?function(t,e,n,r,i,o,a,s,l,c,u){for(var d=2*t,f=r,h=d*r;f<i;++f,h+=d){var p=o[e+h],g=o[e+h+t],m=a[f];t:for(var v=s,y=d*s;v<l;++v,y+=d){var b=c[e+y],x=u[v];if(!(b<=p||g<b)){for(var w=e+1;w<t;++w){var k=o[w+h],_=o[w+t+h],A=c[w+y],T=c[w+t+y];if(_<A||T<k)continue t}var M=n(x,m);if(void 0!==M)return M}}}}(t,e,n,i,o,a,s,l,c,u,d):function(t,e,n,r,i,o,a,s,l,c,u){for(var d=2*t,f=r,h=d*r;f<i;++f,h+=d){var p=o[e+h],g=o[e+h+t],m=a[f];t:for(var v=s,y=d*s;v<l;++v,y+=d){var b=c[e+y],x=u[v];if(!(b<p||g<b)){for(var w=e+1;w<t;++w){var k=o[w+h],_=o[w+t+h],A=c[w+y],T=c[w+t+y];if(_<A||T<k)continue t}var M=n(m,x);if(void 0!==M)return M}}}}(t,e,n,i,o,a,s,l,c,u,d):r?function(t,e,n,r,i,o,a,s,l,c,u){for(var d=2*t,f=s,h=d*s;f<l;++f,h+=d){var p=c[e+h],g=u[f];t:for(var m=r,v=d*r;m<i;++m,v+=d){var y=o[e+v],b=o[e+v+t],x=a[m];if(!(p<=y||b<p)){for(var w=e+1;w<t;++w){var k=o[w+v],_=o[w+t+v],A=c[w+h],T=c[w+t+h];if(_<A||T<k)continue t}var M=n(g,x);if(void 0!==M)return M}}}}(t,e,n,i,o,a,s,l,c,u,d):function(t,e,n,r,i,o,a,s,l,c,u){for(var d=2*t,f=s,h=d*s;f<l;++f,h+=d){var p=c[e+h],g=u[f];t:for(var m=r,v=d*r;m<i;++m,v+=d){var y=o[e+v],b=o[e+v+t],x=a[m];if(!(p<y||b<p)){for(var w=e+1;w<t;++w){var k=o[w+v],_=o[w+t+v],A=c[w+h],T=c[w+t+h];if(_<A||T<k)continue t}var M=n(x,g);if(void 0!==M)return M}}}}(t,e,n,i,o,a,s,l,c,u,d)}}n.partial=r(!1),n.full=r(!0)},{}],37:[function(t,e,n){"use strict";e.exports=function(t,e,n,o,u,k,_,A,T){!function(t,e){var n=8*i.log2(e+1)*(t+1)|0,o=i.nextPow2(6*n);v.length<o&&(r.free(v),v=r.mallocInt32(o));var a=i.nextPow2(2*n);y.length<a&&(r.free(y),y=r.mallocDouble(a))}(t,o+_);var M,E=0,C=2*t;for(b(E++,0,0,o,0,_,n?16:0,-1/0,1/0),n||b(E++,0,0,_,0,o,1,-1/0,1/0);E>0;){var S=6*(E-=1),O=v[S],L=v[S+1],P=v[S+2],D=v[S+3],R=v[S+4],I=v[S+5],z=2*E,N=y[z],B=y[z+1],F=1&I,j=!!(16&I),$=u,Z=k,U=A,H=T;if(F&&($=A,Z=T,U=u,H=k),!(2&I&&(P=h(t,O,L,P,$,Z,B),L>=P)||4&I&&(L=p(t,O,L,P,$,Z,N))>=P)){var V=P-L,W=R-D;if(j){if(t*V*(V+W)<1<<22){if(void 0!==(M=l.scanComplete(t,O,e,L,P,$,Z,D,R,U,H)))return M;continue}}else{if(t*Math.min(V,W)<128){if(void 0!==(M=a(t,O,e,F,L,P,$,Z,D,R,U,H)))return M;continue}if(t*V*W<1<<22){if(void 0!==(M=l.scanBipartite(t,O,e,F,L,P,$,Z,D,R,U,H)))return M;continue}}var Y=d(t,O,L,P,$,Z,N,B);if(L<Y)if(t*(Y-L)<128){if(void 0!==(M=s(t,O+1,e,L,Y,$,Z,D,R,U,H)))return M}else if(O===t-2){if(void 0!==(M=F?l.sweepBipartite(t,e,D,R,U,H,L,Y,$,Z):l.sweepBipartite(t,e,L,Y,$,Z,D,R,U,H)))return M}else b(E++,O+1,L,Y,D,R,F,-1/0,1/0),b(E++,O+1,D,R,L,Y,1^F,-1/0,1/0);if(Y<P){var G=c(t,O,D,R,U,H),q=U[C*G+O],X=f(t,O,G,R,U,H,q);if(X<R&&b(E++,O,Y,P,X,R,(4|F)+(j?16:0),q,B),D<G&&b(E++,O,Y,P,D,G,(2|F)+(j?16:0),N,q),G+1===X){if(void 0!==(M=j?w(t,O,e,Y,P,$,Z,G,U,H[G]):x(t,O,e,F,Y,P,$,Z,G,U,H[G])))return M}else if(G<X){var J;if(j){if(Y<(J=g(t,O,Y,P,$,Z,q))){var K=f(t,O,Y,J,$,Z,q);if(O===t-2){if(Y<K&&void 0!==(M=l.sweepComplete(t,e,Y,K,$,Z,G,X,U,H)))return M;if(K<J&&void 0!==(M=l.sweepBipartite(t,e,K,J,$,Z,G,X,U,H)))return M}else Y<K&&b(E++,O+1,Y,K,G,X,16,-1/0,1/0),K<J&&(b(E++,O+1,K,J,G,X,0,-1/0,1/0),b(E++,O+1,G,X,K,J,1,-1/0,1/0))}}else Y<(J=F?m(t,O,Y,P,$,Z,q):g(t,O,Y,P,$,Z,q))&&(O===t-2?M=F?l.sweepBipartite(t,e,G,X,U,H,Y,J,$,Z):l.sweepBipartite(t,e,Y,J,$,Z,G,X,U,H):(b(E++,O+1,Y,J,G,X,F,-1/0,1/0),b(E++,O+1,G,X,Y,J,1^F,-1/0,1/0)))}}}}};var r=t("typedarray-pool"),i=t("bit-twiddle"),o=t("./brute"),a=o.partial,s=o.full,l=t("./sweep"),c=t("./median"),u=t("./partition"),d=u("!(lo>=p0)&&!(p1>=hi)"),f=u("lo===p0"),h=u("lo<p0"),p=u("hi<=p0"),g=u("lo<=p0&&p0<=hi"),m=u("lo<p0&&p0<=hi"),v=r.mallocInt32(1024),y=r.mallocDouble(1024);function b(t,e,n,r,i,o,a,s,l){var c=6*t;v[c]=e,v[c+1]=n,v[c+2]=r,v[c+3]=i,v[c+4]=o,v[c+5]=a;var u=2*t;y[u]=s,y[u+1]=l}function x(t,e,n,r,i,o,a,s,l,c,u){var d=2*t,f=l*d,h=c[f+e];t:for(var p=i,g=i*d;p<o;++p,g+=d){var m=a[g+e],v=a[g+e+t];if(!(h<m||v<h)&&(!r||h!==m)){for(var y,b=s[p],x=e+1;x<t;++x){m=a[g+x],v=a[g+x+t];var w=c[f+x],k=c[f+x+t];if(v<w||k<m)continue t}if(void 0!==(y=r?n(u,b):n(b,u)))return y}}}function w(t,e,n,r,i,o,a,s,l,c){var u=2*t,d=s*u,f=l[d+e];t:for(var h=r,p=r*u;h<i;++h,p+=u){var g=a[h];if(g!==c){var m=o[p+e],v=o[p+e+t];if(!(f<m||v<f)){for(var y=e+1;y<t;++y){m=o[p+y],v=o[p+y+t];var b=l[d+y],x=l[d+y+t];if(v<b||x<m)continue t}var w=n(g,c);if(void 0!==w)return w}}}}},{"./brute":36,"./median":38,"./partition":39,"./sweep":41,"bit-twiddle":32,"typedarray-pool":308}],38:[function(t,e,n){"use strict";e.exports=function(t,e,n,o,a,s){if(o<=n+1)return n;for(var l=n,c=o,u=o+n>>>1,d=2*t,f=u,h=a[d*u+e];l<c;){if(c-l<8){i(t,e,l,c,a,s),h=a[d*u+e];break}var p=c-l,g=Math.random()*p+l|0,m=a[d*g+e],v=Math.random()*p+l|0,y=a[d*v+e],b=Math.random()*p+l|0,x=a[d*b+e];m<=y?x>=y?(f=v,h=y):m>=x?(f=g,h=m):(f=b,h=x):y>=x?(f=v,h=y):x>=m?(f=g,h=m):(f=b,h=x);for(var w=d*(c-1),k=d*f,_=0;_<d;++_,++w,++k){var A=a[w];a[w]=a[k],a[k]=A}var T=s[c-1];for(s[c-1]=s[f],s[f]=T,w=d*(c-1),k=d*(f=r(t,e,l,c-1,a,s,h)),_=0;_<d;++_,++w,++k)A=a[w],a[w]=a[k],a[k]=A;if(T=s[c-1],s[c-1]=s[f],s[f]=T,u<f){for(c=f-1;l<c&&a[d*(c-1)+e]===h;)c-=1;c+=1}else{if(!(f<u))break;for(l=f+1;l<c&&a[d*l+e]===h;)l+=1}}return r(t,e,n,u,a,s,a[d*u+e])};var r=t("./partition")("lo<p0");function i(t,e,n,r,i,o){for(var a=2*t,s=a*(n+1)+e,l=n+1;l<r;++l,s+=a)for(var c=i[s],u=l,d=a*(l-1);u>n&&i[d+e]>c;--u,d-=a){for(var f=d,h=d+a,p=0;p<a;++p,++f,++h){var g=i[f];i[f]=i[h],i[h]=g}var m=o[u];o[u]=o[u-1],o[u-1]=m}}},{"./partition":39}],39:[function(t,e,n){"use strict";e.exports=function(t){return r[t]};var r={"lo===p0":function(t,e,n,r,i,o,a){for(var s=2*t,l=s*n,c=l,u=n,d=e,f=n;r>f;++f,l+=s)if(i[l+d]===a)if(u===f)u+=1,c+=s;else{for(var h=0;s>h;++h){var p=i[l+h];i[l+h]=i[c],i[c++]=p}var g=o[f];o[f]=o[u],o[u++]=g}return u},"lo<p0":function(t,e,n,r,i,o,a){for(var s=2*t,l=s*n,c=l,u=n,d=e,f=n;r>f;++f,l+=s)if(i[l+d]<a)if(u===f)u+=1,c+=s;else{for(var h=0;s>h;++h){var p=i[l+h];i[l+h]=i[c],i[c++]=p}var g=o[f];o[f]=o[u],o[u++]=g}return u},"lo<=p0":function(t,e,n,r,i,o,a){for(var s=2*t,l=s*n,c=l,u=n,d=t+e,f=n;r>f;++f,l+=s)if(i[l+d]<=a)if(u===f)u+=1,c+=s;else{for(var h=0;s>h;++h){var p=i[l+h];i[l+h]=i[c],i[c++]=p}var g=o[f];o[f]=o[u],o[u++]=g}return u},"hi<=p0":function(t,e,n,r,i,o,a){for(var s=2*t,l=s*n,c=l,u=n,d=t+e,f=n;r>f;++f,l+=s)if(i[l+d]<=a)if(u===f)u+=1,c+=s;else{for(var h=0;s>h;++h){var p=i[l+h];i[l+h]=i[c],i[c++]=p}var g=o[f];o[f]=o[u],o[u++]=g}return u},"lo<p0&&p0<=hi":function(t,e,n,r,i,o,a){for(var s=2*t,l=s*n,c=l,u=n,d=e,f=t+e,h=n;r>h;++h,l+=s){var p=i[l+d],g=i[l+f];if(p<a&&a<=g)if(u===h)u+=1,c+=s;else{for(var m=0;s>m;++m){var v=i[l+m];i[l+m]=i[c],i[c++]=v}var y=o[h];o[h]=o[u],o[u++]=y}}return u},"lo<=p0&&p0<=hi":function(t,e,n,r,i,o,a){for(var s=2*t,l=s*n,c=l,u=n,d=e,f=t+e,h=n;r>h;++h,l+=s){var p=i[l+d],g=i[l+f];if(p<=a&&a<=g)if(u===h)u+=1,c+=s;else{for(var m=0;s>m;++m){var v=i[l+m];i[l+m]=i[c],i[c++]=v}var y=o[h];o[h]=o[u],o[u++]=y}}return u},"!(lo>=p0)&&!(p1>=hi)":function(t,e,n,r,i,o,a,s){for(var l=2*t,c=l*n,u=c,d=n,f=e,h=t+e,p=n;r>p;++p,c+=l){var g=i[c+f],m=i[c+h];if(!(g>=a||s>=m))if(d===p)d+=1,u+=l;else{for(var v=0;l>v;++v){var y=i[c+v];i[c+v]=i[u],i[u++]=y}var b=o[p];o[p]=o[d],o[d++]=b}}return d}}},{}],40:[function(t,e,n){"use strict";function r(t,e,n){for(var r=2*(t+1),i=t+1;i<=e;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >t;){var c=n[l-2],u=n[l-1];if(c<o)break;if(c===o&&u<a)break;n[l]=c,n[l+1]=u,l-=2}n[l]=o,n[l+1]=a}}function i(t,e,n){e*=2;var r=n[t*=2],i=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=r,n[e+1]=i}function o(t,e,n){e*=2,n[t*=2]=n[e],n[t+1]=n[e+1]}function a(t,e,n,r){e*=2,n*=2;var i=r[t*=2],o=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[n],r[e+1]=r[n+1],r[n]=i,r[n+1]=o}function s(t,e,n,r,i){e*=2,i[t*=2]=i[e],i[e]=n,i[t+1]=i[e+1],i[e+1]=r}function l(t,e,n){e*=2;var r=n[t*=2],i=n[e];return!(r<i)&&(r!==i||n[t+1]>n[e+1])}function c(t,e,n,r){var i=r[t*=2];return i<e||i===e&&r[t+1]<n}e.exports=function(t,e){e<=128?r(0,e-1,t):function t(e,n,u){var d=(n-e+1)/6|0,f=e+d,h=n-d,p=e+n>>1,g=p-d,m=p+d,v=f,y=g,b=p,x=m,w=h,k=e+1,_=n-1,A=0;l(v,y,u)&&(A=v,v=y,y=A),l(x,w,u)&&(A=x,x=w,w=A),l(v,b,u)&&(A=v,v=b,b=A),l(y,b,u)&&(A=y,y=b,b=A),l(v,x,u)&&(A=v,v=x,x=A),l(b,x,u)&&(A=b,b=x,x=A),l(y,w,u)&&(A=y,y=w,w=A),l(y,b,u)&&(A=y,y=b,b=A),l(x,w,u)&&(A=x,x=w,w=A);for(var T=u[2*y],M=u[2*y+1],E=u[2*x],C=u[2*x+1],S=2*v,O=2*b,L=2*w,P=2*f,D=2*p,R=2*h,I=0;I<2;++I){var z=u[S+I],N=u[O+I],B=u[L+I];u[P+I]=z,u[D+I]=N,u[R+I]=B}o(g,e,u),o(m,n,u);for(var F=k;F<=_;++F)if(c(F,T,M,u))F!==k&&i(F,k,u),++k;else if(!c(F,E,C,u))for(;;){if(c(_,E,C,u)){c(_,T,M,u)?(a(F,k,_,u),++k,--_):(i(F,_,u),--_);break}if(--_<F)break}s(e,k-1,T,M,u),s(n,_+1,E,C,u),k-2-e<=32?r(e,k-2,u):t(e,k-2,u),n-(_+2)<=32?r(_+2,n,u):t(_+2,n,u),_-k<=32?r(k,_,u):t(k,_,u)}(0,e-1,t)}},{}],41:[function(t,e,n){"use strict";e.exports={init:function(t){var e=i.nextPow2(t);a.length<e&&(r.free(a),a=r.mallocInt32(e)),s.length<e&&(r.free(s),s=r.mallocInt32(e)),l.length<e&&(r.free(l),l=r.mallocInt32(e)),c.length<e&&(r.free(c),c=r.mallocInt32(e)),u.length<e&&(r.free(u),u=r.mallocInt32(e)),d.length<e&&(r.free(d),d=r.mallocInt32(e));var n=8*e;f.length<n&&(r.free(f),f=r.mallocDouble(n))},sweepBipartite:function(t,e,n,r,i,u,d,g,m,v){for(var y=0,b=2*t,x=t-1,w=b-1,k=n;k<r;++k){var _=u[k],A=b*k;f[y++]=i[A+x],f[y++]=-(_+1),f[y++]=i[A+w],f[y++]=_}for(k=d;k<g;++k){_=v[k]+(1<<28);var T=b*k;f[y++]=m[T+x],f[y++]=-_,f[y++]=m[T+w],f[y++]=_}var M=y>>>1;o(f,M);var E=0,C=0;for(k=0;k<M;++k){var S=0|f[2*k+1];if(S>=1<<28)h(l,c,C--,S=S-(1<<28)|0);else if(S>=0)h(a,s,E--,S);else if(S<=-(1<<28)){S=-S-(1<<28)|0;for(var O=0;O<E;++O)if(void 0!==(L=e(a[O],S)))return L;p(l,c,C++,S)}else{for(S=-S-1|0,O=0;O<C;++O){var L;if(void 0!==(L=e(S,l[O])))return L}p(a,s,E++,S)}}},sweepComplete:function(t,e,n,r,i,g,m,v,y,b){for(var x=0,w=2*t,k=t-1,_=w-1,A=n;A<r;++A){var T=g[A]+1<<1,M=w*A;f[x++]=i[M+k],f[x++]=-T,f[x++]=i[M+_],f[x++]=T}for(A=m;A<v;++A){T=b[A]+1<<1;var E=w*A;f[x++]=y[E+k],f[x++]=1|-T,f[x++]=y[E+_],f[x++]=1|T}var C=x>>>1;o(f,C);var S=0,O=0,L=0;for(A=0;A<C;++A){var P=0|f[2*A+1],D=1&P;if(A<C-1&&P>>1==f[2*A+3]>>1&&(D=2,A+=1),P<0){for(var R=-(P>>1)-1,I=0;I<L;++I)if(void 0!==(z=e(u[I],R)))return z;if(0!==D)for(I=0;I<S;++I)if(void 0!==(z=e(a[I],R)))return z;if(1!==D)for(I=0;I<O;++I){var z;if(void 0!==(z=e(l[I],R)))return z}0===D?p(a,s,S++,R):1===D?p(l,c,O++,R):2===D&&p(u,d,L++,R)}else R=(P>>1)-1,0===D?h(a,s,S--,R):1===D?h(l,c,O--,R):2===D&&h(u,d,L--,R)}},scanBipartite:function(t,e,n,r,i,l,c,u,d,g,m,v){var y=0,b=2*t,x=e,w=e+t,k=1,_=1;r?_=1<<28:k=1<<28;for(var A=i;A<l;++A){var T=A+k,M=b*A;f[y++]=c[M+x],f[y++]=-T,f[y++]=c[M+w],f[y++]=T}for(A=d;A<g;++A){T=A+_;var E=b*A;f[y++]=m[E+x],f[y++]=-T}var C=y>>>1;o(f,C);var S=0;for(A=0;A<C;++A){var O=0|f[2*A+1];if(O<0){var L=!1;if((T=-O)>=1<<28?(L=!r,T-=1<<28):(L=!!r,T-=1),L)p(a,s,S++,T);else{var P=v[T],D=b*T,R=m[D+e+1],I=m[D+e+1+t];t:for(var z=0;z<S;++z){var N=a[z],B=b*N;if(!(I<c[B+e+1]||c[B+e+1+t]<R)){for(var F=e+2;F<t;++F)if(m[D+F+t]<c[B+F]||c[B+F+t]<m[D+F])continue t;var j,$=u[N];if(void 0!==(j=r?n(P,$):n($,P)))return j}}}}else h(a,s,S--,O-k)}},scanComplete:function(t,e,n,r,i,s,l,c,u,d,h){for(var p=0,g=2*t,m=e,v=e+t,y=r;y<i;++y){var b=y+(1<<28),x=g*y;f[p++]=s[x+m],f[p++]=-b,f[p++]=s[x+v],f[p++]=b}for(y=c;y<u;++y){b=y+1;var w=g*y;f[p++]=d[w+m],f[p++]=-b}var k=p>>>1;o(f,k);var _=0;for(y=0;y<k;++y){var A=0|f[2*y+1];if(A<0)if((b=-A)>=1<<28)a[_++]=b-(1<<28);else{var T=h[b-=1],M=g*b,E=d[M+e+1],C=d[M+e+1+t];t:for(var S=0;S<_;++S){var O=a[S],L=l[O];if(L===T)break;var P=g*O;if(!(C<s[P+e+1]||s[P+e+1+t]<E)){for(var D=e+2;D<t;++D)if(d[M+D+t]<s[P+D]||s[P+D+t]<d[M+D])continue t;var R=n(L,T);if(void 0!==R)return R}}}else{for(b=A-(1<<28),S=_-1;S>=0;--S)if(a[S]===b){for(D=S+1;D<_;++D)a[D-1]=a[D];break}--_}}}};var r=t("typedarray-pool"),i=t("bit-twiddle"),o=t("./sort"),a=r.mallocInt32(1024),s=r.mallocInt32(1024),l=r.mallocInt32(1024),c=r.mallocInt32(1024),u=r.mallocInt32(1024),d=r.mallocInt32(1024),f=r.mallocDouble(8192);function h(t,e,n,r){var i=e[r],o=t[n-1];t[i]=o,e[o]=i}function p(t,e,n,r){t[n]=r,e[r]=n}},{"./sort":40,"bit-twiddle":32,"typedarray-pool":308}],42:[function(t,e,n){"use strict";var r=t("./lib/monotone"),i=t("./lib/triangulation"),o=t("./lib/delaunay"),a=t("./lib/filter");function s(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function l(t,e){return t[0]-e[0]||t[1]-e[1]}function c(t,e,n){return e in t?t[e]:n}e.exports=function(t,e,n){Array.isArray(e)?(n=n||{},e=e||[]):(n=e||{},e=[]);var u=!!c(n,"delaunay",!0),d=!!c(n,"interior",!0),f=!!c(n,"exterior",!0),h=!!c(n,"infinity",!1);if(!d&&!f||0===t.length)return[];var p=r(t,e);if(u||d!==f||h){for(var g=i(t.length,function(t){return t.map(s).sort(l)}(e)),m=0;m<p.length;++m){var v=p[m];g.addTriangle(v[0],v[1],v[2])}return u&&o(t,g),f?d?h?a(g,0,h):g.cells():a(g,1,h):a(g,-1)}return p}},{"./lib/delaunay":43,"./lib/filter":44,"./lib/monotone":45,"./lib/triangulation":46}],43:[function(t,e,n){"use strict";var r=t("robust-in-sphere")[4];function i(t,e,n,i,o,a){var s=e.opposite(i,o);if(!(s<0)){if(o<i){var l=i;i=o,o=l,l=a,a=s,s=l}e.isConstraint(i,o)||r(t[i],t[o],t[a],t[s])<0&&n.push(i,o)}}t("binary-search-bounds"),e.exports=function(t,e){for(var n=[],o=t.length,a=e.stars,s=0;s<o;++s)for(var l=a[s],c=1;c<l.length;c+=2)if(!((h=l[c])<s)&&!e.isConstraint(s,h)){for(var u=l[c-1],d=-1,f=1;f<l.length;f+=2)if(l[f-1]===h){d=l[f];break}d<0||r(t[s],t[h],t[u],t[d])<0&&n.push(s,h)}for(;n.length>0;){for(var h=n.pop(),p=(u=-1,d=-1,l=a[s=n.pop()],1);p<l.length;p+=2){var g=l[p-1],m=l[p];g===h?d=m:m===h&&(u=g)}u<0||d<0||r(t[s],t[h],t[u],t[d])>=0||(e.flip(s,h),i(t,e,n,u,s,d),i(t,e,n,s,d,u),i(t,e,n,d,h,u),i(t,e,n,h,u,d))}}},{"binary-search-bounds":31,"robust-in-sphere":282}],44:[function(t,e,n){"use strict";var r,i=t("binary-search-bounds");function o(t,e,n,r,i,o,a){this.cells=t,this.neighbor=e,this.flags=r,this.constraint=n,this.active=i,this.next=o,this.boundary=a}function a(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}e.exports=function(t,e,n){var r=function(t,e){for(var n=t.cells(),r=n.length,i=0;i<r;++i){var s=(v=n[i])[0],l=v[1],c=v[2];l<c?l<s&&(v[0]=l,v[1]=c,v[2]=s):c<s&&(v[0]=c,v[1]=s,v[2]=l)}n.sort(a);var u=new Array(r);for(i=0;i<u.length;++i)u[i]=0;var d=[],f=[],h=new Array(3*r),p=new Array(3*r),g=null;e&&(g=[]);var m=new o(n,h,p,u,d,f,g);for(i=0;i<r;++i)for(var v=n[i],y=0;y<3;++y){s=v[y],l=v[(y+1)%3];var b=h[3*i+y]=m.locate(l,s,t.opposite(l,s)),x=p[3*i+y]=t.isConstraint(s,l);b<0&&(x?f.push(i):(d.push(i),u[i]=1),e&&g.push([l,s,-1]))}return m}(t,n);if(0===e)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,s=r.active,l=r.next,c=r.flags,u=r.cells,d=r.constraint,f=r.neighbor;s.length>0||l.length>0;){for(;s.length>0;){var h=s.pop();if(c[h]!==-i){c[h]=i,u[h];for(var p=0;p<3;++p){var g=f[3*h+p];g>=0&&0===c[g]&&(d[3*h+p]?l.push(g):(s.push(g),c[g]=i))}}}var m=l;l=s,s=m,l.length=0,i=-i}var v=function(t,e,n){for(var r=0,i=0;i<t.length;++i)e[i]===n&&(t[r++]=t[i]);return t.length=r,t}(u,c,e);return n?v.concat(r.boundary):v},o.prototype.locate=(r=[0,0,0],function(t,e,n){var o=t,s=e,l=n;return e<n?e<t&&(o=e,s=n,l=t):n<t&&(o=n,s=t,l=e),o<0?-1:(r[0]=o,r[1]=s,r[2]=l,i.eq(this.cells,r,a))})},{"binary-search-bounds":31}],45:[function(t,e,n){"use strict";var r=t("binary-search-bounds"),i=t("robust-orientation")[3];function o(t,e,n,r,i){this.a=t,this.b=e,this.idx=n,this.lowerIds=r,this.upperIds=i}function a(t,e,n,r){this.a=t,this.b=e,this.type=n,this.idx=r}function s(t,e){var n=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return n||(0!==t.type&&(n=i(t.a,t.b,e.b))?n:t.idx-e.idx)}function l(t,e){return i(t.a,t.b,e)}function c(t,e,n,o,a){for(var s=r.lt(e,o,l),c=r.gt(e,o,l),u=s;u<c;++u){for(var d=e[u],f=d.lowerIds,h=f.length;h>1&&i(n[f[h-2]],n[f[h-1]],o)>0;)t.push([f[h-1],f[h-2],a]),h-=1;f.length=h,f.push(a);var p=d.upperIds;for(h=p.length;h>1&&i(n[p[h-2]],n[p[h-1]],o)<0;)t.push([p[h-2],p[h-1],a]),h-=1;p.length=h,p.push(a)}}function u(t,e){var n;return(n=t.a[0]<e.a[0]?i(t.a,t.b,e.a):i(e.b,e.a,t.a))?n:(n=e.b[0]<t.b[0]?i(t.a,t.b,e.b):i(e.b,e.a,t.b))||t.idx-e.idx}function d(t,e,n){var i=r.le(t,n,u),a=t[i],s=a.upperIds,l=s[s.length-1];a.upperIds=[l],t.splice(i+1,0,new o(n.a,n.b,n.idx,[l],s))}function f(t,e,n){var i=n.a;n.a=n.b,n.b=i;var o=r.eq(t,n,u),a=t[o];t[o-1].upperIds=a.upperIds,t.splice(o,1)}e.exports=function(t,e){for(var n=t.length,r=e.length,i=[],l=0;l<n;++l)i.push(new a(t[l],null,0,l));for(l=0;l<r;++l){var u=e[l],h=t[u[0]],p=t[u[1]];h[0]<p[0]?i.push(new a(h,p,2,l),new a(p,h,1,l)):h[0]>p[0]&&i.push(new a(p,h,2,l),new a(h,p,1,l))}i.sort(s);for(var g=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),m=[new o([g,1],[g,0],-1,[],[],[],[])],v=[],y=(l=0,i.length);l<y;++l){var b=i[l],x=b.type;0===x?c(v,m,t,b.a,b.idx):2===x?d(m,t,b):f(m,t,b)}return v}},{"binary-search-bounds":31,"robust-orientation":284}],46:[function(t,e,n){"use strict";var r=t("binary-search-bounds");function i(t,e){this.stars=t,this.edges=e}e.exports=function(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=[];return new i(n,e)};var o=i.prototype;function a(t,e,n){for(var r=1,i=t.length;r<i;r+=2)if(t[r-1]===e&&t[r]===n)return t[r-1]=t[i-2],t[r]=t[i-1],void(t.length=i-2)}o.isConstraint=function(){var t=[0,0];function e(t,e){return t[0]-e[0]||t[1]-e[1]}return function(n,i){return t[0]=Math.min(n,i),t[1]=Math.max(n,i),r.eq(this.edges,t,e)>=0}}(),o.removeTriangle=function(t,e,n){var r=this.stars;a(r[t],e,n),a(r[e],n,t),a(r[n],t,e)},o.addTriangle=function(t,e,n){var r=this.stars;r[t].push(e,n),r[e].push(n,t),r[n].push(t,e)},o.opposite=function(t,e){for(var n=this.stars[e],r=1,i=n.length;r<i;r+=2)if(n[r]===t)return n[r-1];return-1},o.flip=function(t,e){var n=this.opposite(t,e),r=this.opposite(e,t);this.removeTriangle(t,e,n),this.removeTriangle(e,t,r),this.addTriangle(t,r,n),this.addTriangle(e,n,r)},o.edges=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;o+=2)e.push([i[o],i[o+1]]);return e},o.cells=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;o+=2){var s=i[o],l=i[o+1];n<Math.min(s,l)&&e.push([n,s,l])}return e}},{"binary-search-bounds":31}],47:[function(t,e,n){"use strict";e.exports=function(t){for(var e=1,n=1;n<t.length;++n)for(var r=0;r<n;++r)if(t[n]<t[r])e=-e;else if(t[r]===t[n])return 0;return e}},{}],48:[function(t,e,n){"use strict";var r=t("dup"),i=t("robust-linear-solve");function o(t,e){for(var n=0,r=t.length,i=0;i<r;++i)n+=t[i]*e[i];return n}function a(t){var e=t.length;if(0===e)return[];t[0].length;var n=r([t.length+1,t.length+1],1),a=r([t.length+1],1);n[e][e]=0;for(var s=0;s<e;++s){for(var l=0;l<=s;++l)n[l][s]=n[s][l]=2*o(t[s],t[l]);a[s]=o(t[s],t[s])}var c=i(n,a),u=0,d=c[e+1];for(s=0;s<d.length;++s)u+=d[s];var f=new Array(e);for(s=0;s<e;++s){d=c[s];var h=0;for(l=0;l<d.length;++l)h+=d[l];f[s]=h/u}return f}function s(t){if(0===t.length)return[];for(var e=t[0].length,n=r([e]),i=a(t),o=0;o<t.length;++o)for(var s=0;s<e;++s)n[s]+=t[o][s]*i[o];return n}s.barycenetric=a,e.exports=s},{dup:65,"robust-linear-solve":283}],49:[function(t,e,n){e.exports=function(t){for(var e=r(t),n=0,i=0;i<t.length;++i)for(var o=t[i],a=0;a<e.length;++a)n+=Math.pow(o[a]-e[a],2);return Math.sqrt(n/t.length)};var r=t("circumcenter")},{circumcenter:48}],50:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r;if(n){r=e;for(var i=new Array(e.length),o=0;o<e.length;++o){var a=e[o];i[o]=[a[0],a[1],n[o]]}e=i}for(var s=function(t,e,n){var r=p(t,[],h(t));return v(e,r,n),!!r}(t,e,!!n);y(t,e,!!n);)s=!0;if(n&&s)for(r.length=0,n.length=0,o=0;o<e.length;++o)a=e[o],r.push([a[0],a[1]]),n.push(a[2]);return s};var r=t("union-find"),i=t("box-intersect"),o=t("robust-segment-intersect"),a=t("big-rat"),s=t("big-rat/cmp"),l=t("big-rat/to-float"),c=t("rat-vec"),u=t("nextafter"),d=t("./lib/rat-seg-intersect");function f(t){var e=l(t);return[u(e,-1/0),u(e,1/0)]}function h(t){for(var e=new Array(t.length),n=0;n<t.length;++n){var r=t[n];e[n]=[u(r[0],-1/0),u(r[1],-1/0),u(r[0],1/0),u(r[1],1/0)]}return e}function p(t,e,n){for(var o=e.length,a=new r(o),s=[],l=0;l<e.length;++l){var c=e[l],d=f(c[0]),h=f(c[1]);s.push([u(d[0],-1/0),u(h[0],-1/0),u(d[1],1/0),u(h[1],1/0)])}i(s,(function(t,e){a.link(t,e)}));var p=!0,g=new Array(o);for(l=0;l<o;++l)(v=a.find(l))!==l&&(p=!1,t[v]=[Math.min(t[l][0],t[v][0]),Math.min(t[l][1],t[v][1])]);if(p)return null;var m=0;for(l=0;l<o;++l){var v;(v=a.find(l))===l?(g[l]=m,t[m++]=t[l]):g[l]=-1}for(t.length=m,l=0;l<o;++l)g[l]<0&&(g[l]=g[a.find(l)]);return g}function g(t,e){return t[0]-e[0]||t[1]-e[1]}function m(t,e){return t[0]-e[0]||t[1]-e[1]||(t[2]<e[2]?-1:t[2]>e[2]?1:0)}function v(t,e,n){if(0!==t.length){if(e)for(var r=0;r<t.length;++r){var i=e[(a=t[r])[0]],o=e[a[1]];a[0]=Math.min(i,o),a[1]=Math.max(i,o)}else for(r=0;r<t.length;++r){var a;i=(a=t[r])[0],o=a[1],a[0]=Math.min(i,o),a[1]=Math.max(i,o)}n?t.sort(m):t.sort(g);var s=1;for(r=1;r<t.length;++r){var l=t[r-1],c=t[r];(c[0]!==l[0]||c[1]!==l[1]||n&&c[2]!==l[2])&&(t[s++]=c)}t.length=s}}function y(t,e,n){var r=function(t,e){for(var n=new Array(e.length),r=0;r<e.length;++r){var i=e[r],o=t[i[0]],a=t[i[1]];n[r]=[u(Math.min(o[0],a[0]),-1/0),u(Math.min(o[1],a[1]),-1/0),u(Math.max(o[0],a[0]),1/0),u(Math.max(o[1],a[1]),1/0)]}return n}(t,e),f=function(t,e,n){var r=[];return i(n,(function(n,i){var a=e[n],s=e[i];if(a[0]!==s[0]&&a[0]!==s[1]&&a[1]!==s[0]&&a[1]!==s[1]){var l=t[a[0]],c=t[a[1]],u=t[s[0]],d=t[s[1]];o(l,c,u,d)&&r.push([n,i])}})),r}(t,e,r),g=function(t,e,n,r){var a=[];return i(n,r,(function(n,r){var i=e[n];if(i[0]!==r&&i[1]!==r){var s=t[r],l=t[i[0]],c=t[i[1]];o(l,c,s,s)&&a.push([n,r])}})),a}(t,e,r,h(t)),m=p(t,function(t,e,n,r,i){var o,u,f=t.map((function(t){return[a(t[0]),a(t[1])]}));for(o=0;o<n.length;++o){var h=n[o];u=h[0];var p=h[1],g=e[u],m=e[p],v=d(c(t[g[0]]),c(t[g[1]]),c(t[m[0]]),c(t[m[1]]));if(v){var y=t.length;t.push([l(v[0]),l(v[1])]),f.push(v),r.push([u,y],[p,y])}}for(r.sort((function(t,e){if(t[0]!==e[0])return t[0]-e[0];var n=f[t[1]],r=f[e[1]];return s(n[0],r[0])||s(n[1],r[1])})),o=r.length-1;o>=0;--o){var b=e[u=(E=r[o])[0]],x=b[0],w=b[1],k=t[x],_=t[w];if((k[0]-_[0]||k[1]-_[1])<0){var A=x;x=w,w=A}b[0]=x;var T,M=b[1]=E[1];for(i&&(T=b[2]);o>0&&r[o-1][0]===u;){var E,C=(E=r[--o])[1];i?e.push([M,C,T]):e.push([M,C]),M=C}i?e.push([M,w,T]):e.push([M,w])}return f}(t,e,f,g,n));return v(e,m,n),!!m||f.length>0||g.length>0}},{"./lib/rat-seg-intersect":51,"big-rat":18,"big-rat/cmp":16,"big-rat/to-float":30,"box-intersect":35,nextafter:260,"rat-vec":273,"robust-segment-intersect":287,"union-find":309}],51:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var o=s(e,t),d=s(r,n),f=u(o,d);if(0===a(f))return null;var h=u(d,s(t,n)),p=i(h,f),g=c(o,p);return l(t,g)};var r=t("big-rat/mul"),i=t("big-rat/div"),o=t("big-rat/sub"),a=t("big-rat/sign"),s=t("rat-vec/sub"),l=t("rat-vec/add"),c=t("rat-vec/muls");function u(t,e){return o(r(t[0],e[1]),r(t[1],e[0]))}},{"big-rat/div":17,"big-rat/mul":27,"big-rat/sign":28,"big-rat/sub":29,"rat-vec/add":272,"rat-vec/muls":274,"rat-vec/sub":275}],52:[function(t,e,n){e.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},{}],53:[function(t,e,n){"use strict";var r=t("./colorScale"),i=t("lerp");function o(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function a(t){for(var e,n="#",r=0;r<3;++r)n+=("00"+(e=(e=t[r]).toString(16))).substr(e.length);return n}function s(t){return"rgba("+t.join(",")+")"}e.exports=function(t){var e,n,l,c,u,d,f,h,p,g;if(t||(t={}),h=(t.nshades||72)-1,f=t.format||"hex",(d=t.colormap)||(d="jet"),"string"==typeof d){if(d=d.toLowerCase(),!r[d])throw Error(d+" not a supported colorscale");u=r[d]}else{if(!Array.isArray(d))throw Error("unsupported colormap option",d);u=d.slice()}if(u.length>h+1)throw new Error(d+" map requires nshades to be at least size "+u.length);p=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1],e=u.map((function(t){return Math.round(t.index*h)})),p[0]=Math.min(Math.max(p[0],0),1),p[1]=Math.min(Math.max(p[1],0),1);var m=u.map((function(t,e){var n=u[e].index,r=u[e].rgb.slice();return 4===r.length&&r[3]>=0&&r[3]<=1||(r[3]=p[0]+(p[1]-p[0])*n),r})),v=[];for(g=0;g<e.length-1;++g){c=e[g+1]-e[g],n=m[g],l=m[g+1];for(var y=0;y<c;y++){var b=y/c;v.push([Math.round(i(n[0],l[0],b)),Math.round(i(n[1],l[1],b)),Math.round(i(n[2],l[2],b)),i(n[3],l[3],b)])}}return v.push(u[u.length-1].rgb.concat(p[1])),"hex"===f?v=v.map(a):"rgbaString"===f?v=v.map(s):"float"===f&&(v=v.map(o)),v}},{"./colorScale":52,lerp:240}],54:[function(t,e,n){"use strict";e.exports=function(t,e,n,o){var a=r(e,n,o);if(0===a){var s=i(r(t,e,n)),c=i(r(t,e,o));if(s===c){if(0===s){var u=l(t,e,n);return u===l(t,e,o)?0:u?1:-1}return 0}return 0===c?s>0||l(t,e,o)?-1:1:0===s?c>0||l(t,e,n)?1:-1:i(c-s)}var d=r(t,e,n);return d>0?a>0&&r(t,e,o)>0?1:-1:d<0?a>0||r(t,e,o)>0?1:-1:r(t,e,o)>0||l(t,e,n)?1:-1};var r=t("robust-orientation"),i=t("signum"),o=t("two-sum"),a=t("robust-product"),s=t("robust-sum");function l(t,e,n){var r=o(t[0],-e[0]),i=o(t[1],-e[1]),l=o(n[0],-e[0]),c=o(n[1],-e[1]),u=s(a(r,l),a(i,c));return u[u.length-1]>=0}},{"robust-orientation":284,"robust-product":285,"robust-sum":289,signum:55,"two-sum":307}],55:[function(t,e,n){"use strict";e.exports=function(t){return t<0?-1:t>0?1:0}},{}],56:[function(t,e,n){e.exports=function(t,e){var n=t.length,o=t.length-e.length;if(o)return o;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return t[0]+t[1]-e[0]-e[1]||r(t[0],t[1])-r(e[0],e[1]);case 3:var a=t[0]+t[1],s=e[0]+e[1];if(o=a+t[2]-(s+e[2]))return o;var l=r(t[0],t[1]),c=r(e[0],e[1]);return r(l,t[2])-r(c,e[2])||r(l+t[2],a)-r(c+e[2],s);case 4:var u=t[0],d=t[1],f=t[2],h=t[3],p=e[0],g=e[1],m=e[2],v=e[3];return u+d+f+h-(p+g+m+v)||r(u,d,f,h)-r(p,g,m,v,p)||r(u+d,u+f,u+h,d+f,d+h,f+h)-r(p+g,p+m,p+v,g+m,g+v,m+v)||r(u+d+f,u+d+h,u+f+h,d+f+h)-r(p+g+m,p+g+v,p+m+v,g+m+v);default:for(var y=t.slice().sort(i),b=e.slice().sort(i),x=0;x<n;++x)if(o=y[x]-b[x])return o;return 0}};var r=Math.min;function i(t,e){return t-e}},{}],57:[function(t,e,n){"use strict";var r=t("compare-cell"),i=t("cell-orientation");e.exports=function(t,e){return r(t,e)||i(t)-i(e)}},{"cell-orientation":47,"compare-cell":56}],58:[function(t,e,n){"use strict";var r=t("./lib/ch1d"),i=t("./lib/ch2d"),o=t("./lib/chnd");e.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var n=t[0].length;return 0===n?[]:1===n?r(t):2===n?i(t):o(t,n)}},{"./lib/ch1d":59,"./lib/ch2d":60,"./lib/chnd":61}],59:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0,n=0,r=1;r<t.length;++r)t[r][0]<t[e][0]&&(e=r),t[r][0]>t[n][0]&&(n=r);return e<n?[[e],[n]]:e>n?[[n],[e]]:[[e]]}},{}],60:[function(t,e,n){"use strict";e.exports=function(t){var e=r(t),n=e.length;if(n<=2)return[];for(var i=new Array(n),o=e[n-1],a=0;a<n;++a){var s=e[a];i[a]=[o,s],o=s}return i};var r=t("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":246}],61:[function(t,e,n){"use strict";e.exports=function(t,e){try{return r(t,!0)}catch(a){var n=i(t);if(n.length<=e)return[];var o=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<e.length;++i)r[i]=t[e[i]];var o=e.length;for(i=0;i<n;++i)e.indexOf(i)<0&&(r[o++]=t[i]);return r}(t,n);return function(t,e){for(var n=t.length,r=e.length,i=0;i<n;++i)for(var o=t[i],a=0;a<o.length;++a){var s=o[a];if(s<r)o[a]=e[s];else{s-=r;for(var l=0;l<r;++l)s>=e[l]&&(s+=1);o[a]=s}}return t}(r(o,!0),n)}};var r=t("incremental-convex-hull"),i=t("affine-hull")},{"affine-hull":10,"incremental-convex-hull":233}],62:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o){var a=i-1,s=i*i,l=a*a,c=(1+2*i)*l,u=i*l,d=s*(3-2*i),f=s*a;if(t.length){o||(o=new Array(t.length));for(var h=t.length-1;h>=0;--h)o[h]=c*t[h]+u*e[h]+d*n[h]+f*r[h];return o}return c*t+u*e+d*n+f*r},e.exports.derivative=function(t,e,n,r,i,o){var a=6*i*i-6*i,s=3*i*i-4*i+1,l=-6*i*i+6*i,c=3*i*i-2*i;if(t.length){o||(o=new Array(t.length));for(var u=t.length-1;u>=0;--u)o[u]=a*t[u]+s*e[u]+l*n[u]+c*r[u];return o}return a*t+s*e+l*n[u]+c*r}},{}],63:[function(t,e,n){"use strict";var r=t("incremental-convex-hull"),i=t("uniq");function o(t,e){this.point=t,this.index=e}function a(t,e){for(var n=t.point,r=e.point,i=n.length,o=0;o<i;++o){var a=r[o]-n[o];if(a)return a}return 0}e.exports=function(t,e){var n=t.length;if(0===n)return[];var s=t[0].length;if(s<1)return[];if(1===s)return function(t,e,n){if(1===t)return n?[[-1,0]]:[];var r=e.map((function(t,e){return[t[0],e]}));r.sort((function(t,e){return t[0]-e[0]}));for(var i=new Array(t-1),o=1;o<t;++o){var a=r[o-1],s=r[o];i[o-1]=[a[1],s[1]]}return n&&i.push([-1,i[0][1]],[i[t-1][1],-1]),i}(n,t,e);for(var l=new Array(n),c=1,u=0;u<n;++u){for(var d=t[u],f=new Array(s+1),h=0,p=0;p<s;++p){var g=d[p];f[p]=g,h+=g*g}f[s]=h,l[u]=new o(f,u),c=Math.max(h,c)}i(l,a),n=l.length;var m=new Array(n+s+1),v=new Array(n+s+1),y=(s+1)*(s+1)*c,b=new Array(s+1);for(u=0;u<=s;++u)b[u]=0;for(b[s]=y,m[0]=b.slice(),v[0]=-1,u=0;u<=s;++u)(f=b.slice())[u]=1,m[u+1]=f,v[u+1]=-1;for(u=0;u<n;++u){var x=l[u];m[u+s+1]=x.point,v[u+s+1]=x.index}var w=r(m,!1);if(w=e?w.filter((function(t){for(var e=0,n=0;n<=s;++n){var r=v[t[n]];if(r<0&&++e>=2)return!1;t[n]=r}return!0})):w.filter((function(t){for(var e=0;e<=s;++e){var n=v[t[e]];if(n<0)return!1;t[e]=n}return!0})),1&s)for(u=0;u<w.length;++u)f=(x=w[u])[0],x[0]=x[1],x[1]=f;return w}},{"incremental-convex-hull":233,uniq:310}],64:[function(t,e,n){(function(t){(function(){var n=!1;if("undefined"!=typeof Float64Array){var r=new Float64Array(1),i=new Uint32Array(r.buffer);r[0]=1,n=!0,1072693248===i[1]?(e.exports=function(t){return r[0]=t,[i[0],i[1]]},e.exports.pack=function(t,e){return i[0]=t,i[1]=e,r[0]},e.exports.lo=function(t){return r[0]=t,i[0]},e.exports.hi=function(t){return r[0]=t,i[1]}):1072693248===i[0]?(e.exports=function(t){return r[0]=t,[i[1],i[0]]},e.exports.pack=function(t,e){return i[1]=t,i[0]=e,r[0]},e.exports.lo=function(t){return r[0]=t,i[1]},e.exports.hi=function(t){return r[0]=t,i[0]}):n=!1}if(!n){var o=new t(8);e.exports=function(t){return o.writeDoubleLE(t,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},e.exports.pack=function(t,e){return o.writeUInt32LE(t,0,!0),o.writeUInt32LE(e,4,!0),o.readDoubleLE(0,!0)},e.exports.lo=function(t){return o.writeDoubleLE(t,0,!0),o.readUInt32LE(0,!0)},e.exports.hi=function(t){return o.writeDoubleLE(t,0,!0),o.readUInt32LE(4,!0)}}e.exports.sign=function(t){return e.exports.hi(t)>>>31},e.exports.exponent=function(t){return(e.exports.hi(t)<<1>>>21)-1023},e.exports.fraction=function(t){var n=e.exports.lo(t),r=e.exports.hi(t),i=1048575&r;return 2146435072&r&&(i+=1<<20),[n,i]},e.exports.denormalized=function(t){return!(2146435072&e.exports.hi(t))}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:3}],65:[function(t,e,n){"use strict";e.exports=function(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,n,r){var i=0|e[r];if(i<=0)return[];var o,a=new Array(i);if(r===e.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=t(e,n,r+1);return a}(t,e,0)}return[]}},{}],66:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.length;if("number"!=typeof e){e=0;for(var i=0;i<n;++i){var o=t[i];e=Math.max(e,o[0],o[1])}e=1+(0|e)}e|=0;var a=new Array(e);for(i=0;i<e;++i)a[i]=[];for(i=0;i<n;++i)a[(o=t[i])[0]].push(o[1]),a[o[1]].push(o[0]);for(var s=0;s<e;++s)r(a[s],(function(t,e){return t-e}));return a};var r=t("uniq")},{uniq:310}],67:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=e||0,i=n||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[r*t[12]+t[8],r*t[13]+t[9],r*t[14]+t[10],r*t[15]+t[11]],[i*t[12]-t[8],i*t[13]-t[9],i*t[14]-t[10],i*t[15]-t[11]]]}},{}],68:[function(t,e,n){"use strict";e.exports=function(t,e,n){switch(arguments.length){case 0:return new a([0],[0],0);case 1:return"number"==typeof t?new a(r=l(t),r,0):new a(t,l(t.length),0);case 2:if("number"==typeof e){var r=l(t.length);return new a(t,r,+e)}n=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new a(t,e,n)}};var r=t("cubic-hermite"),i=t("binary-search-bounds");function o(t,e,n){return Math.min(e,Math.max(t,n))}function a(t,e,n){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[n],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var s=a.prototype;function l(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}s.flush=function(t){var e=i.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},s.curve=function(t){var e=this._time,n=e.length,a=i.le(e,t),s=this._scratch[0],l=this._state,c=this._velocity,u=this.dimension,d=this.bounds;if(a<0)for(var f=u-1,h=0;h<u;++h,--f)s[h]=l[f];else if(a>=n-1){f=l.length-1;var p=t-e[n-1];for(h=0;h<u;++h,--f)s[h]=l[f]+p*c[f]}else{f=u*(a+1)-1;var g=e[a],m=e[a+1]-g||1,v=this._scratch[1],y=this._scratch[2],b=this._scratch[3],x=this._scratch[4],w=!0;for(h=0;h<u;++h,--f)v[h]=l[f],b[h]=c[f]*m,y[h]=l[f+u],x[h]=c[f+u]*m,w=w&&v[h]===y[h]&&b[h]===x[h]&&0===b[h];if(w)for(h=0;h<u;++h)s[h]=v[h];else r(v,b,y,x,(t-g)/m,s)}var k=d[0],_=d[1];for(h=0;h<u;++h)s[h]=o(k[h],_[h],s[h]);return s},s.dcurve=function(t){var e=this._time,n=e.length,o=i.le(e,t),a=this._scratch[0],s=this._state,l=this._velocity,c=this.dimension;if(o>=n-1)for(var u=s.length-1,d=(e[n-1],0);d<c;++d,--u)a[d]=l[u];else{u=c*(o+1)-1;var f=e[o],h=e[o+1]-f||1,p=this._scratch[1],g=this._scratch[2],m=this._scratch[3],v=this._scratch[4],y=!0;for(d=0;d<c;++d,--u)p[d]=s[u],m[d]=l[u]*h,g[d]=s[u+c],v[d]=l[u+c]*h,y=y&&p[d]===g[d]&&m[d]===v[d]&&0===m[d];if(y)for(d=0;d<c;++d)a[d]=0;else for(r.derivative(p,m,g,v,(t-f)/h,a),d=0;d<c;++d)a[d]/=h}return a},s.lastT=function(){var t=this._time;return t[t.length-1]},s.stable=function(){for(var t=this._velocity,e=t.length,n=this.dimension-1;n>=0;--n)if(t[--e])return!1;return!0},s.jump=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var r=this._state,i=this._velocity,a=r.length-this.dimension,s=this.bounds,l=s[0],c=s[1];this._time.push(e,t);for(var u=0;u<2;++u)for(var d=0;d<n;++d)r.push(r[a++]),i.push(0);for(this._time.push(t),d=n;d>0;--d)r.push(o(l[d-1],c[d-1],arguments[d])),i.push(0)}},s.push=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var r=this._state,i=this._velocity,a=r.length-this.dimension,s=t-e,l=this.bounds,c=l[0],u=l[1],d=s>1e-6?1/s:0;this._time.push(t);for(var f=n;f>0;--f){var h=o(c[f-1],u[f-1],arguments[f]);r.push(h),i.push((h-r[a++])*d)}}},s.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var n=this._state,r=this._velocity,i=this.bounds,a=i[0],s=i[1];this._time.push(t);for(var l=e;l>0;--l)n.push(o(a[l-1],s[l-1],arguments[l])),r.push(0)}},s.move=function(t){var e=this.lastT(),n=this.dimension;if(!(t<=e||arguments.length!==n+1)){var r=this._state,i=this._velocity,a=r.length-this.dimension,s=this.bounds,l=s[0],c=s[1],u=t-e,d=u>1e-6?1/u:0;this._time.push(t);for(var f=n;f>0;--f){var h=arguments[f];r.push(o(l[f-1],c[f-1],r[a++]+h)),i.push(h*d)}}},s.idle=function(t){var e=this.lastT();if(!(t<e)){var n=this.dimension,r=this._state,i=this._velocity,a=r.length-n,s=this.bounds,l=s[0],c=s[1],u=t-e;this._time.push(t);for(var d=n-1;d>=0;--d)r.push(o(l[d],c[d],r[a]+u*i[a])),i.push(0),a+=1}}},{"binary-search-bounds":31,"cubic-hermite":62}],69:[function(t,e,n){"use strict";function r(t,e,n,r,i,o){this._color=t,this.key=e,this.value=n,this.left=r,this.right=i,this._count=o}function i(t){return new r(t._color,t.key,t.value,t.left,t.right,t._count)}function o(t,e){return new r(t,e.key,e.value,e.left,e.right,e._count)}function a(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function s(t,e){this._compare=t,this.root=e}e.exports=function(t){return new s(t||g,null)};var l=s.prototype;function c(t,e){var n;return e.left&&(n=c(t,e.left))?n:(n=t(e.key,e.value))||(e.right?c(t,e.right):void 0)}function u(t,e,n,r){if(e(t,r.key)<=0){var i;if(r.left&&(i=u(t,e,n,r.left)))return i;if(i=n(r.key,r.value))return i}if(r.right)return u(t,e,n,r.right)}function d(t,e,n,r,i){var o,a=n(t,i.key),s=n(e,i.key);if(a<=0){if(i.left&&(o=d(t,e,n,r,i.left)))return o;if(s>0&&(o=r(i.key,i.value)))return o}if(s>0&&i.right)return d(t,e,n,r,i.right)}function f(t,e){this.tree=t,this._stack=e}Object.defineProperty(l,"keys",{get:function(){var t=[];return this.forEach((function(e,n){t.push(e)})),t}}),Object.defineProperty(l,"values",{get:function(){var t=[];return this.forEach((function(e,n){t.push(n)})),t}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(t,e){for(var n=this._compare,i=this.root,l=[],c=[];i;){var u=n(t,i.key);l.push(i),c.push(u),i=u<=0?i.left:i.right}l.push(new r(0,t,e,null,null,1));for(var d=l.length-2;d>=0;--d)i=l[d],c[d]<=0?l[d]=new r(i._color,i.key,i.value,l[d+1],i.right,i._count+1):l[d]=new r(i._color,i.key,i.value,i.left,l[d+1],i._count+1);for(d=l.length-1;d>1;--d){var f=l[d-1];if(i=l[d],1===f._color||1===i._color)break;var h=l[d-2];if(h.left===f)if(f.left===i){if(!(p=h.right)||0!==p._color){h._color=0,h.left=f.right,f._color=1,f.right=h,l[d-2]=f,l[d-1]=i,a(h),a(f),d>=3&&((g=l[d-3]).left===h?g.left=f:g.right=f);break}f._color=1,h.right=o(1,p),h._color=0,d-=1}else{if(!(p=h.right)||0!==p._color){f.right=i.left,h._color=0,h.left=i.right,i._color=1,i.left=f,i.right=h,l[d-2]=i,l[d-1]=f,a(h),a(f),a(i),d>=3&&((g=l[d-3]).left===h?g.left=i:g.right=i);break}f._color=1,h.right=o(1,p),h._color=0,d-=1}else if(f.right===i){if(!(p=h.left)||0!==p._color){h._color=0,h.right=f.left,f._color=1,f.left=h,l[d-2]=f,l[d-1]=i,a(h),a(f),d>=3&&((g=l[d-3]).right===h?g.right=f:g.left=f);break}f._color=1,h.left=o(1,p),h._color=0,d-=1}else{var p;if(!(p=h.left)||0!==p._color){var g;f.left=i.right,h._color=0,h.right=i.left,i._color=1,i.right=f,i.left=h,l[d-2]=i,l[d-1]=f,a(h),a(f),a(i),d>=3&&((g=l[d-3]).right===h?g.right=i:g.left=i);break}f._color=1,h.left=o(1,p),h._color=0,d-=1}}return l[0]._color=1,new s(n,l[0])},l.forEach=function(t,e,n){if(this.root)switch(arguments.length){case 1:return c(t,this.root);case 2:return u(e,this._compare,t,this.root);case 3:if(this._compare(e,n)>=0)return;return d(e,n,this._compare,t,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new f(this,t)}}),Object.defineProperty(l,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new f(this,t)}}),l.at=function(t){if(t<0)return new f(this,[]);for(var e=this.root,n=[];;){if(n.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new f(this,n);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new f(this,[])},l.ge=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var o=e(t,n.key);r.push(n),o<=0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new f(this,r)},l.gt=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var o=e(t,n.key);r.push(n),o<0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new f(this,r)},l.lt=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var o=e(t,n.key);r.push(n),o>0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new f(this,r)},l.le=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var o=e(t,n.key);r.push(n),o>=0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new f(this,r)},l.find=function(t){for(var e=this._compare,n=this.root,r=[];n;){var i=e(t,n.key);if(r.push(n),0===i)return new f(this,r);n=i<=0?n.left:n.right}return new f(this,[])},l.remove=function(t){var e=this.find(t);return e?e.remove():this},l.get=function(t){for(var e=this._compare,n=this.root;n;){var r=e(t,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var h=f.prototype;function p(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function g(t,e){return t<e?-1:t>e?1:0}Object.defineProperty(h,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(h,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),h.clone=function(){return new f(this.tree,this._stack.slice())},h.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),n=t[t.length-1];e[e.length-1]=new r(n._color,n.key,n.value,n.left,n.right,n._count);for(var l=t.length-2;l>=0;--l)(n=t[l]).left===t[l+1]?e[l]=new r(n._color,n.key,n.value,e[l+1],n.right,n._count):e[l]=new r(n._color,n.key,n.value,n.left,e[l+1],n._count);if((n=e[e.length-1]).left&&n.right){var c=e.length;for(n=n.left;n.right;)e.push(n),n=n.right;var u=e[c-1];for(e.push(new r(n._color,u.key,u.value,n.left,n.right,n._count)),e[c-1].key=n.key,e[c-1].value=n.value,l=e.length-2;l>=c;--l)n=e[l],e[l]=new r(n._color,n.key,n.value,n.left,e[l+1],n._count);e[c-1].left=e[c]}if(0===(n=e[e.length-1])._color){var d=e[e.length-2];for(d.left===n?d.left=null:d.right===n&&(d.right=null),e.pop(),l=0;l<e.length;++l)e[l]._count--;return new s(this.tree._compare,e[0])}if(n.left||n.right){for(n.left?p(n,n.left):n.right&&p(n,n.right),n._color=1,l=0;l<e.length-1;++l)e[l]._count--;return new s(this.tree._compare,e[0])}if(1===e.length)return new s(this.tree._compare,null);for(l=0;l<e.length;++l)e[l]._count--;var f=e[e.length-2];return function(t){for(var e,n,r,s,l=t.length-1;l>=0;--l){if(e=t[l],0===l)return void(e._color=1);if((n=t[l-1]).left===e){if((r=n.right).right&&0===r.right._color)return s=(r=n.right=i(r)).right=i(r.right),n.right=r.left,r.left=n,r.right=s,r._color=n._color,e._color=1,n._color=1,s._color=1,a(n),a(r),l>1&&((c=t[l-2]).left===n?c.left=r:c.right=r),void(t[l-1]=r);if(r.left&&0===r.left._color)return s=(r=n.right=i(r)).left=i(r.left),n.right=s.left,r.left=s.right,s.left=n,s.right=r,s._color=n._color,n._color=1,r._color=1,e._color=1,a(n),a(r),a(s),l>1&&((c=t[l-2]).left===n?c.left=s:c.right=s),void(t[l-1]=s);if(1===r._color){if(0===n._color)return n._color=1,void(n.right=o(0,r));n.right=o(0,r);continue}r=i(r),n.right=r.left,r.left=n,r._color=n._color,n._color=0,a(n),a(r),l>1&&((c=t[l-2]).left===n?c.left=r:c.right=r),t[l-1]=r,t[l]=n,l+1<t.length?t[l+1]=e:t.push(e),l+=2}else{if((r=n.left).left&&0===r.left._color)return s=(r=n.left=i(r)).left=i(r.left),n.left=r.right,r.right=n,r.left=s,r._color=n._color,e._color=1,n._color=1,s._color=1,a(n),a(r),l>1&&((c=t[l-2]).right===n?c.right=r:c.left=r),void(t[l-1]=r);if(r.right&&0===r.right._color)return s=(r=n.left=i(r)).right=i(r.right),n.left=s.right,r.right=s.left,s.right=n,s.left=r,s._color=n._color,n._color=1,r._color=1,e._color=1,a(n),a(r),a(s),l>1&&((c=t[l-2]).right===n?c.right=s:c.left=s),void(t[l-1]=s);if(1===r._color){if(0===n._color)return n._color=1,void(n.left=o(0,r));n.left=o(0,r);continue}var c;r=i(r),n.left=r.right,r.right=n,r._color=n._color,n._color=0,a(n),a(r),l>1&&((c=t[l-2]).right===n?c.right=r:c.left=r),t[l-1]=r,t[l]=n,l+1<t.length?t[l+1]=e:t.push(e),l+=2}}}(e),f.left===n?f.left=null:f.right=null,new s(this.tree._compare,e[0])},Object.defineProperty(h,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(h,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(h,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var n=this.tree.root;return n?n._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var r=e.length-2;r>=0;--r)e[r+1]===e[r].right&&(++t,e[r].left&&(t+=e[r].left._count));return t},enumerable:!0}),h.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(h,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),h.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var n=new Array(e.length),i=e[e.length-1];n[n.length-1]=new r(i._color,i.key,t,i.left,i.right,i._count);for(var o=e.length-2;o>=0;--o)(i=e[o]).left===e[o+1]?n[o]=new r(i._color,i.key,i.value,n[o+1],i.right,i._count):n[o]=new r(i._color,i.key,i.value,i.left,n[o+1],i._count);return new s(this.tree._compare,n[0])},h.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(h,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}})},{}],70:[function(t,e,n){"use strict";e.exports=function(t,e){var n=new u(t);return n.update(e),n};var r=t("./lib/text.js"),i=t("./lib/lines.js"),o=t("./lib/background.js"),a=t("./lib/cube.js"),s=t("./lib/ticks.js"),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(t)}var d=u.prototype;function f(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}d.update=function(t){function e(e,n,r){if(r in t){var i,o=t[r],a=this[r];(e?Array.isArray(o)&&Array.isArray(o[0]):Array.isArray(o))?this[r]=i=[n(o[0]),n(o[1]),n(o[2])]:this[r]=i=[n(o),n(o),n(o)];for(var s=0;s<3;++s)if(i[s]!==a[s])return!0}return!1}t=t||{};var n,o=e.bind(this,!1,Number),a=e.bind(this,!1,Boolean),l=e.bind(this,!1,String),c=e.bind(this,!0,(function(t){if(Array.isArray(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]})),u=!1,d=!1;if("bounds"in t)for(var f=t.bounds,h=0;h<2;++h)for(var p=0;p<3;++p)f[h][p]!==this.bounds[h][p]&&(d=!0),this.bounds[h][p]=f[h][p];if("ticks"in t)for(n=t.ticks,u=!0,this.autoTicks=!1,h=0;h<3;++h)this.tickSpacing[h]=0;else o("tickSpacing")&&(this.autoTicks=!0,d=!0);if(this._firstInit&&("ticks"in t||"tickSpacing"in t||(this.autoTicks=!0),d=!0,u=!0,this._firstInit=!1),d&&this.autoTicks&&(n=s.create(this.bounds,this.tickSpacing),u=!0),u){for(h=0;h<3;++h)n[h].sort((function(t,e){return t.x-e.x}));s.equal(n,this.ticks)?u=!1:this.ticks=n}a("tickEnable"),l("tickFont")&&(u=!0),o("tickSize"),o("tickAngle"),o("tickPad"),c("tickColor");var g=l("labels");l("labelFont")&&(g=!0),a("labelEnable"),o("labelSize"),o("labelPad"),c("labelColor"),a("lineEnable"),a("lineMirror"),o("lineWidth"),c("lineColor"),a("lineTickEnable"),a("lineTickMirror"),o("lineTickLength"),o("lineTickWidth"),c("lineTickColor"),a("gridEnable"),o("gridWidth"),c("gridColor"),a("zeroEnable"),c("zeroLineColor"),o("zeroLineWidth"),a("backgroundEnable"),c("backgroundColor"),this._text?this._text&&(g||u)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&u&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var h=[new f,new f,new f];function p(t,e,n,r,i){for(var o=t.primalOffset,a=t.primalMinor,s=t.mirrorOffset,l=t.mirrorMinor,c=r[e],u=0;u<3;++u)if(e!==u){var d=o,f=s,h=a,p=l;c&1<<u&&(d=s,f=o,h=l,p=a),d[u]=n[0][u],f[u]=n[1][u],i[u]>0?(h[u]=-1,p[u]=0):(h[u]=0,p[u]=1)}}var g=[0,0,0],m={model:l,view:l,projection:l,_ortho:!1};d.isOpaque=function(){return!0},d.isTransparent=function(){return!1},d.drawTransparent=function(t){};var v=[0,0,0],y=[0,0,0],b=[0,0,0];d.draw=function(t){t=t||m;for(var e=this.gl,n=t.model||l,r=t.view||l,i=t.projection||l,o=this.bounds,s=t._ortho||!1,u=a(n,r,i,o,s),d=u.cubeEdges,f=u.axis,x=r[12],w=r[13],k=r[14],_=r[15],A=(s?2:1)*this.pixelRatio*(i[3]*x+i[7]*w+i[11]*k+i[15]*_)/e.drawingBufferHeight,T=0;T<3;++T)this.lastCubeProps.cubeEdges[T]=d[T],this.lastCubeProps.axis[T]=f[T];var M=h;for(T=0;T<3;++T)p(h[T],T,this.bounds,d,f);e=this.gl;var E,C,S,O=g;for(T=0;T<3;++T)this.backgroundEnable[T]?O[T]=f[T]:O[T]=0;for(this._background.draw(n,r,i,o,O,this.backgroundColor),this._lines.bind(n,r,i,this),T=0;T<3;++T){var L=[0,0,0];f[T]>0?L[T]=o[1][T]:L[T]=o[0][T];for(var P=0;P<2;++P){var D=(T+1+P)%3,R=(T+1+(1^P))%3;this.gridEnable[D]&&this._lines.drawGrid(D,R,this.bounds,L,this.gridColor[D],this.gridWidth[D]*this.pixelRatio)}for(P=0;P<2;++P)D=(T+1+P)%3,R=(T+1+(1^P))%3,this.zeroEnable[R]&&Math.min(o[0][R],o[1][R])<=0&&Math.max(o[0][R],o[1][R])>=0&&this._lines.drawZero(D,R,this.bounds,L,this.zeroLineColor[R],this.zeroLineWidth[R]*this.pixelRatio)}for(T=0;T<3;++T){this.lineEnable[T]&&this._lines.drawAxisLine(T,this.bounds,M[T].primalOffset,this.lineColor[T],this.lineWidth[T]*this.pixelRatio),this.lineMirror[T]&&this._lines.drawAxisLine(T,this.bounds,M[T].mirrorOffset,this.lineColor[T],this.lineWidth[T]*this.pixelRatio);var I=c(v,M[T].primalMinor),z=c(y,M[T].mirrorMinor),N=this.lineTickLength;for(P=0;P<3;++P){var B=A/n[5*P];I[P]*=N[P]*B,z[P]*=N[P]*B}this.lineTickEnable[T]&&this._lines.drawAxisTicks(T,M[T].primalOffset,I,this.lineTickColor[T],this.lineTickWidth[T]*this.pixelRatio),this.lineTickMirror[T]&&this._lines.drawAxisTicks(T,M[T].mirrorOffset,z,this.lineTickColor[T],this.lineTickWidth[T]*this.pixelRatio)}function F(t){(S=[0,0,0])[t]=1}function j(t,e,n){var r=(t+1)%3,i=(t+2)%3,o=e[r],a=e[i],s=n[r],l=n[i];o>0&&l>0||o>0&&l<0||o<0&&l>0||o<0&&l<0?F(r):(a>0&&s>0||a>0&&s<0||a<0&&s>0||a<0&&s<0)&&F(i)}for(this._lines.unbind(),this._text.bind(n,r,i,this.pixelRatio),T=0;T<3;++T){var $=M[T].primalMinor,Z=M[T].mirrorMinor,U=c(b,M[T].primalOffset);for(P=0;P<3;++P)this.lineTickEnable[T]&&(U[P]+=A*$[P]*Math.max(this.lineTickLength[P],0)/n[5*P]);var H=[0,0,0];if(H[T]=1,this.tickEnable[T]){for(-3600===this.tickAngle[T]?(this.tickAngle[T]=0,this.tickAlign[T]="auto"):this.tickAlign[T]=-1,C=1,"auto"===(E=[this.tickAlign[T],.5,C])[0]?E[0]=0:E[0]=parseInt(""+E[0]),S=[0,0,0],j(T,$,Z),P=0;P<3;++P)U[P]+=A*$[P]*this.tickPad[P]/n[5*P];this._text.drawTicks(T,this.tickSize[T],this.tickAngle[T],U,this.tickColor[T],H,S,E)}if(this.labelEnable[T]){for(C=0,S=[0,0,0],this.labels[T].length>4&&(F(T),C=1),"auto"===(E=[this.labelAlign[T],.5,C])[0]?E[0]=0:E[0]=parseInt(""+E[0]),P=0;P<3;++P)U[P]+=A*$[P]*this.labelPad[P]/n[5*P];U[T]+=.5*(o[0][T]+o[1][T]),this._text.drawLabel(T,this.labelSize[T],this.labelAngle[T],U,this.labelColor[T],[0,0,0],S,E)}}this._text.unbind()},d.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{"./lib/background.js":71,"./lib/cube.js":72,"./lib/lines.js":73,"./lib/text.js":75,"./lib/ticks.js":76}],71:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=[],s=0,l=0;l<3;++l)for(var c=(l+1)%3,u=(l+2)%3,d=[0,0,0],f=[0,0,0],h=-1;h<=1;h+=2){n.push(s,s+2,s+1,s+1,s+2,s+3),d[l]=h,f[l]=h;for(var p=-1;p<=1;p+=2){d[c]=p;for(var g=-1;g<=1;g+=2)d[u]=g,e.push(d[0],d[1],d[2],f[0],f[1],f[2]),s+=1}var m=c;c=u,u=m}var v=r(t,new Float32Array(e)),y=r(t,new Uint16Array(n),t.ELEMENT_ARRAY_BUFFER),b=i(t,[{buffer:v,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:v,type:t.FLOAT,size:3,offset:12,stride:24}],y),x=o(t);return x.attributes.position.location=0,x.attributes.normal.location=1,new a(t,v,b,x)};var r=t("gl-buffer"),i=t("gl-vao"),o=t("./shaders").bg;function a(t,e,n,r){this.gl=t,this.buffer=e,this.vao=n,this.shader=r}var s=a.prototype;s.draw=function(t,e,n,r,i,o){for(var a=!1,s=0;s<3;++s)a=a||i[s];if(a){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:n,bounds:r,enable:i,colors:o},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),l.disable(l.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders":74,"gl-buffer":78,"gl-vao":150}],72:[function(t,e,n){"use strict";e.exports=function(t,e,n,o,h){i(s,e,t),i(s,n,s);for(var y=0,b=0;b<2;++b){u[2]=o[b][2];for(var x=0;x<2;++x){u[1]=o[x][1];for(var w=0;w<2;++w)u[0]=o[w][0],f(l[y],u,s),y+=1}}var k=-1;for(b=0;b<8;++b){for(var _=l[b][3],A=0;A<3;++A)c[b][A]=l[b][A]/_;h&&(c[b][2]*=-1),_<0&&(k<0||c[b][2]<c[k][2])&&(k=b)}if(k<0){k=0;for(var T=0;T<3;++T){for(var M=(T+2)%3,E=(T+1)%3,C=-1,S=-1,O=0;O<2;++O){var L=(D=O<<T)+(O<<M)+(1-O<<E),P=D+(1-O<<M)+(O<<E);a(c[D],c[L],c[P],d)<0||(O?C=1:S=1)}if(C<0||S<0)S>C&&(k|=1<<T);else{for(O=0;O<2;++O){L=(D=O<<T)+(O<<M)+(1-O<<E),P=D+(1-O<<M)+(O<<E);var D,R=p([l[D],l[L],l[P],l[D+(1<<M)+(1<<E)]]);O?C=R:S=R}S>C&&(k|=1<<T)}}}var I=7^k,z=-1;for(b=0;b<8;++b)b!==k&&b!==I&&(z<0||c[z][1]>c[b][1])&&(z=b);var N=-1;for(b=0;b<3;++b)(F=z^1<<b)!==k&&F!==I&&(N<0&&(N=F),(E=c[F])[0]<c[N][0]&&(N=F));var B=-1;for(b=0;b<3;++b){var F;(F=z^1<<b)!==k&&F!==I&&F!==N&&(B<0&&(B=F),(E=c[F])[0]>c[B][0]&&(B=F))}var j=g;j[0]=j[1]=j[2]=0,j[r.log2(N^z)]=z&N,j[r.log2(z^B)]=z&B;var $=7^B;$===k||$===I?($=7^N,j[r.log2(B^$)]=$&B):j[r.log2(N^$)]=$&N;var Z=m,U=k;for(T=0;T<3;++T)Z[T]=U&1<<T?-1:1;return v};var r=t("bit-twiddle"),i=t("gl-mat4/multiply"),o=t("split-polygon"),a=t("robust-orientation"),s=new Array(16),l=new Array(8),c=new Array(8),u=new Array(3),d=[0,0,0];function f(t,e,n){for(var r=0;r<4;++r){t[r]=n[12+r];for(var i=0;i<3;++i)t[r]+=e[i]*n[4*i+r]}}!function(){for(var t=0;t<8;++t)l[t]=[1,1,1,1],c[t]=[1,1,1]}();var h=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(t){for(var e=0;e<h.length;++e)if((t=o.positive(t,h[e])).length<3)return 0;var n=t[0],r=n[0]/n[3],i=n[1]/n[3],a=0;for(e=1;e+1<t.length;++e){var s=t[e],l=t[e+1],c=s[0]/s[3]-r,u=s[1]/s[3]-i,d=l[0]/l[3]-r,f=l[1]/l[3]-i;a+=Math.abs(c*f-u*d)}return a}var g=[1,1,1],m=[0,0,0],v={cubeEdges:g,axis:m}},{"bit-twiddle":32,"gl-mat4/multiply":100,"robust-orientation":284,"split-polygon":300}],73:[function(t,e,n){"use strict";e.exports=function(t,e,n){var a=[],s=[0,0,0],l=[0,0,0],c=[0,0,0],u=[0,0,0];a.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var d=0;d<3;++d){for(var f=a.length/3|0,p=0;p<n[d].length;++p){var g=+n[d][p].x;a.push(g,0,1,g,1,1,g,0,-1,g,0,-1,g,1,1,g,1,-1)}var m=a.length/3|0;s[d]=f,l[d]=m-f,f=a.length/3|0;for(var v=0;v<n[d].length;++v)g=+n[d][v].x,a.push(g,0,1,g,1,1,g,0,-1,g,0,-1,g,1,1,g,1,-1);m=a.length/3|0,c[d]=f,u[d]=m-f}var y=r(t,new Float32Array(a)),b=i(t,[{buffer:y,type:t.FLOAT,size:3,stride:0,offset:0}]),x=o(t);return x.attributes.position.location=0,new h(t,y,b,x,l,s,u,c)};var r=t("gl-buffer"),i=t("gl-vao"),o=t("./shaders").line,a=[0,0,0],s=[0,0,0],l=[0,0,0],c=[0,0,0],u=[1,1];function d(t){return t[0]=t[1]=t[2]=0,t}function f(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function h(t,e,n,r,i,o,a,s){this.gl=t,this.vertBuffer=e,this.vao=n,this.shader=r,this.tickCount=i,this.tickOffset=o,this.gridCount=a,this.gridOffset=s}var p=h.prototype;p.bind=function(t,e,n){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=n,u[0]=this.gl.drawingBufferWidth,u[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=u,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(t,e,n,r,i){var o=d(s);this.shader.uniforms.majorAxis=s,o[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=o;var a,u=f(c,n);u[t]+=e[0][t],this.shader.uniforms.offset=u,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=r,(a=d(l))[(t+2)%3]=1,this.shader.uniforms.screenAxis=a,this.vao.draw(this.gl.TRIANGLES,6),(a=d(l))[(t+1)%3]=1,this.shader.uniforms.screenAxis=a,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(t,e,n,r,i){if(this.tickCount[t]){var o=d(a);o[t]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=n,this.shader.uniforms.color=r,this.shader.uniforms.lineWidth=i;var s=d(l);s[t]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},p.drawGrid=function(t,e,n,r,i,o){if(this.gridCount[t]){var u=d(s);u[e]=n[1][e]-n[0][e],this.shader.uniforms.minorAxis=u;var h=f(c,r);h[e]+=n[0][e],this.shader.uniforms.offset=h;var p=d(a);p[t]=1,this.shader.uniforms.majorAxis=p;var g=d(l);g[t]=1,this.shader.uniforms.screenAxis=g,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t])}},p.drawZero=function(t,e,n,r,i,o){var a=d(s);this.shader.uniforms.majorAxis=a,a[t]=n[1][t]-n[0][t],this.shader.uniforms.minorAxis=a;var u=f(c,r);u[t]+=n[0][t],this.shader.uniforms.offset=u;var h=d(l);h[e]=1,this.shader.uniforms.screenAxis=h,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{"./shaders":74,"gl-buffer":78,"gl-vao":150}],74:[function(t,e,n){"use strict";var r=t("glslify"),i=t("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.line=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"}])};var s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.text=function(t){return i(t,s,l,null,[{name:"position",type:"vec3"}])};var c=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);n.bg=function(t){return i(t,c,u,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":132,glslify:231}],75:[function(t,e,n){(function(n){(function(){"use strict";e.exports=function(t,e,n,o,s,l){var u=r(t),d=i(t,[{buffer:u,size:3}]),f=a(t);f.attributes.position.location=0;var h=new c(t,f,u,d);return h.update(e,n,o,s,l),h};var r=t("gl-buffer"),i=t("gl-vao"),o=t("vectorize-text"),a=t("./shaders").text,s=window||n.global||{},l=s.__TEXT_CACHE||{};function c(t,e,n,r){this.gl=t,this.shader=e,this.buffer=n,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}s.__TEXT_CACHE={};var u=c.prototype,d=[0,0];u.bind=function(t,e,n,r){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=t,i.view=e,i.projection=n,i.pixelScale=r,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},u.unbind=function(){this.vao.unbind()},u.update=function(t,e,n,r,i){var a=[];function s(t,e,n,r,i,s){var c=l[n];c||(c=l[n]={});var u=c[e];u||(u=c[e]=function(t,e){try{return o(t,e)}catch(e){return console.warn('error vectorizing text:"'+t+'" error:',e),{cells:[],positions:[]}}}(e,{triangles:!0,font:n,textAlign:"center",textBaseline:"middle",lineSpacing:i,styletags:s}));for(var d=(r||12)/12,f=u.positions,h=u.cells,p=0,g=h.length;p<g;++p)for(var m=h[p],v=2;v>=0;--v){var y=f[m[v]];a.push(d*y[0],-d*y[1],t)}}for(var c=[0,0,0],u=[0,0,0],d=[0,0,0],f=[0,0,0],h={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},p=0;p<3;++p){d[p]=a.length/3|0,s(.5*(t[0][p]+t[1][p]),e[p],n[p],12,1.25,h),f[p]=(a.length/3|0)-d[p],c[p]=a.length/3|0;for(var g=0;g<r[p].length;++g)r[p][g].text&&s(r[p][g].x,r[p][g].text,r[p][g].font||i,r[p][g].fontSize||12,1.25,h);u[p]=(a.length/3|0)-c[p]}this.buffer.update(a),this.tickOffset=c,this.tickCount=u,this.labelOffset=d,this.labelCount=f},u.drawTicks=function(t,e,n,r,i,o,a,s){this.tickCount[t]&&(this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t]))},u.drawLabel=function(t,e,n,r,i,o,a,s){this.labelCount[t]&&(this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},u.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this)}).call(this,t("_process"))},{"./shaders":74,_process:5,"gl-buffer":78,"gl-vao":150,"vectorize-text":311}],76:[function(t,e,n){"use strict";function r(t,e){var n=t+"",r=n.indexOf("."),i=0;r>=0&&(i=n.length-r-1);var o=Math.pow(10,i),a=Math.round(t*e*o),s=a+"";if(s.indexOf("e")>=0)return s;var l=a/o,c=a%o;a<0?(l=0|-Math.ceil(l),c=0|-c):(l=0|Math.floor(l),c|=0);var u=""+l;if(a<0&&(u="-"+u),i){for(var d=""+c;d.length<i;)d="0"+d;return u+"."+d}return u}n.create=function(t,e){for(var n=[],i=0;i<3;++i){for(var o=[],a=(t[0][i],t[1][i],0);a*e[i]<=t[1][i];++a)o.push({x:a*e[i],text:r(e[i],a)});for(a=-1;a*e[i]>=t[0][i];--a)o.push({x:a*e[i],text:r(e[i],a)});n.push(o)}return n},n.equal=function(t,e){for(var n=0;n<3;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;++r){var i=t[n][r],o=e[n][r];if(i.x!==o.x||i.text!==o.text||i.font!==o.font||i.fontColor!==o.fontColor||i.fontSize!==o.fontSize||i.dx!==o.dx||i.dy!==o.dy)return!1}}return!0}},{}],77:[function(t,e,n){"use strict";e.exports=function(t,e,n,l,d){var f=e.model||c,h=e.view||c,v=e.projection||c,y=e._ortho||!1,b=t.bounds,x=(d=d||o(f,h,v,b,y)).axis;a(u,h,f),a(u,v,u);for(var w=g,k=0;k<3;++k)w[k].lo=1/0,w[k].hi=-1/0,w[k].pixelsPerDataUnit=1/0;var _=r(s(u,u));s(u,u);for(var A=0;A<3;++A){var T=(A+1)%3,M=(A+2)%3,E=m;t:for(k=0;k<2;++k){var C=[];if(x[A]<0!=!!k){E[A]=b[k][A];for(var S=0;S<2;++S){E[T]=b[S^k][T];for(var O=0;O<2;++O)E[M]=b[O^S^k][M],C.push(E.slice())}var L=y?5:4;for(S=L;S===L;++S){if(0===C.length)continue t;C=i.positive(C,_[S])}for(S=0;S<C.length;++S){M=C[S];var P=p(m,u,M,n,l);for(O=0;O<3;++O)w[O].lo=Math.min(w[O].lo,M[O]),w[O].hi=Math.max(w[O].hi,M[O]),O!==A&&(w[O].pixelsPerDataUnit=Math.min(w[O].pixelsPerDataUnit,Math.abs(P[O])))}}}}return w};var r=t("extract-frustum-planes"),i=t("split-polygon"),o=t("./lib/cube.js"),a=t("gl-mat4/multiply"),s=t("gl-mat4/transpose"),l=t("gl-vec4/transformMat4"),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),u=new Float32Array(16);function d(t,e,n){this.lo=t,this.hi=e,this.pixelsPerDataUnit=n}var f=[0,0,0,1],h=[0,0,0,1];function p(t,e,n,r,i){for(var o=0;o<3;++o){for(var a=f,s=h,c=0;c<3;++c)s[c]=a[c]=n[c];s[3]=a[3]=1,s[o]+=1,l(s,s,e),s[3]<0&&(t[o]=1/0),a[o]-=1,l(a,a,e),a[3]<0&&(t[o]=1/0);var u=(a[0]/a[3]-s[0]/s[3])*r,d=(a[1]/a[3]-s[1]/s[3])*i;t[o]=.25*Math.sqrt(u*u+d*d)}return t}var g=[new d(1/0,-1/0,1/0),new d(1/0,-1/0,1/0),new d(1/0,-1/0,1/0)],m=[0,0,0]},{"./lib/cube.js":72,"extract-frustum-planes":67,"gl-mat4/multiply":100,"gl-mat4/transpose":109,"gl-vec4/transformMat4":221,"split-polygon":300}],78:[function(t,e,n){"use strict";var r=t("typedarray-pool"),i=t("ndarray-ops"),o=t("ndarray"),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(t,e,n,r,i){this.gl=t,this.type=e,this.handle=n,this.length=r,this.usage=i}var l=s.prototype;function c(t,e,n,r,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,i,r),a;if(a+o>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),n}function u(t,e){for(var n=r.malloc(t.length,e),i=t.length,o=0;o<i;++o)n[o]=t[o];return n}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var n=t.dtype;if(a.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(n=gl.getExtension("OES_element_index_uint")&&"uint16"!==n?"uint32":"uint16"),n===t.dtype&&function(t,e){for(var n=1,r=e.length-1;r>=0;--r){if(e[r]!==n)return!1;n*=t[r]}return!0}(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=c(this.gl,this.type,this.length,this.usage,t.data,e):this.length=c(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=r.malloc(t.size,n),l=o(s,t.shape);i.assign(l,t),this.length=c(this.gl,this.type,this.length,this.usage,e<0?s:s.subarray(0,t.size),e),r.free(s)}}else if(Array.isArray(t)){var d;d=this.type===this.gl.ELEMENT_ARRAY_BUFFER?u(t,"uint16"):u(t,"float32"),this.length=c(this.gl,this.type,this.length,this.usage,e<0?d:d.subarray(0,t.length),e),r.free(d)}else if("object"==typeof t&&"number"==typeof t.length)this.length=c(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=function(t,e,n,r){if(n=n||t.ARRAY_BUFFER,r=r||t.DYNAMIC_DRAW,n!==t.ARRAY_BUFFER&&n!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==t.DYNAMIC_DRAW&&r!==t.STATIC_DRAW&&r!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer(),o=new s(t,n,i,0,r);return o.update(e),o}},{ndarray:259,"ndarray-ops":254,"typedarray-pool":308}],79:[function(t,e,n){"use strict";var r=t("gl-vec3");e.exports=function(t,e){var n=t.positions,i=t.vectors,o={positions:[],vertexIntensity:[],vertexIntensityBounds:t.vertexIntensityBounds,vectors:[],cells:[],coneOffset:t.coneOffset,colormap:t.colormap};if(0===t.positions.length)return e&&(e[0]=[0,0,0],e[1]=[0,0,0]),o;for(var a=0,s=1/0,l=-1/0,c=1/0,u=-1/0,d=1/0,f=-1/0,h=null,p=null,g=[],m=1/0,v=!1,y=0;y<n.length;y++){var b=n[y];s=Math.min(b[0],s),l=Math.max(b[0],l),c=Math.min(b[1],c),u=Math.max(b[1],u),d=Math.min(b[2],d),f=Math.max(b[2],f);var x=i[y];if(r.length(x)>a&&(a=r.length(x)),y){var w=2*r.distance(h,b)/(r.length(p)+r.length(x));w?(m=Math.min(m,w),v=!1):v=!0}v||(h=b,p=x),g.push(x)}var k=[s,c,d],_=[l,u,f];e&&(e[0]=k,e[1]=_),0===a&&(a=1);var A=1/a;isFinite(m)||(m=1),o.vectorScale=m;var T=t.coneSize||.5;t.absoluteConeSize&&(T=t.absoluteConeSize*A),o.coneScale=T,y=0;for(var M=0;y<n.length;y++)for(var E=(b=n[y])[0],C=b[1],S=b[2],O=g[y],L=r.length(O)*A,P=0;P<8;P++){o.positions.push([E,C,S,M++]),o.positions.push([E,C,S,M++]),o.positions.push([E,C,S,M++]),o.positions.push([E,C,S,M++]),o.positions.push([E,C,S,M++]),o.positions.push([E,C,S,M++]),o.vectors.push(O),o.vectors.push(O),o.vectors.push(O),o.vectors.push(O),o.vectors.push(O),o.vectors.push(O),o.vertexIntensity.push(L,L,L),o.vertexIntensity.push(L,L,L);var D=o.positions.length;o.cells.push([D-6,D-5,D-4],[D-3,D-2,D-1])}return o};var i=t("./lib/shaders");e.exports.createMesh=t("./create_mesh"),e.exports.createConeMesh=function(t,n){return e.exports.createMesh(t,n,{shaders:i,traceType:"cone"})}},{"./create_mesh":80,"./lib/shaders":81,"gl-vec3":169}],80:[function(t,e,n){"use strict";var r=t("gl-shader"),i=t("gl-buffer"),o=t("gl-vao"),a=t("gl-texture2d"),s=t("gl-mat4/multiply"),l=t("gl-mat4/invert"),c=t("ndarray"),u=t("colormap"),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(t,e,n,r,i,o,a,s,l,c,u){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=n,this.pickShader=r,this.trianglePositions=i,this.triangleVectors=o,this.triangleColors=s,this.triangleUVs=l,this.triangleIds=a,this.triangleVAO=c,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=u,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=d,this._view=d,this._projection=d,this._resolution=[1,1]}var h=f.prototype;function p(t,e){var n=r(t,e.meshShader.vertex,e.meshShader.fragment,null,e.meshShader.attributes);return n.attributes.position.location=0,n.attributes.color.location=2,n.attributes.uv.location=3,n.attributes.vector.location=4,n}function g(t,e){var n=r(t,e.pickShader.vertex,e.pickShader.fragment,null,e.pickShader.attributes);return n.attributes.position.location=0,n.attributes.id.location=1,n.attributes.vector.location=4,n}h.isOpaque=function(){return this.opacity>=1},h.isTransparent=function(){return this.opacity<1},h.pickSlots=1,h.setPickBase=function(t){this.pickId=t},h.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"lightPosition"in t&&(this.lightPosition=t.lightPosition),"opacity"in t&&(this.opacity=t.opacity),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),void 0!==t.tubeScale&&(this.tubeScale=t.tubeScale),void 0!==t.vectorScale&&(this.vectorScale=t.vectorScale),void 0!==t.coneScale&&(this.coneScale=t.coneScale),void 0!==t.coneOffset&&(this.coneOffset=t.coneOffset),t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t){for(var e=u({colormap:t,nshades:256,format:"rgba"}),n=new Uint8Array(1024),r=0;r<256;++r){for(var i=e[r],o=0;o<3;++o)n[4*r+o]=i[o];n[4*r+3]=255*i[3]}return c(n,[256,256,4],[4,0,1])}(t.colormap)),this.texture.generateMipmap());var n=t.cells,r=t.positions,i=t.vectors;if(r&&n&&i){var o=[],a=[],s=[],l=[],d=[];this.cells=n,this.positions=r,this.vectors=i;var f=t.meshColor||[1,1,1,1],h=t.vertexIntensity,p=1/0,g=-1/0;if(h)if(t.vertexIntensityBounds)p=+t.vertexIntensityBounds[0],g=+t.vertexIntensityBounds[1];else for(var m=0;m<h.length;++m){var v=h[m];p=Math.min(p,v),g=Math.max(g,v)}else for(m=0;m<r.length;++m)v=r[m][2],p=Math.min(p,v),g=Math.max(g,v);for(this.intensity=h||function(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=t[r][2];return n}(r),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],m=0;m<r.length;++m)for(var y=r[m],b=0;b<3;++b)!isNaN(y[b])&&isFinite(y[b])&&(this.bounds[0][b]=Math.min(this.bounds[0][b],y[b]),this.bounds[1][b]=Math.max(this.bounds[1][b],y[b]));var x=0;t:for(m=0;m<n.length;++m){var w=n[m];if(3===w.length){for(b=0;b<3;++b){y=r[_=w[b]];for(var k=0;k<3;++k)if(isNaN(y[k])||!isFinite(y[k]))continue t}for(b=0;b<3;++b){var _;y=r[_=w[2-b]],o.push(y[0],y[1],y[2],y[3]);var A=i[_];a.push(A[0],A[1],A[2],A[3]||0);var T,M=f;3===M.length?s.push(M[0],M[1],M[2],1):s.push(M[0],M[1],M[2],M[3]),T=h?[(h[_]-p)/(g-p),0]:[(y[2]-p)/(g-p),0],l.push(T[0],T[1]),d.push(m)}x+=1}}this.triangleCount=x,this.trianglePositions.update(o),this.triangleVectors.update(a),this.triangleColors.update(s),this.triangleUVs.update(l),this.triangleIds.update(new Uint32Array(d))}},h.drawTransparent=h.draw=function(t){t=t||{};for(var e=this.gl,n=t.model||d,r=t.view||d,i=t.projection||d,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);var c={model:n,view:r,projection:i,inverseModel:d.slice(),clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};c.inverseModel=l(c.inverseModel,c.model),e.disable(e.CULL_FACE),this.texture.bind(0);var u=new Array(16);for(s(u,c.view,c.model),s(u,c.projection,u),l(u,u),a=0;a<3;++a)c.eyePosition[a]=u[12+a]/u[15];var f=u[15];for(a=0;a<3;++a)f+=this.lightPosition[a]*u[4*a+3];for(a=0;a<3;++a){for(var h=u[12+a],p=0;p<3;++p)h+=u[4*p+a]*this.lightPosition[p];c.lightPosition[a]=h/f}if(this.triangleCount>0){var g=this.triShader;g.bind(),g.uniforms=c,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},h.drawPick=function(t){t=t||{};for(var e=this.gl,n=t.model||d,r=t.view||d,i=t.projection||d,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s={model:n,view:r,projection:i,clipBounds:o,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},h.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[0]+256*t.value[1]+65536*t.value[2],n=this.cells[e],r=this.positions[n[1]].slice(0,3),i={position:r,dataCoordinate:r,index:Math.floor(n[1]/48)};return"cone"===this.traceType?i.index=Math.floor(n[1]/48):"streamtube"===this.traceType&&(i.intensity=this.intensity[n[1]],i.velocity=this.vectors[n[1]].slice(0,3),i.divergence=this.vectors[n[1]][3],i.index=e),i},h.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},e.exports=function(t,e,n){var r=n.shaders;1===arguments.length&&(t=(e=t).gl);var s=p(t,r),l=g(t,r),u=a(t,c(new Uint8Array([255,255,255,255]),[1,1,4]));u.generateMipmap(),u.minFilter=t.LINEAR_MIPMAP_LINEAR,u.magFilter=t.LINEAR;var d=i(t),h=i(t),m=i(t),v=i(t),y=i(t),b=new f(t,u,s,l,d,h,y,m,v,o(t,[{buffer:d,type:t.FLOAT,size:4},{buffer:y,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:m,type:t.FLOAT,size:4},{buffer:v,type:t.FLOAT,size:2},{buffer:h,type:t.FLOAT,size:4}]),n.traceType||"cone");return b.update(e),b}},{colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-shader":132,"gl-texture2d":146,"gl-vao":150,ndarray:259}],81:[function(t,e,n){var r=t("glslify"),i=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),a=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);n.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},n.pickShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},{glslify:231}],82:[function(t,e,n){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],83:[function(t,e,n){var r=t("./1.0/numbers");e.exports=function(t){return r[t]}},{"./1.0/numbers":82}],84:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl,n=r(e),a=i(e,[{buffer:n,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:n,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:n,type:e.FLOAT,size:3,offset:28,stride:40}]),l=o(e);l.attributes.position.location=0,l.attributes.color.location=1,l.attributes.offset.location=2;var c=new s(e,n,a,l);return c.update(t),c};var r=t("gl-buffer"),i=t("gl-vao"),o=t("./shaders/index"),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,n,r){this.gl=t,this.shader=r,this.buffer=e,this.vao=n,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=s.prototype;function c(t,e){for(var n=0;n<3;++n)t[0][n]=Math.min(t[0][n],e[n]),t[1][n]=Math.max(t[1][n],e[n])}l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(t){var e=this.gl,n=this.shader.uniforms;this.shader.bind();var r=n.view=t.view||a,i=n.projection=t.projection||a;n.model=t.model||a,n.clipBounds=this.clipBounds,n.opacity=this.opacity;var o=r[12],s=r[13],l=r[14],c=r[15],u=(t._ortho?2:1)*this.pixelRatio*(i[3]*o+i[7]*s+i[11]*l+i[15]*c)/e.drawingBufferHeight;this.vao.bind();for(var d=0;d<3;++d)e.lineWidth(this.lineWidth[d]*this.pixelRatio),n.capSize=this.capSize[d]*u,this.lineCount[d]&&e.drawArrays(e.LINES,this.lineOffset[d],this.lineCount[d]);this.vao.unbind()};var u=function(){for(var t=new Array(3),e=0;e<3;++e){for(var n=[],r=1;r<=2;++r)for(var i=-1;i<=1;i+=2){var o=[0,0,0];o[(r+e)%3]=i,n.push(o)}t[e]=n}return t}();function d(t,e,n,r){for(var i=u[r],o=0;o<i.length;++o){var a=i[o];t.push(e[0],e[1],e[2],n[0],n[1],n[2],n[3],a[0],a[1],a[2])}return i.length}l.update=function(t){"lineWidth"in(t=t||{})&&(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in t&&(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],n=t.position,r=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),n&&r){var i=[],o=n.length,a=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var s=0;s<3;++s){this.lineOffset[s]=a;t:for(var l=0;l<o;++l){for(var u=n[l],f=0;f<3;++f)if(isNaN(u[f])||!isFinite(u[f]))continue t;var h,p=r[l],g=e[s];Array.isArray(g[0])&&(g=e[l]),3===g.length?g=[g[0],g[1],g[2],1]:4===g.length&&(g=[g[0],g[1],g[2],g[3]],!this.hasAlpha&&g[3]<1&&(this.hasAlpha=!0)),isNaN(p[0][s])||isNaN(p[1][s])||(p[0][s]<0&&((h=u.slice())[s]+=p[0][s],i.push(u[0],u[1],u[2],g[0],g[1],g[2],g[3],0,0,0,h[0],h[1],h[2],g[0],g[1],g[2],g[3],0,0,0),c(this.bounds,h),a+=2+d(i,h,g,s)),p[1][s]>0&&((h=u.slice())[s]+=p[1][s],i.push(u[0],u[1],u[2],g[0],g[1],g[2],g[3],0,0,0,h[0],h[1],h[2],g[0],g[1],g[2],g[3],0,0,0),c(this.bounds,h),a+=2+d(i,h,g,s)))}this.lineCount[s]=a-this.lineOffset[s]}this.buffer.update(i)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{"./shaders/index":85,"gl-buffer":78,"gl-vao":150}],85:[function(t,e,n){"use strict";var r=t("glslify"),i=t("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);e.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},{"gl-shader":132,glslify:231}],86:[function(t,e,n){"use strict";var r=t("gl-texture2d");e.exports=function(t,e,n,r){i||(i=t.FRAMEBUFFER_UNSUPPORTED,o=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var c=t.getExtension("WEBGL_draw_buffers");if(!l&&c&&function(t,e){var n=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(n+1);for(var r=0;r<=n;++r){for(var i=new Array(n),o=0;o<r;++o)i[o]=t.COLOR_ATTACHMENT0+o;for(o=r;o<n;++o)i[o]=t.NONE;l[r]=i}}(t,c),Array.isArray(e)&&(r=n,n=0|e[1],e=0|e[0]),"number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var u=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>u||n<0||n>u)throw new Error("gl-fbo: Parameters are too large for FBO");var d=1;if("color"in(r=r||{})){if((d=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(d>1){if(!c)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(d>t.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+d+" draw buffers")}}var f=t.UNSIGNED_BYTE,h=t.getExtension("OES_texture_float");if(r.float&&d>0){if(!h)throw new Error("gl-fbo: Context does not support floating point textures");f=t.FLOAT}else r.preferFloat&&d>0&&h&&(f=t.FLOAT);var g=!0;"depth"in r&&(g=!!r.depth);var m=!1;return"stencil"in r&&(m=!!r.stencil),new p(t,e,n,f,d,g,m,c)};var i,o,a,s,l=null;function c(t){return[t.getParameter(t.FRAMEBUFFER_BINDING),t.getParameter(t.RENDERBUFFER_BINDING),t.getParameter(t.TEXTURE_BINDING_2D)]}function u(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function d(t){switch(t){case i:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function f(t,e,n,i,o,a){if(!i)return null;var s=r(t,e,n,o,i);return s.magFilter=t.NEAREST,s.minFilter=t.NEAREST,s.mipSamples=1,s.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,a,t.TEXTURE_2D,s.handle,0),s}function h(t,e,n,r,i){var o=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,r,e,n),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,o),o}function p(t,e,n,r,i,o,a,s){this.gl=t,this._shape=[0|e,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var p=0;p<i;++p)this.color[p]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=o,this._useStencil=a;var g=this,m=[0|e,0|n];Object.defineProperties(m,{0:{get:function(){return g._shape[0]},set:function(t){return g.width=t}},1:{get:function(){return g._shape[1]},set:function(t){return g.height=t}}}),this._shapeVector=m,function(t){var e=c(t.gl),n=t.gl,r=t.handle=n.createFramebuffer(),i=t._shape[0],o=t._shape[1],a=t.color.length,s=t._ext,p=t._useStencil,g=t._useDepth,m=t._colorType;n.bindFramebuffer(n.FRAMEBUFFER,r);for(var v=0;v<a;++v)t.color[v]=f(n,i,o,m,n.RGBA,n.COLOR_ATTACHMENT0+v);0===a?(t._color_rb=h(n,i,o,n.RGBA4,n.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(l[0])):a>1&&s.drawBuffersWEBGL(l[a]);var y=n.getExtension("WEBGL_depth_texture");y?p?t.depth=f(n,i,o,y.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):g&&(t.depth=f(n,i,o,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):g&&p?t._depth_rb=h(n,i,o,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):g?t._depth_rb=h(n,i,o,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):p&&(t._depth_rb=h(n,i,o,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){for(t._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(n.deleteRenderbuffer(t._depth_rb),t._depth_rb=null),v=0;v<t.color.length;++v)t.color[v].dispose(),t.color[v]=null;t._color_rb&&(n.deleteRenderbuffer(t._color_rb),t._color_rb=null),u(n,e),d(b)}u(n,e)}(this)}var g=p.prototype;function m(t,e,n){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==n){var r=t.gl,i=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(e<0||e>i||n<0||n>i)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=n;for(var o=c(r),a=0;a<t.color.length;++a)t.color[a].shape=t._shape;t._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,t._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,t._shape[0],t._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,t.handle);var s=r.checkFramebufferStatus(r.FRAMEBUFFER);s!==r.FRAMEBUFFER_COMPLETE&&(t.dispose(),u(r,o),d(s)),u(r,o)}}Object.defineProperties(g,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],n=0|t[1];return m(this,e,n),[e,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return m(this,t|=0,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,m(this,this._shape[0],t),t},enumerable:!1}}),g.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},g.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":146}],87:[function(t,e,n){var r=t("sprintf-js").sprintf,i=t("gl-constants/lookup"),o=t("glsl-shader-name"),a=t("add-line-numbers");e.exports=function(t,e,n){"use strict";var s=o(e)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==n&&(l=n===i.FRAGMENT_SHADER?"fragment":"vertex");for(var c=r("Error compiling %s shader %s:\n",l,s),u=r("%s%s",c,t),d=t.split("\n"),f={},h=0;h<d.length;h++){var p=d[h];if(""!==p&&"\0"!==p){var g=parseInt(p.split(":")[2]);if(isNaN(g))throw new Error(r("Could not parse error: %s",p));f[g]=p}}var m=a(e).split("\n");for(h=0;h<m.length;h++)if((f[h+3]||f[h+2]||f[h+1])&&(c+=m[h]+"\n",f[h+1])){var v=f[h+1];v=v.substr(v.split(":",3).join(":").length+1).trim(),c+=r("^^^ %s\n\n",v)}return{long:c.trim(),short:u.trim()}}},{"add-line-numbers":9,"gl-constants/lookup":83,"glsl-shader-name":223,"sprintf-js":301}],88:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.gl,r=new c(t,a(n,l.vertex,l.fragment),a(n,l.pickVertex,l.pickFragment),s(n),s(n),s(n),s(n));return r.update(e),t.addObject(r),r};var r=t("binary-search-bounds"),i=t("iota-array"),o=t("typedarray-pool"),a=t("gl-shader"),s=t("gl-buffer"),l=t("./lib/shaders");function c(t,e,n,r,i,o,a){this.plot=t,this.shader=e,this.pickShader=n,this.positionBuffer=r,this.weightBuffer=i,this.colorBuffer=o,this.idBuffer=a,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var u,d=c.prototype,f=[0,0,1,0,0,1,1,0,1,1,0,1];d.draw=(u=[1,0,0,0,1,0,0,0,1],function(){var t=this.plot,e=this.shader,n=this.bounds,r=this.numVertices;if(!(r<=0)){var i=t.gl,o=t.dataBox,a=n[2]-n[0],s=n[3]-n[1],l=o[2]-o[0],c=o[3]-o[1];u[0]=2*a/l,u[4]=2*s/c,u[6]=2*(n[0]-o[0])/l-1,u[7]=2*(n[1]-o[1])/c-1,e.bind();var d=e.uniforms;d.viewTransform=u,d.shape=this.shape;var f=e.attributes;this.positionBuffer.bind(),f.position.pointer(),this.weightBuffer.bind(),f.weight.pointer(i.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),f.color.pointer(i.UNSIGNED_BYTE,!0),i.drawArrays(i.TRIANGLES,0,r)}}),d.drawPick=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0,0,0];return function(n){var r=this.plot,i=this.pickShader,o=this.bounds,a=this.numVertices;if(!(a<=0)){var s=r.gl,l=r.dataBox,c=o[2]-o[0],u=o[3]-o[1],d=l[2]-l[0],f=l[3]-l[1];t[0]=2*c/d,t[4]=2*u/f,t[6]=2*(o[0]-l[0])/d-1,t[7]=2*(o[1]-l[1])/f-1;for(var h=0;h<4;++h)e[h]=n>>8*h&255;this.pickOffset=n,i.bind();var p=i.uniforms;p.viewTransform=t,p.pickOffset=e,p.shape=this.shape;var g=i.attributes;return this.positionBuffer.bind(),g.position.pointer(),this.weightBuffer.bind(),g.weight.pointer(s.UNSIGNED_BYTE,!1),this.idBuffer.bind(),g.pickId.pointer(s.UNSIGNED_BYTE,!1),s.drawArrays(s.TRIANGLES,0,a),n+this.shape[0]*this.shape[1]}}}(),d.pick=function(t,e,n){var r=this.pickOffset,i=this.shape[0]*this.shape[1];if(n<r||n>=r+i)return null;var o=n-r,a=this.xData,s=this.yData;return{object:this,pointId:o,dataCoord:[a[o%this.shape[0]],s[o/this.shape[0]|0]]}},d.update=function(t){var e=(t=t||{}).shape||[0,0],n=t.x||i(e[0]),a=t.y||i(e[1]),s=t.z||new Float32Array(e[0]*e[1]),l=!1!==t.zsmooth;this.xData=n,this.yData=a;var c,u,d,h,p=t.colorLevels||[0],g=t.colorValues||[0,0,0,1],m=p.length,v=this.bounds;l?(c=v[0]=n[0],u=v[1]=a[0],d=v[2]=n[n.length-1],h=v[3]=a[a.length-1]):(c=v[0]=n[0]+(n[1]-n[0])/2,u=v[1]=a[0]+(a[1]-a[0])/2,d=v[2]=n[n.length-1]+(n[n.length-1]-n[n.length-2])/2,h=v[3]=a[a.length-1]+(a[a.length-1]-a[a.length-2])/2);var y=1/(d-c),b=1/(h-u),x=e[0],w=e[1];this.shape=[x,w];var k=(l?(x-1)*(w-1):x*w)*(f.length>>>1);this.numVertices=k;for(var _=o.mallocUint8(4*k),A=o.mallocFloat32(2*k),T=o.mallocUint8(2*k),M=o.mallocUint32(k),E=0,C=l?x-1:x,S=l?w-1:w,O=0;O<S;++O){var L,P;l?(L=b*(a[O]-u),P=b*(a[O+1]-u)):(L=O<w-1?b*(a[O]-(a[O+1]-a[O])/2-u):b*(a[O]-(a[O]-a[O-1])/2-u),P=O<w-1?b*(a[O]+(a[O+1]-a[O])/2-u):b*(a[O]+(a[O]-a[O-1])/2-u));for(var D=0;D<C;++D){var R,I;l?(R=y*(n[D]-c),I=y*(n[D+1]-c)):(R=D<x-1?y*(n[D]-(n[D+1]-n[D])/2-c):y*(n[D]-(n[D]-n[D-1])/2-c),I=D<x-1?y*(n[D]+(n[D+1]-n[D])/2-c):y*(n[D]+(n[D]-n[D-1])/2-c));for(var z=0;z<f.length;z+=2){var N,B,F,j,$=f[z],Z=f[z+1],U=s[l?(O+Z)*x+(D+$):O*x+D],H=r.le(p,U);if(H<0)N=g[0],B=g[1],F=g[2],j=g[3];else if(H===m-1)N=g[4*m-4],B=g[4*m-3],F=g[4*m-2],j=g[4*m-1];else{var V=(U-p[H])/(p[H+1]-p[H]),W=1-V,Y=4*H,G=4*(H+1);N=W*g[Y]+V*g[G],B=W*g[Y+1]+V*g[G+1],F=W*g[Y+2]+V*g[G+2],j=W*g[Y+3]+V*g[G+3]}_[4*E]=255*N,_[4*E+1]=255*B,_[4*E+2]=255*F,_[4*E+3]=255*j,A[2*E]=.5*R+.5*I,A[2*E+1]=.5*L+.5*P,T[2*E]=$,T[2*E+1]=Z,M[E]=O*x+D,E+=1}}}this.positionBuffer.update(A),this.weightBuffer.update(T),this.colorBuffer.update(_),this.idBuffer.update(M),o.free(A),o.free(_),o.free(T),o.free(M)},d.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},{"./lib/shaders":89,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132,"iota-array":235,"typedarray-pool":308}],89:[function(t,e,n){"use strict";var r=t("glslify");e.exports={fragment:r(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},{glslify:231}],90:[function(t,e,n){var r=t("glslify"),i=t("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];n.createShader=function(t){return i(t,o,a,null,l)},n.createPickShader=function(t){return i(t,o,s,null,l)}},{"gl-shader":132,glslify:231}],91:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl||t.scene&&t.scene.gl,n=d(e);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;var a=f(e);a.attributes.position.location=0,a.attributes.nextPosition.location=1,a.attributes.arcLength.location=2,a.attributes.lineWidth.location=3,a.attributes.color.location=4;for(var s=r(e),l=i(e,[{buffer:s,size:3,offset:0,stride:48},{buffer:s,size:3,offset:12,stride:48},{buffer:s,size:1,offset:24,stride:48},{buffer:s,size:1,offset:28,stride:48},{buffer:s,size:4,offset:32,stride:48}]),u=c(new Array(1024),[256,1,4]),h=0;h<1024;++h)u.data[h]=255;var p=o(e,u);p.wrap=e.REPEAT;var g=new v(e,n,a,s,l,p);return g.update(t),g};var r=t("gl-buffer"),i=t("gl-vao"),o=t("gl-texture2d"),a=new Uint8Array(4),s=new Float32Array(a.buffer),l=t("binary-search-bounds"),c=t("ndarray"),u=t("./lib/shaders"),d=u.createShader,f=u.createPickShader,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function p(t,e){for(var n=0,r=0;r<3;++r){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)}function g(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],n=0;n<3;++n)e[0][n]=Math.max(t[0][n],e[0][n]),e[1][n]=Math.min(t[1][n],e[1][n]);return e}function m(t,e,n,r){this.arcLength=t,this.position=e,this.index=n,this.dataCoordinate=r}function v(t,e,n,r,i,o){this.gl=t,this.shader=e,this.pickShader=n,this.buffer=r,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=o,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var y=v.prototype;y.isTransparent=function(){return this.hasAlpha},y.isOpaque=function(){return!this.hasAlpha},y.pickSlots=1,y.setPickBase=function(t){this.pickId=t},y.drawTransparent=y.draw=function(t){if(this.vertexCount){var e=this.gl,n=this.shader,r=this.vao;n.bind(),n.uniforms={model:t.model||h,view:t.view||h,projection:t.projection||h,clipBounds:g(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},y.drawPick=function(t){if(this.vertexCount){var e=this.gl,n=this.pickShader,r=this.vao;n.bind(),n.uniforms={model:t.model||h,view:t.view||h,projection:t.projection||h,pickId:this.pickId,clipBounds:g(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},y.update=function(t){var e,n;this.dirty=!0;var r=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var i=[],o=[],a=[],s=0,u=0,d=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],f=t.position||t.positions;if(f){var h=t.color||t.colors||[0,0,0,1],g=t.lineWidth||1,m=!1;t:for(e=1;e<f.length;++e){var v,y,b,x=f[e-1],w=f[e];for(o.push(s),a.push(x.slice()),n=0;n<3;++n){if(isNaN(x[n])||isNaN(w[n])||!isFinite(x[n])||!isFinite(w[n])){if(!r&&i.length>0){for(var k=0;k<24;++k)i.push(i[i.length-12]);u+=2,m=!0}continue t}d[0][n]=Math.min(d[0][n],x[n],w[n]),d[1][n]=Math.max(d[1][n],x[n],w[n])}Array.isArray(h[0])?(v=h.length>e-1?h[e-1]:h.length>0?h[h.length-1]:[0,0,0,1],y=h.length>e?h[e]:h.length>0?h[h.length-1]:[0,0,0,1]):v=y=h,3===v.length&&(v=[v[0],v[1],v[2],1]),3===y.length&&(y=[y[0],y[1],y[2],1]),!this.hasAlpha&&v[3]<1&&(this.hasAlpha=!0),b=Array.isArray(g)?g.length>e-1?g[e-1]:g.length>0?g[g.length-1]:[0,0,0,1]:g;var _=s;if(s+=p(x,w),m){for(n=0;n<2;++n)i.push(x[0],x[1],x[2],w[0],w[1],w[2],_,b,v[0],v[1],v[2],v[3]);u+=2,m=!1}i.push(x[0],x[1],x[2],w[0],w[1],w[2],_,b,v[0],v[1],v[2],v[3],x[0],x[1],x[2],w[0],w[1],w[2],_,-b,v[0],v[1],v[2],v[3],w[0],w[1],w[2],x[0],x[1],x[2],s,-b,y[0],y[1],y[2],y[3],w[0],w[1],w[2],x[0],x[1],x[2],s,b,y[0],y[1],y[2],y[3]),u+=4}}if(this.buffer.update(i),o.push(s),a.push(f[f.length-1].slice()),this.bounds=d,this.vertexCount=u,this.points=a,this.arcLength=o,"dashes"in t){var A=t.dashes.slice();for(A.unshift(0),e=1;e<A.length;++e)A[e]=A[e-1]+A[e];var T=c(new Array(1024),[256,1,4]);for(e=0;e<256;++e){for(n=0;n<4;++n)T.set(e,0,n,0);1&l.le(A,A[A.length-1]*e/255)?T.set(e,0,0,0):T.set(e,0,0,255)}this.texture.setPixels(T)}},y.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},y.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=function(t,e,n,r){return a[0]=r,a[1]=n,a[2]=e,a[3]=t,s[0]}(t.value[0],t.value[1],t.value[2],0),n=l.le(this.arcLength,e);if(n<0)return null;if(n===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),n);for(var r=this.points[n],i=this.points[Math.min(n+1,this.points.length-1)],o=(e-this.arcLength[n])/(this.arcLength[n+1]-this.arcLength[n]),c=1-o,u=[0,0,0],d=0;d<3;++d)u[d]=c*r[d]+o*i[d];var f=Math.min(o<.5?n:n+1,this.points.length-1);return new m(e,u,f,this.points[f])}},{"./lib/shaders":90,"binary-search-bounds":31,"gl-buffer":78,"gl-texture2d":146,"gl-vao":150,ndarray:259}],92:[function(t,e,n){e.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],93:[function(t,e,n){e.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],94:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],h=t[12],p=t[13],g=t[14],m=t[15];return(e*a-n*o)*(d*m-f*g)-(e*s-r*o)*(u*m-f*p)+(e*l-i*o)*(u*g-d*p)+(n*s-r*a)*(c*m-f*h)-(n*l-i*a)*(c*g-d*h)+(r*l-i*s)*(c*p-u*h)}},{}],95:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,d=r*s,f=i*a,h=i*s,p=i*l,g=o*a,m=o*s,v=o*l;return t[0]=1-d-p,t[1]=u+v,t[2]=f-m,t[3]=0,t[4]=u-v,t[5]=1-c-p,t[6]=h+g,t[7]=0,t[8]=f+m,t[9]=h-g,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],96:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,c=o+o,u=r*s,d=r*l,f=r*c,h=i*l,p=i*c,g=o*c,m=a*s,v=a*l,y=a*c;return t[0]=1-(h+g),t[1]=d+y,t[2]=f-v,t[3]=0,t[4]=d-y,t[5]=1-(u+g),t[6]=p+m,t[7]=0,t[8]=f+v,t[9]=p-m,t[10]=1-(u+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}},{}],97:[function(t,e,n){e.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],98:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=n*s-r*a,b=n*l-i*a,x=n*c-o*a,w=r*l-i*s,k=r*c-o*s,_=i*c-o*l,A=u*g-d*p,T=u*m-f*p,M=u*v-h*p,E=d*m-f*g,C=d*v-h*g,S=f*v-h*m,O=y*S-b*C+x*E+w*M-k*T+_*A;return O?(O=1/O,t[0]=(s*S-l*C+c*E)*O,t[1]=(i*C-r*S-o*E)*O,t[2]=(g*_-m*k+v*w)*O,t[3]=(f*k-d*_-h*w)*O,t[4]=(l*M-a*S-c*T)*O,t[5]=(n*S-i*M+o*T)*O,t[6]=(m*x-p*_-v*b)*O,t[7]=(u*_-f*x+h*b)*O,t[8]=(a*C-s*M+c*A)*O,t[9]=(r*M-n*C-o*A)*O,t[10]=(p*k-g*x+v*y)*O,t[11]=(d*x-u*k-h*y)*O,t[12]=(s*T-a*E-l*A)*O,t[13]=(n*E-r*T+i*A)*O,t[14]=(g*b-p*w-m*y)*O,t[15]=(u*w-d*b+f*y)*O,t):null}},{}],99:[function(t,e,n){var r=t("./identity");e.exports=function(t,e,n,i){var o,a,s,l,c,u,d,f,h,p,g=e[0],m=e[1],v=e[2],y=i[0],b=i[1],x=i[2],w=n[0],k=n[1],_=n[2];return Math.abs(g-w)<1e-6&&Math.abs(m-k)<1e-6&&Math.abs(v-_)<1e-6?r(t):(d=g-w,f=m-k,h=v-_,o=b*(h*=p=1/Math.sqrt(d*d+f*f+h*h))-x*(f*=p),a=x*(d*=p)-y*h,s=y*f-b*d,(p=Math.sqrt(o*o+a*a+s*s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),l=f*s-h*a,c=h*o-d*s,u=d*a-f*o,(p=Math.sqrt(l*l+c*c+u*u))?(l*=p=1/p,c*=p,u*=p):(l=0,c=0,u=0),t[0]=o,t[1]=l,t[2]=d,t[3]=0,t[4]=a,t[5]=c,t[6]=f,t[7]=0,t[8]=s,t[9]=u,t[10]=h,t[11]=0,t[12]=-(o*g+a*m+s*v),t[13]=-(l*g+c*m+u*v),t[14]=-(d*g+f*m+h*v),t[15]=1,t)}},{"./identity":97}],100:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=n[0],x=n[1],w=n[2],k=n[3];return t[0]=b*r+x*s+w*d+k*g,t[1]=b*i+x*l+w*f+k*m,t[2]=b*o+x*c+w*h+k*v,t[3]=b*a+x*u+w*p+k*y,b=n[4],x=n[5],w=n[6],k=n[7],t[4]=b*r+x*s+w*d+k*g,t[5]=b*i+x*l+w*f+k*m,t[6]=b*o+x*c+w*h+k*v,t[7]=b*a+x*u+w*p+k*y,b=n[8],x=n[9],w=n[10],k=n[11],t[8]=b*r+x*s+w*d+k*g,t[9]=b*i+x*l+w*f+k*m,t[10]=b*o+x*c+w*h+k*v,t[11]=b*a+x*u+w*p+k*y,b=n[12],x=n[13],w=n[14],k=n[15],t[12]=b*r+x*s+w*d+k*g,t[13]=b*i+x*l+w*f+k*m,t[14]=b*o+x*c+w*h+k*v,t[15]=b*a+x*u+w*p+k*y,t}},{}],101:[function(t,e,n){e.exports=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t}},{}],102:[function(t,e,n){e.exports=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}},{}],103:[function(t,e,n){e.exports=function(t,e,n,r){var i,o,a,s,l,c,u,d,f,h,p,g,m,v,y,b,x,w,k,_,A,T,M,E,C=r[0],S=r[1],O=r[2],L=Math.sqrt(C*C+S*S+O*O);return Math.abs(L)<1e-6?null:(C*=L=1/L,S*=L,O*=L,i=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],l=e[1],c=e[2],u=e[3],d=e[4],f=e[5],h=e[6],p=e[7],g=e[8],m=e[9],v=e[10],y=e[11],b=C*C*a+o,x=S*C*a+O*i,w=O*C*a-S*i,k=C*S*a-O*i,_=S*S*a+o,A=O*S*a+C*i,T=C*O*a+S*i,M=S*O*a-C*i,E=O*O*a+o,t[0]=s*b+d*x+g*w,t[1]=l*b+f*x+m*w,t[2]=c*b+h*x+v*w,t[3]=u*b+p*x+y*w,t[4]=s*k+d*_+g*A,t[5]=l*k+f*_+m*A,t[6]=c*k+h*_+v*A,t[7]=u*k+p*_+y*A,t[8]=s*T+d*M+g*E,t[9]=l*T+f*M+m*E,t[10]=c*T+h*M+v*E,t[11]=u*T+p*M+y*E,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}},{}],104:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+u*r,t[6]=s*i+d*r,t[7]=l*i+f*r,t[8]=c*i-o*r,t[9]=u*i-a*r,t[10]=d*i-s*r,t[11]=f*i-l*r,t}},{}],105:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-u*r,t[2]=s*i-d*r,t[3]=l*i-f*r,t[8]=o*r+c*i,t[9]=a*r+u*i,t[10]=s*r+d*i,t[11]=l*r+f*i,t}},{}],106:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+u*r,t[2]=s*i+d*r,t[3]=l*i+f*r,t[4]=c*i-o*r,t[5]=u*i-a*r,t[6]=d*i-s*r,t[7]=f*i-l*r,t}},{}],107:[function(t,e,n){e.exports=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],108:[function(t,e,n){e.exports=function(t,e,n){var r,i,o,a,s,l,c,u,d,f,h,p,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=d,t[9]=f,t[10]=h,t[11]=p,t[12]=r*g+s*m+d*v+e[12],t[13]=i*g+l*m+f*v+e[13],t[14]=o*g+c*m+h*v+e[14],t[15]=a*g+u*m+p*v+e[15]),t}},{}],109:[function(t,e,n){e.exports=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},{}],110:[function(t,e,n){"use strict";var r=t("barycentric"),i=t("polytope-closest-point/lib/closest_point_2d.js");function o(t,e){for(var n=[0,0,0,0],r=0;r<4;++r)for(var i=0;i<4;++i)n[i]+=t[4*r+i]*e[r];return n}function a(t,e,n,r,i){for(var a=o(r,o(n,o(e,[t[0],t[1],t[2],1]))),s=0;s<3;++s)a[s]/=a[3];return[.5*i[0]*(1+a[0]),.5*i[1]*(1-a[1])]}function s(t,e){for(var n=[0,0,0],r=0;r<t.length;++r)for(var i=t[r],o=e[r],a=0;a<3;++a)n[a]+=o*i[a];return n}e.exports=function(t,e,n,o,l,c){if(1===t.length)return[0,t[0].slice()];for(var u=new Array(t.length),d=0;d<t.length;++d)u[d]=a(t[d],n,o,l,c);var f=0,h=1/0;for(d=0;d<u.length;++d){for(var p=0,g=0;g<2;++g)p+=Math.pow(u[d][g]-e[g],2);p<h&&(h=p,f=d)}var m=function(t,e){if(2===t.length){for(var n=0,o=0,a=0;a<2;++a)n+=Math.pow(e[a]-t[0][a],2),o+=Math.pow(e[a]-t[1][a],2);return(n=Math.sqrt(n))+(o=Math.sqrt(o))<1e-6?[1,0]:[o/(n+o),n/(o+n)]}if(3===t.length){var s=[0,0];return i(t[0],t[1],t[2],e,s),r(t,s)}return[]}(u,e),v=0;for(d=0;d<3;++d){if(m[d]<-.001||m[d]>1.0001)return null;v+=m[d]}return Math.abs(v-1)>.001?null:[f,s(t,m),m]}},{barycentric:14,"polytope-closest-point/lib/closest_point_2d.js":270}],111:[function(t,e,n){var r=t("glslify"),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),d=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),h=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),p=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);n.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.wireShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.pointShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},n.pickShader={vertex:u,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},n.pointPickShader={vertex:f,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},n.contourShader={vertex:h,fragment:p,attributes:[{name:"position",type:"vec3"}]}},{glslify:231}],112:[function(t,e,n){"use strict";var r=t("gl-shader"),i=t("gl-buffer"),o=t("gl-vao"),a=t("gl-texture2d"),s=t("normals"),l=t("gl-mat4/multiply"),c=t("gl-mat4/invert"),u=t("ndarray"),d=t("colormap"),f=t("simplicial-complex-contour"),h=t("typedarray-pool"),p=t("./lib/shaders"),g=t("./lib/closest-point"),m=p.meshShader,v=p.wireShader,y=p.pointShader,b=p.pickShader,x=p.pointPickShader,w=p.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(t,e,n,r,i,o,a,s,l,c,u,d,f,h,p,g,m,v,y,b,x,w,_,A,T,M,E){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=n,this.lineShader=r,this.pointShader=i,this.pickShader=o,this.pointPickShader=a,this.contourShader=s,this.trianglePositions=l,this.triangleColors=u,this.triangleNormals=f,this.triangleUVs=d,this.triangleIds=c,this.triangleVAO=h,this.triangleCount=0,this.lineWidth=1,this.edgePositions=p,this.edgeColors=m,this.edgeUVs=v,this.edgeIds=g,this.edgeVAO=y,this.edgeCount=0,this.pointPositions=b,this.pointColors=w,this.pointUVs=_,this.pointSizes=A,this.pointIds=x,this.pointVAO=T,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=M,this.contourVAO=E,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var A=_.prototype;function T(t,e){if(!e)return 1;if(!e.length)return 1;for(var n=0;n<e.length;++n){if(e.length<2)return 1;if(e[n][0]===t)return e[n][1];if(e[n][0]>t&&n>0){var r=(e[n][0]-t)/(e[n][0]-e[n-1][0]);return e[n][1]*(1-r)+r*e[n-1][1]}}return 1}function M(t){var e=r(t,m.vertex,m.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.normal.location=4,e}function E(t){var e=r(t,v.vertex,v.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e}function C(t){var e=r(t,y.vertex,y.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.pointSize.location=4,e}function S(t){var e=r(t,b.vertex,b.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e}function O(t){var e=r(t,x.vertex,x.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e.attributes.pointSize.location=4,e}function L(t){var e=r(t,w.vertex,w.fragment);return e.attributes.position.location=0,e}A.isOpaque=function(){return!this.hasAlpha},A.isTransparent=function(){return this.hasAlpha},A.pickSlots=1,A.setPickBase=function(t){this.pickId=t},A.highlight=function(t){if(t&&this.contourEnable){for(var e=f(this.cells,this.intensity,t.intensity),n=e.cells,r=e.vertexIds,i=e.vertexWeights,o=n.length,a=h.mallocFloat32(6*o),s=0,l=0;l<o;++l)for(var c=n[l],u=0;u<2;++u){var d=c[0];2===c.length&&(d=c[u]);for(var p=r[d][0],g=r[d][1],m=i[d],v=1-m,y=this.positions[p],b=this.positions[g],x=0;x<3;++x)a[s++]=m*y[x]+v*b[x]}this.contourCount=s/3|0,this.contourPositions.update(a.subarray(0,s)),h.free(a)}else this.contourCount=0},A.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),this.hasAlpha=!1,"opacity"in t&&(this.opacity=t.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in t&&(this.opacityscale=t.opacityscale,this.hasAlpha=!0),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=a(e,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t,e){for(var n=d({colormap:t,nshades:256,format:"rgba"}),r=new Uint8Array(1024),i=0;i<256;++i){for(var o=n[i],a=0;a<3;++a)r[4*i+a]=o[a];r[4*i+3]=e?255*T(i/255,e):255*o[3]}return u(r,[256,256,4],[4,0,1])}(t.colormap,this.opacityscale)),this.texture.generateMipmap());var n=t.cells,r=t.positions;if(r&&n){var i=[],o=[],l=[],c=[],f=[],h=[],p=[],g=[],m=[],v=[],y=[],b=[],x=[],w=[];this.cells=n,this.positions=r;var k=t.vertexNormals,_=t.cellNormals,A=void 0===t.vertexNormalsEpsilon?1e-6:t.vertexNormalsEpsilon,M=void 0===t.faceNormalsEpsilon?1e-6:t.faceNormalsEpsilon;t.useFacetNormals&&!_&&(_=s.faceNormals(n,r,M)),_||k||(k=s.vertexNormals(n,r,A));var E=t.vertexColors,C=t.cellColors,S=t.meshColor||[1,1,1,1],O=t.vertexUVs,L=t.vertexIntensity,P=t.cellUVs,D=t.cellIntensity,R=1/0,I=-1/0;if(!O&&!P)if(L)if(t.vertexIntensityBounds)R=+t.vertexIntensityBounds[0],I=+t.vertexIntensityBounds[1];else for(var z=0;z<L.length;++z){var N=L[z];R=Math.min(R,N),I=Math.max(I,N)}else if(D)if(t.cellIntensityBounds)R=+t.cellIntensityBounds[0],I=+t.cellIntensityBounds[1];else for(z=0;z<D.length;++z)N=D[z],R=Math.min(R,N),I=Math.max(I,N);else for(z=0;z<r.length;++z)N=r[z][2],R=Math.min(R,N),I=Math.max(I,N);this.intensity=L||D||function(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=t[r][2];return n}(r),this.pickVertex=!(D||C);var B=t.pointSizes,F=t.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],z=0;z<r.length;++z)for(var j=r[z],$=0;$<3;++$)!isNaN(j[$])&&isFinite(j[$])&&(this.bounds[0][$]=Math.min(this.bounds[0][$],j[$]),this.bounds[1][$]=Math.max(this.bounds[1][$],j[$]));var Z=0,U=0,H=0;t:for(z=0;z<n.length;++z){var V=n[z];switch(V.length){case 1:for(j=r[Y=V[0]],$=0;$<3;++$)if(isNaN(j[$])||!isFinite(j[$]))continue t;v.push(j[0],j[1],j[2]),G=E?E[Y]:C?C[z]:S,this.opacityscale&&L?o.push(G[0],G[1],G[2],this.opacity*T((L[Y]-R)/(I-R),this.opacityscale)):3===G.length?y.push(G[0],G[1],G[2],this.opacity):(y.push(G[0],G[1],G[2],G[3]*this.opacity),G[3]<1&&(this.hasAlpha=!0)),q=O?O[Y]:L?[(L[Y]-R)/(I-R),0]:P?P[z]:D?[(D[z]-R)/(I-R),0]:[(j[2]-R)/(I-R),0],b.push(q[0],q[1]),B?x.push(B[Y]):x.push(F),w.push(z),H+=1;break;case 2:for($=0;$<2;++$){j=r[Y=V[$]];for(var W=0;W<3;++W)if(isNaN(j[W])||!isFinite(j[W]))continue t}for($=0;$<2;++$)j=r[Y=V[$]],h.push(j[0],j[1],j[2]),G=E?E[Y]:C?C[z]:S,this.opacityscale&&L?o.push(G[0],G[1],G[2],this.opacity*T((L[Y]-R)/(I-R),this.opacityscale)):3===G.length?p.push(G[0],G[1],G[2],this.opacity):(p.push(G[0],G[1],G[2],G[3]*this.opacity),G[3]<1&&(this.hasAlpha=!0)),q=O?O[Y]:L?[(L[Y]-R)/(I-R),0]:P?P[z]:D?[(D[z]-R)/(I-R),0]:[(j[2]-R)/(I-R),0],g.push(q[0],q[1]),m.push(z);U+=1;break;case 3:for($=0;$<3;++$)for(j=r[Y=V[$]],W=0;W<3;++W)if(isNaN(j[W])||!isFinite(j[W]))continue t;for($=0;$<3;++$){var Y,G,q,X;j=r[Y=V[2-$]],i.push(j[0],j[1],j[2]),(G=E?E[Y]:C?C[z]:S)?this.opacityscale&&L?o.push(G[0],G[1],G[2],this.opacity*T((L[Y]-R)/(I-R),this.opacityscale)):3===G.length?o.push(G[0],G[1],G[2],this.opacity):(o.push(G[0],G[1],G[2],G[3]*this.opacity),G[3]<1&&(this.hasAlpha=!0)):o.push(.5,.5,.5,1),q=O?O[Y]:L?[(L[Y]-R)/(I-R),0]:P?P[z]:D?[(D[z]-R)/(I-R),0]:[(j[2]-R)/(I-R),0],c.push(q[0],q[1]),X=k?k[Y]:_[z],l.push(X[0],X[1],X[2]),f.push(z)}Z+=1}}this.pointCount=H,this.edgeCount=U,this.triangleCount=Z,this.pointPositions.update(v),this.pointColors.update(y),this.pointUVs.update(b),this.pointSizes.update(x),this.pointIds.update(new Uint32Array(w)),this.edgePositions.update(h),this.edgeColors.update(p),this.edgeUVs.update(g),this.edgeIds.update(new Uint32Array(m)),this.trianglePositions.update(i),this.triangleColors.update(o),this.triangleUVs.update(c),this.triangleNormals.update(l),this.triangleIds.update(new Uint32Array(f))}},A.drawTransparent=A.draw=function(t){t=t||{};for(var e=this.gl,n=t.model||k,r=t.view||k,i=t.projection||k,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);var s={model:n,view:r,projection:i,inverseModel:k.slice(),clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};s.inverseModel=c(s.inverseModel,s.model),e.disable(e.CULL_FACE),this.texture.bind(0);var u=new Array(16);for(l(u,s.view,s.model),l(u,s.projection,u),c(u,u),a=0;a<3;++a)s.eyePosition[a]=u[12+a]/u[15];var d,f=u[15];for(a=0;a<3;++a)f+=this.lightPosition[a]*u[4*a+3];for(a=0;a<3;++a){for(var h=u[12+a],p=0;p<3;++p)h+=u[4*p+a]*this.lightPosition[p];s.lightPosition[a]=h/f}this.triangleCount>0&&((d=this.triShader).bind(),d.uniforms=s,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((d=this.lineShader).bind(),d.uniforms=s,this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((d=this.pointShader).bind(),d.uniforms=s,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((d=this.contourShader).bind(),d.uniforms=s,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind())},A.drawPick=function(t){t=t||{};for(var e=this.gl,n=t.model||k,r=t.view||k,i=t.projection||k,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s,l={model:n,view:r,projection:i,clipBounds:o,pickId:this.pickId/255};(s=this.pickShader).bind(),s.uniforms=l,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((s=this.pointPickShader).bind(),s.uniforms=l,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind())},A.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],n=this.cells[e],r=this.positions,i=new Array(n.length),o=0;o<n.length;++o)i[o]=r[n[o]];var a=t.coord[0],s=t.coord[1];if(!this.pickVertex){var l=this.positions[n[0]],c=this.positions[n[1]],u=this.positions[n[2]],d=[(l[0]+c[0]+u[0])/3,(l[1]+c[1]+u[1])/3,(l[2]+c[2]+u[2])/3];return{_cellCenter:!0,position:[a,s],index:e,cell:n,cellId:e,intensity:this.intensity[e],dataCoordinate:d}}var f=g(i,[a*this.pixelRatio,this._resolution[1]-s*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!f)return null;var h=f[2],p=0;for(o=0;o<n.length;++o)p+=h[o]*this.intensity[n[o]];return{position:f[1],index:n[f[0]],cell:n,cellId:e,intensity:p,dataCoordinate:this.positions[n[f[0]]]}},A.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},e.exports=function(t,e){if(1===arguments.length&&(t=(e=t).gl),!(t.getExtension("OES_standard_derivatives")||t.getExtension("MOZ_OES_standard_derivatives")||t.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var n=M(t),r=E(t),s=C(t),l=S(t),c=O(t),d=L(t),f=a(t,u(new Uint8Array([255,255,255,255]),[1,1,4]));f.generateMipmap(),f.minFilter=t.LINEAR_MIPMAP_LINEAR,f.magFilter=t.LINEAR;var h=i(t),p=i(t),g=i(t),m=i(t),v=i(t),y=o(t,[{buffer:h,type:t.FLOAT,size:3},{buffer:v,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:p,type:t.FLOAT,size:4},{buffer:g,type:t.FLOAT,size:2},{buffer:m,type:t.FLOAT,size:3}]),b=i(t),x=i(t),w=i(t),k=i(t),A=o(t,[{buffer:b,type:t.FLOAT,size:3},{buffer:k,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:x,type:t.FLOAT,size:4},{buffer:w,type:t.FLOAT,size:2}]),T=i(t),P=i(t),D=i(t),R=i(t),I=i(t),z=o(t,[{buffer:T,type:t.FLOAT,size:3},{buffer:I,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:t.FLOAT,size:4},{buffer:D,type:t.FLOAT,size:2},{buffer:R,type:t.FLOAT,size:1}]),N=i(t),B=new _(t,f,n,r,s,l,c,d,h,v,p,g,m,y,b,k,x,w,A,T,I,P,D,R,z,N,o(t,[{buffer:N,type:t.FLOAT,size:3}]));return B.update(e),B}},{"./lib/closest-point":110,"./lib/shaders":111,colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-shader":132,"gl-texture2d":146,"gl-vao":150,ndarray:259,normals:261,"simplicial-complex-contour":291,"typedarray-pool":308}],113:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl;return new a(t,r(e,[0,0,0,1,1,0,1,1]),i(e,o.boxVert,o.lineFrag))};var r=t("gl-buffer"),i=t("gl-shader"),o=t("./shaders");function a(t,e,n){this.plot=t,this.vbo=e,this.shader=n}var s,l,c=a.prototype;c.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},c.drawBox=(s=[0,0],l=[0,0],function(t,e,n,r,i){var o=this.plot,a=this.shader,c=o.gl;s[0]=t,s[1]=e,l[0]=n,l[1]=r,a.uniforms.lo=s,a.uniforms.hi=l,a.uniforms.color=i,c.drawArrays(c.TRIANGLE_STRIP,0,4)}),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":116,"gl-buffer":78,"gl-shader":132}],114:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl;return new s(t,r(e),i(e,a.gridVert,a.gridFrag),i(e,a.tickVert,a.gridFrag))};var r=t("gl-buffer"),i=t("gl-shader"),o=t("binary-search-bounds"),a=t("./shaders");function s(t,e,n,r){this.plot=t,this.vbo=e,this.shader=n,this.tickShader=r,this.ticks=[[],[]]}function l(t,e){return t-e}var c,u,d,f,h,p=s.prototype;p.draw=(c=[0,0],u=[0,0],d=[0,0],function(){for(var t=this.plot,e=this.vbo,n=this.shader,r=this.ticks,i=t.gl,o=t._tickBounds,a=t.dataBox,s=t.viewBox,l=t.gridLineWidth,f=t.gridLineColor,h=t.gridLineEnable,p=t.pixelRatio,g=0;g<2;++g){var m=o[g],v=o[g+2]-m,y=.5*(a[g+2]+a[g]),b=a[g+2]-a[g];u[g]=2*v/b,c[g]=2*(m-y)/b}n.bind(),e.bind(),n.attributes.dataCoord.pointer(),n.uniforms.dataShift=c,n.uniforms.dataScale=u;var x=0;for(g=0;g<2;++g){d[0]=d[1]=0,d[g]=1,n.uniforms.dataAxis=d,n.uniforms.lineWidth=l[g]/(s[g+2]-s[g])*p,n.uniforms.color=f[g];var w=6*r[g].length;h[g]&&w&&i.drawArrays(i.TRIANGLES,x,w),x+=w}}),p.drawTickMarks=function(){var t=[0,0],e=[0,0],n=[1,0],r=[0,1],i=[0,0],a=[0,0];return function(){for(var s=this.plot,c=this.vbo,u=this.tickShader,d=this.ticks,f=s.gl,h=s._tickBounds,p=s.dataBox,g=s.viewBox,m=s.pixelRatio,v=s.screenBox,y=v[2]-v[0],b=v[3]-v[1],x=g[2]-g[0],w=g[3]-g[1],k=0;k<2;++k){var _=h[k],A=h[k+2]-_,T=.5*(p[k+2]+p[k]),M=p[k+2]-p[k];e[k]=2*A/M,t[k]=2*(_-T)/M}e[0]*=x/y,t[0]*=x/y,e[1]*=w/b,t[1]*=w/b,u.bind(),c.bind(),u.attributes.dataCoord.pointer();var E=u.uniforms;E.dataShift=t,E.dataScale=e;var C=s.tickMarkLength,S=s.tickMarkWidth,O=s.tickMarkColor,L=6*d[0].length,P=Math.min(o.ge(d[0],(p[0]-h[0])/(h[2]-h[0]),l),d[0].length),D=Math.min(o.gt(d[0],(p[2]-h[0])/(h[2]-h[0]),l),d[0].length),R=0+6*P,I=6*Math.max(0,D-P),z=Math.min(o.ge(d[1],(p[1]-h[1])/(h[3]-h[1]),l),d[1].length),N=Math.min(o.gt(d[1],(p[3]-h[1])/(h[3]-h[1]),l),d[1].length),B=L+6*z,F=6*Math.max(0,N-z);i[0]=2*(g[0]-C[1])/y-1,i[1]=(g[3]+g[1])/b-1,a[0]=C[1]*m/y,a[1]=S[1]*m/b,F&&(E.color=O[1],E.tickScale=a,E.dataAxis=r,E.screenOffset=i,f.drawArrays(f.TRIANGLES,B,F)),i[0]=(g[2]+g[0])/y-1,i[1]=2*(g[1]-C[0])/b-1,a[0]=S[0]*m/y,a[1]=C[0]*m/b,I&&(E.color=O[0],E.tickScale=a,E.dataAxis=n,E.screenOffset=i,f.drawArrays(f.TRIANGLES,R,I)),i[0]=2*(g[2]+C[3])/y-1,i[1]=(g[3]+g[1])/b-1,a[0]=C[3]*m/y,a[1]=S[3]*m/b,F&&(E.color=O[3],E.tickScale=a,E.dataAxis=r,E.screenOffset=i,f.drawArrays(f.TRIANGLES,B,F)),i[0]=(g[2]+g[0])/y-1,i[1]=2*(g[3]+C[2])/b-1,a[0]=S[2]*m/y,a[1]=C[2]*m/b,I&&(E.color=O[2],E.tickScale=a,E.dataAxis=n,E.screenOffset=i,f.drawArrays(f.TRIANGLES,R,I))}}(),p.update=(f=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1],function(t){for(var e=t.ticks,n=t.bounds,r=new Float32Array(18*(e[0].length+e[1].length)),i=(this.plot.zeroLineEnable,0),o=[[],[]],a=0;a<2;++a)for(var s=o[a],l=e[a],c=n[a],u=n[a+2],d=0;d<l.length;++d){var p=(l[d].x-c)/(u-c);s.push(p);for(var g=0;g<6;++g)r[i++]=p,r[i++]=f[g],r[i++]=h[g]}this.ticks=o,this.vbo.update(r)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},{"./shaders":116,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132}],115:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl;return new a(t,r(e,[-1,-1,-1,1,1,-1,1,1]),i(e,o.lineVert,o.lineFrag))};var r=t("gl-buffer"),i=t("gl-shader"),o=t("./shaders");function a(t,e,n){this.plot=t,this.vbo=e,this.shader=n}var s,l,c=a.prototype;c.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},c.drawLine=(s=[0,0],l=[0,0],function(t,e,n,r,i,o){var a=this.plot,c=this.shader,u=a.gl;s[0]=t,s[1]=e,l[0]=n,l[1]=r,c.uniforms.start=s,c.uniforms.end=l,c.uniforms.width=i*a.pixelRatio,c.uniforms.color=o,u.drawArrays(u.TRIANGLE_STRIP,0,4)}),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":116,"gl-buffer":78,"gl-shader":132}],116:[function(t,e,n){"use strict";var r=t("glslify"),i=r(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);e.exports={lineVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:i,textVert:r(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:i,gridVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:i,boxVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},{glslify:231}],117:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl;return new l(t,r(e),i(e,s.textVert,s.textFrag))};var r=t("gl-buffer"),i=t("gl-shader"),o=t("text-cache"),a=t("binary-search-bounds"),s=t("./shaders");function l(t,e,n){this.plot=t,this.vbo=e,this.shader=n,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var c,u,d,f,h,p,g=l.prototype;g.drawTicks=(c=[0,0],u=[0,0],d=[0,0],function(t){var e=this.plot,n=this.shader,r=this.tickX[t],i=this.tickOffset[t],o=e.gl,s=e.viewBox,l=e.dataBox,f=e.screenBox,h=e.pixelRatio,p=e.tickEnable,g=e.tickPad,m=e.tickColor,v=e.tickAngle,y=e.labelEnable,b=e.labelPad,x=e.labelColor,w=e.labelAngle,k=this.labelOffset[t],_=this.labelCount[t],A=a.lt(r,l[t]),T=a.le(r,l[t+2]);c[0]=c[1]=0,c[t]=1,u[t]=(s[2+t]+s[t])/(f[2+t]-f[t])-1;var M=2/f[2+(1^t)]-f[1^t];u[1^t]=M*s[1^t]-1,p[t]&&(u[1^t]-=M*h*g[t],A<T&&i[T]>i[A]&&(n.uniforms.dataAxis=c,n.uniforms.screenOffset=u,n.uniforms.color=m[t],n.uniforms.angle=v[t],o.drawArrays(o.TRIANGLES,i[A],i[T]-i[A]))),y[t]&&_&&(u[1^t]-=M*h*b[t],n.uniforms.dataAxis=d,n.uniforms.screenOffset=u,n.uniforms.color=x[t],n.uniforms.angle=w[t],o.drawArrays(o.TRIANGLES,k,_)),u[1^t]=M*s[2+(1^t)]-1,p[t+2]&&(u[1^t]+=M*h*g[t+2],A<T&&i[T]>i[A]&&(n.uniforms.dataAxis=c,n.uniforms.screenOffset=u,n.uniforms.color=m[t+2],n.uniforms.angle=v[t+2],o.drawArrays(o.TRIANGLES,i[A],i[T]-i[A]))),y[t+2]&&_&&(u[1^t]+=M*h*b[t+2],n.uniforms.dataAxis=d,n.uniforms.screenOffset=u,n.uniforms.color=x[t+2],n.uniforms.angle=w[t+2],o.drawArrays(o.TRIANGLES,k,_))}),g.drawTitle=function(){var t=[0,0],e=[0,0];return function(){var n=this.plot,r=this.shader,i=n.gl,o=n.screenBox,a=n.titleCenter,s=n.titleAngle,l=n.titleColor,c=n.pixelRatio;if(this.titleCount){for(var u=0;u<2;++u)e[u]=2*(a[u]*c-o[u])/(o[2+u]-o[u])-1;r.bind(),r.uniforms.dataAxis=t,r.uniforms.screenOffset=e,r.uniforms.angle=s,r.uniforms.color=l,i.drawArrays(i.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=(f=[0,0],h=[0,0],p=[0,0],function(){var t=this.plot,e=this.shader,n=t._tickBounds,r=t.dataBox,i=t.screenBox,o=t.viewBox;e.bind();for(var a=0;a<2;++a){var s=n[a],l=n[a+2]-s,c=.5*(r[a+2]+r[a]),u=r[a+2]-r[a],d=o[a],g=o[a+2]-d,m=i[a],v=i[a+2]-m;h[a]=2*l/u*g/v,f[a]=2*(s-c)/u*g/v}p[1]=2*t.pixelRatio/(i[3]-i[1]),p[0]=p[1]*(i[3]-i[1])/(i[2]-i[0]),e.uniforms.dataScale=h,e.uniforms.dataShift=f,e.uniforms.textScale=p,this.vbo.bind(),e.attributes.textCoordinate.pointer()}),g.update=function(t){var e,n,r,i,a,s=[],l=t.ticks,c=t.bounds;for(a=0;a<2;++a){var u=[Math.floor(s.length/3)],d=[-1/0],f=l[a];for(e=0;e<f.length;++e){var h=f[e],p=h.x,g=h.text,m=h.font||"sans-serif";i=h.fontSize||12;for(var v=1/(c[a+2]-c[a]),y=c[a],b=g.split("\n"),x=0;x<b.length;x++)for(r=o(m,b[x]).data,n=0;n<r.length;n+=2)s.push(r[n]*i,-r[n+1]*i-x*i*1.2,(p-y)*v);u.push(Math.floor(s.length/3)),d.push(p)}this.tickOffset[a]=u,this.tickX[a]=d}for(a=0;a<2;++a){for(this.labelOffset[a]=Math.floor(s.length/3),r=o(t.labelFont[a],t.labels[a],{textAlign:"center"}).data,i=t.labelSize[a],e=0;e<r.length;e+=2)s.push(r[e]*i,-r[e+1]*i,0);this.labelCount[a]=Math.floor(s.length/3)-this.labelOffset[a]}for(this.titleOffset=Math.floor(s.length/3),r=o(t.titleFont,t.title).data,i=t.titleSize,e=0;e<r.length;e+=2)s.push(r[e]*i,-r[e+1]*i,0);this.titleCount=Math.floor(s.length/3)-this.titleOffset,this.vbo.update(s)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":116,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132,"text-cache":303}],118:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl,n=new l(e,r(e,[e.drawingBufferWidth,e.drawingBufferHeight]));return n.grid=i(n),n.text=o(n),n.line=a(n),n.box=s(n),n.update(t),n};var r=t("gl-select-static"),i=t("./lib/grid"),o=t("./lib/text"),a=t("./lib/line"),s=t("./lib/box");function l(t,e){this.gl=t,this.pickBuffer=e,this.screenBox=[0,0,t.drawingBufferWidth,t.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var c=l.prototype;function u(t){for(var e=t.slice(),n=0;n<e.length;++n)e[n]=e[n].slice();return e}function d(t,e){return t.x-e.x}c.setDirty=function(){this.dirty=this.pickDirty=!0},c.setOverlayDirty=function(){this.dirty=!0},c.nextDepthValue=function(){return this._depthCounter++/65536},c.draw=function(){var t=this.gl,e=this.screenBox,n=this.viewBox,r=this.dataBox,i=this.pixelRatio,o=this.grid,a=this.line,s=this.text,l=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,t.bindFramebuffer(t.FRAMEBUFFER,null),t.enable(t.SCISSOR_TEST),t.disable(t.DEPTH_TEST),t.depthFunc(t.LESS),t.depthMask(!1),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD,t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.borderColor){t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]);var c=this.borderColor;t.clearColor(c[0]*c[3],c[1]*c[3],c[2]*c[3],c[3]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}t.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]),t.viewport(n[0],n[1],n[2]-n[0],n[3]-n[1]);var u=this.backgroundColor;t.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),t.clear(t.COLOR_BUFFER_BIT),o.draw();var d=this.zeroLineEnable,f=this.zeroLineColor,h=this.zeroLineWidth;if(d[0]||d[1]){a.bind();for(var p=0;p<2;++p)if(d[p]&&r[p]<=0&&r[p+2]>=0){var g=e[p]-r[p]*(e[p+2]-e[p])/(r[p+2]-r[p]);0===p?a.drawLine(g,e[1],g,e[3],h[p],f[p]):a.drawLine(e[0],g,e[2],g,h[p],f[p])}}for(p=0;p<l.length;++p)l[p].draw();t.viewport(e[0],e[1],e[2]-e[0],e[3]-e[1]),t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.grid.drawTickMarks(),a.bind();var m=this.borderLineEnable,v=this.borderLineWidth,y=this.borderLineColor;for(m[1]&&a.drawLine(n[0],n[1]-.5*v[1]*i,n[0],n[3]+.5*v[3]*i,v[1],y[1]),m[0]&&a.drawLine(n[0]-.5*v[0]*i,n[1],n[2]+.5*v[2]*i,n[1],v[0],y[0]),m[3]&&a.drawLine(n[2],n[1]-.5*v[1]*i,n[2],n[3]+.5*v[3]*i,v[3],y[3]),m[2]&&a.drawLine(n[0]-.5*v[0]*i,n[3],n[2]+.5*v[2]*i,n[3],v[2],y[2]),s.bind(),p=0;p<2;++p)s.drawTicks(p);this.titleEnable&&s.drawTitle();var b=this.overlays;for(p=0;p<b.length;++p)b[p].draw();t.disable(t.SCISSOR_TEST),t.disable(t.BLEND),t.depthMask(!0)}},c.drawPick=function(){if(!this.static){var t=this.pickBuffer;this.gl,this._pickTimeout=null,t.begin();for(var e=1,n=this.objects,r=0;r<n.length;++r)e=n[r].drawPick(e);t.end()}},c.pick=function(t,e){if(!this.static){var n=this.pixelRatio,r=this.pickPixelRatio,i=this.viewBox,o=0|Math.round((t-i[0]/n)*r),a=0|Math.round((e-i[1]/n)*r),s=this.pickBuffer.query(o,a,this.pickRadius);if(!s)return null;for(var l=s.id+(s.value[0]<<8)+(s.value[1]<<16)+(s.value[2]<<24),c=this.objects,u=0;u<c.length;++u){var d=c[u].pick(o,a,l);if(d)return d}return null}},c.setScreenBox=function(t){var e=this.screenBox,n=this.pixelRatio;e[0]=0|Math.round(t[0]*n),e[1]=0|Math.round(t[1]*n),e[2]=0|Math.round(t[2]*n),e[3]=0|Math.round(t[3]*n),this.setDirty()},c.setDataBox=function(t){var e=this.dataBox;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3])&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this.setDirty())},c.setViewBox=function(t){var e=this.pixelRatio,n=this.viewBox;n[0]=0|Math.round(t[0]*e),n[1]=0|Math.round(t[1]*e),n[2]=0|Math.round(t[2]*e),n[3]=0|Math.round(t[3]*e);var r=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((t[2]-t[0])*r),0|Math.round((t[3]-t[1])*r)],this.setDirty()},c.update=function(t){t=t||{};var e=this.gl;this.pixelRatio=t.pixelRatio||1;var n=this.pixelRatio;this.pickPixelRatio=Math.max(n,1),this.setScreenBox(t.screenBox||[0,0,e.drawingBufferWidth/n,e.drawingBufferHeight/n]),this.screenBox,this.setViewBox(t.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/n,.125*(this.screenBox[3]-this.screenBox[1])/n,.875*(this.screenBox[2]-this.screenBox[0])/n,.875*(this.screenBox[3]-this.screenBox[1])/n]);var r=this.viewBox,i=(r[2]-r[0])/(r[3]-r[1]);this.setDataBox(t.dataBox||[-10,-10/i,10,10/i]),this.borderColor=!1!==t.borderColor&&(t.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(t.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(t.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(t.gridLineWidth||[1,1]).slice(),this.gridLineColor=u(t.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(t.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(t.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=u(t.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(t.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(t.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=u(t.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(t.titleCenter||[.5*(r[0]+r[2])/n,(r[3]+120)/n]).slice(),this.titleEnable=!("titleEnable"in t)||!!t.titleEnable,this.titleAngle=t.titleAngle||0,this.titleColor=(t.titleColor||[0,0,0,1]).slice(),this.labelPad=(t.labelPad||[15,15,15,15]).slice(),this.labelAngle=(t.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(t.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=u(t.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(t.tickPad||[15,15,15,15]).slice(),this.tickAngle=(t.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(t.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=u(t.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(t.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(t.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=u(t.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var o=t.ticks||[[],[]],a=this._tickBounds;a[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(var s=0;s<2;++s){var l=o[s].slice(0);0!==l.length&&(l.sort(d),a[s]=Math.min(a[s],l[0].x),a[s+2]=Math.max(a[s+2],l[l.length-1].x))}this.grid.update({bounds:a,ticks:o}),this.text.update({bounds:a,ticks:o,labels:t.labels||["x","y"],labelSize:t.labelSize||[12,12],labelFont:t.labelFont||["sans-serif","sans-serif"],title:t.title||"",titleSize:t.titleSize||18,titleFont:t.titleFont||"sans-serif"}),this.static=!!t.static,this.setDirty()},c.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var t=this.objects.length-1;t>=0;--t)this.objects[t].dispose();for(this.objects.length=0,t=this.overlays.length-1;t>=0;--t)this.overlays[t].dispose();this.overlays.length=0,this.gl=null},c.addObject=function(t){this.objects.indexOf(t)<0&&(this.objects.push(t),this.setDirty())},c.removeObject=function(t){for(var e=this.objects,n=0;n<e.length;++n)if(e[n]===t){e.splice(n,1),this.setDirty();break}},c.addOverlay=function(t){this.overlays.indexOf(t)<0&&(this.overlays.push(t),this.setOverlayDirty())},c.removeOverlay=function(t){for(var e=this.overlays,n=0;n<e.length;++n)if(e[n]===t){e.splice(n,1),this.setOverlayDirty();break}}},{"./lib/box":113,"./lib/grid":114,"./lib/line":115,"./lib/text":117,"gl-select-static":131}],119:[function(t,e,n){"use strict";e.exports=function(t,e){t=t||document.body;var n=[.01,1/0];"distanceLimits"in(e=e||{})&&(n[0]=e.distanceLimits[0],n[1]=e.distanceLimits[1]),"zoomMin"in e&&(n[0]=e.zoomMin),"zoomMax"in e&&(n[1]=e.zoomMax);var c=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:n}),u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0,f=t.clientWidth,h=t.clientHeight,p={keyBindingMode:"rotate",enableWheel:!0,view:c,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:c.modes,_ortho:e._ortho||e.projection&&"orthographic"===e.projection.type||!1,tick:function(){var e=r(),n=this.delay,i=e-2*n;c.idle(e-n),c.recalcMatrix(i),c.flush(e-(100+2*n));for(var o=!0,a=c.computedMatrix,s=0;s<16;++s)o=o&&u[s]===a[s],u[s]=a[s];var l=t.clientWidth===f&&t.clientHeight===h;return f=t.clientWidth,h=t.clientHeight,o?!l:(d=Math.exp(c.computedRadius[0]),!0)},lookAt:function(t,e,n){c.lookAt(c.lastT(),t,e,n)},rotate:function(t,e,n){c.rotate(c.lastT(),t,e,n)},pan:function(t,e,n){c.pan(c.lastT(),t,e,n)},translate:function(t,e,n){c.translate(c.lastT(),t,e,n)}};return Object.defineProperties(p,{matrix:{get:function(){return c.computedMatrix},set:function(t){return c.setMatrix(c.lastT(),t),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(t){var e=c.computedUp.slice(),n=c.computedEye.slice(),i=c.computedCenter.slice();if(c.setMode(t),"turntable"===t){var o=r();c._active.lookAt(o,n,i,e),c._active.lookAt(o+500,n,i,[0,0,1]),c._active.flush(o)}return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(t){return c.lookAt(c.lastT(),null,t),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(t){return c.lookAt(c.lastT(),t),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(t){return c.lookAt(c.lastT(),null,null,t),c.computedUp},enumerable:!0},distance:{get:function(){return d},set:function(t){return c.setDistance(c.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(n)},set:function(t){return c.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),p._lastX=-1,p._lastY=-1,p._lastMods={shift:!1,control:!1,alt:!1,meta:!1},p.enableMouseListeners=function(){function e(e,n,i,o){var a=p.keyBindingMode;if(!1!==a){var s="rotate"===a,l="pan"===a,u="zoom"===a,f=!!o.control,h=!!o.alt,g=!!o.shift,m=!!(1&e),v=!!(2&e),y=!!(4&e),b=1/t.clientHeight,x=b*(n-p._lastX),w=b*(i-p._lastY),k=p.flipX?1:-1,_=p.flipY?1:-1,A=Math.PI*p.rotateSpeed,T=r();if(-1!==p._lastX&&-1!==p._lastY&&((s&&m&&!f&&!h&&!g||m&&!f&&!h&&g)&&c.rotate(T,k*A*x,-_*A*w,0),(l&&m&&!f&&!h&&!g||v||m&&f&&!h&&!g)&&c.pan(T,-p.translateSpeed*x*d,p.translateSpeed*w*d,0),u&&m&&!f&&!h&&!g||y||m&&!f&&h&&!g)){var M=-p.zoomSpeed*w/window.innerHeight*(T-c.lastT())*100;c.pan(T,0,0,d*(Math.exp(M)-1))}return p._lastX=n,p._lastY=i,p._lastMods=o,!0}}p.mouseListener=o(t,e),t.addEventListener("touchstart",(function(n){var r=s(n.changedTouches[0],t);e(0,r[0],r[1],p._lastMods),e(1,r[0],r[1],p._lastMods)}),!!l&&{passive:!0}),t.addEventListener("touchmove",(function(n){var r=s(n.changedTouches[0],t);e(1,r[0],r[1],p._lastMods),n.preventDefault()}),!!l&&{passive:!1}),t.addEventListener("touchend",(function(t){e(0,p._lastX,p._lastY,p._lastMods)}),!!l&&{passive:!0}),p.wheelListener=a(t,(function(t,e){if(!1!==p.keyBindingMode&&p.enableWheel){var n=p.flipX?1:-1,i=p.flipY?1:-1,o=r();if(Math.abs(t)>Math.abs(e))c.rotate(o,0,0,-t*n*Math.PI*p.rotateSpeed/window.innerWidth);else if(!p._ortho){var a=-p.zoomSpeed*i*e/window.innerHeight*(o-c.lastT())/20;c.pan(o,0,0,d*(Math.exp(a)-1))}}}),!0)},p.enableMouseListeners(),p};var r=t("right-now"),i=t("3d-view"),o=t("mouse-change"),a=t("mouse-wheel"),s=t("mouse-event-offset"),l=t("has-passive-events")},{"3d-view":7,"has-passive-events":232,"mouse-change":247,"mouse-event-offset":248,"mouse-wheel":250,"right-now":278}],120:[function(t,e,n){var r=t("glslify"),i=t("gl-shader"),o=r(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);e.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec2"}])}},{"gl-shader":132,glslify:231}],121:[function(t,e,n){"use strict";var r=t("./camera.js"),i=t("gl-axes3d"),o=t("gl-axes3d/properties"),a=t("gl-spikes3d"),s=t("gl-select-static"),l=t("gl-fbo"),c=t("a-big-triangle"),u=t("mouse-change"),d=t("gl-mat4/perspective"),f=t("gl-mat4/ortho"),h=t("./lib/shader"),p=t("is-mobile")({tablet:!0,featureDetect:!0});function g(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function m(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e<0){var n=Math.round(Math.pow(10,-e));return Math.ceil(t*n)/n}return e>0?(n=Math.round(Math.pow(10,e)),Math.ceil(t/n)*n):Math.ceil(t)}function v(t){return"boolean"!=typeof t||t}e.exports={createScene:function(t){(t=t||{}).camera=t.camera||{};var e=t.canvas;e||(e=document.createElement("canvas"),t.container?t.container.appendChild(e):document.body.appendChild(e));var n=t.gl;if(n||(t.glOptions&&(p=!!t.glOptions.preserveDrawingBuffer),n=function(t,e){var n=null;try{(n=t.getContext("webgl",e))||(n=t.getContext("experimental-webgl",e))}catch(t){return null}return n}(e,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!n)throw new Error("webgl not supported");var y=t.bounds||[[-10,-10,-10],[10,10,10]],b=new g,x=l(n,n.drawingBufferWidth,n.drawingBufferHeight,{preferFloat:!p}),w=h(n),k=t.cameraObject&&!0===t.cameraObject._ortho||t.camera.projection&&"orthographic"===t.camera.projection.type||!1,_={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||"turntable",_ortho:k},A=t.axes||{},T=i(n,A);T.enable=!A.disable;var M=t.spikes||{},E=a(n,M),C=[],S=[],O=[],L=[],P=!0,D=!0,R={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},I=(D=!0,[n.drawingBufferWidth,n.drawingBufferHeight]),z=t.cameraObject||r(e,_),N={gl:n,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:e,selection:b,camera:z,axes:T,axesPixels:null,spikes:E,bounds:y,objects:C,shape:I,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:v(t.autoResize),autoBounds:v(t.autoBounds),autoScale:!!t.autoScale,autoCenter:v(t.autoCenter),clipToBounds:v(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:R,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(t){this.aspect[0]=t.x,this.aspect[1]=t.y,this.aspect[2]=t.z,D=!0},setBounds:function(t,e){this.bounds[0][t]=e.min,this.bounds[1][t]=e.max},setClearColor:function(t){this.clearColor=t},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},B=[n.drawingBufferWidth/N.pixelRatio|0,n.drawingBufferHeight/N.pixelRatio|0];function F(){if(!N._stopped&&N.autoResize){var t=e.parentNode,n=1,r=1;t&&t!==document.body?(n=t.clientWidth,r=t.clientHeight):(n=window.innerWidth,r=window.innerHeight);var i=0|Math.ceil(n*N.pixelRatio),o=0|Math.ceil(r*N.pixelRatio);if(i!==e.width||o!==e.height){e.width=i,e.height=o;var a=e.style;a.position=a.position||"absolute",a.left="0px",a.top="0px",a.width=n+"px",a.height=r+"px",P=!0}}}function j(){for(var t=C.length,e=L.length,r=0;r<e;++r)O[r]=0;t:for(r=0;r<t;++r){var i=C[r],o=i.pickSlots;if(o){for(var a=0;a<e;++a)if(O[a]+o<255){S[r]=a,i.setPickBase(O[a]+1),O[a]+=o;continue t}var l=s(n,I);S[r]=e,L.push(l),O.push(o),i.setPickBase(1),e+=1}else S[r]=-1}for(;e>0&&0===O[e-1];)O.pop(),L.pop().dispose()}function $(){if(N.contextLost)return!0;n.isContextLost()&&(N.contextLost=!0,N.mouseListener.enabled=!1,N.selection.object=null,N.oncontextloss&&N.oncontextloss())}N.autoResize&&F(),window.addEventListener("resize",F),N.update=function(t){N._stopped||(t=t||{},P=!0,D=!0)},N.add=function(t){N._stopped||(t.axes=T,C.push(t),S.push(-1),P=!0,D=!0,j())},N.remove=function(t){if(!N._stopped){var e=C.indexOf(t);e<0||(C.splice(e,1),S.pop(),P=!0,D=!0,j())}},N.dispose=function(){if(!N._stopped&&(N._stopped=!0,window.removeEventListener("resize",F),e.removeEventListener("webglcontextlost",$),N.mouseListener.enabled=!1,!N.contextLost)){T.dispose(),E.dispose();for(var t=0;t<C.length;++t)C[t].dispose();for(x.dispose(),t=0;t<L.length;++t)L[t].dispose();w.dispose(),n=null,T=null,E=null,C=[]}},N._mouseRotating=!1,N._prevButtons=0,N.enableMouseListeners=function(){N.mouseListener=u(e,(function(t,e,n){if(!N._stopped){var r=L.length,i=C.length,o=b.object;b.distance=1/0,b.mouse[0]=e,b.mouse[1]=n,b.object=null,b.screen=null,b.dataCoordinate=b.dataPosition=null;var a=!1;if(t&&N._prevButtons)N._mouseRotating=!0;else{N._mouseRotating&&(D=!0),N._mouseRotating=!1;for(var s=0;s<r;++s){var l=L[s].query(e,B[1]-n-1,N.pickRadius);if(l){if(l.distance>b.distance)continue;for(var c=0;c<i;++c){var u=C[c];if(S[c]===s){var d=u.pick(l);d&&(b.buttons=t,b.screen=l.coord,b.distance=l.distance,b.object=u,b.index=d.distance,b.dataPosition=d.position,b.dataCoordinate=d.dataCoordinate,b.data=d,a=!0)}}}}}o&&o!==b.object&&(o.highlight&&o.highlight(null),P=!0),b.object&&(b.object.highlight&&b.object.highlight(b.data),P=!0),(a=a||b.object!==o)&&N.onselect&&N.onselect(b),1&t&&!(1&N._prevButtons)&&N.onclick&&N.onclick(b),N._prevButtons=t}}))},e.addEventListener("webglcontextlost",$);var Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=[Z[0].slice(),Z[1].slice()];function H(){if(!$()){F();var t=N.camera.tick();R.view=N.camera.matrix,P=P||t,D=D||t,T.pixelRatio=N.pixelRatio,E.pixelRatio=N.pixelRatio;var e=C.length,r=Z[0],i=Z[1];r[0]=r[1]=r[2]=1/0,i[0]=i[1]=i[2]=-1/0;for(var a=0;a<e;++a){(O=C[a]).pixelRatio=N.pixelRatio,O.axes=N.axes,P=P||!!O.dirty,D=D||!!O.dirty;var s=O.bounds;if(s)for(var l=s[0],u=s[1],h=0;h<3;++h)r[h]=Math.min(r[h],l[h]),i[h]=Math.max(i[h],u[h])}var p=N.bounds;if(N.autoBounds)for(h=0;h<3;++h){if(i[h]<r[h])r[h]=-1,i[h]=1;else{r[h]===i[h]&&(r[h]-=1,i[h]+=1);var g=.05*(i[h]-r[h]);r[h]=r[h]-g,i[h]=i[h]+g}p[0][h]=r[h],p[1][h]=i[h]}var v=!1;for(h=0;h<3;++h)v=v||U[0][h]!==p[0][h]||U[1][h]!==p[1][h],U[0][h]=p[0][h],U[1][h]=p[1][h];if(D=D||v,P=P||v){if(v){var y=[0,0,0];for(a=0;a<3;++a)y[a]=m((p[1][a]-p[0][a])/10);T.autoTicks?T.update({bounds:p,tickSpacing:y}):T.update({bounds:p})}var _=n.drawingBufferWidth,A=n.drawingBufferHeight;for(I[0]=_,I[1]=A,B[0]=0|Math.max(_/N.pixelRatio,1),B[1]=0|Math.max(A/N.pixelRatio,1),function(t,e){var n=t.bounds,r=t.cameraParams,i=r.projection,o=r.model,a=t.gl.drawingBufferWidth,s=t.gl.drawingBufferHeight,l=t.zNear,c=t.zFar,u=t.fovy,h=a/s;e?(f(i,-h,h,-1,1,l,c),r._ortho=!0):(d(i,u,h,l,c),r._ortho=!1);for(var p=0;p<16;++p)o[p]=0;o[15]=1;var g=0;for(p=0;p<3;++p)g=Math.max(g,n[1][p]-n[0][p]);for(p=0;p<3;++p)t.autoScale?o[5*p]=t.aspect[p]/(n[1][p]-n[0][p]):o[5*p]=1/g,t.autoCenter&&(o[12+p]=.5*-o[5*p]*(n[0][p]+n[1][p]))}(N,k),a=0;a<e;++a)(O=C[a]).axesBounds=p,N.clipToBounds&&(O.clipBounds=p);b.object&&(N.snapToData?E.position=b.dataCoordinate:E.position=b.dataPosition,E.bounds=p),D&&(D=!1,function(){if(!$()){n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.disable(n.BLEND),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL);for(var t=C.length,e=L.length,r=0;r<e;++r){var i=L[r];i.shape=B,i.begin();for(var o=0;o<t;++o)if(S[o]===r){var a=C[o];a.drawPick&&(a.pixelRatio=1,a.drawPick(R))}i.end()}}}()),N.axesPixels=o(N.axes,R,_,A),N.onrender&&N.onrender(),n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,_,A),N.clearRGBA(),n.depthMask(!0),n.colorMask(!0,!0,!0,!0),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.disable(n.BLEND),n.disable(n.CULL_FACE);var M=!1;for(T.enable&&(M=M||T.isTransparent(),T.draw(R)),E.axes=T,b.object&&E.draw(R),n.disable(n.CULL_FACE),a=0;a<e;++a)(O=C[a]).axes=T,O.pixelRatio=N.pixelRatio,O.isOpaque&&O.isOpaque()&&O.draw(R),O.isTransparent&&O.isTransparent()&&(M=!0);if(M){for(x.shape=I,x.bind(),n.clear(n.DEPTH_BUFFER_BIT),n.colorMask(!1,!1,!1,!1),n.depthMask(!0),n.depthFunc(n.LESS),T.enable&&T.isTransparent()&&T.drawTransparent(R),a=0;a<e;++a)(O=C[a]).isOpaque&&O.isOpaque()&&O.draw(R);for(n.enable(n.BLEND),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.colorMask(!0,!0,!0,!0),n.depthMask(!1),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),T.isTransparent()&&T.drawTransparent(R),a=0;a<e;++a){var O;(O=C[a]).isTransparent&&O.isTransparent()&&O.drawTransparent(R)}n.bindFramebuffer(n.FRAMEBUFFER,null),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),w.bind(),x.color[0].bind(0),w.uniforms.accumBuffer=0,c(n),n.disable(n.BLEND)}for(P=!1,a=0;a<e;++a)C[a].dirty=!1}}}return N.enableMouseListeners(),function t(){N._stopped||N.contextLost||(H(),requestAnimationFrame(t))}(),N.redraw=function(){N._stopped||(P=!0,H())},N},createCamera:r}},{"./camera.js":119,"./lib/shader":120,"a-big-triangle":8,"gl-axes3d":70,"gl-axes3d/properties":77,"gl-fbo":86,"gl-mat4/ortho":101,"gl-mat4/perspective":102,"gl-select-static":131,"gl-spikes3d":141,"is-mobile":238,"mouse-change":247}],122:[function(t,e,n){var r=t("glslify");n.pointVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),n.pointFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),n.pickVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),n.pickFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},{glslify:231}],123:[function(t,e,n){"use strict";var r=t("gl-shader"),i=t("gl-buffer"),o=t("typedarray-pool"),a=t("./lib/shader");function s(t,e,n,r,i){this.plot=t,this.offsetBuffer=e,this.pickBuffer=n,this.shader=r,this.pickShader=i,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}e.exports=function(t,e){var n=t.gl,o=new s(t,i(n),i(n),r(n,a.pointVertex,a.pointFragment),r(n,a.pickVertex,a.pickFragment));return o.update(e),t.addObject(o),o};var l,c,u=s.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(t){var e;function n(e,n){return e in t?t[e]:n}t=t||{},this.sizeMin=n("sizeMin",.5),this.sizeMax=n("sizeMax",20),this.color=n("color",[1,0,0,1]).slice(),this.areaRatio=n("areaRatio",1),this.borderColor=n("borderColor",[0,0,0,1]).slice(),this.blend=n("blend",!1);var r=t.positions.length>>>1,i=t.positions instanceof Float32Array,a=t.idToIndex instanceof Int32Array&&t.idToIndex.length>=r,s=t.positions,l=i?s:o.mallocFloat32(s.length),c=a?t.idToIndex:o.mallocInt32(r);if(i||l.set(s),!a)for(l.set(s),e=0;e<r;e++)c[e]=e;this.points=s,this.offsetBuffer.update(l),this.pickBuffer.update(c),i||o.free(l),a||o.free(c),this.pointCount=r,this.pickOffset=0},u.unifiedDraw=(l=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0],function(t){var e=void 0!==t,n=e?this.pickShader:this.shader,r=this.plot.gl,i=this.plot.dataBox;if(0===this.pointCount)return t;var o=i[2]-i[0],a=i[3]-i[1],s=function(t,e){var n,r=0,i=t.length>>>1;for(n=0;n<i;n++){var o=t[2*n],a=t[2*n+1];o>=e[0]&&o<=e[2]&&a>=e[1]&&a<=e[3]&&r++}return r}(this.points,i),u=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(s,.33333)));l[0]=2/o,l[4]=2/a,l[6]=-2*i[0]/o-1,l[7]=-2*i[1]/a-1,this.offsetBuffer.bind(),n.bind(),n.attributes.position.pointer(),n.uniforms.matrix=l,n.uniforms.color=this.color,n.uniforms.borderColor=this.borderColor,n.uniforms.pointCloud=u<5,n.uniforms.pointSize=u,n.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),e&&(c[0]=255&t,c[1]=t>>8&255,c[2]=t>>16&255,c[3]=t>>24&255,this.pickBuffer.bind(),n.attributes.pickId.pointer(r.UNSIGNED_BYTE),n.uniforms.pickOffset=c,this.pickOffset=t);var d=r.getParameter(r.BLEND),f=r.getParameter(r.DITHER);return d&&!this.blend&&r.disable(r.BLEND),f&&r.disable(r.DITHER),r.drawArrays(r.POINTS,0,this.pointCount),d&&!this.blend&&r.enable(r.BLEND),f&&r.enable(r.DITHER),t+this.pointCount}),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(t,e,n){var r=this.pickOffset,i=this.pointCount;if(n<r||n>=r+i)return null;var o=n-r,a=this.points;return{object:this,pointId:o,dataCoord:[a[2*o],a[2*o+1]]}}},{"./lib/shader":122,"gl-buffer":78,"gl-shader":132,"typedarray-pool":308}],124:[function(t,e,n){e.exports=function(t,e,n,r){var i,o,a,s,l,c=e[0],u=e[1],d=e[2],f=e[3],h=n[0],p=n[1],g=n[2],m=n[3];return(o=c*h+u*p+d*g+f*m)<0&&(o=-o,h=-h,p=-p,g=-g,m=-m),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),t[0]=s*c+l*h,t[1]=s*u+l*p,t[2]=s*d+l*g,t[3]=s*f+l*m,t}},{}],125:[function(t,e,n){"use strict";e.exports=function(t){return t||0===t?t.toString():""}},{}],126:[function(t,e,n){"use strict";var r=t("vectorize-text");e.exports=function(t,e,n){var o=i[e];if(o||(o=i[e]={}),t in o)return o[t];var a={textAlign:"center",textBaseline:"middle",lineHeight:1,font:e,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},s=r(t,a);a.triangles=!1;var l,c,u=r(t,a);if(n&&1!==n){for(l=0;l<s.positions.length;++l)for(c=0;c<s.positions[l].length;++c)s.positions[l][c]/=n;for(l=0;l<u.positions.length;++l)for(c=0;c<u.positions[l].length;++c)u.positions[l][c]/=n}var d=[[1/0,1/0],[-1/0,-1/0]],f=u.positions.length;for(l=0;l<f;++l){var h=u.positions[l];for(c=0;c<2;++c)d[0][c]=Math.min(d[0][c],h[c]),d[1][c]=Math.max(d[1][c],h[c])}return o[t]=[s,u,d]};var i={}},{"vectorize-text":311}],127:[function(t,e,n){var r=t("gl-shader"),i=t("glslify"),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),a=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),u=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],d={vertex:o,fragment:l,attributes:u},f={vertex:a,fragment:l,attributes:u},h={vertex:s,fragment:l,attributes:u},p={vertex:o,fragment:c,attributes:u},g={vertex:a,fragment:c,attributes:u},m={vertex:s,fragment:c,attributes:u};function v(t,e){var n=r(t,e),i=n.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,n}n.createPerspective=function(t){return v(t,d)},n.createOrtho=function(t){return v(t,f)},n.createProject=function(t){return v(t,h)},n.createPickPerspective=function(t){return v(t,p)},n.createPickOrtho=function(t){return v(t,g)},n.createPickProject=function(t){return v(t,m)}},{"gl-shader":132,glslify:231}],128:[function(t,e,n){"use strict";var r=t("is-string-blank"),i=t("gl-buffer"),o=t("gl-vao"),a=t("typedarray-pool"),s=t("gl-mat4/multiply"),l=t("./lib/shaders"),c=t("./lib/glyphs"),u=t("./lib/get-simple-string"),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];return t[0]=e[0]*n+e[4]*r+e[8]*i+e[12]*o,t[1]=e[1]*n+e[5]*r+e[9]*i+e[13]*o,t[2]=e[2]*n+e[6]*r+e[10]*i+e[14]*o,t[3]=e[3]*n+e[7]*r+e[11]*i+e[15]*o,t}function h(t,e,n,r){return f(r,r),f(r,r),f(r,r)}function p(t,e){this.index=t,this.dataCoordinate=this.position=e}function g(t){return!0===t||t>1?1:t}function m(t,e,n,r,i,o,a,s,l,c,u,d){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=n,this.projectShader=r,this.pointBuffer=i,this.colorBuffer=o,this.glyphBuffer=a,this.idBuffer=s,this.vao=l,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=c,this.pickOrthoShader=u,this.pickProjectShader=d,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}e.exports=function(t){var e=t.gl,n=l.createPerspective(e),r=l.createOrtho(e),a=l.createProject(e),s=l.createPickPerspective(e),c=l.createPickOrtho(e),u=l.createPickProject(e),d=i(e),f=i(e),h=i(e),p=i(e),g=new m(e,n,r,a,d,f,h,p,o(e,[{buffer:d,size:3,type:e.FLOAT},{buffer:f,size:4,type:e.FLOAT},{buffer:h,size:2,type:e.FLOAT},{buffer:p,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),s,c,u);return g.update(t),g};var v=m.prototype;v.pickSlots=1,v.setPickBase=function(t){this.pickId=t},v.isTransparent=function(){if(this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectHasAlpha)return!0;return!1},v.isOpaque=function(){if(!this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],b=[0,0,0],x=[0,0,0],w=[0,0,0,1],k=[0,0,0,1],_=d.slice(),A=[0,0,0],T=[[0,0,0],[0,0,0]];function M(t){return t[0]=t[1]=t[2]=0,t}function E(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function C(t,e,n,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[n]=r,t}function S(t,e,n,r){var i,o=e.axesProject,a=e.gl,l=t.uniforms,c=n.model||d,u=n.view||d,f=n.projection||d,p=e.axesBounds,g=function(t){for(var e=T,n=0;n<2;++n)for(var r=0;r<3;++r)e[n][r]=Math.max(Math.min(t[n][r],1e8),-1e8);return e}(e.clipBounds);i=e.axes&&e.axes.lastCubeProps?e.axes.lastCubeProps.axis:[1,1,1],y[0]=2/a.drawingBufferWidth,y[1]=2/a.drawingBufferHeight,t.bind(),l.view=u,l.projection=f,l.screenSize=y,l.highlightId=e.highlightId,l.highlightScale=e.highlightScale,l.clipBounds=g,l.pickGroup=e.pickId/255,l.pixelRatio=r;for(var m=0;m<3;++m)if(o[m]){l.scale=e.projectScale[m],l.opacity=e.projectOpacity[m];for(var v=_,S=0;S<16;++S)v[S]=0;for(S=0;S<4;++S)v[5*S]=1;v[5*m]=0,i[m]<0?v[12+m]=p[0][m]:v[12+m]=p[1][m],s(v,c,v),l.model=v;var O=(m+1)%3,L=(m+2)%3,P=M(b),D=M(x);P[O]=1,D[L]=1;var R=h(0,0,0,E(w,P)),I=h(0,0,0,E(k,D));if(Math.abs(R[1])>Math.abs(I[1])){var z=R;R=I,I=z,z=P,P=D,D=z;var N=O;O=L,L=N}R[0]<0&&(P[O]=-1),I[1]>0&&(D[L]=-1);var B=0,F=0;for(S=0;S<4;++S)B+=Math.pow(c[4*O+S],2),F+=Math.pow(c[4*L+S],2);P[O]/=Math.sqrt(B),D[L]/=Math.sqrt(F),l.axes[0]=P,l.axes[1]=D,l.fragClipBounds[0]=C(A,g[0],m,-1e8),l.fragClipBounds[1]=C(A,g[1],m,1e8),e.vao.bind(),e.vao.draw(a.TRIANGLES,e.vertexCount),e.lineWidth>0&&(a.lineWidth(e.lineWidth*r),e.vao.draw(a.LINES,e.lineVertexCount,e.vertexCount)),e.vao.unbind()}}var O=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function L(t,e,n,r,i,o,a){var s=n.gl;if((o===n.projectHasAlpha||a)&&S(e,n,r,i),o===n.hasAlpha||a){t.bind();var l=t.uniforms;l.model=r.model||d,l.view=r.view||d,l.projection=r.projection||d,y[0]=2/s.drawingBufferWidth,y[1]=2/s.drawingBufferHeight,l.screenSize=y,l.highlightId=n.highlightId,l.highlightScale=n.highlightScale,l.fragClipBounds=O,l.clipBounds=n.axes.bounds,l.opacity=n.opacity,l.pickGroup=n.pickId/255,l.pixelRatio=i,n.vao.bind(),n.vao.draw(s.TRIANGLES,n.vertexCount),n.lineWidth>0&&(s.lineWidth(n.lineWidth*i),n.vao.draw(s.LINES,n.lineVertexCount,n.vertexCount)),n.vao.unbind()}}function P(t,e,n,i){var o;o=Array.isArray(t)?e<t.length?t[e]:void 0:t,o=u(o);var a=!0;r(o)&&(o="\u25bc",a=!1);var s=c(o,n,i);return{mesh:s[0],lines:s[1],bounds:s[2],visible:a}}v.draw=function(t){L(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!1,!1)},v.drawTransparent=function(t){L(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!0,!1)},v.drawPick=function(t){L(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,t,1,!0,!0)},v.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[2]+(t.value[1]<<8)+(t.value[0]<<16);if(e>=this.pointCount||e<0)return null;var n=this.points[e],r=this._selectResult;r.index=e;for(var i=0;i<3;++i)r.position[i]=r.dataCoordinate[i]=n[i];return r},v.highlight=function(t){if(t){var e=t.index,n=255&e,r=e>>8&255,i=e>>16&255;this.highlightId=[n/255,r/255,i/255,0]}else this.highlightId=[1,1,1,1]},v.update=function(t){if("perspective"in(t=t||{})&&(this.useOrtho=!t.perspective),"orthographic"in t&&(this.useOrtho=!!t.orthographic),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"project"in t)if(Array.isArray(t.project))this.axesProject=t.project;else{var e=!!t.project;this.axesProject=[e,e,e]}if("projectScale"in t)if(Array.isArray(t.projectScale))this.projectScale=t.projectScale.slice();else{var n=+t.projectScale;this.projectScale=[n,n,n]}if(this.projectHasAlpha=!1,"projectOpacity"in t){Array.isArray(t.projectOpacity)?this.projectOpacity=t.projectOpacity.slice():(n=+t.projectOpacity,this.projectOpacity=[n,n,n]);for(var r=0;r<3;++r)this.projectOpacity[r]=g(this.projectOpacity[r]),this.projectOpacity[r]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in t&&(this.opacity=g(t.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var i,o,s=t.position,l=t.font||"normal",c=t.alignment||[0,0];if(2===c.length)i=c[0],o=c[1];else for(i=[],o=[],r=0;r<c.length;++r)i[r]=c[r][0],o[r]=c[r][1];var u=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0],f=t.glyph,h=t.color,p=t.size,m=t.angle,v=t.lineColor,y=-1,b=0,x=0,w=0;if(s.length){w=s.length;t:for(r=0;r<w;++r){for(var k=s[r],_=0;_<3;++_)if(isNaN(k[_])||!isFinite(k[_]))continue t;var A=(F=P(f,r,l,this.pixelRatio)).mesh,T=F.lines,M=F.bounds;b+=3*A.cells.length,x+=2*T.edges.length}}var E=b+x,C=a.mallocFloat(3*E),S=a.mallocFloat(4*E),O=a.mallocFloat(2*E),L=a.mallocUint32(E);if(E>0){var D=0,R=b,I=[0,0,0,1],z=[0,0,0,1],N=Array.isArray(h)&&Array.isArray(h[0]),B=Array.isArray(v)&&Array.isArray(v[0]);t:for(r=0;r<w;++r){for(y+=1,k=s[r],_=0;_<3;++_){if(isNaN(k[_])||!isFinite(k[_]))continue t;d[_]=Math.max(d[_],k[_]),u[_]=Math.min(u[_],k[_])}A=(F=P(f,r,l,this.pixelRatio)).mesh,T=F.lines,M=F.bounds;var F,j,$=F.visible;if($)if(Array.isArray(h)){if(3===(j=N?r<h.length?h[r]:[0,0,0,0]:h).length){for(_=0;_<3;++_)I[_]=j[_];I[3]=1}else if(4===j.length){for(_=0;_<4;++_)I[_]=j[_];!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0)}}else I[0]=I[1]=I[2]=0,I[3]=1;else I=[1,1,1,0];if($)if(Array.isArray(v)){if(3===(j=B?r<v.length?v[r]:[0,0,0,0]:v).length){for(_=0;_<3;++_)z[_]=j[_];z[_]=1}else if(4===j.length){for(_=0;_<4;++_)z[_]=j[_];!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0)}}else z[0]=z[1]=z[2]=0,z[3]=1;else z=[1,1,1,0];var Z=.5;$?Array.isArray(p)?Z=r<p.length?+p[r]:12:p?Z=+p:this.useOrtho&&(Z=12):Z=0;var U=0;Array.isArray(m)?U=r<m.length?+m[r]:0:m&&(U=+m);var H=Math.cos(U),V=Math.sin(U);for(k=s[r],_=0;_<3;++_)d[_]=Math.max(d[_],k[_]),u[_]=Math.min(u[_],k[_]);var W=i,Y=o;W=0,Array.isArray(i)?W=r<i.length?i[r]:0:i&&(W=i),Y=0,Array.isArray(o)?Y=r<o.length?o[r]:0:o&&(Y=o);var G=[W*=W>0?1-M[0][0]:W<0?1+M[1][0]:1,Y*=Y>0?1-M[0][1]:Y<0?1+M[1][1]:1],q=A.cells||[],X=A.positions||[];for(_=0;_<q.length;++_)for(var J=q[_],K=0;K<3;++K){for(var Q=0;Q<3;++Q)C[3*D+Q]=k[Q];for(Q=0;Q<4;++Q)S[4*D+Q]=I[Q];L[D]=y;var tt=X[J[K]];O[2*D]=Z*(H*tt[0]-V*tt[1]+G[0]),O[2*D+1]=Z*(V*tt[0]+H*tt[1]+G[1]),D+=1}for(q=T.edges,X=T.positions,_=0;_<q.length;++_)for(J=q[_],K=0;K<2;++K){for(Q=0;Q<3;++Q)C[3*R+Q]=k[Q];for(Q=0;Q<4;++Q)S[4*R+Q]=z[Q];L[R]=y,tt=X[J[K]],O[2*R]=Z*(H*tt[0]-V*tt[1]+G[0]),O[2*R+1]=Z*(V*tt[0]+H*tt[1]+G[1]),R+=1}}}this.bounds=[u,d],this.points=s,this.pointCount=s.length,this.vertexCount=b,this.lineVertexCount=x,this.pointBuffer.update(C),this.colorBuffer.update(S),this.glyphBuffer.update(O),this.idBuffer.update(L),a.free(C),a.free(S),a.free(O),a.free(L)},v.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{"./lib/get-simple-string":125,"./lib/glyphs":126,"./lib/shaders":127,"gl-buffer":78,"gl-mat4/multiply":100,"gl-vao":150,"is-string-blank":239,"typedarray-pool":308}],129:[function(t,e,n){"use strict";var r=t("glslify");n.boxVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),n.boxFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},{glslify:231}],130:[function(t,e,n){"use strict";var r=t("gl-shader"),i=t("gl-buffer"),o=t("./lib/shaders");function a(t,e,n){this.plot=t,this.boxBuffer=e,this.boxShader=n,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}e.exports=function(t,e){var n=t.gl,s=new a(t,i(n,[0,0,0,1,1,0,1,1]),r(n,o.boxVertex,o.boxFragment));return s.update(e),t.addOverlay(s),s};var s=a.prototype;s.draw=function(){if(this.enabled){var t=this.plot,e=this.selectBox,n=this.borderWidth,r=(this.innerFill,this.innerColor),i=(this.outerFill,this.outerColor),o=this.borderColor,a=t.box,s=t.screenBox,l=t.dataBox,c=t.viewBox,u=t.pixelRatio,d=(e[0]-l[0])*(c[2]-c[0])/(l[2]-l[0])+c[0],f=(e[1]-l[1])*(c[3]-c[1])/(l[3]-l[1])+c[1],h=(e[2]-l[0])*(c[2]-c[0])/(l[2]-l[0])+c[0],p=(e[3]-l[1])*(c[3]-c[1])/(l[3]-l[1])+c[1];if(d=Math.max(d,c[0]),f=Math.max(f,c[1]),h=Math.min(h,c[2]),p=Math.min(p,c[3]),!(h<d||p<f)){a.bind();var g=s[2]-s[0],m=s[3]-s[1];if(this.outerFill&&(a.drawBox(0,0,g,f,i),a.drawBox(0,f,d,p,i),a.drawBox(0,p,g,m,i),a.drawBox(h,f,g,p,i)),this.innerFill&&a.drawBox(d,f,h,p,r),n>0){var v=n*u;a.drawBox(d-v,f-v,h+v,f+v,o),a.drawBox(d-v,p-v,h+v,p+v,o),a.drawBox(d-v,f-v,d+v,p+v,o),a.drawBox(h-v,f-v,h+v,p+v,o)}}}},s.update=function(t){t=t||{},this.innerFill=!!t.innerFill,this.outerFill=!!t.outerFill,this.innerColor=(t.innerColor||[0,0,0,.5]).slice(),this.outerColor=(t.outerColor||[0,0,0,.5]).slice(),this.borderColor=(t.borderColor||[0,0,0,1]).slice(),this.borderWidth=t.borderWidth||0,this.selectBox=(t.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},{"./lib/shaders":129,"gl-buffer":78,"gl-shader":132}],131:[function(t,e,n){"use strict";e.exports=function(t,e){var n=e[0],o=e[1];return new l(t,r(t,n,o,{}),i.mallocUint8(n*o*4))};var r=t("gl-fbo"),i=t("typedarray-pool"),o=t("ndarray"),a=t("bit-twiddle").nextPow2;function s(t,e,n,r,i){this.coord=[t,e],this.id=n,this.value=r,this.distance=i}function l(t,e,n){this.gl=t,this.fbo=e,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}var c=l.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],n=this.fbo.shape[1];if(n*e*4>this.buffer.length){i.free(this.buffer);for(var r=this.buffer=i.mallocUint8(a(n*e*4)),o=0;o<n*e*4;++o)r[o]=255}return t}}}),c.begin=function(){var t=this.gl;this.shape,t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},c.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(t,e,n){if(!this.gl)return null;var r=this.fbo.shape.slice();t|=0,e|=0,"number"!=typeof n&&(n=1);var i=0|Math.min(Math.max(t-n,0),r[0]),a=0|Math.min(Math.max(t+n,0),r[0]),l=0|Math.min(Math.max(e-n,0),r[1]),c=0|Math.min(Math.max(e+n,0),r[1]);if(a<=i||c<=l)return null;var u=[a-i,c-l],d=o(this.buffer,[u[0],u[1],4],[4,4*r[0],1],4*(i+r[0]*l)),f=function(t,e,n){for(var r=1e8,i=-1,o=-1,a=t.shape[0],s=t.shape[1],l=0;l<a;l++)for(var c=0;c<s;c++){var u=t.get(l,c,0),d=t.get(l,c,1),f=t.get(l,c,2),h=t.get(l,c,3);if(u<255||d<255||f<255||h<255){var p=e-l,g=n-c,m=p*p+g*g;m<r&&(r=m,i=l,o=c)}}return[i,o,r]}(d.hi(u[0],u[1],1),n,n),h=f[0],p=f[1];return h<0||Math.pow(this.radius,2)<f[2]?null:new s(h+i|0,p+l|0,d.get(h,p,0),[d.get(h,p,1),d.get(h,p,2),d.get(h,p,3)],Math.sqrt(f[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":32,"gl-fbo":86,ndarray:259,"typedarray-pool":308}],132:[function(t,e,n){"use strict";var r=t("./lib/create-uniforms"),i=t("./lib/create-attributes"),o=t("./lib/reflect"),a=t("./lib/shader-cache"),s=t("./lib/runtime-reflect"),l=t("./lib/GLError");function c(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var u=c.prototype;function d(t,e){return t.name<e.name?-1:1}u.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(e>n)for(t=n;t<e;t++)this.gl.enableVertexAttribArray(t);else if(n>e)for(t=e;t<n;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},u.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},u.update=function(t,e,n,c){if(!e||1===arguments.length){var u=t;t=u.vertex,e=u.fragment,n=u.uniforms,c=u.attributes}var f=this,h=f.gl,p=f._vref;f._vref=a.shader(h,h.VERTEX_SHADER,t),p&&p.dispose(),f.vertShader=f._vref.shader;var g=this._fref;if(f._fref=a.shader(h,h.FRAGMENT_SHADER,e),g&&g.dispose(),f.fragShader=f._fref.shader,!n||!c){var m=h.createProgram();if(h.attachShader(m,f.fragShader),h.attachShader(m,f.vertShader),h.linkProgram(m),!h.getProgramParameter(m,h.LINK_STATUS)){var v=h.getProgramInfoLog(m);throw new l(v,"Error linking program:"+v)}n=n||s.uniforms(h,m),c=c||s.attributes(h,m),h.deleteProgram(m)}(c=c.slice()).sort(d);var y,b=[],x=[],w=[];for(y=0;y<c.length;++y){var k=c[y];if(k.type.indexOf("mat")>=0){for(var _=0|k.type.charAt(k.type.length-1),A=new Array(_),T=0;T<_;++T)A[T]=w.length,x.push(k.name+"["+T+"]"),"number"==typeof k.location?w.push(k.location+T):Array.isArray(k.location)&&k.location.length===_&&"number"==typeof k.location[T]?w.push(0|k.location[T]):w.push(-1);b.push({name:k.name,type:k.type,locations:A})}else b.push({name:k.name,type:k.type,locations:[w.length]}),x.push(k.name),"number"==typeof k.location?w.push(0|k.location):w.push(-1)}var M=0;for(y=0;y<w.length;++y)if(w[y]<0){for(;w.indexOf(M)>=0;)M+=1;w[y]=M}var E=new Array(n.length);function C(){f.program=a.program(h,f._vref,f._fref,x,w);for(var t=0;t<n.length;++t)E[t]=h.getUniformLocation(f.program,n[t].name)}C(),f._relink=C,f.types={uniforms:o(n),attributes:o(c)},f.attributes=i(h,f,b,w),Object.defineProperty(f,"uniforms",r(h,f,n,E))},e.exports=function(t,e,n,r,i){var o=new c(t);return o.update(e,n,r,i),o}},{"./lib/GLError":133,"./lib/create-attributes":134,"./lib/create-uniforms":135,"./lib/reflect":136,"./lib/runtime-reflect":137,"./lib/shader-cache":138}],133:[function(t,e,n){function r(t,e,n){this.shortMessage=e||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(n?"\n"+n:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,e.exports=r},{}],134:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){for(var o={},a=0,c=n.length;a<c;++a){var u=n[a],d=u.name,f=u.type,h=u.locations;switch(f){case"bool":case"int":case"float":s(t,e,h[0],i,1,o,d);break;default:if(f.indexOf("vec")>=0){if((p=f.charCodeAt(f.length-1)-48)<2||p>4)throw new r("","Invalid data type for attribute "+d+": "+f);s(t,e,h[0],i,p,o,d)}else{if(!(f.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+d+": "+f);var p;if((p=f.charCodeAt(f.length-1)-48)<2||p>4)throw new r("","Invalid data type for attribute "+d+": "+f);l(t,e,h,i,p,o,d)}}}return o};var r=t("./GLError");function i(t,e,n,r,i,o){this._gl=t,this._wrapper=e,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}var o=i.prototype;o.pointer=function(t,e,n,r){var i=this._gl,o=this._locations[this._index];i.vertexAttribPointer(o,this._dimension,t||i.FLOAT,!!e,n||0,r||0),i.enableVertexAttribArray(o)},o.set=function(t,e,n,r){return this._constFunc(this._locations[this._index],t,e,n,r)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}});var a=[function(t,e,n){return void 0===n.length?t.vertexAttrib1f(e,n):t.vertexAttrib1fv(e,n)},function(t,e,n,r){return void 0===n.length?t.vertexAttrib2f(e,n,r):t.vertexAttrib2fv(e,n)},function(t,e,n,r,i){return void 0===n.length?t.vertexAttrib3f(e,n,r,i):t.vertexAttrib3fv(e,n)},function(t,e,n,r,i,o){return void 0===n.length?t.vertexAttrib4f(e,n,r,i,o):t.vertexAttrib4fv(e,n)}];function s(t,e,n,r,o,s,l){var c=a[o],u=new i(t,e,n,r,o,c);Object.defineProperty(s,l,{set:function(e){return t.disableVertexAttribArray(r[n]),c(t,r[n],e),e},get:function(){return u},enumerable:!0})}function l(t,e,n,r,i,o,a){for(var l=new Array(i),c=new Array(i),u=0;u<i;++u)s(t,e,n[u],r,i,l,u),c[u]=l[u];Object.defineProperty(l,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<i;++e)c[e].location=t[e];else for(e=0;e<i;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(i),e=0;e<i;++e)t[e]=r[n[e]];return t},enumerable:!0}),l.pointer=function(e,o,a,s){e=e||t.FLOAT,o=!!o,a=a||i*i,s=s||0;for(var l=0;l<i;++l){var c=r[n[l]];t.vertexAttribPointer(c,i,e,o,a,s+l*i),t.enableVertexAttribArray(c)}};var d=new Array(i),f=t["vertexAttrib"+i+"fv"];Object.defineProperty(o,a,{set:function(e){for(var o=0;o<i;++o){var a=r[n[o]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))f.call(t,a,e[o]);else{for(var s=0;s<i;++s)d[s]=e[i*o+s];f.call(t,a,d)}}return e},get:function(){return l},enumerable:!0})}},{"./GLError":133}],135:[function(t,e,n){"use strict";var r=t("./reflect"),i=t("./GLError");function o(t){return function(){return t}}function a(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}e.exports=function(t,e,n,s){function l(e){return function(r){for(var o=function t(e,n){if("object"!=typeof n)return[[e,n]];var r=[];for(var i in n){var o=n[i],a=e;parseInt(i)+""===i?a+="["+i+"]":a+="."+i,"object"==typeof o?r.push.apply(r,t(a,o)):r.push([a,o])}return r}("",e),a=0;a<o.length;++a){var l=o[a],c=l[0],u=l[1];if(s[u]){var d=r;if("string"==typeof c&&(0===c.indexOf(".")||0===c.indexOf("["))){var f=c;if(0===c.indexOf(".")&&(f=c.slice(1)),f.indexOf("]")===f.length-1){var h=f.indexOf("["),p=f.slice(0,h),g=f.slice(h+1,f.length-1);d=p?r[p][g]:r[g]}else d=r[f]}var m,v=n[u].type;switch(v){case"bool":case"int":case"sampler2D":case"samplerCube":t.uniform1i(s[u],d);break;case"float":t.uniform1f(s[u],d);break;default:var y=v.indexOf("vec");if(!(0<=y&&y<=1&&v.length===4+y)){if(0===v.indexOf("mat")&&4===v.length){if((m=v.charCodeAt(v.length-1)-48)<2||m>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+v);t["uniformMatrix"+m+"fv"](s[u],!1,d);break}throw new i("","Unknown uniform data type for "+name+": "+v)}if((m=v.charCodeAt(v.length-1)-48)<2||m>4)throw new i("","Invalid data type");switch(v.charAt(0)){case"b":case"i":t["uniform"+m+"iv"](s[u],d);break;case"v":t["uniform"+m+"fv"](s[u],d);break;default:throw new i("","Unrecognized data type for vector "+name+": "+v)}}}}}}function c(t,e,r){if("object"==typeof r){var c=u(r);Object.defineProperty(t,e,{get:o(c),set:l(r),enumerable:!0,configurable:!1})}else s[r]?Object.defineProperty(t,e,{get:(d=r,function(t,e,n){return t.getUniform(e.program,n[d])}),set:l(r),enumerable:!0,configurable:!1}):t[e]=function(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){if((n=t.charCodeAt(t.length-1)-48)<2||n>4)throw new i("","Invalid data type");return"b"===t.charAt(0)?a(n,!1):a(n,0)}if(0===t.indexOf("mat")&&4===t.length){var n;if((n=t.charCodeAt(t.length-1)-48)<2||n>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+t);return a(n*n,0)}throw new i("","Unknown uniform data type for "+name+": "+t)}}(n[r].type);var d}function u(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var n=0;n<t.length;++n)c(e,n,t[n])}else for(var r in e={},t)c(e,r,t[r]);return e}var d=r(n,!0);return{get:o(u(d)),set:l(d),enumerable:!0,configurable:!0}}},{"./GLError":133,"./reflect":136}],136:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n={},r=0;r<t.length;++r)for(var i=t[r].name.split("."),o=n,a=0;a<i.length;++a){var s=i[a].split("[");if(s.length>1){s[0]in o||(o[s[0]]=[]),o=o[s[0]];for(var l=1;l<s.length;++l){var c=parseInt(s[l]);l<s.length-1||a<i.length-1?(c in o||(l<s.length-1?o[c]=[]:o[c]={}),o=o[c]):o[c]=e?r:t[r].type}}else a<i.length-1?(s[0]in o||(o[s[0]]={}),o=o[s[0]]):o[s[0]]=e?r:t[r].type}return n}},{}],137:[function(t,e,n){"use strict";n.uniforms=function(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=[],i=0;i<n;++i){var a=t.getActiveUniform(e,i);if(a){var s=o(t,a.type);if(a.size>1)for(var l=0;l<a.size;++l)r.push({name:a.name.replace("[0]","["+l+"]"),type:s});else r.push({name:a.name,type:s})}}return r},n.attributes=function(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=[],i=0;i<n;++i){var a=t.getActiveAttrib(e,i);a&&r.push({name:a.name,type:o(t,a.type)})}return r};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function o(t,e){if(!i){var n=Object.keys(r);i={};for(var o=0;o<n.length;++o){var a=n[o];i[t[a]]=r[a]}}return i[e]}},{}],138:[function(t,e,n){"use strict";n.shader=function(t,e,n){return u(t).getShaderReference(e,n)},n.program=function(t,e,n,r,i){return u(t).getProgram(e,n,r,i)};var r=t("./GLError"),i=t("gl-format-compiler-error"),o=new("undefined"==typeof WeakMap?t("weakmap-shim"):WeakMap),a=0;function s(t,e,n,r,i,o,a){this.id=t,this.src=e,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function l(t){this.gl=t,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=t.programs[n[r]];o&&(delete t.programs[r],e.deleteProgram(o))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var c=l.prototype;function u(t){var e=o.get(t);return e||(e=new l(t),o.set(t,e)),e}c.getShaderReference=function(t,e){var n=this.gl,o=this.shaders[t===n.FRAGMENT_SHADER|0],l=o[e];if(l&&n.isShader(l.shader))l.count+=1;else{var c=function(t,e,n){var o=t.createShader(e);if(t.shaderSource(o,n),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(o);try{var s=i(a,n,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new r(a,"Error compiling shader:\n"+a)}throw new r(a,s.short,s.long)}return o}(n,t,e);l=o[e]=new s(a++,e,t,c,[],1,this)}return l},c.getProgram=function(t,e,n,i){var o=[t.id,e.id,n.join(":"),i.join(":")].join("@"),a=this.programs[o];return a&&this.gl.isProgram(a)||(this.programs[o]=a=function(t,e,n,i,o){var a=t.createProgram();t.attachShader(a,e),t.attachShader(a,n);for(var s=0;s<i.length;++s)t.bindAttribLocation(a,o[s],i[s]);if(t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS)){var l=t.getProgramInfoLog(a);throw new r(l,"Error linking program: "+l)}return a}(this.gl,t.shader,e.shader,n,i),t.programs.push(o),e.programs.push(o)),a}},{"./GLError":133,"gl-format-compiler-error":87,"weakmap-shim":316}],139:[function(t,e,n){"use strict";function r(t){this.plot=t,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}e.exports=function(t,e){var n=new r(t);return n.update(e),t.addOverlay(n),n};var i=r.prototype;i.update=function(t){t=t||{},this.enable=(t.enable||[!0,!0,!1,!1]).slice(),this.width=(t.width||[1,1,1,1]).slice(),this.color=(t.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map((function(t){return t.slice()})),this.center=(t.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var t=this.enable,e=this.width,n=this.color,r=this.center,i=this.plot,o=i.line,a=i.dataBox,s=i.viewBox;if(o.bind(),a[0]<=r[0]&&r[0]<=a[2]&&a[1]<=r[1]&&r[1]<=a[3]){var l=s[0]+(r[0]-a[0])/(a[2]-a[0])*(s[2]-s[0]),c=s[1]+(r[1]-a[1])/(a[3]-a[1])*(s[3]-s[1]);t[0]&&o.drawLine(l,c,s[0],c,e[0],n[0]),t[1]&&o.drawLine(l,c,l,s[1],e[1],n[1]),t[2]&&o.drawLine(l,c,s[2],c,e[2],n[2]),t[3]&&o.drawLine(l,c,l,s[3],e[3],n[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},{}],140:[function(t,e,n){"use strict";var r=t("glslify"),i=t("gl-shader"),o=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);e.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":132,glslify:231}],141:[function(t,e,n){"use strict";var r=t("gl-buffer"),i=t("gl-vao"),o=t("./shaders/index");e.exports=function(t,e){var n=[];function a(t,e,r,i,o,a){var s=[t,e,r,0,0,0,1];s[i+3]=1,s[i]=o,n.push.apply(n,s),s[6]=-1,n.push.apply(n,s),s[i]=a,n.push.apply(n,s),n.push.apply(n,s),s[6]=1,n.push.apply(n,s),s[i]=o,n.push.apply(n,s)}a(0,0,0,0,0,1),a(0,0,0,1,0,1),a(0,0,0,2,0,1),a(1,0,0,1,-1,1),a(1,0,0,2,-1,1),a(0,1,0,0,-1,1),a(0,1,0,2,-1,1),a(0,0,1,0,-1,1),a(0,0,1,1,-1,1);var l=r(t,n),c=i(t,[{type:t.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:l,size:1,offset:24,stride:28}]),u=o(t);u.attributes.position.location=0,u.attributes.color.location=1,u.attributes.weight.location=2;var d=new s(t,l,c,u);return d.update(e),d};var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,n,r){this.gl=t,this.buffer=e,this.vao=n,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=s.prototype,c=[0,0,0],u=[0,0,0],d=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(t){},l.draw=function(t){var e=this.gl,n=this.vao,r=this.shader;n.bind(),r.bind();var i,o=t.model||a,s=t.view||a,l=t.projection||a;this.axes&&(i=this.axes.lastCubeProps.axis);for(var f=c,h=u,p=0;p<3;++p)i&&i[p]<0?(f[p]=this.bounds[0][p],h[p]=this.bounds[1][p]):(f[p]=this.bounds[1][p],h[p]=this.bounds[0][p]);for(d[0]=e.drawingBufferWidth,d[1]=e.drawingBufferHeight,r.uniforms.model=o,r.uniforms.view=s,r.uniforms.projection=l,r.uniforms.coordinates=[this.position,f,h],r.uniforms.colors=this.colors,r.uniforms.screenShape=d,p=0;p<3;++p)r.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(n.draw(e.TRIANGLES,6,6*p),this.drawSides[p]&&n.draw(e.TRIANGLES,12,18+12*p));n.unbind()},l.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders/index":140,"gl-buffer":78,"gl-vao":150}],142:[function(t,e,n){var r=t("glslify"),i=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),a=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);n.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},n.pickShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},{glslify:231}],143:[function(t,e,n){"use strict";var r=t("gl-vec3"),i=t("gl-vec4"),o=["xyz","xzy","yxz","yzx","zxy","zyx"],a=function(t,e,n,o){for(var a=0,s=0;s<t.length;s++)for(var l=t[s].velocities,c=0;c<l.length;c++)a=Math.max(a,r.length(l[c]));var u=t.map((function(t){return function(t,e,n,o){for(var a=t.points,s=t.velocities,l=t.divergences,c=[],u=[],d=[],f=[],h=[],p=[],g=0,m=0,v=i.create(),y=i.create(),b=0;b<a.length;b++){var x=a[b],w=s[b],k=l[b];0===e&&(k=.05*n),m=r.length(w)/o,v=i.create(),r.copy(v,w),v[3]=k;for(var _=0;_<8;_++)h[_]=[x[0],x[1],x[2],_];if(f.length>0)for(_=0;_<8;_++){var A=(_+1)%8;c.push(f[_],h[_],h[A],h[A],f[A],f[_]),d.push(y,v,v,v,y,y),p.push(g,m,m,m,g,g);var T=c.length;u.push([T-6,T-5,T-4],[T-3,T-2,T-1])}var M=f;f=h,h=M;var E=y;y=v,v=E;var C=g;g=m,m=C}return{positions:c,cells:u,vectors:d,vertexIntensity:p}}(t,n,o,a)})),d=[],f=[],h=[],p=[];for(s=0;s<u.length;s++){var g=u[s],m=d.length;for(d=d.concat(g.positions),h=h.concat(g.vectors),p=p.concat(g.vertexIntensity),c=0;c<g.cells.length;c++){var v=g.cells[c],y=[];f.push(y);for(var b=0;b<v.length;b++)y.push(v[b]+m)}}return{positions:d,cells:f,vectors:h,vertexIntensity:p,colormap:e}},s=function(t,e){var n,r=t.length;for(n=0;n<r;n++){var i=t[n];if(i===e)return n;if(i>e)return n-1}return n},l=function(t,e,n){return t<e?e:t>n?n:t},c=function(t){var e=1/0;t.sort((function(t,e){return t-e}));for(var n=t.length,r=1;r<n;r++){var i=Math.abs(t[r]-t[r-1]);i<e&&(e=i)}return e};e.exports=function(t,e){var n=t.startingPositions,i=t.maxLength||1e3,u=t.tubeSize||1,d=t.absoluteTubeSize,f=t.gridFill||"+x+y+z",h={};-1!==f.indexOf("-x")&&(h.reversedX=!0),-1!==f.indexOf("-y")&&(h.reversedY=!0),-1!==f.indexOf("-z")&&(h.reversedZ=!0),h.filled=o.indexOf(f.replace(/-/g,"").replace(/\+/g,""));var p=t.getVelocity||function(e){return function(t,e,n){var i=e.vectors,o=e.meshgrid,a=t[0],c=t[1],u=t[2],d=o[0].length,f=o[1].length,h=o[2].length,p=s(o[0],a),g=s(o[1],c),m=s(o[2],u),v=p+1,y=g+1,b=m+1;if(p=l(p,0,d-1),v=l(v,0,d-1),g=l(g,0,f-1),y=l(y,0,f-1),m=l(m,0,h-1),b=l(b,0,h-1),p<0||g<0||m<0||v>d-1||y>f-1||b>h-1)return r.create();var x,w,k,_,A,T,M=o[0][p],E=o[0][v],C=o[1][g],S=o[1][y],O=o[2][m],L=(a-M)/(E-M),P=(c-C)/(S-C),D=(u-O)/(o[2][b]-O);switch(isFinite(L)||(L=.5),isFinite(P)||(P=.5),isFinite(D)||(D=.5),n.reversedX&&(p=d-1-p,v=d-1-v),n.reversedY&&(g=f-1-g,y=f-1-y),n.reversedZ&&(m=h-1-m,b=h-1-b),n.filled){case 5:A=m,T=b,k=g*h,_=y*h,x=p*h*f,w=v*h*f;break;case 4:A=m,T=b,x=p*h,w=v*h,k=g*h*d,_=y*h*d;break;case 3:k=g,_=y,A=m*f,T=b*f,x=p*f*h,w=v*f*h;break;case 2:k=g,_=y,x=p*f,w=v*f,A=m*f*d,T=b*f*d;break;case 1:x=p,w=v,A=m*d,T=b*d,k=g*d*h,_=y*d*h;break;default:x=p,w=v,k=g*d,_=y*d,A=m*d*f,T=b*d*f}var R=i[x+k+A],I=i[x+k+T],z=i[x+_+A],N=i[x+_+T],B=i[w+k+A],F=i[w+k+T],j=i[w+_+A],$=i[w+_+T],Z=r.create(),U=r.create(),H=r.create(),V=r.create();r.lerp(Z,R,B,L),r.lerp(U,I,F,L),r.lerp(H,z,j,L),r.lerp(V,N,$,L);var W=r.create(),Y=r.create();r.lerp(W,Z,H,P),r.lerp(Y,U,V,P);var G=r.create();return r.lerp(G,W,Y,D),G}(e,t,h)},g=t.getDivergence||function(t,e){var n=r.create(),i=1e-4;r.add(n,t,[i,0,0]);var o=p(n);r.subtract(o,o,e),r.scale(o,o,1/i),r.add(n,t,[0,i,0]);var a=p(n);r.subtract(a,a,e),r.scale(a,a,1/i),r.add(n,t,[0,0,i]);var s=p(n);return r.subtract(s,s,e),r.scale(s,s,1/i),r.add(n,o,a),r.add(n,n,s),n},m=[],v=e[0][0],y=e[0][1],b=e[0][2],x=e[1][0],w=e[1][1],k=e[1][2],_=function(t){var e=t[0],n=t[1],r=t[2];return!(e<v||e>x||n<y||n>w||r<b||r>k)},A=10*r.distance(e[0],e[1])/i,T=A*A,M=1,E=0,C=n.length;C>1&&(M=function(t){for(var e=[],n=[],r=[],i={},o={},a={},s=t.length,l=0;l<s;l++){var u=t[l],d=u[0],f=u[1],h=u[2];i[d]||(e.push(d),i[d]=!0),o[f]||(n.push(f),o[f]=!0),a[h]||(r.push(h),a[h]=!0)}var p=c(e),g=c(n),m=c(r),v=Math.min(p,g,m);return isFinite(v)?v:1}(n));for(var S=0;S<C;S++){var O=r.create();r.copy(O,n[S]);var L=[O],P=[],D=p(O),R=O;P.push(D);var I=[],z=g(O,D),N=r.length(z);isFinite(N)&&N>E&&(E=N),I.push(N),m.push({points:L,velocities:P,divergences:I});for(var B=0;B<100*i&&L.length<i&&_(O);){B++;var F=r.clone(D),j=r.squaredLength(F);if(0===j)break;j>T&&r.scale(F,F,A/Math.sqrt(j)),r.add(F,F,O),D=p(F),r.squaredDistance(R,F)-T>-1e-4*T&&(L.push(F),R=F,P.push(D),z=g(F,D),N=r.length(z),isFinite(N)&&N>E&&(E=N),I.push(N)),O=F}}var $=a(m,t.colormap,E,M);return d?$.tubeScale=d:(0===E&&(E=1),$.tubeScale=.5*u*M/E),$};var u=t("./lib/shaders"),d=t("gl-cone3d").createMesh;e.exports.createTubeMesh=function(t,e){return d(t,e,{shaders:u,traceType:"streamtube"})}},{"./lib/shaders":142,"gl-cone3d":79,"gl-vec3":169,"gl-vec4":205}],144:[function(t,e,n){var r=t("gl-shader"),i=t("glslify"),o=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),a=i(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);n.createShader=function(t){var e=r(t,o,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},n.createPickShader=function(t){var e=r(t,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},n.createContourShader=function(t){var e=r(t,s,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},n.createPickContourShader=function(t){var e=r(t,s,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},{"gl-shader":132,glslify:231}],145:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl,n=y(e),r=x(e),s=b(e),l=w(e),c=i(e),u=o(e,[{buffer:c,size:4,stride:40,offset:0},{buffer:c,size:3,stride:40,offset:16},{buffer:c,size:3,stride:40,offset:28}]),d=i(e),f=o(e,[{buffer:d,size:4,stride:20,offset:0},{buffer:d,size:1,stride:20,offset:16}]),h=i(e),p=o(e,[{buffer:h,size:2,type:e.FLOAT}]),g=a(e,1,256,e.RGBA,e.UNSIGNED_BYTE);g.minFilter=e.LINEAR,g.magFilter=e.LINEAR;var m=new M(e,[0,0],[[0,0,0],[0,0,0]],n,r,c,u,g,s,l,d,f,h,p,[0,0,0]),v={levels:[[],[],[]]};for(var k in t)v[k]=t[k];return v.colormap=v.colormap||"jet",m.update(v),m};var r=t("bit-twiddle"),i=t("gl-buffer"),o=t("gl-vao"),a=t("gl-texture2d"),s=t("typedarray-pool"),l=t("colormap"),c=t("ndarray-ops"),u=t("ndarray-pack"),d=t("ndarray"),f=t("surface-nets"),h=t("gl-mat4/multiply"),p=t("gl-mat4/invert"),g=t("binary-search-bounds"),m=t("ndarray-gradient"),v=t("./lib/shaders"),y=v.createShader,b=v.createContourShader,x=v.createPickShader,w=v.createPickContourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],A=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function T(t,e,n,r,i){this.position=t,this.index=e,this.uv=n,this.level=r,this.dataCoordinate=i}function M(t,e,n,r,i,o,a,l,c,u,f,h,p,g,m){this.gl=t,this.shape=e,this.bounds=n,this.objectOffset=m,this.intensityBounds=[],this._shader=r,this._pickShader=i,this._coordinateBuffer=o,this._vao=a,this._colorMap=l,this._contourShader=c,this._contourPickShader=u,this._contourBuffer=f,this._contourVAO=h,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new T([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=p,this._dynamicVAO=g,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[d(s.mallocFloat(1024),[0,0]),d(s.mallocFloat(1024),[0,0]),d(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}!function(){for(var t=0;t<3;++t){var e=A[t],n=(t+2)%3;e[(t+1)%3+0]=1,e[n+3]=1,e[t+6]=1}}();var E=M.prototype;E.genColormap=function(t,e){var n=!1,r=u([l({colormap:t,nshades:256,format:"rgba"}).map((function(t,r){var i=e?function(t,e){if(!e)return 1;if(!e.length)return 1;for(var n=0;n<e.length;++n){if(e.length<2)return 1;if(e[n][0]===t)return e[n][1];if(e[n][0]>t&&n>0){var r=(e[n][0]-t)/(e[n][0]-e[n-1][0]);return e[n][1]*(1-r)+r*e[n-1][1]}}return 1}(r/255,e):t[3];return i<1&&(n=!0),[t[0],t[1],t[2],255*i]}))]);return c.divseq(r,255),this.hasAlphaScale=n,r},E.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},E.isOpaque=function(){return!this.isTransparent()},E.pickSlots=1,E.setPickBase=function(t){this.pickId=t};var C=[0,0,0],S={showSurface:!1,showContour:!1,projections:[k.slice(),k.slice(),k.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function O(t,e){var n,r,i,o=e.axes&&e.axes.lastCubeProps.axis||C,a=e.showSurface,s=e.showContour;for(n=0;n<3;++n)for(a=a||e.surfaceProject[n],r=0;r<3;++r)s=s||e.contourProject[n][r];for(n=0;n<3;++n){var l=S.projections[n];for(r=0;r<16;++r)l[r]=0;for(r=0;r<4;++r)l[5*r]=1;l[5*n]=0,l[12+n]=e.axesBounds[+(o[n]>0)][n],h(l,t.model,l);var c=S.clipBounds[n];for(i=0;i<2;++i)for(r=0;r<3;++r)c[i][r]=t.clipBounds[i][r];c[0][n]=-1e8,c[1][n]=1e8}return S.showSurface=a,S.showContour=s,S}var L={model:k,view:k,projection:k,inverseModel:k.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},P=k.slice(),D=[1,0,0,0,1,0,0,0,1];function R(t,e){t=t||{};var n=this.gl;n.disable(n.CULL_FACE),this._colorMap.bind(0);var r=L;r.model=t.model||k,r.view=t.view||k,r.projection=t.projection||k,r.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],r.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],r.objectOffset=this.objectOffset,r.contourColor=this.contourColor[0],r.inverseModel=p(r.inverseModel,r.model);for(var i=0;i<2;++i)for(var o=r.clipBounds[i],a=0;a<3;++a)o[a]=Math.min(Math.max(this.clipBounds[i][a],-1e8),1e8);r.kambient=this.ambientLight,r.kdiffuse=this.diffuseLight,r.kspecular=this.specularLight,r.roughness=this.roughness,r.fresnel=this.fresnel,r.opacity=this.opacity,r.height=0,r.permutation=D,r.vertexColor=this.vertexColor;var s=P;for(h(s,r.view,r.model),h(s,r.projection,s),p(s,s),i=0;i<3;++i)r.eyePosition[i]=s[12+i]/s[15];var l=s[15];for(i=0;i<3;++i)l+=this.lightPosition[i]*s[4*i+3];for(i=0;i<3;++i){var c=s[12+i];for(a=0;a<3;++a)c+=s[4*a+i]*this.lightPosition[a];r.lightPosition[i]=c/l}var u=O(r,this);if(u.showSurface){for(this._shader.bind(),this._shader.uniforms=r,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(n.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&this.vertexCount&&(this._shader.uniforms.model=u.projections[i],this._shader.uniforms.clipBounds=u.clipBounds[i],this._vao.draw(n.TRIANGLES,this._vertexCount));this._vao.unbind()}if(u.showContour){var d=this._contourShader;r.kambient=1,r.kdiffuse=0,r.kspecular=0,r.opacity=1,d.bind(),d.uniforms=r;var f=this._contourVAO;for(f.bind(),i=0;i<3;++i)for(d.uniforms.permutation=A[i],n.lineWidth(this.contourWidth[i]*this.pixelRatio),a=0;a<this.contourLevels[i].length;++a)a===this.highlightLevel[i]?(d.uniforms.contourColor=this.highlightColor[i],d.uniforms.contourTint=this.highlightTint[i]):0!==a&&a-1!==this.highlightLevel[i]||(d.uniforms.contourColor=this.contourColor[i],d.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][a]&&(d.uniforms.height=this.contourLevels[i][a],f.draw(n.LINES,this._contourCounts[i][a],this._contourOffsets[i][a]));for(i=0;i<3;++i)for(d.uniforms.model=u.projections[i],d.uniforms.clipBounds=u.clipBounds[i],a=0;a<3;++a)if(this.contourProject[i][a]){d.uniforms.permutation=A[a],n.lineWidth(this.contourWidth[a]*this.pixelRatio);for(var g=0;g<this.contourLevels[a].length;++g)g===this.highlightLevel[a]?(d.uniforms.contourColor=this.highlightColor[a],d.uniforms.contourTint=this.highlightTint[a]):0!==g&&g-1!==this.highlightLevel[a]||(d.uniforms.contourColor=this.contourColor[a],d.uniforms.contourTint=this.contourTint[a]),this._contourCounts[a][g]&&(d.uniforms.height=this.contourLevels[a][g],f.draw(n.LINES,this._contourCounts[a][g],this._contourOffsets[a][g]))}for(f.unbind(),(f=this._dynamicVAO).bind(),i=0;i<3;++i)if(0!==this._dynamicCounts[i])for(d.uniforms.model=r.model,d.uniforms.clipBounds=r.clipBounds,d.uniforms.permutation=A[i],n.lineWidth(this.dynamicWidth[i]*this.pixelRatio),d.uniforms.contourColor=this.dynamicColor[i],d.uniforms.contourTint=this.dynamicTint[i],d.uniforms.height=this.dynamicLevel[i],f.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),a=0;a<3;++a)this.contourProject[a][i]&&(d.uniforms.model=u.projections[a],d.uniforms.clipBounds=u.clipBounds[a],f.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));f.unbind()}}E.draw=function(t){return R.call(this,t,!1)},E.drawTransparent=function(t){return R.call(this,t,!0)};var I={model:k,view:k,projection:k,inverseModel:k,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function z(t,e){return Array.isArray(t)?[e(t[0]),e(t[1]),e(t[2])]:[e(t),e(t),e(t)]}function N(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function B(t){if(Array.isArray(t)){if(Array.isArray(t))return[N(t[0]),N(t[1]),N(t[2])];var e=N(t);return[e.slice(),e.slice(),e.slice()]}}E.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var n=I;n.model=t.model||k,n.view=t.view||k,n.projection=t.projection||k,n.shape=this._field[2].shape,n.pickId=this.pickId/255,n.lowerBound=this.bounds[0],n.upperBound=this.bounds[1],n.objectOffset=this.objectOffset,n.permutation=D;for(var r=0;r<2;++r)for(var i=n.clipBounds[r],o=0;o<3;++o)i[o]=Math.min(Math.max(this.clipBounds[r][o],-1e8),1e8);var a=O(n,this);if(a.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=n,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),r=0;r<3;++r)this.surfaceProject[r]&&(this._pickShader.uniforms.model=a.projections[r],this._pickShader.uniforms.clipBounds=a.clipBounds[r],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(a.showContour){var s=this._contourPickShader;s.bind(),s.uniforms=n;var l=this._contourVAO;for(l.bind(),o=0;o<3;++o)for(e.lineWidth(this.contourWidth[o]*this.pixelRatio),s.uniforms.permutation=A[o],r=0;r<this.contourLevels[o].length;++r)this._contourCounts[o][r]&&(s.uniforms.height=this.contourLevels[o][r],l.draw(e.LINES,this._contourCounts[o][r],this._contourOffsets[o][r]));for(r=0;r<3;++r)for(s.uniforms.model=a.projections[r],s.uniforms.clipBounds=a.clipBounds[r],o=0;o<3;++o)if(this.contourProject[r][o]){s.uniforms.permutation=A[o],e.lineWidth(this.contourWidth[o]*this.pixelRatio);for(var c=0;c<this.contourLevels[o].length;++c)this._contourCounts[o][c]&&(s.uniforms.height=this.contourLevels[o][c],l.draw(e.LINES,this._contourCounts[o][c],this._contourOffsets[o][c]))}l.unbind()}},E.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,n=this._pickResult,r=e[0]*(t.value[0]+(t.value[2]>>4)/16)/255,i=Math.floor(r),o=r-i,a=e[1]*(t.value[1]+(15&t.value[2])/16)/255,s=Math.floor(a),l=a-s;i+=1,s+=1;var c=n.position;c[0]=c[1]=c[2]=0;for(var u=0;u<2;++u)for(var d=u?o:1-o,f=0;f<2;++f)for(var h=i+u,p=s+f,m=d*(f?l:1-l),v=0;v<3;++v)c[v]+=this._field[v].get(h,p)*m;for(var y=this._pickResult.level,b=0;b<3;++b)if(y[b]=g.le(this.contourLevels[b],c[b]),y[b]<0)this.contourLevels[b].length>0&&(y[b]=0);else if(y[b]<this.contourLevels[b].length-1){var x=this.contourLevels[b][y[b]],w=this.contourLevels[b][y[b]+1];Math.abs(x-c[b])>Math.abs(w-c[b])&&(y[b]+=1)}for(n.index[0]=o<.5?i:i+1,n.index[1]=l<.5?s:s+1,n.uv[0]=r/e[0],n.uv[1]=a/e[1],v=0;v<3;++v)n.dataCoordinate[v]=this._field[v].get(n.index[0],n.index[1]);return n},E.padField=function(t,e){var n=e.shape.slice(),r=t.shape.slice();c.assign(t.lo(1,1).hi(n[0],n[1]),e),c.assign(t.lo(1).hi(n[0],1),e.hi(n[0],1)),c.assign(t.lo(1,r[1]-1).hi(n[0],1),e.lo(0,n[1]-1).hi(n[0],1)),c.assign(t.lo(0,1).hi(1,n[1]),e.hi(1)),c.assign(t.lo(r[0]-1,1).hi(1,n[1]),e.lo(n[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,r[1]-1,e.get(0,n[1]-1)),t.set(r[0]-1,0,e.get(n[0]-1,0)),t.set(r[0]-1,r[1]-1,e.get(n[0]-1,n[1]-1))},E.update=function(t){t=t||{},this.objectOffset=t.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in t&&(this.contourWidth=z(t.contourWidth,Number)),"showContour"in t&&(this.showContour=z(t.showContour,Boolean)),"showSurface"in t&&(this.showSurface=!!t.showSurface),"contourTint"in t&&(this.contourTint=z(t.contourTint,Boolean)),"contourColor"in t&&(this.contourColor=B(t.contourColor)),"contourProject"in t&&(this.contourProject=z(t.contourProject,(function(t){return z(t,Boolean)}))),"surfaceProject"in t&&(this.surfaceProject=t.surfaceProject),"dynamicColor"in t&&(this.dynamicColor=B(t.dynamicColor)),"dynamicTint"in t&&(this.dynamicTint=z(t.dynamicTint,Number)),"dynamicWidth"in t&&(this.dynamicWidth=z(t.dynamicWidth,Number)),"opacity"in t&&(this.opacity=t.opacity),"opacityscale"in t&&(this.opacityscale=t.opacityscale),"colorBounds"in t&&(this.colorBounds=t.colorBounds),"vertexColor"in t&&(this.vertexColor=t.vertexColor?1:0),"colormap"in t&&this._colorMap.setPixels(this.genColormap(t.colormap,this.opacityscale));var e=t.field||t.coords&&t.coords[2]||null,n=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in t||"coords"in t){var i=(e.shape[0]+2)*(e.shape[1]+2);i>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(r.nextPow2(i))),this._field[2]=d(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),this.padField(this._field[2],e),this.shape=e.shape.slice();for(var o=this.shape,a=0;a<2;++a)this._field[2].size>this._field[a].data.length&&(s.freeFloat(this._field[a].data),this._field[a].data=s.mallocFloat(this._field[2].size)),this._field[a]=d(this._field[a].data,[o[0]+2,o[1]+2]);if(t.coords){var l=t.coords;if(!Array.isArray(l)||3!==l.length)throw new Error("gl-surface: invalid coordinates for x/y");for(a=0;a<2;++a){var c=l[a];for(v=0;v<2;++v)if(c.shape[v]!==o[v])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[a],c)}}else if(t.ticks){var u=t.ticks;if(!Array.isArray(u)||2!==u.length)throw new Error("gl-surface: invalid ticks");for(a=0;a<2;++a){var h=u[a];if((Array.isArray(h)||h.length)&&(h=d(h)),h.shape[0]!==o[a])throw new Error("gl-surface: invalid tick length");var p=d(h.data,o);p.stride[a]=h.stride[0],p.stride[1^a]=0,this.padField(this._field[a],p)}}else{for(a=0;a<2;++a){var g=[0,0];g[a]=1,this._field[a]=d(this._field[a].data,[o[0]+2,o[1]+2],g,0)}this._field[0].set(0,0,0);for(var v=0;v<o[0];++v)this._field[0].set(v+1,0,v);for(this._field[0].set(o[0]+1,0,o[0]-1),this._field[1].set(0,0,0),v=0;v<o[1];++v)this._field[1].set(0,v+1,v);this._field[1].set(0,o[1]+1,o[1]-1)}var y=this._field,b=d(s.mallocFloat(3*y[2].size*2),[3,o[0]+2,o[1]+2,2]);for(a=0;a<3;++a)m(b.pick(a),y[a],"mirror");var x=d(s.mallocFloat(3*y[2].size),[o[0]+2,o[1]+2,3]);for(a=0;a<o[0]+2;++a)for(v=0;v<o[1]+2;++v){var w=b.get(0,a,v,0),k=b.get(0,a,v,1),A=b.get(1,a,v,0),T=b.get(1,a,v,1),M=b.get(2,a,v,0),E=b.get(2,a,v,1),C=A*E-T*M,S=M*k-E*w,O=w*T-k*A,L=Math.sqrt(C*C+S*S+O*O);L<1e-8?(L=Math.max(Math.abs(C),Math.abs(S),Math.abs(O)))<1e-8?(O=1,S=C=0,L=1):L=1/L:L=1/Math.sqrt(L),x.set(a,v,0,C*L),x.set(a,v,1,S*L),x.set(a,v,2,O*L)}s.free(b.data);var P=[1/0,1/0,1/0],D=[-1/0,-1/0,-1/0],R=1/0,I=-1/0,N=(o[0]-1)*(o[1]-1)*6,F=s.mallocFloat(r.nextPow2(10*N)),j=0,$=0;for(a=0;a<o[0]-1;++a)t:for(v=0;v<o[1]-1;++v){for(var Z=0;Z<2;++Z)for(var U=0;U<2;++U)for(var H=0;H<3;++H){var V=this._field[H].get(1+a+Z,1+v+U);if(isNaN(V)||!isFinite(V))continue t}for(H=0;H<6;++H){var W=a+_[H][0],Y=v+_[H][1],G=this._field[0].get(W+1,Y+1),q=this._field[1].get(W+1,Y+1);V=this._field[2].get(W+1,Y+1),C=x.get(W+1,Y+1,0),S=x.get(W+1,Y+1,1),O=x.get(W+1,Y+1,2),t.intensity&&(X=t.intensity.get(W,Y));var X=t.intensity?t.intensity.get(W,Y):V+this.objectOffset[2];F[j++]=W,F[j++]=Y,F[j++]=G,F[j++]=q,F[j++]=V,F[j++]=0,F[j++]=X,F[j++]=C,F[j++]=S,F[j++]=O,P[0]=Math.min(P[0],G+this.objectOffset[0]),P[1]=Math.min(P[1],q+this.objectOffset[1]),P[2]=Math.min(P[2],V+this.objectOffset[2]),R=Math.min(R,X),D[0]=Math.max(D[0],G+this.objectOffset[0]),D[1]=Math.max(D[1],q+this.objectOffset[1]),D[2]=Math.max(D[2],V+this.objectOffset[2]),I=Math.max(I,X),$+=1}}for(t.intensityBounds&&(R=+t.intensityBounds[0],I=+t.intensityBounds[1]),a=6;a<j;a+=10)F[a]=(F[a]-R)/(I-R);this._vertexCount=$,this._coordinateBuffer.update(F.subarray(0,j)),s.freeFloat(F),s.free(x.data),this.bounds=[P,D],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===R&&this.intensityBounds[1]===I||(n=!0),this.intensityBounds=[R,I]}if("levels"in t){var J=t.levels;for(J=Array.isArray(J[0])?J.slice():[[],[],J],a=0;a<3;++a)J[a]=J[a].slice(),J[a].sort((function(t,e){return t-e}));for(a=0;a<3;++a)for(v=0;v<J[a].length;++v)J[a][v]-=this.objectOffset[a];t:for(a=0;a<3;++a){if(J[a].length!==this.contourLevels[a].length){n=!0;break}for(v=0;v<J[a].length;++v)if(J[a][v]!==this.contourLevels[a][v]){n=!0;break t}}this.contourLevels=J}if(n){y=this._field,o=this.shape;for(var K=[],Q=0;Q<3;++Q){var tt=this.contourLevels[Q],et=[],nt=[],rt=[0,0,0];for(a=0;a<tt.length;++a){var it=f(this._field[Q],tt[a]);et.push(K.length/5|0),$=0;t:for(v=0;v<it.cells.length;++v){var ot=it.cells[v];for(H=0;H<2;++H){var at=it.positions[ot[H]],st=at[0],lt=0|Math.floor(st),ct=st-lt,ut=at[1],dt=0|Math.floor(ut),ft=ut-dt,ht=!1;e:for(var pt=0;pt<3;++pt){rt[pt]=0;var gt=(Q+pt+1)%3;for(Z=0;Z<2;++Z){var mt=Z?ct:1-ct;for(W=0|Math.min(Math.max(lt+Z,0),o[0]),U=0;U<2;++U){var vt=U?ft:1-ft;if(Y=0|Math.min(Math.max(dt+U,0),o[1]),V=pt<2?this._field[gt].get(W,Y):(this.intensity.get(W,Y)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(V)||isNaN(V)){ht=!0;break e}var yt=mt*vt;rt[pt]+=yt*V}}}if(ht){if(H>0){for(var bt=0;bt<5;++bt)K.pop();$-=1}continue t}K.push(rt[0],rt[1],at[0],at[1],rt[2]),$+=1}}nt.push($)}this._contourOffsets[Q]=et,this._contourCounts[Q]=nt}var xt=s.mallocFloat(K.length);for(a=0;a<K.length;++a)xt[a]=K[a];this._contourBuffer.update(xt),s.freeFloat(xt)}},E.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var t=0;t<3;++t)s.freeFloat(this._field[t].data)},E.highlight=function(t){var e,n;if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(e=0;e<3;++e)this.enableHighlight[e]?this.highlightLevel[e]=t.level[e]:this.highlightLevel[e]=-1;for(n=this.snapToData?t.dataCoordinate:t.position,e=0;e<3;++e)n[e]-=this.objectOffset[e];if(this.enableDynamic[0]&&n[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&n[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&n[2]!==this.dynamicLevel[2]){for(var r=0,i=this.shape,o=s.mallocFloat(12*i[0]*i[1]),a=0;a<3;++a)if(this.enableDynamic[a]){this.dynamicLevel[a]=n[a];var l=(a+1)%3,c=(a+2)%3,u=this._field[a],d=this._field[l],h=this._field[c],p=f(u,n[a]),g=p.cells,m=p.positions;for(this._dynamicOffsets[a]=r,e=0;e<g.length;++e)for(var v=g[e],y=0;y<2;++y){var b=m[v[y]],x=+b[0],w=0|x,k=0|Math.min(w+1,i[0]),_=x-w,A=1-_,T=+b[1],M=0|T,E=0|Math.min(M+1,i[1]),C=T-M,S=1-C,O=A*S,L=A*C,P=_*S,D=_*C,R=O*d.get(w,M)+L*d.get(w,E)+P*d.get(k,M)+D*d.get(k,E),I=O*h.get(w,M)+L*h.get(w,E)+P*h.get(k,M)+D*h.get(k,E);if(isNaN(R)||isNaN(I)){y&&(r-=1);break}o[2*r+0]=R,o[2*r+1]=I,r+=1}this._dynamicCounts[a]=r-this._dynamicOffsets[a]}else this.dynamicLevel[a]=NaN,this._dynamicCounts[a]=0;this._dynamicBuffer.update(o.subarray(0,2*r)),s.freeFloat(o)}}},{"./lib/shaders":144,"binary-search-bounds":31,"bit-twiddle":32,colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-texture2d":146,"gl-vao":150,ndarray:259,"ndarray-gradient":252,"ndarray-ops":254,"ndarray-pack":255,"surface-nets":302,"typedarray-pool":308}],146:[function(t,e,n){"use strict";var r=t("ndarray"),i=t("ndarray-ops"),o=t("typedarray-pool");e.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(a||c(t),"number"==typeof arguments[1])return v(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return v(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],n=u(e)?e:e.raw;if(n)return y(t,n,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return b(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,s=null,l=null;function c(t){a=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],s=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],l=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function u(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var d=function(t,e){i.muls(t,e,255)};function f(t,e,n){var r=t.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(e<0||e>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,n],t.bind(),r.texImage2D(r.TEXTURE_2D,0,t.format,e,n,0,t.format,t.type,null),t._mipLevels=[0],t}function h(t,e,n,r,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[n,r],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=l}var p=h.prototype;function g(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function m(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function v(t,e,n,r,i){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>o||n<0||n>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var a=m(t);return t.texImage2D(t.TEXTURE_2D,0,r,e,n,0,r,i,null),new h(t,a,e,n,r,i)}function y(t,e,n,r,i,o){var a=m(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,o,e),new h(t,a,n,r,i,o)}function b(t,e){var n=e.dtype,a=e.shape.slice(),s=t.getParameter(t.MAX_TEXTURE_SIZE);if(a[0]<0||a[0]>s||a[1]<0||a[1]>s)throw new Error("gl-texture2d: Invalid texture size");var l=g(a,e.stride.slice()),c=0;"float32"===n?c=t.FLOAT:"float64"===n?(c=t.FLOAT,l=!1,n="float32"):"uint8"===n?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,l=!1,n="uint8");var u,f,p=0;if(2===a.length)p=t.LUMINANCE,a=[a[0],a[1],1],e=r(e.data,a,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==a.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===a[2])p=t.ALPHA;else if(2===a[2])p=t.LUMINANCE_ALPHA;else if(3===a[2])p=t.RGB;else{if(4!==a[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=t.RGBA}}c!==t.FLOAT||t.getExtension("OES_texture_float")||(c=t.UNSIGNED_BYTE,l=!1);var v=e.size;if(l)u=0===e.offset&&e.data.length===v?e.data:e.data.subarray(e.offset,e.offset+v);else{var y=[a[2],a[2]*a[0],1];f=o.malloc(v,n);var b=r(f,a,y,0);"float32"!==n&&"float64"!==n||c!==t.UNSIGNED_BYTE?i.assign(b,e):d(b,e),u=f.subarray(0,v)}var x=m(t);return t.texImage2D(t.TEXTURE_2D,0,p,a[0],a[1],0,p,c,u),l||o.free(f),new h(t,x,a[0],a[1],p,c)}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&a.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&a.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),l.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),l.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(l.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return f(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return f(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,f(this,this._shape[0],t),t}}}),p.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},p.setPixels=function(t,e,n,a){var s=this.gl;this.bind(),Array.isArray(e)?(a=n,n=0|e[1],e=0|e[0]):(e=e||0,n=n||0),a=a||0;var l=u(t)?t:t.raw;if(l)this._mipLevels.indexOf(a)<0?(s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,l),this._mipLevels.push(a)):s.texSubImage2D(s.TEXTURE_2D,a,e,n,this.format,this.type,l);else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>a||n+t.shape[0]>this._shape[0]>>>a||e<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,e,n,a,s,l,c,u){var f=u.dtype,h=u.shape.slice();if(h.length<2||h.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var p=0,m=0,v=g(h,u.stride.slice());if("float32"===f?p=t.FLOAT:"float64"===f?(p=t.FLOAT,v=!1,f="float32"):"uint8"===f?p=t.UNSIGNED_BYTE:(p=t.UNSIGNED_BYTE,v=!1,f="uint8"),2===h.length)m=t.LUMINANCE,h=[h[0],h[1],1],u=r(u.data,h,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==h.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===h[2])m=t.ALPHA;else if(2===h[2])m=t.LUMINANCE_ALPHA;else if(3===h[2])m=t.RGB;else{if(4!==h[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");m=t.RGBA}h[2]}if(m!==t.LUMINANCE&&m!==t.ALPHA||s!==t.LUMINANCE&&s!==t.ALPHA||(m=s),m!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=u.size,b=c.indexOf(a)<0;if(b&&c.push(a),p===l&&v)0===u.offset&&u.data.length===y?b?t.texImage2D(t.TEXTURE_2D,a,s,h[0],h[1],0,s,l,u.data):t.texSubImage2D(t.TEXTURE_2D,a,e,n,h[0],h[1],s,l,u.data):b?t.texImage2D(t.TEXTURE_2D,a,s,h[0],h[1],0,s,l,u.data.subarray(u.offset,u.offset+y)):t.texSubImage2D(t.TEXTURE_2D,a,e,n,h[0],h[1],s,l,u.data.subarray(u.offset,u.offset+y));else{var x;x=l===t.FLOAT?o.mallocFloat32(y):o.mallocUint8(y);var w=r(x,h,[h[2],h[2]*h[0],1]);p===t.FLOAT&&l===t.UNSIGNED_BYTE?d(w,u):i.assign(w,u),b?t.texImage2D(t.TEXTURE_2D,a,s,h[0],h[1],0,s,l,x.subarray(0,y)):t.texSubImage2D(t.TEXTURE_2D,a,e,n,h[0],h[1],s,l,x.subarray(0,y)),l===t.FLOAT?o.freeFloat32(x):o.freeUint8(x)}}(s,e,n,a,this.format,this.type,this._mipLevels,t)}}},{ndarray:259,"ndarray-ops":254,"typedarray-pool":308}],147:[function(t,e,n){"use strict";e.exports=function(t,e,n){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var r=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<n.length;++i){var o=n[i];if(o.buffer){var a=o.buffer,s=o.size||4,l=o.type||t.FLOAT,c=!!o.normalized,u=o.stride||0,d=o.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,l,c,u,d)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;i<r;++i)t.disableVertexAttribArray(i)}else for(t.bindBuffer(t.ARRAY_BUFFER,null),i=0;i<r;++i)t.disableVertexAttribArray(i)}},{}],148:[function(t,e,n){"use strict";var r=t("./do-bind.js");function i(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},i.prototype.update=function(t,e,n){this._elements=e,this._attributes=t,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._elements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},e.exports=function(t){return new i(t)}},{"./do-bind.js":147}],149:[function(t,e,n){"use strict";var r=t("./do-bind.js");function i(t,e,n,r,i,o){this.location=t,this.dimension=e,this.a=n,this.b=r,this.c=i,this.d=o}function o(t,e,n){this.gl=t,this._ext=e,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(t,e,n){if(this.bind(),r(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var o=0;o<t.length;++o){var a=t[o];"number"==typeof a?this._attribs.push(new i(o,1,a)):Array.isArray(a)&&this._attribs.push(new i(o,a.length,a[0],a[1],a[2],a[3]))}this._useElements=!!e,this._elementsType=n||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},e.exports=function(t,e){return new o(t,e,e.createVertexArrayOES())}},{"./do-bind.js":147}],150:[function(t,e,n){"use strict";var r=t("./lib/vao-native.js"),i=t("./lib/vao-emulated.js");function o(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}e.exports=function(t,e,n,a){var s,l=t.createVertexArray?new o(t):t.getExtension("OES_vertex_array_object");return(s=l?r(t,l):i(t)).update(e,n,a),s}},{"./lib/vao-emulated.js":148,"./lib/vao-native.js":149}],151:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},{}],152:[function(t,e,n){e.exports=function(t,e){var n=r(t[0],t[1],t[2]),a=r(e[0],e[1],e[2]);i(n,n),i(a,a);var s=o(n,a);return s>1?0:Math.acos(s)};var r=t("./fromValues"),i=t("./normalize"),o=t("./dot")},{"./dot":162,"./fromValues":168,"./normalize":179}],153:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},{}],154:[function(t,e,n){e.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},{}],155:[function(t,e,n){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},{}],156:[function(t,e,n){e.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},{}],157:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}},{}],158:[function(t,e,n){e.exports=t("./distance")},{"./distance":159}],159:[function(t,e,n){e.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}},{}],160:[function(t,e,n){e.exports=t("./divide")},{"./divide":161}],161:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}},{}],162:[function(t,e,n){e.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},{}],163:[function(t,e,n){e.exports=1e-6},{}],164:[function(t,e,n){e.exports=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=r*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=r*Math.max(1,Math.abs(o),Math.abs(l))};var r=t("./epsilon")},{"./epsilon":163}],165:[function(t,e,n){e.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},{}],166:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},{}],167:[function(t,e,n){e.exports=function(t,e,n,i,o,a){var s,l;for(e||(e=3),n||(n=0),l=i?Math.min(i*e+n,t.length):t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],o(r,r,a),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t};var r=t("./create")()},{"./create":156}],168:[function(t,e,n){e.exports=function(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}},{}],169:[function(t,e,n){e.exports={EPSILON:t("./epsilon"),create:t("./create"),clone:t("./clone"),angle:t("./angle"),fromValues:t("./fromValues"),copy:t("./copy"),set:t("./set"),equals:t("./equals"),exactEquals:t("./exactEquals"),add:t("./add"),subtract:t("./subtract"),sub:t("./sub"),multiply:t("./multiply"),mul:t("./mul"),divide:t("./divide"),div:t("./div"),min:t("./min"),max:t("./max"),floor:t("./floor"),ceil:t("./ceil"),round:t("./round"),scale:t("./scale"),scaleAndAdd:t("./scaleAndAdd"),distance:t("./distance"),dist:t("./dist"),squaredDistance:t("./squaredDistance"),sqrDist:t("./sqrDist"),length:t("./length"),len:t("./len"),squaredLength:t("./squaredLength"),sqrLen:t("./sqrLen"),negate:t("./negate"),inverse:t("./inverse"),normalize:t("./normalize"),dot:t("./dot"),cross:t("./cross"),lerp:t("./lerp"),random:t("./random"),transformMat4:t("./transformMat4"),transformMat3:t("./transformMat3"),transformQuat:t("./transformQuat"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),forEach:t("./forEach")}},{"./add":151,"./angle":152,"./ceil":153,"./clone":154,"./copy":155,"./create":156,"./cross":157,"./dist":158,"./distance":159,"./div":160,"./divide":161,"./dot":162,"./epsilon":163,"./equals":164,"./exactEquals":165,"./floor":166,"./forEach":167,"./fromValues":168,"./inverse":170,"./len":171,"./length":172,"./lerp":173,"./max":174,"./min":175,"./mul":176,"./multiply":177,"./negate":178,"./normalize":179,"./random":180,"./rotateX":181,"./rotateY":182,"./rotateZ":183,"./round":184,"./scale":185,"./scaleAndAdd":186,"./set":187,"./sqrDist":188,"./sqrLen":189,"./squaredDistance":190,"./squaredLength":191,"./sub":192,"./subtract":193,"./transformMat3":194,"./transformMat4":195,"./transformQuat":196}],170:[function(t,e,n){e.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},{}],171:[function(t,e,n){e.exports=t("./length")},{"./length":172}],172:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},{}],173:[function(t,e,n){e.exports=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}},{}],174:[function(t,e,n){e.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}},{}],175:[function(t,e,n){e.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}},{}],176:[function(t,e,n){e.exports=t("./multiply")},{"./multiply":177}],177:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}},{}],178:[function(t,e,n){e.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},{}],179:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}},{}],180:[function(t,e,n){e.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}},{}],181:[function(t,e,n){e.exports=function(t,e,n,r){var i=n[1],o=n[2],a=e[1]-i,s=e[2]-o,l=Math.sin(r),c=Math.cos(r);return t[0]=e[0],t[1]=i+a*c-s*l,t[2]=o+a*l+s*c,t}},{}],182:[function(t,e,n){e.exports=function(t,e,n,r){var i=n[0],o=n[2],a=e[0]-i,s=e[2]-o,l=Math.sin(r),c=Math.cos(r);return t[0]=i+s*l+a*c,t[1]=e[1],t[2]=o+s*c-a*l,t}},{}],183:[function(t,e,n){e.exports=function(t,e,n,r){var i=n[0],o=n[1],a=e[0]-i,s=e[1]-o,l=Math.sin(r),c=Math.cos(r);return t[0]=i+a*c-s*l,t[1]=o+a*l+s*c,t[2]=e[2],t}},{}],184:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},{}],185:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}},{}],186:[function(t,e,n){e.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}},{}],187:[function(t,e,n){e.exports=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}},{}],188:[function(t,e,n){e.exports=t("./squaredDistance")},{"./squaredDistance":190}],189:[function(t,e,n){e.exports=t("./squaredLength")},{"./squaredLength":191}],190:[function(t,e,n){e.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}},{}],191:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}},{}],192:[function(t,e,n){e.exports=t("./subtract")},{"./subtract":193}],193:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},{}],194:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}},{}],195:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}},{}],196:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*o-l*i,d=c*i+l*r-a*o,f=c*o+a*i-s*r,h=-a*r-s*i-l*o;return t[0]=u*c+h*-a+d*-l-f*-s,t[1]=d*c+h*-s+f*-a-u*-l,t[2]=f*c+h*-l+u*-s-d*-a,t}},{}],197:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}},{}],198:[function(t,e,n){e.exports=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},{}],199:[function(t,e,n){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},{}],200:[function(t,e,n){e.exports=function(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},{}],201:[function(t,e,n){e.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}},{}],202:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}},{}],203:[function(t,e,n){e.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},{}],204:[function(t,e,n){e.exports=function(t,e,n,r){var i=new Float32Array(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}},{}],205:[function(t,e,n){e.exports={create:t("./create"),clone:t("./clone"),fromValues:t("./fromValues"),copy:t("./copy"),set:t("./set"),add:t("./add"),subtract:t("./subtract"),multiply:t("./multiply"),divide:t("./divide"),min:t("./min"),max:t("./max"),scale:t("./scale"),scaleAndAdd:t("./scaleAndAdd"),distance:t("./distance"),squaredDistance:t("./squaredDistance"),length:t("./length"),squaredLength:t("./squaredLength"),negate:t("./negate"),inverse:t("./inverse"),normalize:t("./normalize"),dot:t("./dot"),lerp:t("./lerp"),random:t("./random"),transformMat4:t("./transformMat4"),transformQuat:t("./transformQuat")}},{"./add":197,"./clone":198,"./copy":199,"./create":200,"./distance":201,"./divide":202,"./dot":203,"./fromValues":204,"./inverse":206,"./length":207,"./lerp":208,"./max":209,"./min":210,"./multiply":211,"./negate":212,"./normalize":213,"./random":214,"./scale":215,"./scaleAndAdd":216,"./set":217,"./squaredDistance":218,"./squaredLength":219,"./subtract":220,"./transformMat4":221,"./transformQuat":222}],206:[function(t,e,n){e.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}},{}],207:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}},{}],208:[function(t,e,n){e.exports=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}},{}],209:[function(t,e,n){e.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}},{}],210:[function(t,e,n){e.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}},{}],211:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}},{}],212:[function(t,e,n){e.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}},{}],213:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}},{}],214:[function(t,e,n){var r=t("./normalize"),i=t("./scale");e.exports=function(t,e){return e=e||1,t[0]=Math.random(),t[1]=Math.random(),t[2]=Math.random(),t[3]=Math.random(),r(t,t),i(t,t,e),t}},{"./normalize":213,"./scale":215}],215:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}},{}],216:[function(t,e,n){e.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}},{}],217:[function(t,e,n){e.exports=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}},{}],218:[function(t,e,n){e.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}},{}],219:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}},{}],220:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}},{}],221:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}},{}],222:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*o-l*i,d=c*i+l*r-a*o,f=c*o+a*i-s*r,h=-a*r-s*i-l*o;return t[0]=u*c+h*-a+d*-l-f*-s,t[1]=d*c+h*-s+f*-a-u*-l,t[2]=f*c+h*-l+u*-s-d*-a,t[3]=e[3],t}},{}],223:[function(t,e,n){var r=t("glsl-tokenizer"),i=t("atob-lite");e.exports=function(t){for(var e=Array.isArray(t)?t:r(t),n=0;n<e.length;n++){var o=e[n];if("preprocessor"===o.type){var a=o.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],l=a[2];return(s?i(l):l).trim()}}}}},{"atob-lite":13,"glsl-tokenizer":230}],224:[function(t,e,n){e.exports=function(t){var e,n,c,u=0,d=0,f=999,h=[],p=[],g=1,m=0,v=0,y=!1,b=!1,x="",w=o,k=r;"300 es"===(t=t||{}).version&&(w=s,k=a);var _={},A={};for(u=0;u<w.length;u++)_[w[u]]=!0;for(u=0;u<k.length;u++)A[k[u]]=!0;return function(t){return p=[],null!==t?function(t){var n;for(u=0,t.toString&&(t=t.toString()),x+=t.replace(/\r\n/g,"\n"),c=x.length;e=x[u],u<c;){switch(n=u,f){case 0:u=S();break;case 1:case 2:u=C();break;case 3:u=O();break;case 4:u=D();break;case 11:u=P();break;case 5:u=R();break;case 9999:u=I();break;case 9:u=E();break;case 999:u=M()}n!==u&&("\n"===x[n]?(m=0,++g):++m)}return d+=u,x=x.slice(u),p}(t):(h.length&&T(h.join("")),f=10,T("(eof)"),p)};function T(t){t.length&&p.push({type:l[f],data:t,position:v,line:g,column:m})}function M(){return h=h.length?[]:h,"/"===n&&"*"===e?(v=d+u-1,f=0,n=e,u+1):"/"===n&&"/"===e?(v=d+u-1,f=1,n=e,u+1):"#"===e?(f=2,v=d+u,u):/\s/.test(e)?(f=9,v=d+u,u):(y=/\d/.test(e),b=/[^\w_]/.test(e),v=d+u,f=y?4:b?3:9999,u)}function E(){return/[^\s]/g.test(e)?(T(h.join("")),f=999,u):(h.push(e),n=e,u+1)}function C(){return"\r"!==e&&"\n"!==e||"\\"===n?(h.push(e),n=e,u+1):(T(h.join("")),f=999,u)}function S(){return"/"===e&&"*"===n?(h.push(e),T(h.join("")),f=999,u+1):(h.push(e),n=e,u+1)}function O(){if("."===n&&/\d/.test(e))return f=5,u;if("/"===n&&"*"===e)return f=0,u;if("/"===n&&"/"===e)return f=1,u;if("."===e&&h.length){for(;L(h););return f=5,u}if(";"===e||")"===e||"("===e){if(h.length)for(;L(h););return T(e),f=999,u+1}var t=2===h.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;L(h););return f=999,u}return h.push(e),n=e,u+1}function L(t){for(var e,n,r=0;;){if(e=i.indexOf(t.slice(0,t.length+r).join("")),n=i[e],-1===e){if(r--+t.length>0)continue;n=t.slice(0,1).join("")}return T(n),v+=n.length,(h=h.slice(n.length)).length}}function P(){return/[^a-fA-F0-9]/.test(e)?(T(h.join("")),f=999,u):(h.push(e),n=e,u+1)}function D(){return"."===e||/[eE]/.test(e)?(h.push(e),f=5,n=e,u+1):"x"===e&&1===h.length&&"0"===h[0]?(f=11,h.push(e),n=e,u+1):/[^\d]/.test(e)?(T(h.join("")),f=999,u):(h.push(e),n=e,u+1)}function R(){return"f"===e&&(h.push(e),n=e,u+=1),/[eE]/.test(e)?(h.push(e),n=e,u+1):("-"!==e&&"+"!==e||!/[eE]/.test(n))&&/[^\d]/.test(e)?(T(h.join("")),f=999,u):(h.push(e),n=e,u+1)}function I(){if(/[^\d\w_]/.test(e)){var t=h.join("");return f=A[t]?8:_[t]?7:6,T(h.join("")),f=999,u}return h.push(e),n=e,u+1}};var r=t("./lib/literals"),i=t("./lib/operators"),o=t("./lib/builtins"),a=t("./lib/literals-300es"),s=t("./lib/builtins-300es"),l=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":226,"./lib/builtins-300es":225,"./lib/literals":228,"./lib/literals-300es":227,"./lib/operators":229}],225:[function(t,e,n){var r=t("./builtins");r=r.slice().filter((function(t){return!/^(gl\_|texture)/.test(t)})),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":226}],226:[function(t,e,n){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],227:[function(t,e,n){var r=t("./literals");e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":228}],228:[function(t,e,n){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],229:[function(t,e,n){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],230:[function(t,e,n){var r=t("./index");e.exports=function(t,e){var n=r(e),i=[];return(i=i.concat(n(t))).concat(n(null))}},{"./index":224}],231:[function(t,e,n){e.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),n=[],r=0;r<t.length-1;r++)n.push(t[r],e[r]||"");return n.push(t[r]),n.join("")}},{}],232:[function(t,e,n){"use strict";var r=t("is-browser");e.exports=r&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},{"is-browser":236}],233:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.length;if(0===n)throw new Error("Must have at least d+1 points");var i=t[0].length;if(n<=i)throw new Error("Must input at least d+1 points");var a=t.slice(0,i+1),s=r.apply(void 0,a);if(0===s)throw new Error("Input not in general position");for(var l=new Array(i+1),u=0;u<=i;++u)l[u]=u;s<0&&(l[0]=1,l[1]=0);var d=new o(l,new Array(i+1),!1),f=d.adjacent,h=new Array(i+2);for(u=0;u<=i;++u){for(var p=l.slice(),g=0;g<=i;++g)g===u&&(p[g]=-1);var m=p[0];p[0]=p[1],p[1]=m;var v=new o(p,new Array(i+1),!0);f[u]=v,h[u]=v}for(h[i+1]=d,u=0;u<=i;++u){p=f[u].vertices;var y=f[u].adjacent;for(g=0;g<=i;++g){var b=p[g];if(b<0)y[g]=d;else for(var x=0;x<=i;++x)f[x].vertices.indexOf(b)<0&&(y[g]=f[x])}}var w=new c(i,a,h),k=!!e;for(u=i+1;u<n;++u)w.insert(t[u],k);return w.boundary()};var r=t("robust-orientation"),i=t("simplicial-complex").compareCells;function o(t,e,n){this.vertices=t,this.adjacent=e,this.boundary=n,this.lastVisited=-1}function a(t,e,n){this.vertices=t,this.cell=e,this.index=n}function s(t,e){return i(t.vertices,e.vertices)}o.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var l=[];function c(t,e,n){this.dimension=t,this.vertices=e,this.simplices=n,this.interior=n.filter((function(t){return!t.boundary})),this.tuple=new Array(t+1);for(var i=0;i<=t;++i)this.tuple[i]=this.vertices[i];var o,a=l[t];a||(a=l[t]=((o=r[t+1])||(o=r),function(t){return function(){var e=this.tuple;return t.apply(this,e)}}(o))),this.orient=a}var u=c.prototype;u.handleBoundaryDegeneracy=function(t,e){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,o=this.vertices,a=[t];for(t.lastVisited=-r;a.length>0;)for(var s=(t=a.pop()).adjacent,l=0;l<=n;++l){var c=s[l];if(c.boundary&&!(c.lastVisited<=-r)){for(var u=c.vertices,d=0;d<=n;++d){var f=u[d];i[d]=f<0?e:o[f]}var h=this.orient();if(h>0)return c;c.lastVisited=-r,0===h&&a.push(c)}}return null},u.walk=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,o=this.tuple,a=e?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[a];t:for(;!s.boundary;){for(var l=s.vertices,c=s.adjacent,u=0;u<=r;++u)o[u]=i[l[u]];for(s.lastVisited=n,u=0;u<=r;++u){var d=c[u];if(!(d.lastVisited>=n)){var f=o[u];o[u]=t;var h=this.orient();if(o[u]=f,h<0){s=d;continue t}d.boundary?d.lastVisited=-n:d.lastVisited=n}}return}return s},u.addPeaks=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,l=this.tuple,c=this.interior,u=this.simplices,d=[e];e.lastVisited=n,e.vertices[e.vertices.indexOf(-1)]=n,e.boundary=!1,c.push(e);for(var f=[];d.length>0;){var h=(e=d.pop()).vertices,p=e.adjacent,g=h.indexOf(n);if(!(g<0))for(var m=0;m<=r;++m)if(m!==g){var v=p[m];if(v.boundary&&!(v.lastVisited>=n)){var y=v.vertices;if(v.lastVisited!==-n){for(var b=0,x=0;x<=r;++x)y[x]<0?(b=x,l[x]=t):l[x]=i[y[x]];if(this.orient()>0){y[b]=n,v.boundary=!1,c.push(v),d.push(v),v.lastVisited=n;continue}v.lastVisited=-n}var w=v.adjacent,k=h.slice(),_=p.slice(),A=new o(k,_,!0);u.push(A);var T=w.indexOf(e);if(!(T<0))for(w[T]=A,_[g]=v,k[m]=-1,_[m]=e,p[m]=A,A.flip(),x=0;x<=r;++x){var M=k[x];if(!(M<0||M===n)){for(var E=new Array(r-1),C=0,S=0;S<=r;++S){var O=k[S];O<0||S===x||(E[C++]=O)}f.push(new a(E,A,x))}}}}}for(f.sort(s),m=0;m+1<f.length;m+=2){var L=f[m],P=f[m+1],D=L.index,R=P.index;D<0||R<0||(L.cell.adjacent[L.index]=P.cell,P.cell.adjacent[P.index]=L.cell)}},u.insert=function(t,e){var n=this.vertices;n.push(t);var r=this.walk(t,e);if(r){for(var i=this.dimension,o=this.tuple,a=0;a<=i;++a){var s=r.vertices[a];o[a]=s<0?t:n[s]}var l=this.orient(o);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,t)))&&this.addPeaks(t,r)}},u.boundary=function(){for(var t=this.dimension,e=[],n=this.simplices,r=n.length,i=0;i<r;++i){var o=n[i];if(o.boundary){for(var a=new Array(t),s=o.vertices,l=0,c=0,u=0;u<=t;++u)s[u]>=0?a[l++]=s[u]:c=1&u;if(c===(1&t)){var d=a[0];a[0]=a[1],a[1]=d}e.push(a)}}return e}},{"robust-orientation":284,"simplicial-complex":293}],234:[function(t,e,n){"use strict";var r=t("binary-search-bounds");function i(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}e.exports=function(t){return t&&0!==t.length?new v(m(t)):new v(null)};var o=i.prototype;function a(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function s(t,e){var n=m(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function l(t,e){var n=t.intervals([]);n.push(e),s(t,n)}function c(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?0:(n.splice(r,1),s(t,n),1)}function u(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function d(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function f(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function h(t,e){return t-e}function p(t,e){return t[0]-e[0]||t[1]-e[1]}function g(t,e){return t[1]-e[1]||t[0]-e[0]}function m(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(h);var r=e[e.length>>1],o=[],a=[],s=[];for(n=0;n<t.length;++n){var l=t[n];l[1]<r?o.push(l):r<l[0]?a.push(l):s.push(l)}var c=s,u=s.slice();return c.sort(p),u.sort(g),new i(r,m(o),m(a),c,u)}function v(t){this.root=t}o.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},o.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?l(this,t):this.left.insert(t):this.left=m([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?l(this,t):this.right.insert(t):this.right=m([t]);else{var n=r.ge(this.leftPoints,t,p),i=r.ge(this.rightPoints,t,g);this.leftPoints.splice(n,0,t),this.rightPoints.splice(i,0,t)}},o.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?c(this,t):2===(s=this.left.remove(t))?(this.left=null,this.count-=1,1):(1===s&&(this.count-=1),s):0;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?c(this,t):2===(s=this.right.remove(t))?(this.right=null,this.count-=1,1):(1===s&&(this.count-=1),s):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,i=this.left;i.right;)n=i,i=i.right;if(n===this)i.right=this.right;else{var o=this.left,s=this.right;n.count-=i.count,n.right=i.left,i.left=o,i.right=s}a(this,i),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?a(this,this.left):a(this,this.right);return 1}for(o=r.ge(this.leftPoints,t,p);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t)for(this.count-=1,this.leftPoints.splice(o,1),s=r.ge(this.rightPoints,t,g);s<this.rightPoints.length&&this.rightPoints[s][1]===t[1];++s)if(this.rightPoints[s]===t)return this.rightPoints.splice(s,1),1;return 0},o.queryPoint=function(t,e){return t<this.mid?this.left&&(n=this.left.queryPoint(t,e))?n:u(this.leftPoints,t,e):t>this.mid?this.right&&(n=this.right.queryPoint(t,e))?n:d(this.rightPoints,t,e):f(this.leftPoints,e);var n},o.queryInterval=function(t,e,n){var r;return t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n))||e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n))?r:e<this.mid?u(this.leftPoints,e,n):t>this.mid?d(this.rightPoints,t,n):f(this.leftPoints,n)};var y=v.prototype;y.insert=function(t){this.root?this.root.insert(t):this.root=new i(t[0],null,null,[t],[t])},y.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),0!==e}return!1},y.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},y.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(y,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(y,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":31}],235:[function(t,e,n){"use strict";e.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},{}],236:[function(t,e,n){e.exports=!0},{}],237:[function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],238:[function(t,e,n){"use strict";e.exports=o,e.exports.isMobile=o,e.exports.default=o;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(t){t||(t={});var e=t.ua;if(e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;var n=t.tablet?i.test(e):r.test(e);return!n&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(n=!0),n}},{}],239:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=t.length,r=0;r<n;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},{}],240:[function(t,e,n){e.exports=function(t,e,n){return t*(1-n)+e*n}},{}],241:[function(t,e,n){var r=t("./normalize"),i=t("gl-mat4/create"),o=t("gl-mat4/clone"),a=t("gl-mat4/determinant"),s=t("gl-mat4/invert"),l=t("gl-mat4/transpose"),c={length:t("gl-vec3/length"),normalize:t("gl-vec3/normalize"),dot:t("gl-vec3/dot"),cross:t("gl-vec3/cross")},u=i(),d=i(),f=[0,0,0,0],h=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];function g(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}e.exports=function(t,e,n,i,m,v){if(e||(e=[0,0,0]),n||(n=[0,0,0]),i||(i=[0,0,0]),m||(m=[0,0,0,1]),v||(v=[0,0,0,1]),!r(u,t))return!1;if(o(d,u),d[3]=0,d[7]=0,d[11]=0,d[15]=1,Math.abs(a(d)<1e-8))return!1;var y,b,x,w,k,_,A,T=u[3],M=u[7],E=u[11],C=u[12],S=u[13],O=u[14],L=u[15];if(0!==T||0!==M||0!==E){if(f[0]=T,f[1]=M,f[2]=E,f[3]=L,!s(d,d))return!1;l(d,d),y=m,x=d,w=(b=f)[0],k=b[1],_=b[2],A=b[3],y[0]=x[0]*w+x[4]*k+x[8]*_+x[12]*A,y[1]=x[1]*w+x[5]*k+x[9]*_+x[13]*A,y[2]=x[2]*w+x[6]*k+x[10]*_+x[14]*A,y[3]=x[3]*w+x[7]*k+x[11]*_+x[15]*A}else m[0]=m[1]=m[2]=0,m[3]=1;if(e[0]=C,e[1]=S,e[2]=O,function(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}(h,u),n[0]=c.length(h[0]),c.normalize(h[0],h[0]),i[0]=c.dot(h[0],h[1]),g(h[1],h[1],h[0],1,-i[0]),n[1]=c.length(h[1]),c.normalize(h[1],h[1]),i[0]/=n[1],i[1]=c.dot(h[0],h[2]),g(h[2],h[2],h[0],1,-i[1]),i[2]=c.dot(h[1],h[2]),g(h[2],h[2],h[1],1,-i[2]),n[2]=c.length(h[2]),c.normalize(h[2],h[2]),i[1]/=n[2],i[2]/=n[2],c.cross(p,h[1],h[2]),c.dot(h[0],p)<0)for(var P=0;P<3;P++)n[P]*=-1,h[P][0]*=-1,h[P][1]*=-1,h[P][2]*=-1;return v[0]=.5*Math.sqrt(Math.max(1+h[0][0]-h[1][1]-h[2][2],0)),v[1]=.5*Math.sqrt(Math.max(1-h[0][0]+h[1][1]-h[2][2],0)),v[2]=.5*Math.sqrt(Math.max(1-h[0][0]-h[1][1]+h[2][2],0)),v[3]=.5*Math.sqrt(Math.max(1+h[0][0]+h[1][1]+h[2][2],0)),h[2][1]>h[1][2]&&(v[0]=-v[0]),h[0][2]>h[2][0]&&(v[1]=-v[1]),h[1][0]>h[0][1]&&(v[2]=-v[2]),!0}},{"./normalize":242,"gl-mat4/clone":92,"gl-mat4/create":93,"gl-mat4/determinant":94,"gl-mat4/invert":98,"gl-mat4/transpose":109,"gl-vec3/cross":157,"gl-vec3/dot":162,"gl-vec3/length":172,"gl-vec3/normalize":179}],242:[function(t,e,n){e.exports=function(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}},{}],243:[function(t,e,n){var r=t("gl-vec3/lerp"),i=t("mat4-recompose"),o=t("mat4-decompose"),a=t("gl-mat4/determinant"),s=t("quat-slerp"),l=d(),c=d(),u=d();function d(){return{translate:f(),scale:f(1),skew:f(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function f(t){return[t||0,t||0,t||0]}e.exports=function(t,e,n,d){if(0===a(e)||0===a(n))return!1;var f=o(e,l.translate,l.scale,l.skew,l.perspective,l.quaternion),h=o(n,c.translate,c.scale,c.skew,c.perspective,c.quaternion);return!(!f||!h)&&(r(u.translate,l.translate,c.translate,d),r(u.skew,l.skew,c.skew,d),r(u.scale,l.scale,c.scale,d),r(u.perspective,l.perspective,c.perspective,d),s(u.quaternion,l.quaternion,c.quaternion,d),i(t,u.translate,u.scale,u.skew,u.perspective,u.quaternion),!0)}},{"gl-mat4/determinant":94,"gl-vec3/lerp":173,"mat4-decompose":241,"mat4-recompose":244,"quat-slerp":271}],244:[function(t,e,n){var r={identity:t("gl-mat4/identity"),translate:t("gl-mat4/translate"),multiply:t("gl-mat4/multiply"),create:t("gl-mat4/create"),scale:t("gl-mat4/scale"),fromRotationTranslation:t("gl-mat4/fromRotationTranslation")},i=(r.create(),r.create());e.exports=function(t,e,n,o,a,s){return r.identity(t),r.fromRotationTranslation(t,s,e),t[3]=a[0],t[7]=a[1],t[11]=a[2],t[15]=a[3],r.identity(i),0!==o[2]&&(i[9]=o[2],r.multiply(t,t,i)),0!==o[1]&&(i[9]=0,i[8]=o[1],r.multiply(t,t,i)),0!==o[0]&&(i[8]=0,i[4]=o[0],r.multiply(t,t,i)),r.scale(t,t,n),t}},{"gl-mat4/create":93,"gl-mat4/fromRotationTranslation":96,"gl-mat4/identity":97,"gl-mat4/multiply":100,"gl-mat4/scale":107,"gl-mat4/translate":108}],245:[function(t,e,n){"use strict";var r=t("binary-search-bounds"),i=t("mat4-interpolate"),o=t("gl-mat4/invert"),a=t("gl-mat4/rotateX"),s=t("gl-mat4/rotateY"),l=t("gl-mat4/rotateZ"),c=t("gl-mat4/lookAt"),u=t("gl-mat4/translate"),d=(t("gl-mat4/scale"),t("gl-vec3/normalize")),f=[0,0,0];function h(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}e.exports=function(t){return new h((t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var p=h.prototype;p.recalcMatrix=function(t){var e=this._time,n=r.le(e,t),a=this.computedMatrix;if(!(n<0)){var s=this._components;if(n===e.length-1)for(var l=16*n,c=0;c<16;++c)a[c]=s[l++];else{var u=e[n+1]-e[n],f=(l=16*n,this.prevMatrix),h=!0;for(c=0;c<16;++c)f[c]=s[l++];var p=this.nextMatrix;for(c=0;c<16;++c)p[c]=s[l++],h=h&&f[c]===p[c];if(u<1e-6||h)for(c=0;c<16;++c)a[c]=f[c];else i(a,f,p,(t-e[n])/u)}var g=this.computedUp;g[0]=a[1],g[1]=a[5],g[2]=a[9],d(g,g);var m=this.computedInverse;o(m,a);var v=this.computedEye,y=m[15];v[0]=m[12]/y,v[1]=m[13]/y,v[2]=m[14]/y;var b=this.computedCenter,x=Math.exp(this.computedRadius[0]);for(c=0;c<3;++c)b[c]=v[c]-a[2+4*c]*x}},p.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,n=e.length-16,r=0;r<16;++r)e.push(e[n++]);this._time.push(t)}},p.flush=function(t){var e=r.gt(this._time,t)-2;e<0||(this._time.splice(0,e),this._components.splice(0,16*e))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||f,r=r||this.computedUp,this.setMatrix(t,c(this.computedMatrix,e,n,r));for(var i=0,o=0;o<3;++o)i+=Math.pow(n[o]-e[o],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(t,e,n,r){this.recalcMatrix(t);var i=this.computedInverse;e&&s(i,i,e),n&&a(i,i,n),r&&l(i,i,r),this.setMatrix(t,o(this.computedMatrix,i))};var g=[0,0,0];p.pan=function(t,e,n,r){g[0]=-(e||0),g[1]=-(n||0),g[2]=-(r||0),this.recalcMatrix(t);var i=this.computedInverse;u(i,i,g),this.setMatrix(t,o(i,i))},p.translate=function(t,e,n,r){g[0]=e||0,g[1]=n||0,g[2]=r||0,this.recalcMatrix(t);var i=this.computedMatrix;u(i,i,g),this.setMatrix(t,i)},p.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var n=0;n<16;++n)this._components.push(e[n])}},p.setDistance=function(t,e){this.computedRadius[0]=e},p.setDistanceLimits=function(t,e){var n=this._limits;n[0]=t,n[1]=e},p.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},{"binary-search-bounds":31,"gl-mat4/invert":98,"gl-mat4/lookAt":99,"gl-mat4/rotateX":104,"gl-mat4/rotateY":105,"gl-mat4/rotateZ":106,"gl-mat4/scale":107,"gl-mat4/translate":108,"gl-vec3/normalize":179,"mat4-interpolate":243}],246:[function(t,e,n){"use strict";e.exports=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var o=new Array(e);for(i=0;i<e;++i)o[i]=i;o.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var a=[o[0],o[1]],s=[o[0],o[1]];for(i=2;i<e;++i){for(var l=o[i],c=t[l],u=a.length;u>1&&r(t[a[u-2]],t[a[u-1]],c)<=0;)u-=1,a.pop();for(a.push(l),u=s.length;u>1&&r(t[s[u-2]],t[s[u-1]],c)>=0;)u-=1,s.pop();s.push(l)}n=new Array(s.length+a.length-2);for(var d=0,f=(i=0,a.length);i<f;++i)n[d++]=a[i];for(var h=s.length-2;h>0;--h)n[d++]=s[h];return n};var r=t("robust-orientation")[3]},{"robust-orientation":284}],247:[function(t,e,n){"use strict";e.exports=function(t,e){e||(e=t,t=window);var n=0,i=0,o=0,a={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function l(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==a.alt,a.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==a.shift,a.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==a.control,a.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==a.meta,a.meta=!!t.metaKey),e}function c(t,s){var c=r.x(s),u=r.y(s);"buttons"in s&&(t=0|s.buttons),(t!==n||c!==i||u!==o||l(s))&&(n=0|t,i=c||0,o=u||0,e&&e(n,i,o,a))}function u(t){c(0,t)}function d(){(n||i||o||a.shift||a.alt||a.meta||a.control)&&(i=o=0,n=0,a.shift=a.alt=a.control=a.meta=!1,e&&e(0,0,0,a))}function f(t){l(t)&&e&&e(n,i,o,a)}function h(t){0===r.buttons(t)?c(0,t):c(n,t)}function p(t){c(n|r.buttons(t),t)}function g(t){c(n&~r.buttons(t),t)}function m(){s||(s=!0,t.addEventListener("mousemove",h),t.addEventListener("mousedown",p),t.addEventListener("mouseup",g),t.addEventListener("mouseleave",u),t.addEventListener("mouseenter",u),t.addEventListener("mouseout",u),t.addEventListener("mouseover",u),t.addEventListener("blur",d),t.addEventListener("keyup",f),t.addEventListener("keydown",f),t.addEventListener("keypress",f),t!==window&&(window.addEventListener("blur",d),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}m();var v={element:t};return Object.defineProperties(v,{enabled:{get:function(){return s},set:function(e){e?m():s&&(s=!1,t.removeEventListener("mousemove",h),t.removeEventListener("mousedown",p),t.removeEventListener("mouseup",g),t.removeEventListener("mouseleave",u),t.removeEventListener("mouseenter",u),t.removeEventListener("mouseout",u),t.removeEventListener("mouseover",u),t.removeEventListener("blur",d),t.removeEventListener("keyup",f),t.removeEventListener("keydown",f),t.removeEventListener("keypress",f),t!==window&&(window.removeEventListener("blur",d),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return o},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),v};var r=t("mouse-event")},{"mouse-event":249}],248:[function(t,e,n){var r={left:0,top:0};e.exports=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i,o=t.clientX||0,a=t.clientY||0,s=(i=e)===window||i===document||i===document.body?r:i.getBoundingClientRect();return n[0]=o-s.left,n[1]=a-s.top,n}},{}],249:[function(t,e,n){"use strict";function r(t){return t.target||t.srcElement||window}n.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0},n.element=r,n.x=function(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=r(t).getBoundingClientRect();return t.clientX-e.left}return 0},n.y=function(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=r(t).getBoundingClientRect();return t.clientY-e.top}return 0}},{}],250:[function(t,e,n){"use strict";var r=t("to-px");e.exports=function(t,e,n){"function"==typeof t&&(n=!!e,e=t,t=window);var i=r("ex",t),o=function(t){n&&t.preventDefault();var r=t.deltaX||0,o=t.deltaY||0,a=t.deltaZ||0,s=1;switch(t.deltaMode){case 1:s=i;break;case 2:s=window.innerHeight}if(o*=s,a*=s,(r*=s)||o||a)return e(r,o,a,t)};return t.addEventListener("wheel",o),o}},{"to-px":304}],251:[function(t,e,n){"use strict";var r=t("typedarray-pool");e.exports=function(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!=typeof t&&e("Must specify arguments");var n=t.order;Array.isArray(n)||e("Must specify order");var o=t.arrayArguments||1;o<1&&e("Must have at least one array argument"),(t.scalarArguments||0)<0&&e("Scalar arg count must be > 0"),"function"!=typeof t.vertex&&e("Must specify vertex creation function"),"function"!=typeof t.cell&&e("Must specify cell creation function"),"function"!=typeof t.phase&&e("Must specify phase function");for(var a=t.getters||[],s=new Array(o),l=0;l<o;++l)a.indexOf(l)>=0?s[l]=!0:s[l]=!1;return function(t,e,n,o,a,s){var l=[s,a].join(",");return(0,i[l])(t,e,n,r.mallocUint32,r.freeUint32)}(t.vertex,t.cell,t.phase,0,n,s)};var i={"false,0,1":function(t,e,n,r,i){return function(o,a,s,l){var c,u=0|o.shape[0],d=0|o.shape[1],f=o.data,h=0|o.offset,p=0|o.stride[0],g=0|o.stride[1],m=h,v=0|-p,y=0,b=0|-g,x=0,w=-p-g|0,k=0,_=0|p,A=g-p*u|0,T=0,M=0,E=0,C=2*u|0,S=r(C),O=r(C),L=0,P=0,D=-1,R=-1,I=0,z=0|-u,N=0|u,B=0,F=-u-1|0,j=u-1|0,$=0,Z=0,U=0;for(T=0;T<u;++T)S[L++]=n(f[m],a,s,l),m+=_;if(m+=A,d>0){if(M=1,S[L++]=n(f[m],a,s,l),m+=_,u>0)for(T=1,c=f[m],P=S[L]=n(c,a,s,l),I=S[L+D],B=S[L+z],$=S[L+F],P===I&&P===B&&P===$||(y=f[m+v],x=f[m+b],k=f[m+w],t(T,M,c,y,x,k,P,I,B,$,a,s,l),Z=O[L]=E++),L+=1,m+=_,T=2;T<u;++T)c=f[m],P=S[L]=n(c,a,s,l),I=S[L+D],B=S[L+z],$=S[L+F],P===I&&P===B&&P===$||(y=f[m+v],x=f[m+b],k=f[m+w],t(T,M,c,y,x,k,P,I,B,$,a,s,l),Z=O[L]=E++,$!==I&&e(O[L+D],Z,k,y,$,I,a,s,l)),L+=1,m+=_;for(m+=A,L=0,U=D,D=R,R=U,U=z,z=N,N=U,U=F,F=j,j=U,M=2;M<d;++M){if(S[L++]=n(f[m],a,s,l),m+=_,u>0)for(T=1,c=f[m],P=S[L]=n(c,a,s,l),I=S[L+D],B=S[L+z],$=S[L+F],P===I&&P===B&&P===$||(y=f[m+v],x=f[m+b],k=f[m+w],t(T,M,c,y,x,k,P,I,B,$,a,s,l),Z=O[L]=E++,$!==B&&e(O[L+z],Z,x,k,B,$,a,s,l)),L+=1,m+=_,T=2;T<u;++T)c=f[m],P=S[L]=n(c,a,s,l),I=S[L+D],B=S[L+z],$=S[L+F],P===I&&P===B&&P===$||(y=f[m+v],x=f[m+b],k=f[m+w],t(T,M,c,y,x,k,P,I,B,$,a,s,l),Z=O[L]=E++,$!==B&&e(O[L+z],Z,x,k,B,$,a,s,l),$!==I&&e(O[L+D],Z,k,y,$,I,a,s,l)),L+=1,m+=_;1&M&&(L=0),U=D,D=R,R=U,U=z,z=N,N=U,U=F,F=j,j=U,m+=A}}i(O),i(S)}},"false,1,0":function(t,e,n,r,i){return function(o,a,s,l){var c,u=0|o.shape[0],d=0|o.shape[1],f=o.data,h=0|o.offset,p=0|o.stride[0],g=0|o.stride[1],m=h,v=0|-p,y=0,b=0|-g,x=0,w=-p-g|0,k=0,_=0|g,A=p-g*d|0,T=0,M=0,E=0,C=2*d|0,S=r(C),O=r(C),L=0,P=0,D=-1,R=-1,I=0,z=0|-d,N=0|d,B=0,F=-d-1|0,j=d-1|0,$=0,Z=0,U=0;for(M=0;M<d;++M)S[L++]=n(f[m],a,s,l),m+=_;if(m+=A,u>0){if(T=1,S[L++]=n(f[m],a,s,l),m+=_,d>0)for(M=1,c=f[m],P=S[L]=n(c,a,s,l),B=S[L+z],I=S[L+D],$=S[L+F],P===B&&P===I&&P===$||(y=f[m+v],x=f[m+b],k=f[m+w],t(T,M,c,y,x,k,P,B,I,$,a,s,l),Z=O[L]=E++),L+=1,m+=_,M=2;M<d;++M)c=f[m],P=S[L]=n(c,a,s,l),B=S[L+z],I=S[L+D],$=S[L+F],P===B&&P===I&&P===$||(y=f[m+v],x=f[m+b],k=f[m+w],t(T,M,c,y,x,k,P,B,I,$,a,s,l),Z=O[L]=E++,$!==I&&e(O[L+D],Z,x,k,I,$,a,s,l)),L+=1,m+=_;for(m+=A,L=0,U=z,z=N,N=U,U=D,D=R,R=U,U=F,F=j,j=U,T=2;T<u;++T){if(S[L++]=n(f[m],a,s,l),m+=_,d>0)for(M=1,c=f[m],P=S[L]=n(c,a,s,l),B=S[L+z],I=S[L+D],$=S[L+F],P===B&&P===I&&P===$||(y=f[m+v],x=f[m+b],k=f[m+w],t(T,M,c,y,x,k,P,B,I,$,a,s,l),Z=O[L]=E++,$!==B&&e(O[L+z],Z,k,y,$,B,a,s,l)),L+=1,m+=_,M=2;M<d;++M)c=f[m],P=S[L]=n(c,a,s,l),B=S[L+z],I=S[L+D],$=S[L+F],P===B&&P===I&&P===$||(y=f[m+v],x=f[m+b],k=f[m+w],t(T,M,c,y,x,k,P,B,I,$,a,s,l),Z=O[L]=E++,$!==I&&e(O[L+D],Z,x,k,I,$,a,s,l),$!==B&&e(O[L+z],Z,k,y,$,B,a,s,l)),L+=1,m+=_;1&T&&(L=0),U=z,z=N,N=U,U=D,D=R,R=U,U=F,F=j,j=U,m+=A}}i(O),i(S)}}}},{"typedarray-pool":308}],252:[function(t,e,n){"use strict";var r=t("dup"),i={zero:function(t,e,n,r){var i=t[0];r|=0;var o=0,a=n[0];for(o=0;o<i;++o)e[r]=0,r+=a},fdTemplate1:function(t,e,n,r,i,o,a){var s=t[0],l=n[0],c=-1*l,u=l;r|=0,a|=0;var d=0,f=l,h=o[0];for(d=0;d<s;++d)i[a]=.5*(e[r+c]-e[r+u]),r+=f,a+=h},fdTemplate2:function(t,e,n,r,i,o,a,s,l,c){var u=t[0],d=t[1],f=n[0],h=n[1],p=o[0],g=o[1],m=l[0],v=l[1],y=-1*f,b=f,x=-1*h,w=h;r|=0,a|=0,c|=0;var k=0,_=0,A=h,T=f-d*h,M=g,E=p-d*g,C=v,S=m-d*v;for(_=0;_<u;++_){for(k=0;k<d;++k)i[a]=.5*(e[r+y]-e[r+b]),s[c]=.5*(e[r+x]-e[r+w]),r+=A,a+=M,c+=C;r+=T,a+=E,c+=S}}},o={cdiff:function(t){var e={};return function(n,r,i){var o=n.dtype,a=n.order,s=r.dtype,l=r.order,c=i.dtype,u=i.order,d=[o,a.join(),s,l.join(),c,u.join()].join(),f=e[d];return f||(e[d]=f=t([o,a,s,l,c,u])),f(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i.data,i.stride,0|i.offset)}},zero:function(t){var e={};return function(n){var r=n.dtype,i=n.order,o=[r,i.join()].join(),a=e[o];return a||(e[o]=a=t([r,i])),a(n.shape.slice(0),n.data,n.stride,0|n.offset)}},fdTemplate1:function(t){var e={};return function(n,r){var i=n.dtype,o=n.order,a=r.dtype,s=r.order,l=[i,o.join(),a,s.join()].join(),c=e[l];return c||(e[l]=c=t([i,o,a,s])),c(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset)}},fdTemplate2:function(t){var e={};return function(n,r,i){var o=n.dtype,a=n.order,s=r.dtype,l=r.order,c=i.dtype,u=i.order,d=[o,a.join(),s,l.join(),c,u.join()].join(),f=e[d];return f||(e[d]=f=t([o,a,s,l,c,u])),f(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i.data,i.stride,0|i.offset)}}};function a(t){return(0,o[t.funcName])(s.bind(void 0,t))}function s(t){return i[t.funcName]}function l(t){return a({funcName:t.funcName})}var c={},u={},d=l({funcName:"cdiff"}),f=l({funcName:"zero"});function h(t){return t in c?c[t]:c[t]=l({funcName:"fdTemplate"+t})}function p(t,e,n,r){return function(t,i){var o=i.shape.slice();return o[0]>2&&o[1]>2&&r(i.pick(-1,-1).lo(1,1).hi(o[0]-2,o[1]-2),t.pick(-1,-1,0).lo(1,1).hi(o[0]-2,o[1]-2),t.pick(-1,-1,1).lo(1,1).hi(o[0]-2,o[1]-2)),o[1]>2&&(n(i.pick(0,-1).lo(1).hi(o[1]-2),t.pick(0,-1,1).lo(1).hi(o[1]-2)),e(t.pick(0,-1,0).lo(1).hi(o[1]-2))),o[1]>2&&(n(i.pick(o[0]-1,-1).lo(1).hi(o[1]-2),t.pick(o[0]-1,-1,1).lo(1).hi(o[1]-2)),e(t.pick(o[0]-1,-1,0).lo(1).hi(o[1]-2))),o[0]>2&&(n(i.pick(-1,0).lo(1).hi(o[0]-2),t.pick(-1,0,0).lo(1).hi(o[0]-2)),e(t.pick(-1,0,1).lo(1).hi(o[0]-2))),o[0]>2&&(n(i.pick(-1,o[1]-1).lo(1).hi(o[0]-2),t.pick(-1,o[1]-1,0).lo(1).hi(o[0]-2)),e(t.pick(-1,o[1]-1,1).lo(1).hi(o[0]-2))),t.set(0,0,0,0),t.set(0,0,1,0),t.set(o[0]-1,0,0,0),t.set(o[0]-1,0,1,0),t.set(0,o[1]-1,0,0),t.set(0,o[1]-1,1,0),t.set(o[0]-1,o[1]-1,0,0),t.set(o[0]-1,o[1]-1,1,0),t}}e.exports=function(t,e,n){return Array.isArray(n)||(n=r(e.dimension,"string"==typeof n?n:"clamp")),0===e.size?t:0===e.dimension?(t.set(0),t):function(t){var e=t.join();if(o=u[e])return o;for(var n=t.length,r=[d,f],i=1;i<=n;++i)r.push(h(i));var o=p.apply(void 0,r);return u[e]=o,o}(n)(t,e)}},{dup:65}],253:[function(t,e,n){"use strict";function r(t,e){var n=Math.floor(e),r=e-n,i=0<=n&&n<t.shape[0],o=0<=n+1&&n+1<t.shape[0];return(1-r)*(i?+t.get(n):0)+r*(o?+t.get(n+1):0)}function i(t,e,n){var r=Math.floor(e),i=e-r,o=0<=r&&r<t.shape[0],a=0<=r+1&&r+1<t.shape[0],s=Math.floor(n),l=n-s,c=0<=s&&s<t.shape[1],u=0<=s+1&&s+1<t.shape[1],d=o&&c?t.get(r,s):0,f=o&&u?t.get(r,s+1):0;return(1-l)*((1-i)*d+i*(a&&c?t.get(r+1,s):0))+l*((1-i)*f+i*(a&&u?t.get(r+1,s+1):0))}function o(t,e,n,r){var i=Math.floor(e),o=e-i,a=0<=i&&i<t.shape[0],s=0<=i+1&&i+1<t.shape[0],l=Math.floor(n),c=n-l,u=0<=l&&l<t.shape[1],d=0<=l+1&&l+1<t.shape[1],f=Math.floor(r),h=r-f,p=0<=f&&f<t.shape[2],g=0<=f+1&&f+1<t.shape[2],m=a&&u&&p?t.get(i,l,f):0,v=a&&d&&p?t.get(i,l+1,f):0,y=s&&u&&p?t.get(i+1,l,f):0,b=s&&d&&p?t.get(i+1,l+1,f):0,x=a&&u&&g?t.get(i,l,f+1):0,w=a&&d&&g?t.get(i,l+1,f+1):0;return(1-h)*((1-c)*((1-o)*m+o*y)+c*((1-o)*v+o*b))+h*((1-c)*((1-o)*x+o*(s&&u&&g?t.get(i+1,l,f+1):0))+c*((1-o)*w+o*(s&&d&&g?t.get(i+1,l+1,f+1):0)))}function a(t){var e,n,r=0|t.shape.length,i=new Array(r),o=new Array(r),a=new Array(r),s=new Array(r);for(e=0;e<r;++e)n=+arguments[e+1],i[e]=Math.floor(n),o[e]=n-i[e],a[e]=0<=i[e]&&i[e]<t.shape[e],s[e]=0<=i[e]+1&&i[e]+1<t.shape[e];var l,c,u,d=0;t:for(e=0;e<1<<r;++e){for(c=1,u=t.offset,l=0;l<r;++l)if(e&1<<l){if(!s[l])continue t;c*=o[l],u+=t.stride[l]*(i[l]+1)}else{if(!a[l])continue t;c*=1-o[l],u+=t.stride[l]*i[l]}d+=c*t.data[u]}return d}e.exports=function(t,e,n,s){switch(t.shape.length){case 0:return 0;case 1:return r(t,e);case 2:return i(t,e,n);case 3:return o(t,e,n,s);default:return a.apply(void 0,arguments)}},e.exports.d1=r,e.exports.d2=i,e.exports.d3=o},{}],254:[function(t,e,n){"use strict";var r={"float64,2,1,0":function(){return function(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=n[0],c=n[1],u=n[2];r|=0;var d=0,f=0,h=0,p=u,g=c-s*u,m=l-a*c;for(h=0;h<o;++h){for(f=0;f<a;++f){for(d=0;d<s;++d)e[r]/=i,r+=p;r+=g}r+=m}}},"uint8,2,0,1,float64,2,1,0":function(){return function(t,e,n,r,i,o,a,s){for(var l=t[0],c=t[1],u=t[2],d=n[0],f=n[1],h=n[2],p=o[0],g=o[1],m=o[2],v=r|=0,y=a|=0,b=0|t[0];b>0;){b<64?(l=b,b=0):(l=64,b-=64);for(var x=0|t[1];x>0;){x<64?(c=x,x=0):(c=64,x-=64),r=v+b*d+x*f,a=y+b*p+x*g;var w=0,k=0,_=0,A=h,T=d-u*h,M=f-l*d,E=m,C=p-u*m,S=g-l*p;for(_=0;_<c;++_){for(k=0;k<l;++k){for(w=0;w<u;++w)e[r]=i[a]*s,r+=A,a+=E;r+=T,a+=C}r+=M,a+=S}}}}},"float32,1,0,float32,1,0":function(){return function(t,e,n,r,i,o,a){var s=t[0],l=t[1],c=n[0],u=n[1],d=o[0],f=o[1];r|=0,a|=0;var h=0,p=0,g=u,m=c-l*u,v=f,y=d-l*f;for(p=0;p<s;++p){for(h=0;h<l;++h)e[r]=i[a],r+=g,a+=v;r+=m,a+=y}}},"float32,1,0,float32,0,1":function(){return function(t,e,n,r,i,o,a){for(var s=t[0],l=t[1],c=n[0],u=n[1],d=o[0],f=o[1],h=r|=0,p=a|=0,g=0|t[1];g>0;){g<64?(l=g,g=0):(l=64,g-=64);for(var m=0|t[0];m>0;){m<64?(s=m,m=0):(s=64,m-=64),r=h+g*u+m*c,a=p+g*f+m*d;var v=0,y=0,b=u,x=c-l*u,w=f,k=d-l*f;for(y=0;y<s;++y){for(v=0;v<l;++v)e[r]=i[a],r+=b,a+=w;r+=x,a+=k}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(t,e,n,r,i,o,a){for(var s=t[0],l=t[1],c=t[2],u=n[0],d=n[1],f=n[2],h=o[0],p=o[1],g=o[2],m=r|=0,v=a|=0,y=0|t[2];y>0;){y<64?(c=y,y=0):(c=64,y-=64);for(var b=0|t[0];b>0;){b<64?(s=b,b=0):(s=64,b-=64);for(var x=0|t[1];x>0;){x<64?(l=x,x=0):(l=64,x-=64),r=m+y*f+b*u+x*d,a=v+y*g+b*h+x*p;var w=0,k=0,_=0,A=f,T=u-c*f,M=d-s*u,E=g,C=h-c*g,S=p-s*h;for(_=0;_<l;++_){for(k=0;k<s;++k){for(w=0;w<c;++w)e[r]=i[a],r+=A,a+=E;r+=T,a+=C}r+=M,a+=S}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(t,e,n,r,i,o,a){var s=t[0],l=t[1],c=t[2],u=n[0],d=n[1],f=n[2],h=o[0],p=o[1],g=o[2];r|=0,a|=0;var m=0,v=0,y=0,b=f,x=u-c*f,w=d-s*u,k=g,_=h-c*g,A=p-s*h;for(y=0;y<l;++y){for(v=0;v<s;++v){for(m=0;m<c;++m)e[r]=i[a],r+=b,a+=k;r+=x,a+=_}r+=w,a+=A}}}},i=function(t,e){var n=e.join(",");return(0,r[n])()},o={mul:function(t){var e={};return function(n,r,i){var o=n.dtype,a=n.order,s=r.dtype,l=r.order,c=i.dtype,u=i.order,d=[o,a.join(),s,l.join(),c,u.join()].join(),f=e[d];return f||(e[d]=f=t([o,a,s,l,c,u])),f(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i.data,i.stride,0|i.offset)}},muls:function(t){var e={};return function(n,r,i){var o=n.dtype,a=n.order,s=r.dtype,l=r.order,c=[o,a.join(),s,l.join()].join(),u=e[c];return u||(e[c]=u=t([o,a,s,l])),u(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i)}},mulseq:function(t){var e={};return function(n,r){var i=n.dtype,o=n.order,a=[i,o.join()].join(),s=e[a];return s||(e[a]=s=t([i,o])),s(n.shape.slice(0),n.data,n.stride,0|n.offset,r)}},div:function(t){var e={};return function(n,r,i){var o=n.dtype,a=n.order,s=r.dtype,l=r.order,c=i.dtype,u=i.order,d=[o,a.join(),s,l.join(),c,u.join()].join(),f=e[d];return f||(e[d]=f=t([o,a,s,l,c,u])),f(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i.data,i.stride,0|i.offset)}},divs:function(t){var e={};return function(n,r,i){var o=n.dtype,a=n.order,s=r.dtype,l=r.order,c=[o,a.join(),s,l.join()].join(),u=e[c];return u||(e[c]=u=t([o,a,s,l])),u(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i)}},divseq:function(t){var e={};return function(n,r){var i=n.dtype,o=n.order,a=[i,o.join()].join(),s=e[a];return s||(e[a]=s=t([i,o])),s(n.shape.slice(0),n.data,n.stride,0|n.offset,r)}},assign:function(t){var e={};return function(n,r){var i=n.dtype,o=n.order,a=r.dtype,s=r.order,l=[i,o.join(),a,s.join()].join(),c=e[l];return c||(e[l]=c=t([i,o,a,s])),c(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset)}}};function a(t){return e={funcName:t.funcName},(0,o[e.funcName])(i.bind(void 0,e));var e}var s={mul:"*",div:"/"};!function(){for(var t in s)n[t]=a({funcName:t}),n[t+"s"]=a({funcName:t+"s"}),n[t+"seq"]=a({funcName:t+"seq"})}(),n.assign=a({funcName:"assign"})},{}],255:[function(t,e,n){"use strict";var r=t("ndarray"),i=t("./doConvert.js");e.exports=function(t,e){for(var n=[],o=t,a=1;Array.isArray(o);)n.push(o.length),a*=o.length,o=o[0];return 0===n.length?r():(e||(e=r(new Float64Array(a),n)),i(e,t),e)}},{"./doConvert.js":256,ndarray:259}],256:[function(t,e,n){"use strict";var r,i=function(){return function(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=n[0],c=n[1],u=n[2],d=[0,0,0];r|=0;var f=0,h=0,p=0,g=u,m=c-s*u,v=l-a*c;for(p=0;p<o;++p){for(h=0;h<a;++h){for(f=0;f<s;++f){var y,b=i;for(y=0;y<d.length-1;++y)b=b[d[y]];e[r]=b[d[d.length-1]],r+=g,++d[2]}r+=m,d[2]-=s,++d[1]}r+=v,d[1]-=a,++d[0]}}};e.exports=(r={funcName:"convert"},function(t){var e={};return function(n,r){var i=n.dtype,o=n.order,a=[i,o.join()].join(),s=e[a];return s||(e[a]=s=t([i,o])),s(n.shape.slice(0),n.data,n.stride,0|n.offset,r)}}(i.bind(void 0,r)))},{}],257:[function(t,e,n){"use strict";var r=t("typedarray-pool");function i(t){return"uint32"===t?[r.mallocUint32,r.freeUint32]:null}var o={"uint32,1,0":function(t,e){return function(n,r,i,o,a,s,l,c,u,d,f){var h,p,g,m,v,y,b,x,w=n*a+o,k=t(c);for(h=n+1;h<=r;++h){for(p=h,g=w+=a,v=0,y=w,m=0;m<c;++m)k[v++]=i[y],y+=u;t:for(;p-- >n;){v=0,y=g-a;e:for(m=0;m<c;++m){if((b=i[y])<(x=k[v]))break t;if(b>x)break e;y+=d,v+=f}for(v=g,y=g-a,m=0;m<c;++m)i[v]=i[y],v+=u,y+=u;g-=a}for(v=g,y=0,m=0;m<c;++m)i[v]=k[y++],v+=u}e(k)}}},a={"uint32,1,0":function(t,e,n){return function r(i,o,a,s,l,c,u,d,f,h,p){var g,m,v,y,b,x,w,k,_,A,T,M,E,C,S,O,L,P,D,R,I,z,N,B,F,j=(o-i+1)/6|0,$=i+j,Z=o-j,U=i+o>>1,H=U-j,V=U+j,W=$,Y=H,G=U,q=V,X=Z,J=i+1,K=o-1,Q=!0,tt=0,et=0,nt=0,rt=d,it=e(rt),ot=e(rt);T=l*W,M=l*Y,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=W,W=Y,Y=m;break t}if(nt<0)break t;F+=h}T=l*q,M=l*X,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=q,q=X,X=m;break t}if(nt<0)break t;F+=h}T=l*W,M=l*G,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=W,W=G,G=m;break t}if(nt<0)break t;F+=h}T=l*Y,M=l*G,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=Y,Y=G,G=m;break t}if(nt<0)break t;F+=h}T=l*W,M=l*q,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=W,W=q,q=m;break t}if(nt<0)break t;F+=h}T=l*G,M=l*q,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=G,G=q,q=m;break t}if(nt<0)break t;F+=h}T=l*Y,M=l*X,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=Y,Y=X,X=m;break t}if(nt<0)break t;F+=h}T=l*Y,M=l*G,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=Y,Y=G,G=m;break t}if(nt<0)break t;F+=h}T=l*q,M=l*X,F=s;t:for(A=0;A<d;++A){if(k=M+F,(nt=a[w=T+F]-a[k])>0){m=q,q=X,X=m;break t}if(nt<0)break t;F+=h}for(T=l*W,M=l*Y,E=l*G,C=l*q,S=l*X,O=l*$,L=l*U,P=l*Z,B=0,F=s,A=0;A<d;++A)w=T+F,k=M+F,_=E+F,D=C+F,R=S+F,I=O+F,z=L+F,N=P+F,it[B]=a[k],ot[B]=a[D],Q=Q&&it[B]===ot[B],v=a[w],y=a[_],b=a[R],a[I]=v,a[z]=y,a[N]=b,++B,F+=f;for(T=l*H,M=l*i,F=s,A=0;A<d;++A)k=M+F,a[w=T+F]=a[k],F+=f;for(T=l*V,M=l*o,F=s,A=0;A<d;++A)k=M+F,a[w=T+F]=a[k],F+=f;if(Q)for(x=J;x<=K;++x){for(w=s+x*l,B=0,A=0;A<d&&0===(nt=a[w]-it[B]);++A)B+=p,w+=h;if(0!==nt)if(nt<0){if(x!==J)for(T=l*x,M=l*J,F=s,A=0;A<d;++A)k=M+F,g=a[w=T+F],a[w]=a[k],a[k]=g,F+=f;++J}else for(;;){for(w=s+K*l,B=0,A=0;A<d&&0===(nt=a[w]-it[B]);++A)B+=p,w+=h;if(!(nt>0)){if(nt<0){for(T=l*x,M=l*J,E=l*K,F=s,A=0;A<d;++A)k=M+F,_=E+F,g=a[w=T+F],a[w]=a[k],a[k]=a[_],a[_]=g,F+=f;++J,--K;break}for(T=l*x,M=l*K,F=s,A=0;A<d;++A)k=M+F,g=a[w=T+F],a[w]=a[k],a[k]=g,F+=f;--K;break}K--}}else for(x=J;x<=K;++x){for(w=s+x*l,B=0,A=0;A<d&&0===(tt=a[w]-it[B]);++A)B+=p,w+=h;if(tt<0){if(x!==J)for(T=l*x,M=l*J,F=s,A=0;A<d;++A)k=M+F,g=a[w=T+F],a[w]=a[k],a[k]=g,F+=f;++J}else{for(w=s+x*l,B=0,A=0;A<d&&0===(et=a[w]-ot[B]);++A)B+=p,w+=h;if(et>0)for(;;){for(w=s+K*l,B=0,A=0;A<d&&0===(nt=a[w]-ot[B]);++A)B+=p,w+=h;if(!(nt>0)){for(w=s+K*l,B=0,A=0;A<d&&0===(nt=a[w]-it[B]);++A)B+=p,w+=h;if(nt<0){for(T=l*x,M=l*J,E=l*K,F=s,A=0;A<d;++A)k=M+F,_=E+F,g=a[w=T+F],a[w]=a[k],a[k]=a[_],a[_]=g,F+=f;++J,--K}else{for(T=l*x,M=l*K,F=s,A=0;A<d;++A)k=M+F,g=a[w=T+F],a[w]=a[k],a[k]=g,F+=f;--K}break}if(--K<x)break}}}for(T=l*i,M=l*(J-1),B=0,F=s,A=0;A<d;++A)k=M+F,a[w=T+F]=a[k],a[k]=it[B],++B,F+=f;for(T=l*o,M=l*(K+1),B=0,F=s,A=0;A<d;++A)k=M+F,a[w=T+F]=a[k],a[k]=ot[B],++B,F+=f;if(J-2-i<=32?t(i,J-2,a,s,l,c,u,d,f,h,p):r(i,J-2,a,s,l,c,u,d,f,h,p),o-(K+2)<=32?t(K+2,o,a,s,l,c,u,d,f,h,p):r(K+2,o,a,s,l,c,u,d,f,h,p),Q)return n(it),void n(ot);if(J<$&&K>Z){t:for(;;){for(w=s+J*l,B=0,F=s,A=0;A<d;++A){if(a[w]!==it[B])break t;++B,w+=f}++J}t:for(;;){for(w=s+K*l,B=0,F=s,A=0;A<d;++A){if(a[w]!==ot[B])break t;++B,w+=f}--K}for(x=J;x<=K;++x){for(w=s+x*l,B=0,A=0;A<d&&0===(tt=a[w]-it[B]);++A)B+=p,w+=h;if(0===tt){if(x!==J)for(T=l*x,M=l*J,F=s,A=0;A<d;++A)k=M+F,g=a[w=T+F],a[w]=a[k],a[k]=g,F+=f;++J}else{for(w=s+x*l,B=0,A=0;A<d&&0===(et=a[w]-ot[B]);++A)B+=p,w+=h;if(0===et)for(;;){for(w=s+K*l,B=0,A=0;A<d&&0===(nt=a[w]-ot[B]);++A)B+=p,w+=h;if(0!==nt){for(w=s+K*l,B=0,A=0;A<d&&0===(nt=a[w]-it[B]);++A)B+=p,w+=h;if(nt<0){for(T=l*x,M=l*J,E=l*K,F=s,A=0;A<d;++A)k=M+F,_=E+F,g=a[w=T+F],a[w]=a[k],a[k]=a[_],a[_]=g,F+=f;++J,--K}else{for(T=l*x,M=l*K,F=s,A=0;A<d;++A)k=M+F,g=a[w=T+F],a[w]=a[k],a[k]=g,F+=f;--K}break}if(--K<x)break}}}}n(it),n(ot),K-J<=32?t(J,K,a,s,l,c,u,d,f,h,p):r(J,K,a,s,l,c,u,d,f,h,p)}}},s={"uint32,1,0":function(t,e){return function(n){var r=n.data,i=0|n.offset,o=n.shape,a=n.stride,s=0|a[0],l=0|o[0],c=0|a[1],u=0|o[1],d=c,f=c;l<=32?t(0,l-1,r,i,s,c,l,u,d,f,1):e(0,l-1,r,i,s,c,l,u,d,f,1)}}};e.exports=function(t,e){var n=[e,t].join(","),r=s[n],l=function(t,e){var n=i(e),r=[e,t].join(","),a=o[r];return n?a(n[0],n[1]):a()}(t,e),c=function(t,e,n){var r=i(e),o=[e,t].join(","),s=a[o];return t.length>1&&r?s(n,r[0],r[1]):s(n)}(t,e,l);return r(l,c)}},{"typedarray-pool":308}],258:[function(t,e,n){"use strict";var r=t("./lib/compile_sort.js"),i={};e.exports=function(t){var e=t.order,n=t.dtype,o=[e,n].join(":"),a=i[o];return a||(i[o]=a=r(e,n)),a(t),t}},{"./lib/compile_sort.js":257}],259:[function(t,e,n){var r=t("is-buffer"),i="undefined"!=typeof Float64Array;function o(t,e){return t[0]-e[0]}function a(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(o);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}var s={T:function(t){function e(t){this.data=t}var n=e.prototype;return n.dtype=t,n.index=function(){return-1},n.size=0,n.dimension=-1,n.shape=n.stride=n.order=[],n.lo=n.hi=n.transpose=n.step=function(){return new e(this.data)},n.get=n.set=function(){},n.pick=function(){return null},function(t){return new e(t)}},0:function(t,e){function n(t,e){this.data=t,this.offset=e}var r=n.prototype;return r.dtype=t,r.index=function(){return this.offset},r.dimension=0,r.size=1,r.shape=r.stride=r.order=[],r.lo=r.hi=r.transpose=r.step=function(){return new n(this.data,this.offset)},r.pick=function(){return e(this.data)},r.valueOf=r.get=function(){return"generic"===t?this.data.get(this.offset):this.data[this.offset]},r.set=function(e){return"generic"===t?this.data.set(this.offset,e):this.data[this.offset]=e},function(t,e,r,i){return new n(t,i)}},1:function(t,e,n){function r(t,e,n,r){this.data=t,this.shape=[e],this.stride=[n],this.offset=0|r}var i=r.prototype;return i.dtype=t,i.dimension=1,Object.defineProperty(i,"size",{get:function(){return this.shape[0]}}),i.order=[0],i.set=function(e,n){return"generic"===t?this.data.set(this.offset+this.stride[0]*e,n):this.data[this.offset+this.stride[0]*e]=n},i.get=function(e){return"generic"===t?this.data.get(this.offset+this.stride[0]*e):this.data[this.offset+this.stride[0]*e]},i.index=function(t){return this.offset+this.stride[0]*t},i.hi=function(t){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,this.stride[0],this.offset)},i.lo=function(t){var e=this.offset,n=0,i=this.shape[0],o=this.stride[0];return"number"==typeof t&&t>=0&&(e+=o*(n=0|t),i-=n),new r(this.data,i,o,e)},i.step=function(t){var e=this.shape[0],n=this.stride[0],i=this.offset,o=0,a=Math.ceil;return"number"==typeof t&&((o=0|t)<0?(i+=n*(e-1),e=a(-e/o)):e=a(e/o),n*=o),new r(this.data,e,n,i)},i.transpose=function(t){t=void 0===t?0:0|t;var e=this.shape,n=this.stride;return new r(this.data,e[t],n[t],this.offset)},i.pick=function(t){var n=[],r=[],i=this.offset;return"number"==typeof t&&t>=0?i=i+this.stride[0]*t|0:(n.push(this.shape[0]),r.push(this.stride[0])),(0,e[n.length+1])(this.data,n,r,i)},function(t,e,n,i){return new r(t,e[0],n[0],i)}},2:function(t,e,n){function r(t,e,n,r,i,o){this.data=t,this.shape=[e,n],this.stride=[r,i],this.offset=0|o}var i=r.prototype;return i.dtype=t,i.dimension=2,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(i,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),i.set=function(e,n,r){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*n,r):this.data[this.offset+this.stride[0]*e+this.stride[1]*n]=r},i.get=function(e,n){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*n):this.data[this.offset+this.stride[0]*e+this.stride[1]*n]},i.index=function(t,e){return this.offset+this.stride[0]*t+this.stride[1]*e},i.hi=function(t,e){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,this.stride[0],this.stride[1],this.offset)},i.lo=function(t,e){var n=this.offset,i=0,o=this.shape[0],a=this.shape[1],s=this.stride[0],l=this.stride[1];return"number"==typeof t&&t>=0&&(n+=s*(i=0|t),o-=i),"number"==typeof e&&e>=0&&(n+=l*(i=0|e),a-=i),new r(this.data,o,a,s,l,n)},i.step=function(t,e){var n=this.shape[0],i=this.shape[1],o=this.stride[0],a=this.stride[1],s=this.offset,l=0,c=Math.ceil;return"number"==typeof t&&((l=0|t)<0?(s+=o*(n-1),n=c(-n/l)):n=c(n/l),o*=l),"number"==typeof e&&((l=0|e)<0?(s+=a*(i-1),i=c(-i/l)):i=c(i/l),a*=l),new r(this.data,n,i,o,a,s)},i.transpose=function(t,e){t=void 0===t?0:0|t,e=void 0===e?1:0|e;var n=this.shape,i=this.stride;return new r(this.data,n[t],n[e],i[t],i[e],this.offset)},i.pick=function(t,n){var r=[],i=[],o=this.offset;return"number"==typeof t&&t>=0?o=o+this.stride[0]*t|0:(r.push(this.shape[0]),i.push(this.stride[0])),"number"==typeof n&&n>=0?o=o+this.stride[1]*n|0:(r.push(this.shape[1]),i.push(this.stride[1])),(0,e[r.length+1])(this.data,r,i,o)},function(t,e,n,i){return new r(t,e[0],e[1],n[0],n[1],i)}},3:function(t,e,n){function r(t,e,n,r,i,o,a,s){this.data=t,this.shape=[e,n,r],this.stride=[i,o,a],this.offset=0|s}var i=r.prototype;return i.dtype=t,i.dimension=3,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(i,"order",{get:function(){var t=Math.abs(this.stride[0]),e=Math.abs(this.stride[1]),n=Math.abs(this.stride[2]);return t>e?e>n?[2,1,0]:t>n?[1,2,0]:[1,0,2]:t>n?[2,0,1]:n>e?[0,1,2]:[0,2,1]}}),i.set=function(e,n,r,i){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r,i):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r]=i},i.get=function(e,n,r){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r]},i.index=function(t,e,n){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*n},i.hi=function(t,e,n){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof n||n<0?this.shape[2]:0|n,this.stride[0],this.stride[1],this.stride[2],this.offset)},i.lo=function(t,e,n){var i=this.offset,o=0,a=this.shape[0],s=this.shape[1],l=this.shape[2],c=this.stride[0],u=this.stride[1],d=this.stride[2];return"number"==typeof t&&t>=0&&(i+=c*(o=0|t),a-=o),"number"==typeof e&&e>=0&&(i+=u*(o=0|e),s-=o),"number"==typeof n&&n>=0&&(i+=d*(o=0|n),l-=o),new r(this.data,a,s,l,c,u,d,i)},i.step=function(t,e,n){var i=this.shape[0],o=this.shape[1],a=this.shape[2],s=this.stride[0],l=this.stride[1],c=this.stride[2],u=this.offset,d=0,f=Math.ceil;return"number"==typeof t&&((d=0|t)<0?(u+=s*(i-1),i=f(-i/d)):i=f(i/d),s*=d),"number"==typeof e&&((d=0|e)<0?(u+=l*(o-1),o=f(-o/d)):o=f(o/d),l*=d),"number"==typeof n&&((d=0|n)<0?(u+=c*(a-1),a=f(-a/d)):a=f(a/d),c*=d),new r(this.data,i,o,a,s,l,c,u)},i.transpose=function(t,e,n){t=void 0===t?0:0|t,e=void 0===e?1:0|e,n=void 0===n?2:0|n;var i=this.shape,o=this.stride;return new r(this.data,i[t],i[e],i[n],o[t],o[e],o[n],this.offset)},i.pick=function(t,n,r){var i=[],o=[],a=this.offset;return"number"==typeof t&&t>=0?a=a+this.stride[0]*t|0:(i.push(this.shape[0]),o.push(this.stride[0])),"number"==typeof n&&n>=0?a=a+this.stride[1]*n|0:(i.push(this.shape[1]),o.push(this.stride[1])),"number"==typeof r&&r>=0?a=a+this.stride[2]*r|0:(i.push(this.shape[2]),o.push(this.stride[2])),(0,e[i.length+1])(this.data,i,o,a)},function(t,e,n,i){return new r(t,e[0],e[1],e[2],n[0],n[1],n[2],i)}},4:function(t,e,n){function r(t,e,n,r,i,o,a,s,l,c){this.data=t,this.shape=[e,n,r,i],this.stride=[o,a,s,l],this.offset=0|c}var i=r.prototype;return i.dtype=t,i.dimension=4,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(i,"order",{get:n}),i.set=function(e,n,r,i,o){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i,o):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i]=o},i.get=function(e,n,r,i){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i]},i.index=function(t,e,n,r){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*n+this.stride[3]*r},i.hi=function(t,e,n,i){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof n||n<0?this.shape[2]:0|n,"number"!=typeof i||i<0?this.shape[3]:0|i,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},i.lo=function(t,e,n,i){var o=this.offset,a=0,s=this.shape[0],l=this.shape[1],c=this.shape[2],u=this.shape[3],d=this.stride[0],f=this.stride[1],h=this.stride[2],p=this.stride[3];return"number"==typeof t&&t>=0&&(o+=d*(a=0|t),s-=a),"number"==typeof e&&e>=0&&(o+=f*(a=0|e),l-=a),"number"==typeof n&&n>=0&&(o+=h*(a=0|n),c-=a),"number"==typeof i&&i>=0&&(o+=p*(a=0|i),u-=a),new r(this.data,s,l,c,u,d,f,h,p,o)},i.step=function(t,e,n,i){var o=this.shape[0],a=this.shape[1],s=this.shape[2],l=this.shape[3],c=this.stride[0],u=this.stride[1],d=this.stride[2],f=this.stride[3],h=this.offset,p=0,g=Math.ceil;return"number"==typeof t&&((p=0|t)<0?(h+=c*(o-1),o=g(-o/p)):o=g(o/p),c*=p),"number"==typeof e&&((p=0|e)<0?(h+=u*(a-1),a=g(-a/p)):a=g(a/p),u*=p),"number"==typeof n&&((p=0|n)<0?(h+=d*(s-1),s=g(-s/p)):s=g(s/p),d*=p),"number"==typeof i&&((p=0|i)<0?(h+=f*(l-1),l=g(-l/p)):l=g(l/p),f*=p),new r(this.data,o,a,s,l,c,u,d,f,h)},i.transpose=function(t,e,n,i){t=void 0===t?0:0|t,e=void 0===e?1:0|e,n=void 0===n?2:0|n,i=void 0===i?3:0|i;var o=this.shape,a=this.stride;return new r(this.data,o[t],o[e],o[n],o[i],a[t],a[e],a[n],a[i],this.offset)},i.pick=function(t,n,r,i){var o=[],a=[],s=this.offset;return"number"==typeof t&&t>=0?s=s+this.stride[0]*t|0:(o.push(this.shape[0]),a.push(this.stride[0])),"number"==typeof n&&n>=0?s=s+this.stride[1]*n|0:(o.push(this.shape[1]),a.push(this.stride[1])),"number"==typeof r&&r>=0?s=s+this.stride[2]*r|0:(o.push(this.shape[2]),a.push(this.stride[2])),"number"==typeof i&&i>=0?s=s+this.stride[3]*i|0:(o.push(this.shape[3]),a.push(this.stride[3])),(0,e[o.length+1])(this.data,o,a,s)},function(t,e,n,i){return new r(t,e[0],e[1],e[2],e[3],n[0],n[1],n[2],n[3],i)}},5:function(t,e,n){function r(t,e,n,r,i,o,a,s,l,c,u,d){this.data=t,this.shape=[e,n,r,i,o],this.stride=[a,s,l,c,u],this.offset=0|d}var i=r.prototype;return i.dtype=t,i.dimension=5,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(i,"order",{get:n}),i.set=function(e,n,r,i,o,a){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*o,a):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*o]=a},i.get=function(e,n,r,i,o){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*o):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*o]},i.index=function(t,e,n,r,i){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*n+this.stride[3]*r+this.stride[4]*i},i.hi=function(t,e,n,i,o){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof n||n<0?this.shape[2]:0|n,"number"!=typeof i||i<0?this.shape[3]:0|i,"number"!=typeof o||o<0?this.shape[4]:0|o,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},i.lo=function(t,e,n,i,o){var a=this.offset,s=0,l=this.shape[0],c=this.shape[1],u=this.shape[2],d=this.shape[3],f=this.shape[4],h=this.stride[0],p=this.stride[1],g=this.stride[2],m=this.stride[3],v=this.stride[4];return"number"==typeof t&&t>=0&&(a+=h*(s=0|t),l-=s),"number"==typeof e&&e>=0&&(a+=p*(s=0|e),c-=s),"number"==typeof n&&n>=0&&(a+=g*(s=0|n),u-=s),"number"==typeof i&&i>=0&&(a+=m*(s=0|i),d-=s),"number"==typeof o&&o>=0&&(a+=v*(s=0|o),f-=s),new r(this.data,l,c,u,d,f,h,p,g,m,v,a)},i.step=function(t,e,n,i,o){var a=this.shape[0],s=this.shape[1],l=this.shape[2],c=this.shape[3],u=this.shape[4],d=this.stride[0],f=this.stride[1],h=this.stride[2],p=this.stride[3],g=this.stride[4],m=this.offset,v=0,y=Math.ceil;return"number"==typeof t&&((v=0|t)<0?(m+=d*(a-1),a=y(-a/v)):a=y(a/v),d*=v),"number"==typeof e&&((v=0|e)<0?(m+=f*(s-1),s=y(-s/v)):s=y(s/v),f*=v),"number"==typeof n&&((v=0|n)<0?(m+=h*(l-1),l=y(-l/v)):l=y(l/v),h*=v),"number"==typeof i&&((v=0|i)<0?(m+=p*(c-1),c=y(-c/v)):c=y(c/v),p*=v),"number"==typeof o&&((v=0|o)<0?(m+=g*(u-1),u=y(-u/v)):u=y(u/v),g*=v),new r(this.data,a,s,l,c,u,d,f,h,p,g,m)},i.transpose=function(t,e,n,i,o){t=void 0===t?0:0|t,e=void 0===e?1:0|e,n=void 0===n?2:0|n,i=void 0===i?3:0|i,o=void 0===o?4:0|o;var a=this.shape,s=this.stride;return new r(this.data,a[t],a[e],a[n],a[i],a[o],s[t],s[e],s[n],s[i],s[o],this.offset)},i.pick=function(t,n,r,i,o){var a=[],s=[],l=this.offset;return"number"==typeof t&&t>=0?l=l+this.stride[0]*t|0:(a.push(this.shape[0]),s.push(this.stride[0])),"number"==typeof n&&n>=0?l=l+this.stride[1]*n|0:(a.push(this.shape[1]),s.push(this.stride[1])),"number"==typeof r&&r>=0?l=l+this.stride[2]*r|0:(a.push(this.shape[2]),s.push(this.stride[2])),"number"==typeof i&&i>=0?l=l+this.stride[3]*i|0:(a.push(this.shape[3]),s.push(this.stride[3])),"number"==typeof o&&o>=0?l=l+this.stride[4]*o|0:(a.push(this.shape[4]),s.push(this.stride[4])),(0,e[a.length+1])(this.data,a,s,l)},function(t,e,n,i){return new r(t,e[0],e[1],e[2],e[3],e[4],n[0],n[1],n[2],n[3],n[4],i)}}};function l(t,e){var n=-1===e?"T":String(e),r=s[n];return-1===e?r(t):0===e?r(t,c[t][0]):r(t,c[t],a)}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};e.exports=function(t,e,n,o){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===n){n=new Array(a);for(var s=a-1,u=1;s>=0;--s)n[s]=u,u*=e[s]}if(void 0===o)for(o=0,s=0;s<a;++s)n[s]<0&&(o-=(e[s]-1)*n[s]);for(var d=function(t){if(r(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),f=c[d];f.length<=a+1;)f.push(l(d,f.length-1));return(0,f[a+1])(t,e,n,o)}},{"is-buffer":237}],260:[function(t,e,n){"use strict";var r=t("double-bits"),i=Math.pow(2,-1074);e.exports=function(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-i:i;var n=r.hi(t),o=r.lo(t);return e>t==t>0?o===-1>>>0?(n+=1,o=0):o+=1:0===o?(o=-1>>>0,n-=1):o-=1,r.pack(o,n)}},{"double-bits":64}],261:[function(t,e,n){n.vertexNormals=function(t,e,n){for(var r=e.length,i=new Array(r),o=void 0===n?1e-6:n,a=0;a<r;++a)i[a]=[0,0,0];for(a=0;a<t.length;++a)for(var s=t[a],l=0,c=s[s.length-1],u=s[0],d=0;d<s.length;++d){l=c,c=u,u=s[(d+1)%s.length];for(var f=e[l],h=e[c],p=e[u],g=new Array(3),m=0,v=new Array(3),y=0,b=0;b<3;++b)g[b]=f[b]-h[b],m+=g[b]*g[b],v[b]=p[b]-h[b],y+=v[b]*v[b];if(m*y>o){var x=i[c],w=1/Math.sqrt(m*y);for(b=0;b<3;++b){var k=(b+1)%3,_=(b+2)%3;x[b]+=w*(v[k]*g[_]-v[_]*g[k])}}}for(a=0;a<r;++a){x=i[a];var A=0;for(b=0;b<3;++b)A+=x[b]*x[b];if(A>o)for(w=1/Math.sqrt(A),b=0;b<3;++b)x[b]*=w;else for(b=0;b<3;++b)x[b]=0}return i},n.faceNormals=function(t,e,n){for(var r=t.length,i=new Array(r),o=void 0===n?1e-6:n,a=0;a<r;++a){for(var s=t[a],l=new Array(3),c=0;c<3;++c)l[c]=e[s[c]];var u=new Array(3),d=new Array(3);for(c=0;c<3;++c)u[c]=l[1][c]-l[0][c],d[c]=l[2][c]-l[0][c];var f=new Array(3),h=0;for(c=0;c<3;++c){var p=(c+1)%3,g=(c+2)%3;f[c]=u[p]*d[g]-u[g]*d[p],h+=f[c]*f[c]}for(h=h>o?1/Math.sqrt(h):0,c=0;c<3;++c)f[c]*=h;i[a]=f}return i}},{}],262:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o,a,s,l,c){var u=e+o+c;if(d>0){var d=Math.sqrt(u+1);t[0]=.5*(a-l)/d,t[1]=.5*(s-r)/d,t[2]=.5*(n-o)/d,t[3]=.5*d}else{var f=Math.max(e,o,c);d=Math.sqrt(2*f-u+1),e>=f?(t[0]=.5*d,t[1]=.5*(i+n)/d,t[2]=.5*(s+r)/d,t[3]=.5*(a-l)/d):o>=f?(t[0]=.5*(n+i)/d,t[1]=.5*d,t[2]=.5*(l+a)/d,t[3]=.5*(s-r)/d):(t[0]=.5*(r+s)/d,t[1]=.5*(a+l)/d,t[2]=.5*d,t[3]=.5*(n-i)/d)}return t}},{}],263:[function(t,e,n){"use strict";e.exports=function(t){var e=(t=t||{}).center||[0,0,0],n=t.rotation||[0,0,0,1],r=t.radius||1;e=[].slice.call(e,0,3),u(n=[].slice.call(n,0,4),n);var i=new d(n,e,Math.log(r));return i.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&i.lookAt(0,t.eye,t.center,t.up),i};var r=t("filtered-vector"),i=t("gl-mat4/lookAt"),o=t("gl-mat4/fromQuat"),a=t("gl-mat4/invert"),s=t("./lib/quatFromFrame");function l(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function c(t,e,n,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2)+Math.pow(r,2))}function u(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=c(n,r,i,o);a>1e-6?(t[0]=n/a,t[1]=r/a,t[2]=i/a,t[3]=o/a):(t[0]=t[1]=t[2]=0,t[3]=1)}function d(t,e,n){this.radius=r([n]),this.center=r(e),this.rotation=r(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var f=d.prototype;f.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},f.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;u(e,e);var n=this.computedMatrix;o(n,e);var r=this.computedCenter,i=this.computedEye,a=this.computedUp,s=Math.exp(this.computedRadius[0]);i[0]=r[0]+s*n[2],i[1]=r[1]+s*n[6],i[2]=r[2]+s*n[10],a[0]=n[1],a[1]=n[5],a[2]=n[9];for(var l=0;l<3;++l){for(var c=0,d=0;d<3;++d)c+=n[l+4*d]*i[d];n[12+l]=-c}},f.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n},f.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},f.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},f.pan=function(t,e,n,r){e=e||0,n=n||0,r=r||0,this.recalcMatrix(t);var i=this.computedMatrix,o=i[1],a=i[5],s=i[9],c=l(o,a,s);o/=c,a/=c,s/=c;var u=i[0],d=i[4],f=i[8],h=u*o+d*a+f*s,p=l(u-=o*h,d-=a*h,f-=s*h);u/=p,d/=p,f/=p;var g=i[2],m=i[6],v=i[10],y=g*o+m*a+v*s,b=g*u+m*d+v*f,x=l(g-=y*o+b*u,m-=y*a+b*d,v-=y*s+b*f);g/=x,m/=x,v/=x;var w=u*e+o*n,k=d*e+a*n,_=f*e+s*n;this.center.move(t,w,k,_);var A=Math.exp(this.computedRadius[0]);A=Math.max(1e-4,A+r),this.radius.set(t,Math.log(A))},f.rotate=function(t,e,n,r){this.recalcMatrix(t),e=e||0,n=n||0;var i=this.computedMatrix,o=i[0],a=i[4],s=i[8],u=i[1],d=i[5],f=i[9],h=i[2],p=i[6],g=i[10],m=e*o+n*u,v=e*a+n*d,y=e*s+n*f,b=-(p*y-g*v),x=-(g*m-h*y),w=-(h*v-p*m),k=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(x,2)-Math.pow(w,2))),_=c(b,x,w,k);_>1e-6?(b/=_,x/=_,w/=_,k/=_):(b=x=w=0,k=1);var A=this.computedRotation,T=A[0],M=A[1],E=A[2],C=A[3],S=T*k+C*b+M*w-E*x,O=M*k+C*x+E*b-T*w,L=E*k+C*w+T*x-M*b,P=C*k-T*b-M*x-E*w;if(r){b=h,x=p,w=g;var D=Math.sin(r)/l(b,x,w);b*=D,x*=D,w*=D,P=P*(k=Math.cos(e))-(S=S*k+P*b+O*w-L*x)*b-(O=O*k+P*x+L*b-S*w)*x-(L=L*k+P*w+S*x-O*b)*w}var R=c(S,O,L,P);R>1e-6?(S/=R,O/=R,L/=R,P/=R):(S=O=L=0,P=1),this.rotation.set(t,S,O,L,P)},f.lookAt=function(t,e,n,r){this.recalcMatrix(t),n=n||this.computedCenter,e=e||this.computedEye,r=r||this.computedUp;var o=this.computedMatrix;i(o,e,n,r);var a=this.computedRotation;s(a,o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]),u(a,a),this.rotation.set(t,a[0],a[1],a[2],a[3]);for(var l=0,c=0;c<3;++c)l+=Math.pow(n[c]-e[c],2);this.radius.set(t,.5*Math.log(Math.max(l,1e-6))),this.center.set(t,n[0],n[1],n[2])},f.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},f.setMatrix=function(t,e){var n=this.computedRotation;s(n,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),u(n,n),this.rotation.set(t,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;a(r,e);var i=r[15];if(Math.abs(i)>1e-6){var o=r[12]/i,l=r[13]/i,c=r[14]/i;this.recalcMatrix(t);var d=Math.exp(this.computedRadius[0]);this.center.set(t,o-r[2]*d,l-r[6]*d,c-r[10]*d),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},f.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},f.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},f.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},f.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},f.fromJSON=function(t){var e=this.lastT(),n=t.center;n&&this.center.set(e,n[0],n[1],n[2]);var r=t.rotation;r&&this.rotation.set(e,r[0],r[1],r[2],r[3]);var i=t.distance;i&&i>0&&this.radius.set(e,Math.log(i)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},{"./lib/quatFromFrame":262,"filtered-vector":68,"gl-mat4/fromQuat":95,"gl-mat4/invert":98,"gl-mat4/lookAt":99}],264:[function(t,e,n){"use strict";var r=t("repeat-string");e.exports=function(t,e,n){return r(n=void 0!==n?n+"":" ",e)+t}},{"repeat-string":277}],265:[function(t,e,n){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],266:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=0|e.length,i=t.length,o=[new Array(n),new Array(n)],a=0;a<n;++a)o[0][a]=[],o[1][a]=[];for(a=0;a<i;++a){var s=t[a];o[0][s[0]].push(s),o[1][s[1]].push(s)}var l=[];for(a=0;a<n;++a)o[0][a].length+o[1][a].length===0&&l.push([a]);function c(t,e){var n=o[e][t[e]];n.splice(n.indexOf(t),1)}function u(t,n,i){for(var a,s,l,u=0;u<2;++u)if(o[u][n].length>0){a=o[u][n][0],l=u;break}s=a[1^l];for(var d=0;d<2;++d)for(var f=o[d][n],h=0;h<f.length;++h){var p=f[h],g=p[1^d];r(e[t],e[n],e[s],e[g])>0&&(a=p,s=g,l=d)}return i||a&&c(a,l),s}function d(t,n){var i=o[n][t][0],a=[t];c(i,n);for(var s=i[1^n];;){for(;s!==t;)a.push(s),s=u(a[a.length-2],s,!1);if(o[0][t].length+o[1][t].length===0)break;var l=a[a.length-1],d=t,f=a[1],h=u(l,d,!0);if(r(e[l],e[d],e[f],e[h])<0)break;a.push(t),s=u(l,d)}return a}function f(t,e){return e[1]===e[e.length-1]}for(a=0;a<n;++a)for(var h=0;h<2;++h){for(var p=[];o[h][a].length>0;){o[0][a].length;var g=d(a,h);f(0,g)?p.push.apply(p,g):(p.length>0&&l.push(p),p=g)}p.length>0&&l.push(p)}return l};var r=t("compare-angle")},{"compare-angle":54}],267:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=r(t,e.length),i=new Array(e.length),o=new Array(e.length),a=[],s=0;s<e.length;++s){var l=n[s].length;o[s]=l,i[s]=!0,l<=1&&a.push(s)}for(;a.length>0;){var c=a.pop();i[c]=!1;var u=n[c];for(s=0;s<u.length;++s){var d=u[s];0==--o[d]&&a.push(d)}}var f=new Array(e.length),h=[];for(s=0;s<e.length;++s)i[s]?(c=h.length,f[s]=c,h.push(e[s])):f[s]=-1;var p=[];for(s=0;s<t.length;++s){var g=t[s];i[g[0]]&&i[g[1]]&&p.push([f[g[0]],f[g[1]]])}return[p,h]};var r=t("edges-to-adjacency-list")},{"edges-to-adjacency-list":66}],268:[function(t,e,n){"use strict";e.exports=function(t,e){var n=c(t,e);t=n[0];for(var d=(e=n[1]).length,f=(t.length,r(t,e.length)),h=0;h<d;++h)if(f[h].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var p=i(t,e),g=(p=p.filter((function(t){for(var n=t.length,r=[0],i=0;i<n;++i){var o=e[t[i]],l=e[t[(i+1)%n]],c=a(-o[0],o[1]),u=a(-o[0],l[1]),d=a(l[0],o[1]),f=a(l[0],l[1]);r=s(r,s(s(c,u),s(d,f)))}return r[r.length-1]>0}))).length,m=new Array(g),v=new Array(g);for(h=0;h<g;++h){m[h]=h;var y=new Array(g),b=p[h].map((function(t){return e[t]})),x=o([b]),w=0;t:for(var k=0;k<g;++k)if(y[k]=0,h!==k){for(var _=(U=p[k]).length,A=0;A<_;++A){var T=x(e[U[A]]);if(0!==T){T<0&&(y[k]=1,w+=1);continue t}}y[k]=1,w+=1}v[h]=[w,h,y]}for(v.sort((function(t,e){return e[0]-t[0]})),h=0;h<g;++h){var M=(y=v[h])[1],E=y[2];for(k=0;k<g;++k)E[k]&&(m[k]=M)}var C=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=[];return e}(g);for(h=0;h<g;++h)C[h].push(m[h]),C[m[h]].push(h);var S={},O=u(d,!1);for(h=0;h<g;++h)for(_=(U=p[h]).length,k=0;k<_;++k){var L=U[k],P=U[(k+1)%_],D=Math.min(L,P)+":"+Math.max(L,P);if(D in S){var R=S[D];C[R].push(h),C[h].push(R),O[L]=O[P]=!0}else S[D]=h}function I(t){for(var e=t.length,n=0;n<e;++n)if(!O[t[n]])return!1;return!0}var z=[],N=u(g,-1);for(h=0;h<g;++h)m[h]!==h||I(p[h])?N[h]=-1:(z.push(h),N[h]=0);for(n=[];z.length>0;){var B=z.pop(),F=C[B];l(F,(function(t,e){return t-e}));var j,$=F.length,Z=N[B];if(0===Z){var U=p[B];j=[U]}for(h=0;h<$;++h){var H=F[h];N[H]>=0||(N[H]=1^Z,z.push(H),0===Z&&(I(U=p[H])||(U.reverse(),j.push(U))))}0===Z&&n.push(j)}return n};var r=t("edges-to-adjacency-list"),i=t("planar-dual"),o=t("point-in-big-polygon"),a=t("two-product"),s=t("robust-sum"),l=t("uniq"),c=t("./lib/trim-leaves");function u(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}},{"./lib/trim-leaves":267,"edges-to-adjacency-list":66,"planar-dual":266,"point-in-big-polygon":269,"robust-sum":289,"two-product":306,uniq:310}],269:[function(t,e,n){e.exports=function(t){for(var e=t.length,n=[],o=[],s=0;s<e;++s)for(var u=t[s],d=u.length,f=d-1,h=0;h<d;f=h++){var p=u[f],g=u[h];p[0]===g[0]?o.push([p,g]):n.push([p,g])}if(0===n.length)return 0===o.length?c:(m=l(o),function(t){return m(t[0],t[1])?0:1});var m,v=i(n),y=function(t,e){return function(n){var i=a.le(e,n[0]);if(i<0)return 1;var o=t[i];if(!o){if(!(i>0&&e[i]===n[0]))return 1;o=t[i-1]}for(var s=1;o;){var l=o.key,c=r(n,l[0],l[1]);if(l[0][0]<l[1][0])if(c<0)o=o.left;else{if(!(c>0))return 0;s=-1,o=o.right}else if(c>0)o=o.left;else{if(!(c<0))return 0;s=1,o=o.right}}return s}}(v.slabs,v.coordinates);return 0===o.length?y:function(t,e){return function(n){return t(n[0],n[1])?0:e(n)}}(l(o),y)};var r=t("robust-orientation")[3],i=t("slab-decomposition"),o=t("interval-tree-1d"),a=t("binary-search-bounds");function s(){return!0}function l(t){for(var e={},n=0;n<t.length;++n){var r=t[n],i=r[0][0],a=r[0][1],l=r[1][1],c=[Math.min(a,l),Math.max(a,l)];i in e?e[i].push(c):e[i]=[c]}var u={},d=Object.keys(e);for(n=0;n<d.length;++n){var f=e[d[n]];u[d[n]]=o(f)}return function(t){return function(e,n){var r=t[e];return!!r&&!!r.queryPoint(n,s)}}(u)}function c(t){return 1}},{"binary-search-bounds":31,"interval-tree-1d":234,"robust-orientation":284,"slab-decomposition":299}],270:[function(t,e,n){"use strict";var r=new Float64Array(4),i=new Float64Array(4),o=new Float64Array(4);e.exports=function(t,e,n,a,s){r.length<a.length&&(r=new Float64Array(a.length),i=new Float64Array(a.length),o=new Float64Array(a.length));for(var l=0;l<a.length;++l)r[l]=t[l]-a[l],i[l]=e[l]-t[l],o[l]=n[l]-t[l];var c=0,u=0,d=0,f=0,h=0,p=0;for(l=0;l<a.length;++l){var g=i[l],m=o[l],v=r[l];c+=g*g,u+=g*m,d+=m*m,f+=v*g,h+=v*m,p+=v*v}var y,b,x,w,k,_=Math.abs(c*d-u*u),A=u*h-d*f,T=u*f-c*h;if(A+T<=_)if(A<0)T<0&&f<0?(T=0,-f>=c?(A=1,y=c+2*f+p):y=f*(A=-f/c)+p):(A=0,h>=0?(T=0,y=p):-h>=d?(T=1,y=d+2*h+p):y=h*(T=-h/d)+p);else if(T<0)T=0,f>=0?(A=0,y=p):-f>=c?(A=1,y=c+2*f+p):y=f*(A=-f/c)+p;else{var M=1/_;y=(A*=M)*(c*A+u*(T*=M)+2*f)+T*(u*A+d*T+2*h)+p}else A<0?(x=d+h)>(b=u+f)?(w=x-b)>=(k=c-2*u+d)?(A=1,T=0,y=c+2*f+p):y=(A=w/k)*(c*A+u*(T=1-A)+2*f)+T*(u*A+d*T+2*h)+p:(A=0,x<=0?(T=1,y=d+2*h+p):h>=0?(T=0,y=p):y=h*(T=-h/d)+p):T<0?(x=c+f)>(b=u+h)?(w=x-b)>=(k=c-2*u+d)?(T=1,A=0,y=d+2*h+p):y=(A=1-(T=w/k))*(c*A+u*T+2*f)+T*(u*A+d*T+2*h)+p:(T=0,x<=0?(A=1,y=c+2*f+p):f>=0?(A=0,y=p):y=f*(A=-f/c)+p):(w=d+h-u-f)<=0?(A=0,T=1,y=d+2*h+p):w>=(k=c-2*u+d)?(A=1,T=0,y=c+2*f+p):y=(A=w/k)*(c*A+u*(T=1-A)+2*f)+T*(u*A+d*T+2*h)+p;var E=1-A-T;for(l=0;l<a.length;++l)s[l]=E*t[l]+A*e[l]+T*n[l];return y<0?0:y}},{}],271:[function(t,e,n){e.exports=t("gl-quat/slerp")},{"gl-quat/slerp":124}],272:[function(t,e,n){"use strict";var r=t("big-rat/add");e.exports=function(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=r(t[o],e[o]);return i}},{"big-rat/add":15}],273:[function(t,e,n){"use strict";e.exports=function(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=r(t[n]);return e};var r=t("big-rat")},{"big-rat":18}],274:[function(t,e,n){"use strict";var r=t("big-rat"),i=t("big-rat/mul");e.exports=function(t,e){for(var n=r(e),o=t.length,a=new Array(o),s=0;s<o;++s)a[s]=i(t[s],n);return a}},{"big-rat":18,"big-rat/mul":27}],275:[function(t,e,n){"use strict";var r=t("big-rat/sub");e.exports=function(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=r(t[o],e[o]);return i}},{"big-rat/sub":29}],276:[function(t,e,n){"use strict";var r=t("compare-cell"),i=t("compare-oriented-cell"),o=t("cell-orientation");e.exports=function(t){t.sort(i);for(var e=t.length,n=0,a=0;a<e;++a){var s=t[a],l=o(s);if(0!==l){if(n>0){var c=t[n-1];if(0===r(s,c)&&o(c)!==l){n-=1;continue}}t[n++]=s}}return t.length=n,t}},{"cell-orientation":47,"compare-cell":56,"compare-oriented-cell":57}],277:[function(t,e,n){"use strict";var r,i="";e.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(r!==t||void 0===r)r=t,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&e>1;)1&e&&(i+=t),e>>=1,t+=t;return i=(i+=t).substr(0,n)}},{}],278:[function(t,e,r){(function(t){(function(){e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],279:[function(t,e,n){"use strict";e.exports=function(t){for(var e=t.length,n=t[t.length-1],r=e,i=e-2;i>=0;--i){var o=n,a=t[i];(l=a-((n=o+a)-o))&&(t[--r]=n,n=l)}var s=0;for(i=r;i<e;++i){var l;(l=(a=n)-((n=(o=t[i])+a)-o))&&(t[s++]=l)}return t[s++]=n,t.length=s,t}},{}],280:[function(t,e,n){"use strict";var r=t("two-product"),i=t("robust-sum"),o=t("robust-scale"),a=t("robust-compress");function s(t,e,n,r){return function(e){return r(t(n(e[0][0],e[1][1]),n(-e[0][1],e[1][0])))}}function l(t,e,n,r){return function(i){return r(t(e(t(n(i[1][1],i[2][2]),n(-i[1][2],i[2][1])),i[0][0]),t(e(t(n(i[1][0],i[2][2]),n(-i[1][2],i[2][0])),-i[0][1]),e(t(n(i[1][0],i[2][1]),n(-i[1][1],i[2][0])),i[0][2]))))}}function c(t,e,n,r){return function(i){return r(t(t(e(t(e(t(n(i[2][2],i[3][3]),n(-i[2][3],i[3][2])),i[1][1]),t(e(t(n(i[2][1],i[3][3]),n(-i[2][3],i[3][1])),-i[1][2]),e(t(n(i[2][1],i[3][2]),n(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),e(t(e(t(n(i[2][2],i[3][3]),n(-i[2][3],i[3][2])),i[1][0]),t(e(t(n(i[2][0],i[3][3]),n(-i[2][3],i[3][0])),-i[1][2]),e(t(n(i[2][0],i[3][2]),n(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),t(e(t(e(t(n(i[2][1],i[3][3]),n(-i[2][3],i[3][1])),i[1][0]),t(e(t(n(i[2][0],i[3][3]),n(-i[2][3],i[3][0])),-i[1][1]),e(t(n(i[2][0],i[3][1]),n(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),e(t(e(t(n(i[2][1],i[3][2]),n(-i[2][2],i[3][1])),i[1][0]),t(e(t(n(i[2][0],i[3][2]),n(-i[2][2],i[3][0])),-i[1][1]),e(t(n(i[2][0],i[3][1]),n(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function u(t,e,n,r){return function(i){return r(t(t(e(t(t(e(t(e(t(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][2]),t(e(t(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),-i[2][3]),e(t(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),e(t(e(t(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][1]),t(e(t(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),-i[2][3]),e(t(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),t(e(t(e(t(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),i[2][1]),t(e(t(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),-i[2][2]),e(t(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),e(t(e(t(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][1]),t(e(t(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),-i[2][2]),e(t(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),e(t(t(e(t(e(t(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][2]),t(e(t(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),-i[2][3]),e(t(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),e(t(e(t(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][0]),t(e(t(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][3]),e(t(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),t(e(t(e(t(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),i[2][0]),t(e(t(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][2]),e(t(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),e(t(e(t(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][0]),t(e(t(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),-i[2][2]),e(t(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),t(e(t(t(e(t(e(t(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][1]),t(e(t(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),-i[2][3]),e(t(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),e(t(e(t(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][0]),t(e(t(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][3]),e(t(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),t(e(t(e(t(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),i[2][0]),t(e(t(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][1]),e(t(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),e(t(e(t(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),i[2][0]),t(e(t(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),-i[2][1]),e(t(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),t(e(t(t(e(t(e(t(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),i[2][1]),t(e(t(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),-i[2][2]),e(t(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),e(t(e(t(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),i[2][0]),t(e(t(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][2]),e(t(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),t(e(t(e(t(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),i[2][0]),t(e(t(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][1]),e(t(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),e(t(e(t(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][0]),t(e(t(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),-i[2][1]),e(t(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),e(t(t(e(t(e(t(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][1]),t(e(t(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),-i[2][2]),e(t(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),e(t(e(t(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][0]),t(e(t(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),-i[2][2]),e(t(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),t(e(t(e(t(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),i[2][0]),t(e(t(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),-i[2][1]),e(t(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),e(t(e(t(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][0]),t(e(t(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),-i[2][1]),e(t(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function d(t){return(2===t?s:3===t?l:4===t?c:5===t?u:void 0)(i,o,r,a)}var f=[function(){return[0]},function(t){return[t[0][0]]}];function h(t,e,n,r,i,o,a,s){return function(l){switch(l.length){case 0:return t(l);case 1:return e(l);case 2:return n(l);case 3:return r(l);case 4:return i(l);case 5:return o(l)}var c=a[l.length];return c||(c=a[l.length]=s(l.length)),c(l)}}!function(){for(;f.length<6;)f.push(d(f.length));e.exports=h.apply(void 0,f.concat([f,d]));for(var t=0;t<f.length;++t)e.exports[t]=f[t]}()},{"robust-compress":279,"robust-scale":286,"robust-sum":289,"two-product":306}],281:[function(t,e,n){"use strict";var r=t("two-product"),i=t("robust-sum");e.exports=function(t,e){for(var n=r(t[0],e[0]),o=1;o<t.length;++o)n=i(n,r(t[o],e[o]));return n}},{"robust-sum":289,"two-product":306}],282:[function(t,e,n){"use strict";var r=t("two-product"),i=t("robust-sum"),o=t("robust-subtract"),a=t("robust-scale");function s(t){return(3===t?l:4===t?c:5===t?u:d)(i,o,r,a)}function l(t,e,n,r){return function(i,o,a){var s=n(i[0],i[0]),l=r(s,o[0]),c=r(s,a[0]),u=n(o[0],o[0]),d=r(u,i[0]),f=r(u,a[0]),h=n(a[0],a[0]),p=r(h,i[0]),g=r(h,o[0]),m=t(e(g,f),e(d,l)),v=e(p,c),y=e(m,v);return y[y.length-1]}}function c(t,e,n,r){return function(i,o,a,s){var l=t(n(i[0],i[0]),n(i[1],i[1])),c=r(l,o[0]),u=r(l,a[0]),d=r(l,s[0]),f=t(n(o[0],o[0]),n(o[1],o[1])),h=r(f,i[0]),p=r(f,a[0]),g=r(f,s[0]),m=t(n(a[0],a[0]),n(a[1],a[1])),v=r(m,i[0]),y=r(m,o[0]),b=r(m,s[0]),x=t(n(s[0],s[0]),n(s[1],s[1])),w=r(x,i[0]),k=r(x,o[0]),_=r(x,a[0]),A=t(t(r(e(_,b),o[1]),t(r(e(k,g),-a[1]),r(e(y,p),s[1]))),t(r(e(k,g),i[1]),t(r(e(w,d),-o[1]),r(e(h,c),s[1])))),T=t(t(r(e(_,b),i[1]),t(r(e(w,d),-a[1]),r(e(v,u),s[1]))),t(r(e(y,p),i[1]),t(r(e(v,u),-o[1]),r(e(h,c),a[1])))),M=e(A,T);return M[M.length-1]}}function u(t,e,n,r){return function(i,o,a,s,l){var c=t(n(i[0],i[0]),t(n(i[1],i[1]),n(i[2],i[2]))),u=r(c,o[0]),d=r(c,a[0]),f=r(c,s[0]),h=r(c,l[0]),p=t(n(o[0],o[0]),t(n(o[1],o[1]),n(o[2],o[2]))),g=r(p,i[0]),m=r(p,a[0]),v=r(p,s[0]),y=r(p,l[0]),b=t(n(a[0],a[0]),t(n(a[1],a[1]),n(a[2],a[2]))),x=r(b,i[0]),w=r(b,o[0]),k=r(b,s[0]),_=r(b,l[0]),A=t(n(s[0],s[0]),t(n(s[1],s[1]),n(s[2],s[2]))),T=r(A,i[0]),M=r(A,o[0]),E=r(A,a[0]),C=r(A,l[0]),S=t(n(l[0],l[0]),t(n(l[1],l[1]),n(l[2],l[2]))),O=r(S,i[0]),L=r(S,o[0]),P=r(S,a[0]),D=r(S,s[0]),R=t(t(t(r(t(r(e(D,C),a[1]),t(r(e(P,_),-s[1]),r(e(E,k),l[1]))),o[2]),t(r(t(r(e(D,C),o[1]),t(r(e(L,y),-s[1]),r(e(M,v),l[1]))),-a[2]),r(t(r(e(P,_),o[1]),t(r(e(L,y),-a[1]),r(e(w,m),l[1]))),s[2]))),t(r(t(r(e(E,k),o[1]),t(r(e(M,v),-a[1]),r(e(w,m),s[1]))),-l[2]),t(r(t(r(e(D,C),o[1]),t(r(e(L,y),-s[1]),r(e(M,v),l[1]))),i[2]),r(t(r(e(D,C),i[1]),t(r(e(O,h),-s[1]),r(e(T,f),l[1]))),-o[2])))),t(t(r(t(r(e(L,y),i[1]),t(r(e(O,h),-o[1]),r(e(g,u),l[1]))),s[2]),t(r(t(r(e(M,v),i[1]),t(r(e(T,f),-o[1]),r(e(g,u),s[1]))),-l[2]),r(t(r(e(E,k),o[1]),t(r(e(M,v),-a[1]),r(e(w,m),s[1]))),i[2]))),t(r(t(r(e(E,k),i[1]),t(r(e(T,f),-a[1]),r(e(x,d),s[1]))),-o[2]),t(r(t(r(e(M,v),i[1]),t(r(e(T,f),-o[1]),r(e(g,u),s[1]))),a[2]),r(t(r(e(w,m),i[1]),t(r(e(x,d),-o[1]),r(e(g,u),a[1]))),-s[2]))))),I=t(t(t(r(t(r(e(D,C),a[1]),t(r(e(P,_),-s[1]),r(e(E,k),l[1]))),i[2]),r(t(r(e(D,C),i[1]),t(r(e(O,h),-s[1]),r(e(T,f),l[1]))),-a[2])),t(r(t(r(e(P,_),i[1]),t(r(e(O,h),-a[1]),r(e(x,d),l[1]))),s[2]),r(t(r(e(E,k),i[1]),t(r(e(T,f),-a[1]),r(e(x,d),s[1]))),-l[2]))),t(t(r(t(r(e(P,_),o[1]),t(r(e(L,y),-a[1]),r(e(w,m),l[1]))),i[2]),r(t(r(e(P,_),i[1]),t(r(e(O,h),-a[1]),r(e(x,d),l[1]))),-o[2])),t(r(t(r(e(L,y),i[1]),t(r(e(O,h),-o[1]),r(e(g,u),l[1]))),a[2]),r(t(r(e(w,m),i[1]),t(r(e(x,d),-o[1]),r(e(g,u),a[1]))),-l[2])))),z=e(R,I);return z[z.length-1]}}function d(t,e,n,r){return function(i,o,a,s,l,c){var u=t(t(n(i[0],i[0]),n(i[1],i[1])),t(n(i[2],i[2]),n(i[3],i[3]))),d=r(u,o[0]),f=r(u,a[0]),h=r(u,s[0]),p=r(u,l[0]),g=r(u,c[0]),m=t(t(n(o[0],o[0]),n(o[1],o[1])),t(n(o[2],o[2]),n(o[3],o[3]))),v=r(m,i[0]),y=r(m,a[0]),b=r(m,s[0]),x=r(m,l[0]),w=r(m,c[0]),k=t(t(n(a[0],a[0]),n(a[1],a[1])),t(n(a[2],a[2]),n(a[3],a[3]))),_=r(k,i[0]),A=r(k,o[0]),T=r(k,s[0]),M=r(k,l[0]),E=r(k,c[0]),C=t(t(n(s[0],s[0]),n(s[1],s[1])),t(n(s[2],s[2]),n(s[3],s[3]))),S=r(C,i[0]),O=r(C,o[0]),L=r(C,a[0]),P=r(C,l[0]),D=r(C,c[0]),R=t(t(n(l[0],l[0]),n(l[1],l[1])),t(n(l[2],l[2]),n(l[3],l[3]))),I=r(R,i[0]),z=r(R,o[0]),N=r(R,a[0]),B=r(R,s[0]),F=r(R,c[0]),j=t(t(n(c[0],c[0]),n(c[1],c[1])),t(n(c[2],c[2]),n(c[3],c[3]))),$=r(j,i[0]),Z=r(j,o[0]),U=r(j,a[0]),H=r(j,s[0]),V=r(j,l[0]),W=t(t(t(r(t(t(r(t(r(e(V,F),s[1]),t(r(e(H,D),-l[1]),r(e(B,P),c[1]))),a[2]),r(t(r(e(V,F),a[1]),t(r(e(U,E),-l[1]),r(e(N,M),c[1]))),-s[2])),t(r(t(r(e(H,D),a[1]),t(r(e(U,E),-s[1]),r(e(L,T),c[1]))),l[2]),r(t(r(e(B,P),a[1]),t(r(e(N,M),-s[1]),r(e(L,T),l[1]))),-c[2]))),o[3]),t(r(t(t(r(t(r(e(V,F),s[1]),t(r(e(H,D),-l[1]),r(e(B,P),c[1]))),o[2]),r(t(r(e(V,F),o[1]),t(r(e(Z,w),-l[1]),r(e(z,x),c[1]))),-s[2])),t(r(t(r(e(H,D),o[1]),t(r(e(Z,w),-s[1]),r(e(O,b),c[1]))),l[2]),r(t(r(e(B,P),o[1]),t(r(e(z,x),-s[1]),r(e(O,b),l[1]))),-c[2]))),-a[3]),r(t(t(r(t(r(e(V,F),a[1]),t(r(e(U,E),-l[1]),r(e(N,M),c[1]))),o[2]),r(t(r(e(V,F),o[1]),t(r(e(Z,w),-l[1]),r(e(z,x),c[1]))),-a[2])),t(r(t(r(e(U,E),o[1]),t(r(e(Z,w),-a[1]),r(e(A,y),c[1]))),l[2]),r(t(r(e(N,M),o[1]),t(r(e(z,x),-a[1]),r(e(A,y),l[1]))),-c[2]))),s[3]))),t(t(r(t(t(r(t(r(e(H,D),a[1]),t(r(e(U,E),-s[1]),r(e(L,T),c[1]))),o[2]),r(t(r(e(H,D),o[1]),t(r(e(Z,w),-s[1]),r(e(O,b),c[1]))),-a[2])),t(r(t(r(e(U,E),o[1]),t(r(e(Z,w),-a[1]),r(e(A,y),c[1]))),s[2]),r(t(r(e(L,T),o[1]),t(r(e(O,b),-a[1]),r(e(A,y),s[1]))),-c[2]))),-l[3]),r(t(t(r(t(r(e(B,P),a[1]),t(r(e(N,M),-s[1]),r(e(L,T),l[1]))),o[2]),r(t(r(e(B,P),o[1]),t(r(e(z,x),-s[1]),r(e(O,b),l[1]))),-a[2])),t(r(t(r(e(N,M),o[1]),t(r(e(z,x),-a[1]),r(e(A,y),l[1]))),s[2]),r(t(r(e(L,T),o[1]),t(r(e(O,b),-a[1]),r(e(A,y),s[1]))),-l[2]))),c[3])),t(r(t(t(r(t(r(e(V,F),s[1]),t(r(e(H,D),-l[1]),r(e(B,P),c[1]))),o[2]),r(t(r(e(V,F),o[1]),t(r(e(Z,w),-l[1]),r(e(z,x),c[1]))),-s[2])),t(r(t(r(e(H,D),o[1]),t(r(e(Z,w),-s[1]),r(e(O,b),c[1]))),l[2]),r(t(r(e(B,P),o[1]),t(r(e(z,x),-s[1]),r(e(O,b),l[1]))),-c[2]))),i[3]),r(t(t(r(t(r(e(V,F),s[1]),t(r(e(H,D),-l[1]),r(e(B,P),c[1]))),i[2]),r(t(r(e(V,F),i[1]),t(r(e($,g),-l[1]),r(e(I,p),c[1]))),-s[2])),t(r(t(r(e(H,D),i[1]),t(r(e($,g),-s[1]),r(e(S,h),c[1]))),l[2]),r(t(r(e(B,P),i[1]),t(r(e(I,p),-s[1]),r(e(S,h),l[1]))),-c[2]))),-o[3])))),t(t(t(r(t(t(r(t(r(e(V,F),o[1]),t(r(e(Z,w),-l[1]),r(e(z,x),c[1]))),i[2]),r(t(r(e(V,F),i[1]),t(r(e($,g),-l[1]),r(e(I,p),c[1]))),-o[2])),t(r(t(r(e(Z,w),i[1]),t(r(e($,g),-o[1]),r(e(v,d),c[1]))),l[2]),r(t(r(e(z,x),i[1]),t(r(e(I,p),-o[1]),r(e(v,d),l[1]))),-c[2]))),s[3]),r(t(t(r(t(r(e(H,D),o[1]),t(r(e(Z,w),-s[1]),r(e(O,b),c[1]))),i[2]),r(t(r(e(H,D),i[1]),t(r(e($,g),-s[1]),r(e(S,h),c[1]))),-o[2])),t(r(t(r(e(Z,w),i[1]),t(r(e($,g),-o[1]),r(e(v,d),c[1]))),s[2]),r(t(r(e(O,b),i[1]),t(r(e(S,h),-o[1]),r(e(v,d),s[1]))),-c[2]))),-l[3])),t(r(t(t(r(t(r(e(B,P),o[1]),t(r(e(z,x),-s[1]),r(e(O,b),l[1]))),i[2]),r(t(r(e(B,P),i[1]),t(r(e(I,p),-s[1]),r(e(S,h),l[1]))),-o[2])),t(r(t(r(e(z,x),i[1]),t(r(e(I,p),-o[1]),r(e(v,d),l[1]))),s[2]),r(t(r(e(O,b),i[1]),t(r(e(S,h),-o[1]),r(e(v,d),s[1]))),-l[2]))),c[3]),r(t(t(r(t(r(e(H,D),a[1]),t(r(e(U,E),-s[1]),r(e(L,T),c[1]))),o[2]),r(t(r(e(H,D),o[1]),t(r(e(Z,w),-s[1]),r(e(O,b),c[1]))),-a[2])),t(r(t(r(e(U,E),o[1]),t(r(e(Z,w),-a[1]),r(e(A,y),c[1]))),s[2]),r(t(r(e(L,T),o[1]),t(r(e(O,b),-a[1]),r(e(A,y),s[1]))),-c[2]))),i[3]))),t(t(r(t(t(r(t(r(e(H,D),a[1]),t(r(e(U,E),-s[1]),r(e(L,T),c[1]))),i[2]),r(t(r(e(H,D),i[1]),t(r(e($,g),-s[1]),r(e(S,h),c[1]))),-a[2])),t(r(t(r(e(U,E),i[1]),t(r(e($,g),-a[1]),r(e(_,f),c[1]))),s[2]),r(t(r(e(L,T),i[1]),t(r(e(S,h),-a[1]),r(e(_,f),s[1]))),-c[2]))),-o[3]),r(t(t(r(t(r(e(H,D),o[1]),t(r(e(Z,w),-s[1]),r(e(O,b),c[1]))),i[2]),r(t(r(e(H,D),i[1]),t(r(e($,g),-s[1]),r(e(S,h),c[1]))),-o[2])),t(r(t(r(e(Z,w),i[1]),t(r(e($,g),-o[1]),r(e(v,d),c[1]))),s[2]),r(t(r(e(O,b),i[1]),t(r(e(S,h),-o[1]),r(e(v,d),s[1]))),-c[2]))),a[3])),t(r(t(t(r(t(r(e(U,E),o[1]),t(r(e(Z,w),-a[1]),r(e(A,y),c[1]))),i[2]),r(t(r(e(U,E),i[1]),t(r(e($,g),-a[1]),r(e(_,f),c[1]))),-o[2])),t(r(t(r(e(Z,w),i[1]),t(r(e($,g),-o[1]),r(e(v,d),c[1]))),a[2]),r(t(r(e(A,y),i[1]),t(r(e(_,f),-o[1]),r(e(v,d),a[1]))),-c[2]))),-s[3]),r(t(t(r(t(r(e(L,T),o[1]),t(r(e(O,b),-a[1]),r(e(A,y),s[1]))),i[2]),r(t(r(e(L,T),i[1]),t(r(e(S,h),-a[1]),r(e(_,f),s[1]))),-o[2])),t(r(t(r(e(O,b),i[1]),t(r(e(S,h),-o[1]),r(e(v,d),s[1]))),a[2]),r(t(r(e(A,y),i[1]),t(r(e(_,f),-o[1]),r(e(v,d),a[1]))),-s[2]))),c[3]))))),Y=t(t(t(r(t(t(r(t(r(e(V,F),s[1]),t(r(e(H,D),-l[1]),r(e(B,P),c[1]))),a[2]),r(t(r(e(V,F),a[1]),t(r(e(U,E),-l[1]),r(e(N,M),c[1]))),-s[2])),t(r(t(r(e(H,D),a[1]),t(r(e(U,E),-s[1]),r(e(L,T),c[1]))),l[2]),r(t(r(e(B,P),a[1]),t(r(e(N,M),-s[1]),r(e(L,T),l[1]))),-c[2]))),i[3]),t(r(t(t(r(t(r(e(V,F),s[1]),t(r(e(H,D),-l[1]),r(e(B,P),c[1]))),i[2]),r(t(r(e(V,F),i[1]),t(r(e($,g),-l[1]),r(e(I,p),c[1]))),-s[2])),t(r(t(r(e(H,D),i[1]),t(r(e($,g),-s[1]),r(e(S,h),c[1]))),l[2]),r(t(r(e(B,P),i[1]),t(r(e(I,p),-s[1]),r(e(S,h),l[1]))),-c[2]))),-a[3]),r(t(t(r(t(r(e(V,F),a[1]),t(r(e(U,E),-l[1]),r(e(N,M),c[1]))),i[2]),r(t(r(e(V,F),i[1]),t(r(e($,g),-l[1]),r(e(I,p),c[1]))),-a[2])),t(r(t(r(e(U,E),i[1]),t(r(e($,g),-a[1]),r(e(_,f),c[1]))),l[2]),r(t(r(e(N,M),i[1]),t(r(e(I,p),-a[1]),r(e(_,f),l[1]))),-c[2]))),s[3]))),t(t(r(t(t(r(t(r(e(H,D),a[1]),t(r(e(U,E),-s[1]),r(e(L,T),c[1]))),i[2]),r(t(r(e(H,D),i[1]),t(r(e($,g),-s[1]),r(e(S,h),c[1]))),-a[2])),t(r(t(r(e(U,E),i[1]),t(r(e($,g),-a[1]),r(e(_,f),c[1]))),s[2]),r(t(r(e(L,T),i[1]),t(r(e(S,h),-a[1]),r(e(_,f),s[1]))),-c[2]))),-l[3]),r(t(t(r(t(r(e(B,P),a[1]),t(r(e(N,M),-s[1]),r(e(L,T),l[1]))),i[2]),r(t(r(e(B,P),i[1]),t(r(e(I,p),-s[1]),r(e(S,h),l[1]))),-a[2])),t(r(t(r(e(N,M),i[1]),t(r(e(I,p),-a[1]),r(e(_,f),l[1]))),s[2]),r(t(r(e(L,T),i[1]),t(r(e(S,h),-a[1]),r(e(_,f),s[1]))),-l[2]))),c[3])),t(r(t(t(r(t(r(e(V,F),a[1]),t(r(e(U,E),-l[1]),r(e(N,M),c[1]))),o[2]),r(t(r(e(V,F),o[1]),t(r(e(Z,w),-l[1]),r(e(z,x),c[1]))),-a[2])),t(r(t(r(e(U,E),o[1]),t(r(e(Z,w),-a[1]),r(e(A,y),c[1]))),l[2]),r(t(r(e(N,M),o[1]),t(r(e(z,x),-a[1]),r(e(A,y),l[1]))),-c[2]))),i[3]),r(t(t(r(t(r(e(V,F),a[1]),t(r(e(U,E),-l[1]),r(e(N,M),c[1]))),i[2]),r(t(r(e(V,F),i[1]),t(r(e($,g),-l[1]),r(e(I,p),c[1]))),-a[2])),t(r(t(r(e(U,E),i[1]),t(r(e($,g),-a[1]),r(e(_,f),c[1]))),l[2]),r(t(r(e(N,M),i[1]),t(r(e(I,p),-a[1]),r(e(_,f),l[1]))),-c[2]))),-o[3])))),t(t(t(r(t(t(r(t(r(e(V,F),o[1]),t(r(e(Z,w),-l[1]),r(e(z,x),c[1]))),i[2]),r(t(r(e(V,F),i[1]),t(r(e($,g),-l[1]),r(e(I,p),c[1]))),-o[2])),t(r(t(r(e(Z,w),i[1]),t(r(e($,g),-o[1]),r(e(v,d),c[1]))),l[2]),r(t(r(e(z,x),i[1]),t(r(e(I,p),-o[1]),r(e(v,d),l[1]))),-c[2]))),a[3]),r(t(t(r(t(r(e(U,E),o[1]),t(r(e(Z,w),-a[1]),r(e(A,y),c[1]))),i[2]),r(t(r(e(U,E),i[1]),t(r(e($,g),-a[1]),r(e(_,f),c[1]))),-o[2])),t(r(t(r(e(Z,w),i[1]),t(r(e($,g),-o[1]),r(e(v,d),c[1]))),a[2]),r(t(r(e(A,y),i[1]),t(r(e(_,f),-o[1]),r(e(v,d),a[1]))),-c[2]))),-l[3])),t(r(t(t(r(t(r(e(N,M),o[1]),t(r(e(z,x),-a[1]),r(e(A,y),l[1]))),i[2]),r(t(r(e(N,M),i[1]),t(r(e(I,p),-a[1]),r(e(_,f),l[1]))),-o[2])),t(r(t(r(e(z,x),i[1]),t(r(e(I,p),-o[1]),r(e(v,d),l[1]))),a[2]),r(t(r(e(A,y),i[1]),t(r(e(_,f),-o[1]),r(e(v,d),a[1]))),-l[2]))),c[3]),r(t(t(r(t(r(e(B,P),a[1]),t(r(e(N,M),-s[1]),r(e(L,T),l[1]))),o[2]),r(t(r(e(B,P),o[1]),t(r(e(z,x),-s[1]),r(e(O,b),l[1]))),-a[2])),t(r(t(r(e(N,M),o[1]),t(r(e(z,x),-a[1]),r(e(A,y),l[1]))),s[2]),r(t(r(e(L,T),o[1]),t(r(e(O,b),-a[1]),r(e(A,y),s[1]))),-l[2]))),i[3]))),t(t(r(t(t(r(t(r(e(B,P),a[1]),t(r(e(N,M),-s[1]),r(e(L,T),l[1]))),i[2]),r(t(r(e(B,P),i[1]),t(r(e(I,p),-s[1]),r(e(S,h),l[1]))),-a[2])),t(r(t(r(e(N,M),i[1]),t(r(e(I,p),-a[1]),r(e(_,f),l[1]))),s[2]),r(t(r(e(L,T),i[1]),t(r(e(S,h),-a[1]),r(e(_,f),s[1]))),-l[2]))),-o[3]),r(t(t(r(t(r(e(B,P),o[1]),t(r(e(z,x),-s[1]),r(e(O,b),l[1]))),i[2]),r(t(r(e(B,P),i[1]),t(r(e(I,p),-s[1]),r(e(S,h),l[1]))),-o[2])),t(r(t(r(e(z,x),i[1]),t(r(e(I,p),-o[1]),r(e(v,d),l[1]))),s[2]),r(t(r(e(O,b),i[1]),t(r(e(S,h),-o[1]),r(e(v,d),s[1]))),-l[2]))),a[3])),t(r(t(t(r(t(r(e(N,M),o[1]),t(r(e(z,x),-a[1]),r(e(A,y),l[1]))),i[2]),r(t(r(e(N,M),i[1]),t(r(e(I,p),-a[1]),r(e(_,f),l[1]))),-o[2])),t(r(t(r(e(z,x),i[1]),t(r(e(I,p),-o[1]),r(e(v,d),l[1]))),a[2]),r(t(r(e(A,y),i[1]),t(r(e(_,f),-o[1]),r(e(v,d),a[1]))),-l[2]))),-s[3]),r(t(t(r(t(r(e(L,T),o[1]),t(r(e(O,b),-a[1]),r(e(A,y),s[1]))),i[2]),r(t(r(e(L,T),i[1]),t(r(e(S,h),-a[1]),r(e(_,f),s[1]))),-o[2])),t(r(t(r(e(O,b),i[1]),t(r(e(S,h),-o[1]),r(e(v,d),s[1]))),a[2]),r(t(r(e(A,y),i[1]),t(r(e(_,f),-o[1]),r(e(v,d),a[1]))),-s[2]))),l[3]))))),G=e(W,Y);return G[G.length-1]}}var f=[function(){return 0},function(){return 0},function(){return 0}];function h(t){var e=f[t.length];return e||(e=f[t.length]=s(t.length)),e.apply(void 0,t)}function p(t,e,n,r,i,o,a,s){return function(e,n,l,c,u,d){switch(arguments.length){case 0:case 1:return 0;case 2:return r(e,n);case 3:return i(e,n,l);case 4:return o(e,n,l,c);case 5:return a(e,n,l,c,u);case 6:return s(e,n,l,c,u,d)}for(var f=new Array(arguments.length),h=0;h<arguments.length;++h)f[h]=arguments[h];return t(f)}}!function(){for(;f.length<=6;)f.push(s(f.length));e.exports=p.apply(void 0,[h].concat(f));for(var t=0;t<=6;++t)e.exports[t]=f[t]}()},{"robust-scale":286,"robust-subtract":288,"robust-sum":289,"two-product":306}],283:[function(t,e,n){"use strict";var r=t("robust-determinant");function i(t){return(2===t?o:3===t?a:4===t?s:5===t?l:c)(t<6?r[t]:r)}function o(t){return function(e,n){return[t([[+n[0],+e[0][1]],[+n[1],+e[1][1]]]),t([[+e[0][0],+n[0]],[+e[1][0],+n[1]]]),t(e)]}}function a(t){return function(e,n){return[t([[+n[0],+e[0][1],+e[0][2]],[+n[1],+e[1][1],+e[1][2]],[+n[2],+e[2][1],+e[2][2]]]),t([[+e[0][0],+n[0],+e[0][2]],[+e[1][0],+n[1],+e[1][2]],[+e[2][0],+n[2],+e[2][2]]]),t([[+e[0][0],+e[0][1],+n[0]],[+e[1][0],+e[1][1],+n[1]],[+e[2][0],+e[2][1],+n[2]]]),t(e)]}}function s(t){return function(e,n){return[t([[+n[0],+e[0][1],+e[0][2],+e[0][3]],[+n[1],+e[1][1],+e[1][2],+e[1][3]],[+n[2],+e[2][1],+e[2][2],+e[2][3]],[+n[3],+e[3][1],+e[3][2],+e[3][3]]]),t([[+e[0][0],+n[0],+e[0][2],+e[0][3]],[+e[1][0],+n[1],+e[1][2],+e[1][3]],[+e[2][0],+n[2],+e[2][2],+e[2][3]],[+e[3][0],+n[3],+e[3][2],+e[3][3]]]),t([[+e[0][0],+e[0][1],+n[0],+e[0][3]],[+e[1][0],+e[1][1],+n[1],+e[1][3]],[+e[2][0],+e[2][1],+n[2],+e[2][3]],[+e[3][0],+e[3][1],+n[3],+e[3][3]]]),t([[+e[0][0],+e[0][1],+e[0][2],+n[0]],[+e[1][0],+e[1][1],+e[1][2],+n[1]],[+e[2][0],+e[2][1],+e[2][2],+n[2]],[+e[3][0],+e[3][1],+e[3][2],+n[3]]]),t(e)]}}function l(t){return function(e,n){return[t([[+n[0],+e[0][1],+e[0][2],+e[0][3],+e[0][4]],[+n[1],+e[1][1],+e[1][2],+e[1][3],+e[1][4]],[+n[2],+e[2][1],+e[2][2],+e[2][3],+e[2][4]],[+n[3],+e[3][1],+e[3][2],+e[3][3],+e[3][4]],[+n[4],+e[4][1],+e[4][2],+e[4][3],+e[4][4]]]),t([[+e[0][0],+n[0],+e[0][2],+e[0][3],+e[0][4]],[+e[1][0],+n[1],+e[1][2],+e[1][3],+e[1][4]],[+e[2][0],+n[2],+e[2][2],+e[2][3],+e[2][4]],[+e[3][0],+n[3],+e[3][2],+e[3][3],+e[3][4]],[+e[4][0],+n[4],+e[4][2],+e[4][3],+e[4][4]]]),t([[+e[0][0],+e[0][1],+n[0],+e[0][3],+e[0][4]],[+e[1][0],+e[1][1],+n[1],+e[1][3],+e[1][4]],[+e[2][0],+e[2][1],+n[2],+e[2][3],+e[2][4]],[+e[3][0],+e[3][1],+n[3],+e[3][3],+e[3][4]],[+e[4][0],+e[4][1],+n[4],+e[4][3],+e[4][4]]]),t([[+e[0][0],+e[0][1],+e[0][2],+n[0],+e[0][4]],[+e[1][0],+e[1][1],+e[1][2],+n[1],+e[1][4]],[+e[2][0],+e[2][1],+e[2][2],+n[2],+e[2][4]],[+e[3][0],+e[3][1],+e[3][2],+n[3],+e[3][4]],[+e[4][0],+e[4][1],+e[4][2],+n[4],+e[4][4]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+n[0]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+n[1]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+n[2]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+n[3]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+n[4]]]),t(e)]}}function c(t){return function(e,n){return[t([[+n[0],+e[0][1],+e[0][2],+e[0][3],+e[0][4],+e[0][5]],[+n[1],+e[1][1],+e[1][2],+e[1][3],+e[1][4],+e[1][5]],[+n[2],+e[2][1],+e[2][2],+e[2][3],+e[2][4],+e[2][5]],[+n[3],+e[3][1],+e[3][2],+e[3][3],+e[3][4],+e[3][5]],[+n[4],+e[4][1],+e[4][2],+e[4][3],+e[4][4],+e[4][5]],[+n[5],+e[5][1],+e[5][2],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+n[0],+e[0][2],+e[0][3],+e[0][4],+e[0][5]],[+e[1][0],+n[1],+e[1][2],+e[1][3],+e[1][4],+e[1][5]],[+e[2][0],+n[2],+e[2][2],+e[2][3],+e[2][4],+e[2][5]],[+e[3][0],+n[3],+e[3][2],+e[3][3],+e[3][4],+e[3][5]],[+e[4][0],+n[4],+e[4][2],+e[4][3],+e[4][4],+e[4][5]],[+e[5][0],+n[5],+e[5][2],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+n[0],+e[0][3],+e[0][4],+e[0][5]],[+e[1][0],+e[1][1],+n[1],+e[1][3],+e[1][4],+e[1][5]],[+e[2][0],+e[2][1],+n[2],+e[2][3],+e[2][4],+e[2][5]],[+e[3][0],+e[3][1],+n[3],+e[3][3],+e[3][4],+e[3][5]],[+e[4][0],+e[4][1],+n[4],+e[4][3],+e[4][4],+e[4][5]],[+e[5][0],+e[5][1],+n[5],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+n[0],+e[0][4],+e[0][5]],[+e[1][0],+e[1][1],+e[1][2],+n[1],+e[1][4],+e[1][5]],[+e[2][0],+e[2][1],+e[2][2],+n[2],+e[2][4],+e[2][5]],[+e[3][0],+e[3][1],+e[3][2],+n[3],+e[3][4],+e[3][5]],[+e[4][0],+e[4][1],+e[4][2],+n[4],+e[4][4],+e[4][5]],[+e[5][0],+e[5][1],+e[5][2],+n[5],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+n[0],+e[0][5]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+n[1],+e[1][5]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+n[2],+e[2][5]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+n[3],+e[3][5]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+n[4],+e[4][5]],[+e[5][0],+e[5][1],+e[5][2],+e[5][3],+n[5],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+e[0][4],+n[0]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+e[1][4],+n[1]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+e[2][4],+n[2]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+e[3][4],+n[3]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+e[4][4],+n[4]],[+e[5][0],+e[5][1],+e[5][2],+e[5][3],+e[5][4],+n[5]]]),t(e)]}}var u=[function(){return[[0]]},function(t,e){return[[e[0]],[t[0][0]]]}];function d(t,e,n,r,i,o,a,s){return function(l,c){switch(l.length){case 0:return t(l,c);case 1:return e(l,c);case 2:return n(l,c);case 3:return r(l,c);case 4:return i(l,c);case 5:return o(l,c)}var u=a[l.length];return u||(u=a[l.length]=s(l.length)),u(l,c)}}!function(){for(;u.length<6;)u.push(i(u.length));e.exports=d.apply(void 0,u.concat([u,i]));for(var t=0;t<6;++t)e.exports[t]=u[t]}()},{"robust-determinant":280}],284:[function(t,e,n){"use strict";var r=t("two-product"),i=t("robust-sum"),o=t("robust-scale"),a=t("robust-subtract");function s(t,e,n,r){return function(n,i,o){var a=t(t(e(i[1],o[0]),e(-o[1],i[0])),t(e(n[1],i[0]),e(-i[1],n[0]))),s=t(e(n[1],o[0]),e(-o[1],n[0])),l=r(a,s);return l[l.length-1]}}function l(t,e,n,r){return function(i,o,a,s){var l=t(t(n(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(n(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),n(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),t(n(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),s[2])))),c=t(t(n(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),t(n(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),a[2])))),u=r(l,c);return u[u.length-1]}}function c(t,e,n,r){return function(i,o,a,s,l){var c=t(t(t(n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(n(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),n(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),o[3]),t(n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),o[2]),t(n(t(e(o[1],l[0]),e(-l[1],o[0])),-s[2]),n(t(e(o[1],s[0]),e(-s[1],o[0])),l[2]))),-a[3]),n(t(n(t(e(a[1],l[0]),e(-l[1],a[0])),o[2]),t(n(t(e(o[1],l[0]),e(-l[1],o[0])),-a[2]),n(t(e(o[1],a[0]),e(-a[1],o[0])),l[2]))),s[3]))),t(n(t(n(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(n(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),n(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),-l[3]),t(n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),o[2]),t(n(t(e(o[1],l[0]),e(-l[1],o[0])),-s[2]),n(t(e(o[1],s[0]),e(-s[1],o[0])),l[2]))),i[3]),n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),n(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),-o[3])))),t(t(n(t(n(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),s[3]),t(n(t(n(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),-l[3]),n(t(n(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(n(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),n(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),i[3]))),t(n(t(n(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),-o[3]),t(n(t(n(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),a[3]),n(t(n(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-s[3]))))),u=t(t(t(n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(n(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),n(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),i[3]),n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),n(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),-a[3])),t(n(t(n(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),s[3]),n(t(n(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),-l[3]))),t(t(n(t(n(t(e(a[1],l[0]),e(-l[1],a[0])),o[2]),t(n(t(e(o[1],l[0]),e(-l[1],o[0])),-a[2]),n(t(e(o[1],a[0]),e(-a[1],o[0])),l[2]))),i[3]),n(t(n(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),-o[3])),t(n(t(n(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),a[3]),n(t(n(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-l[3])))),d=r(c,u);return d[d.length-1]}}function u(t){return(3===t?s:4===t?l:c)(i,r,o,a)}var d=u(3),f=u(4),h=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=33306690738754716e-32*r;return a>=s||a<=-s?a:d(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],s=t[1]-r[1],l=e[1]-r[1],c=n[1]-r[1],u=t[2]-r[2],d=e[2]-r[2],h=n[2]-r[2],p=o*c,g=a*l,m=a*s,v=i*c,y=i*l,b=o*s,x=u*(p-g)+d*(m-v)+h*(y-b),w=7771561172376103e-31*((Math.abs(p)+Math.abs(g))*Math.abs(u)+(Math.abs(m)+Math.abs(v))*Math.abs(d)+(Math.abs(y)+Math.abs(b))*Math.abs(h));return x>w||-x>w?x:f(t,e,n,r)}];function p(t){var e=h[t.length];return e||(e=h[t.length]=u(t.length)),e.apply(void 0,t)}function g(t,e,n,r,i,o,a){return function(e,n,s,l,c){switch(arguments.length){case 0:case 1:return 0;case 2:return r(e,n);case 3:return i(e,n,s);case 4:return o(e,n,s,l);case 5:return a(e,n,s,l,c)}for(var u=new Array(arguments.length),d=0;d<arguments.length;++d)u[d]=arguments[d];return t(u)}}!function(){for(;h.length<=5;)h.push(u(h.length));e.exports=g.apply(void 0,[p].concat(h));for(var t=0;t<=5;++t)e.exports[t]=h[t]}()},{"robust-scale":286,"robust-subtract":288,"robust-sum":289,"two-product":306}],285:[function(t,e,n){"use strict";var r=t("robust-sum"),i=t("robust-scale");e.exports=function(t,e){if(1===t.length)return i(e,t[0]);if(1===e.length)return i(t,e[0]);if(0===t.length||0===e.length)return[0];var n=[0];if(t.length<e.length)for(var o=0;o<t.length;++o)n=r(n,i(e,t[o]));else for(o=0;o<e.length;++o)n=r(n,i(t,e[o]));return n}},{"robust-scale":286,"robust-sum":289}],286:[function(t,e,n){"use strict";var r=t("two-product"),i=t("two-sum");e.exports=function(t,e){var n=t.length;if(1===n){var o=r(t[0],e);return o[0]?o:[o[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],c=0;r(t[0],e,s),s[0]&&(a[c++]=s[0]);for(var u=1;u<n;++u){r(t[u],e,l);var d=s[1];i(d,l[0],s),s[0]&&(a[c++]=s[0]);var f=l[1],h=s[1],p=f+h,g=h-(p-f);s[1]=p,g&&(a[c++]=g)}return s[1]&&(a[c++]=s[1]),0===c&&(a[c++]=0),a.length=c,a}},{"two-product":306,"two-sum":307}],287:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var o=r(t,n,i),a=r(e,n,i);if(o>0&&a>0||o<0&&a<0)return!1;var s=r(n,t,e),l=r(i,t,e);return!(s>0&&l>0||s<0&&l<0)&&(0!==o||0!==a||0!==s||0!==l||function(t,e,n,r){for(var i=0;i<2;++i){var o=t[i],a=e[i],s=Math.min(o,a),l=Math.max(o,a),c=n[i],u=r[i],d=Math.min(c,u);if(Math.max(c,u)<s||l<d)return!1}return!0}(t,e,n,i))};var r=t("robust-orientation")[3]},{"robust-orientation":284}],288:[function(t,e,n){"use strict";e.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,a=new Array(n+r),s=0,l=0,c=0,u=Math.abs,d=t[l],f=u(d),h=-e[c],p=u(h);f<p?(o=d,(l+=1)<n&&(f=u(d=t[l]))):(o=h,(c+=1)<r&&(p=u(h=-e[c]))),l<n&&f<p||c>=r?(i=d,(l+=1)<n&&(f=u(d=t[l]))):(i=h,(c+=1)<r&&(p=u(h=-e[c])));for(var g,m,v=i+o,y=v-i,b=o-y,x=b,w=v;l<n&&c<r;)f<p?(i=d,(l+=1)<n&&(f=u(d=t[l]))):(i=h,(c+=1)<r&&(p=u(h=-e[c]))),(b=(o=x)-(y=(v=i+o)-i))&&(a[s++]=b),x=w-((g=w+v)-(m=g-w))+(v-m),w=g;for(;l<n;)(b=(o=x)-(y=(v=(i=d)+o)-i))&&(a[s++]=b),x=w-((g=w+v)-(m=g-w))+(v-m),w=g,(l+=1)<n&&(d=t[l]);for(;c<r;)(b=(o=x)-(y=(v=(i=h)+o)-i))&&(a[s++]=b),x=w-((g=w+v)-(m=g-w))+(v-m),w=g,(c+=1)<r&&(h=-e[c]);return x&&(a[s++]=x),w&&(a[s++]=w),s||(a[s++]=0),a.length=s,a}},{}],289:[function(t,e,n){"use strict";e.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,a=new Array(n+r),s=0,l=0,c=0,u=Math.abs,d=t[l],f=u(d),h=e[c],p=u(h);f<p?(o=d,(l+=1)<n&&(f=u(d=t[l]))):(o=h,(c+=1)<r&&(p=u(h=e[c]))),l<n&&f<p||c>=r?(i=d,(l+=1)<n&&(f=u(d=t[l]))):(i=h,(c+=1)<r&&(p=u(h=e[c])));for(var g,m,v=i+o,y=v-i,b=o-y,x=b,w=v;l<n&&c<r;)f<p?(i=d,(l+=1)<n&&(f=u(d=t[l]))):(i=h,(c+=1)<r&&(p=u(h=e[c]))),(b=(o=x)-(y=(v=i+o)-i))&&(a[s++]=b),x=w-((g=w+v)-(m=g-w))+(v-m),w=g;for(;l<n;)(b=(o=x)-(y=(v=(i=d)+o)-i))&&(a[s++]=b),x=w-((g=w+v)-(m=g-w))+(v-m),w=g,(l+=1)<n&&(d=t[l]);for(;c<r;)(b=(o=x)-(y=(v=(i=h)+o)-i))&&(a[s++]=b),x=w-((g=w+v)-(m=g-w))+(v-m),w=g,(c+=1)<r&&(h=e[c]);return x&&(a[s++]=x),w&&(a[s++]=w),s||(a[s++]=0),a.length=s,a}},{}],290:[function(t,e,n){"use strict";e.exports=function(t){return i(r(t))};var r=t("boundary-cells"),i=t("reduce-simplicial-complex")},{"boundary-cells":34,"reduce-simplicial-complex":276}],291:[function(t,e,n){"use strict";e.exports=function(t,e,n,s){if(n=n||0,void 0===s&&(s=function(t){for(var e=t.length,n=0,r=0;r<e;++r)n=0|Math.max(n,t[r].length);return n-1}(t)),0===t.length||s<1)return{cells:[],vertexIds:[],vertexWeights:[]};var l=function(t,e){for(var n=t.length,r=i.mallocUint8(n),o=0;o<n;++o)r[o]=t[o]<e|0;return r}(e,+n),c=function(t,e){for(var n=t.length,a=e*(e+1)/2*n|0,s=i.mallocUint32(2*a),l=0,c=0;c<n;++c)for(var u=t[c],d=(e=u.length,0);d<e;++d)for(var f=0;f<d;++f){var h=u[f],p=u[d];s[l++]=0|Math.min(h,p),s[l++]=0|Math.max(h,p)}o(r(s,[l/2|0,2]));var g=2;for(c=2;c<l;c+=2)s[c-2]===s[c]&&s[c-1]===s[c+1]||(s[g++]=s[c],s[g++]=s[c+1]);return r(s,[g/2|0,2])}(t,s),u=function(t,e,n,o){for(var a=t.data,s=t.shape[0],l=i.mallocDouble(s),c=0,u=0;u<s;++u){var d=a[2*u],f=a[2*u+1];if(n[d]!==n[f]){var h=e[d],p=e[f];a[2*c]=d,a[2*c+1]=f,l[c++]=(p-o)/(p-h)}}return t.shape[0]=c,r(l,[c])}(c,e,l,+n),d=function(t,e){var n=i.mallocInt32(2*e),r=t.shape[0],o=t.data;n[0]=0;for(var a=0,s=0;s<r;++s){var l=o[2*s];if(l!==a){for(n[2*a+1]=s;++a<l;)n[2*a]=s,n[2*a+1]=s;n[2*a]=s}}for(n[2*a+1]=r;++a<e;)n[2*a]=n[2*a+1]=r;return n}(c,0|e.length),f=a(s)(t,c.data,d,l),h=function(t){for(var e=0|t.shape[0],n=t.data,r=new Array(e),i=0;i<e;++i)r[i]=[n[2*i],n[2*i+1]];return r}(c),p=[].slice.call(u.data,0,u.shape[0]);return i.free(l),i.free(c.data),i.free(u.data),i.free(d),{cells:f,vertexIds:h,vertexWeights:p}};var r=t("ndarray"),i=t("typedarray-pool"),o=t("ndarray-sort"),a=t("./lib/codegen")},{"./lib/codegen":292,ndarray:259,"ndarray-sort":258,"typedarray-pool":308}],292:[function(t,e,n){"use strict";e.exports=function(t){return r[t]()};var r=[function(){return function(t,e,n,r){for(var i=t.length,o=0;o<i;++o)t[o].length;return[]}},function(){function t(t,e,n,r){for(var i=0|Math.min(n,r),o=0|Math.max(n,r),a=t[2*i],s=t[2*i+1];a<s;){var l=a+s>>1,c=e[2*l+1];if(c===o)return l;o<c?s=l:a=l+1}return a}return function(e,n,r,i){for(var o=e.length,a=[],s=0;s<o;++s){var l=e[s];if(2===l.length){var c=(i[l[0]]<<0)+(i[l[1]]<<1);if(0===c||3===c)continue;switch(c){case 0:break;case 1:a.push([t(r,n,l[0],l[1])]);break;case 2:a.push([t(r,n,l[1],l[0])])}}}return a}},function(){function t(t,e,n,r){for(var i=0|Math.min(n,r),o=0|Math.max(n,r),a=t[2*i],s=t[2*i+1];a<s;){var l=a+s>>1,c=e[2*l+1];if(c===o)return l;o<c?s=l:a=l+1}return a}return function(e,n,r,i){for(var o=e.length,a=[],s=0;s<o;++s){var l=e[s],c=l.length;if(3===c){if(0===(u=(i[l[0]]<<0)+(i[l[1]]<<1)+(i[l[2]]<<2))||7===u)continue;switch(u){case 0:break;case 1:a.push([t(r,n,l[0],l[2]),t(r,n,l[0],l[1])]);break;case 2:a.push([t(r,n,l[1],l[0]),t(r,n,l[1],l[2])]);break;case 3:a.push([t(r,n,l[0],l[2]),t(r,n,l[1],l[2])]);break;case 4:a.push([t(r,n,l[2],l[1]),t(r,n,l[2],l[0])]);break;case 5:a.push([t(r,n,l[2],l[1]),t(r,n,l[0],l[1])]);break;case 6:a.push([t(r,n,l[1],l[0]),t(r,n,l[2],l[0])])}}else if(2===c){var u;if(0===(u=(i[l[0]]<<0)+(i[l[1]]<<1))||3===u)continue;switch(u){case 0:break;case 1:a.push([t(r,n,l[0],l[1])]);break;case 2:a.push([t(r,n,l[1],l[0])])}}}return a}},function(){function t(t,e,n,r){for(var i=0|Math.min(n,r),o=0|Math.max(n,r),a=t[2*i],s=t[2*i+1];a<s;){var l=a+s>>1,c=e[2*l+1];if(c===o)return l;o<c?s=l:a=l+1}return a}return function(e,n,r,i){for(var o=e.length,a=[],s=0;s<o;++s){var l=e[s],c=l.length;if(4===c){if(0===(u=(i[l[0]]<<0)+(i[l[1]]<<1)+(i[l[2]]<<2)+(i[l[3]]<<3))||15===u)continue;switch(u){case 0:break;case 1:a.push([t(r,n,l[0],l[1]),t(r,n,l[0],l[2]),t(r,n,l[0],l[3])]);break;case 2:a.push([t(r,n,l[1],l[2]),t(r,n,l[1],l[0]),t(r,n,l[1],l[3])]);break;case 3:a.push([t(r,n,l[1],l[2]),t(r,n,l[0],l[2]),t(r,n,l[0],l[3])],[t(r,n,l[1],l[3]),t(r,n,l[1],l[2]),t(r,n,l[0],l[3])]);break;case 4:a.push([t(r,n,l[2],l[0]),t(r,n,l[2],l[1]),t(r,n,l[2],l[3])]);break;case 5:a.push([t(r,n,l[0],l[1]),t(r,n,l[2],l[1]),t(r,n,l[0],l[3])],[t(r,n,l[2],l[1]),t(r,n,l[2],l[3]),t(r,n,l[0],l[3])]);break;case 6:a.push([t(r,n,l[2],l[0]),t(r,n,l[1],l[0]),t(r,n,l[1],l[3])],[t(r,n,l[2],l[3]),t(r,n,l[2],l[0]),t(r,n,l[1],l[3])]);break;case 7:a.push([t(r,n,l[0],l[3]),t(r,n,l[1],l[3]),t(r,n,l[2],l[3])]);break;case 8:a.push([t(r,n,l[3],l[1]),t(r,n,l[3],l[0]),t(r,n,l[3],l[2])]);break;case 9:a.push([t(r,n,l[3],l[1]),t(r,n,l[0],l[1]),t(r,n,l[0],l[2])],[t(r,n,l[3],l[2]),t(r,n,l[3],l[1]),t(r,n,l[0],l[2])]);break;case 10:a.push([t(r,n,l[1],l[0]),t(r,n,l[3],l[0]),t(r,n,l[1],l[2])],[t(r,n,l[3],l[0]),t(r,n,l[3],l[2]),t(r,n,l[1],l[2])]);break;case 11:a.push([t(r,n,l[1],l[2]),t(r,n,l[0],l[2]),t(r,n,l[3],l[2])]);break;case 12:a.push([t(r,n,l[3],l[0]),t(r,n,l[2],l[0]),t(r,n,l[2],l[1])],[t(r,n,l[3],l[1]),t(r,n,l[3],l[0]),t(r,n,l[2],l[1])]);break;case 13:a.push([t(r,n,l[0],l[1]),t(r,n,l[2],l[1]),t(r,n,l[3],l[1])]);break;case 14:a.push([t(r,n,l[2],l[0]),t(r,n,l[1],l[0]),t(r,n,l[3],l[0])])}}else if(3===c){if(0===(u=(i[l[0]]<<0)+(i[l[1]]<<1)+(i[l[2]]<<2))||7===u)continue;switch(u){case 0:break;case 1:a.push([t(r,n,l[0],l[2]),t(r,n,l[0],l[1])]);break;case 2:a.push([t(r,n,l[1],l[0]),t(r,n,l[1],l[2])]);break;case 3:a.push([t(r,n,l[0],l[2]),t(r,n,l[1],l[2])]);break;case 4:a.push([t(r,n,l[2],l[1]),t(r,n,l[2],l[0])]);break;case 5:a.push([t(r,n,l[2],l[1]),t(r,n,l[0],l[1])]);break;case 6:a.push([t(r,n,l[1],l[0]),t(r,n,l[2],l[0])])}}else if(2===c){var u;if(0===(u=(i[l[0]]<<0)+(i[l[1]]<<1))||3===u)continue;switch(u){case 0:break;case 1:a.push([t(r,n,l[0],l[1])]);break;case 2:a.push([t(r,n,l[1],l[0])])}}}return a}}]},{}],293:[function(t,e,n){"use strict";var r=t("bit-twiddle"),i=t("union-find");function o(t,e){var n=t.length,r=t.length-e.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return(s=t[0]+t[1]-e[0]-e[1])||i(t[0],t[1])-i(e[0],e[1]);case 3:var o=t[0]+t[1],a=e[0]+e[1];if(s=o+t[2]-(a+e[2]))return s;var s,l=i(t[0],t[1]),c=i(e[0],e[1]);return(s=i(l,t[2])-i(c,e[2]))||i(l+t[2],o)-i(c+e[2],a);default:var u=t.slice(0);u.sort();var d=e.slice(0);d.sort();for(var f=0;f<n;++f)if(r=u[f]-d[f])return r;return 0}}function a(t,e){return o(t[0],e[0])}function s(t,e){if(e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=[t[i],e[i]];for(r.sort(a),i=0;i<n;++i)t[i]=r[i][0],e[i]=r[i][1];return t}return t.sort(o),t}function l(t){if(0===t.length)return[];for(var e=1,n=t.length,r=1;r<n;++r){var i=t[r];if(o(i,t[r-1])){if(r===e){e++;continue}t[e++]=i}}return t.length=e,t}function c(t,e){for(var n=0,r=t.length-1,i=-1;n<=r;){var a=n+r>>1,s=o(t[a],e);s<=0?(0===s&&(i=a),n=a+1):s>0&&(r=a-1)}return i}function u(t,e){for(var n=new Array(t.length),i=0,a=n.length;i<a;++i)n[i]=[];for(var s=[],l=(i=0,e.length);i<l;++i)for(var u=e[i],d=u.length,f=1,h=1<<d;f<h;++f){s.length=r.popCount(f);for(var p=0,g=0;g<d;++g)f&1<<g&&(s[p++]=u[g]);var m=c(t,s);if(!(m<0))for(;n[m++].push(i),!(m>=t.length||0!==o(t[m],s)););}return n}function d(t,e){if(e<0)return[];for(var n=[],i=(1<<e+1)-1,o=0;o<t.length;++o)for(var a=t[o],l=i;l<1<<a.length;l=r.nextCombination(l)){for(var c=new Array(e+1),u=0,d=0;d<a.length;++d)l&1<<d&&(c[u++]=a[d]);n.push(c)}return s(n)}n.dimension=function(t){for(var e=0,n=Math.max,r=0,i=t.length;r<i;++r)e=n(e,t[r].length);return e-1},n.countVertices=function(t){for(var e=-1,n=Math.max,r=0,i=t.length;r<i;++r)for(var o=t[r],a=0,s=o.length;a<s;++a)e=n(e,o[a]);return e+1},n.cloneCells=function(t){for(var e=new Array(t.length),n=0,r=t.length;n<r;++n)e[n]=t[n].slice(0);return e},n.compareCells=o,n.normalize=s,n.unique=l,n.findCell=c,n.incidence=u,n.dual=function(t,e){if(!e)return u(l(d(t,0)),t);for(var n=new Array(e),r=0;r<e;++r)n[r]=[];r=0;for(var i=t.length;r<i;++r)for(var o=t[r],a=0,s=o.length;a<s;++a)n[o[a]].push(r);return n},n.explode=function(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0|i.length,a=1,l=1<<o;a<l;++a){for(var c=[],u=0;u<o;++u)a>>>u&1&&c.push(i[u]);e.push(c)}return s(e)},n.skeleton=d,n.boundary=function(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;++o){for(var l=new Array(i.length-1),c=0,u=0;c<a;++c)c!==o&&(l[u++]=i[c]);e.push(l)}return s(e)},n.connectedComponents=function(t,e){return e?function(t,e){for(var n=new i(e),r=0;r<t.length;++r)for(var o=t[r],a=0;a<o.length;++a)for(var s=a+1;s<o.length;++s)n.link(o[a],o[s]);var l=[],c=n.ranks;for(r=0;r<c.length;++r)c[r]=-1;for(r=0;r<t.length;++r){var u=n.find(t[r][0]);c[u]<0?(c[u]=l.length,l.push([t[r].slice(0)])):l[c[u]].push(t[r].slice(0))}return l}(t,e):function(t){for(var e=l(s(d(t,0))),n=new i(e.length),r=0;r<t.length;++r)for(var o=t[r],a=0;a<o.length;++a)for(var u=c(e,[o[a]]),f=a+1;f<o.length;++f)n.link(u,c(e,[o[f]]));var h=[],p=n.ranks;for(r=0;r<p.length;++r)p[r]=-1;for(r=0;r<t.length;++r){var g=n.find(c(e,[t[r][0]]));p[g]<0?(p[g]=h.length,h.push([t[r].slice(0)])):h[p[g]].push(t[r].slice(0))}return h}(t)}},{"bit-twiddle":32,"union-find":309}],294:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],295:[function(t,e,n){arguments[4][293][0].apply(n,arguments)},{"bit-twiddle":294,dup:293,"union-find":296}],296:[function(t,e,n){"use strict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=r,r.prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var n=e[t];e[t]=e[n],t=n}return t},r.prototype.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},{}],297:[function(t,e,n){"use strict";e.exports=function(t,e,n){for(var o=e.length,a=t.length,s=new Array(o),l=new Array(o),c=new Array(o),u=new Array(o),d=0;d<o;++d)s[d]=l[d]=-1,c[d]=1/0,u[d]=!1;for(d=0;d<a;++d){var f=t[d];if(2!==f.length)throw new Error("Input must be a graph");var h=f[1],p=f[0];-1!==l[p]?l[p]=-2:l[p]=h,-1!==s[h]?s[h]=-2:s[h]=p}function g(t){if(u[t])return 1/0;var n,i,o,a=s[t],c=l[t];return a<0||c<0?1/0:(n=e[t],i=e[a],o=e[c],Math.abs(r(n,i,o))/Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)))}function m(t,e){var n=A[t],r=A[e];A[t]=r,A[e]=n,T[n]=e,T[r]=t}function v(t){return c[A[t]]}function y(t){return 1&t?t-1>>1:(t>>1)-1}function b(t){for(var e=v(t);;){var n=e,r=2*t+1,i=2*(t+1),o=t;if(r<M){var a=v(r);a<n&&(o=r,n=a)}if(i<M&&v(i)<n&&(o=i),o===t)return t;m(t,o),t=o}}function x(t){for(var e=v(t);t>0;){var n=y(t);if(!(n>=0&&e<v(n)))return t;m(t,n),t=n}}function w(){if(M>0){var t=A[0];return m(0,M-1),M-=1,b(0),t}return-1}function k(t,e){var n=A[t];return c[n]===e?t:(c[n]=-1/0,x(t),w(),c[n]=e,x((M+=1)-1))}function _(t){if(!u[t]){u[t]=!0;var e=s[t],n=l[t];s[n]>=0&&(s[n]=e),l[e]>=0&&(l[e]=n),T[e]>=0&&k(T[e],g(e)),T[n]>=0&&k(T[n],g(n))}}var A=[],T=new Array(o);for(d=0;d<o;++d)(c[d]=g(d))<1/0?(T[d]=A.length,A.push(d)):T[d]=-1;var M=A.length;for(d=M>>1;d>=0;--d)b(d);for(;;){var E=w();if(E<0||c[E]>n)break;_(E)}var C=[];for(d=0;d<o;++d)u[d]||(T[d]=C.length,C.push(e[d].slice()));function S(t,e){if(t[e]<0)return e;var n=e,r=e;do{var i=t[r];if(!u[r]||i<0||i===r)break;if(i=t[r=i],!u[r]||i<0||i===r)break;r=i,n=t[n]}while(n!==r);for(var o=e;o!==r;o=t[o])t[o]=r;return r}C.length;var O=[];return t.forEach((function(t){var e=S(s,t[0]),n=S(l,t[1]);if(e>=0&&n>=0&&e!==n){var r=T[e],i=T[n];r!==i&&O.push([r,i])}})),i.unique(i.normalize(O)),{positions:C,edges:O}};var r=t("robust-orientation"),i=t("simplicial-complex")},{"robust-orientation":284,"simplicial-complex":295}],298:[function(t,e,n){"use strict";e.exports=function(t,e){var n,o,a,s;if(e[0][0]<e[1][0])n=e[0],o=e[1];else{if(!(e[0][0]>e[1][0]))return i(e,t);n=e[1],o=e[0]}if(t[0][0]<t[1][0])a=t[0],s=t[1];else{if(!(t[0][0]>t[1][0]))return-i(t,e);a=t[1],s=t[0]}var l=r(n,o,s),c=r(n,o,a);if(l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;if(l=r(s,a,o),c=r(s,a,n),l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;return o[0]-s[0]};var r=t("robust-orientation");function i(t,e){var n,i,o,a;if(e[0][0]<e[1][0])n=e[0],i=e[1];else{if(!(e[0][0]>e[1][0])){var s=Math.min(t[0][1],t[1][1]),l=Math.max(t[0][1],t[1][1]),c=Math.min(e[0][1],e[1][1]),u=Math.max(e[0][1],e[1][1]);return l<c?l-c:s>u?s-u:l-u}n=e[1],i=e[0]}t[0][1]<t[1][1]?(o=t[0],a=t[1]):(o=t[1],a=t[0]);var d=r(i,n,o);return d||(d=r(i,n,a))||a-i}},{"robust-orientation":284}],299:[function(t,e,n){"use strict";e.exports=function(t){for(var e=t.length,n=2*e,r=new Array(n),o=0;o<e;++o){var l=t[o],c=l[0][0]<l[1][0];r[2*o]=new d(l[0][0],l,c,o),r[2*o+1]=new d(l[1][0],l,!c,o)}r.sort((function(t,e){var n=t.x-e.x;return n||(n=t.create-e.create)||Math.min(t.segment[0][1],t.segment[1][1])-Math.min(e.segment[0][1],e.segment[1][1])}));var f=i(a),h=[],p=[],g=[];for(o=0;o<n;){for(var m=r[o].x,v=[];o<n;){var y=r[o];if(y.x!==m)break;o+=1,y.segment[0][0]===y.x&&y.segment[1][0]===y.x?y.create&&(y.segment[0][1]<y.segment[1][1]?(v.push(new u(y.segment[0][1],y.index,!0,!0)),v.push(new u(y.segment[1][1],y.index,!1,!1))):(v.push(new u(y.segment[1][1],y.index,!0,!1)),v.push(new u(y.segment[0][1],y.index,!1,!0)))):f=y.create?f.insert(y.segment,y.index):f.remove(y.segment)}h.push(f.root),p.push(m),g.push(v)}return new s(h,p,g)};var r=t("binary-search-bounds"),i=t("functional-red-black-tree"),o=t("robust-orientation"),a=t("./lib/order-segments");function s(t,e,n){this.slabs=t,this.coordinates=e,this.horizontal=n}function l(t,e){return t.y-e}function c(t,e){for(var n=null;t;){var r,i,a=t.key;a[0][0]<a[1][0]?(r=a[0],i=a[1]):(r=a[1],i=a[0]);var s=o(r,i,e);if(s<0)t=t.left;else if(s>0)if(e[0]!==a[1][0])n=t,t=t.right;else{if(l=c(t.right,e))return l;t=t.left}else{if(e[0]!==a[1][0])return t;var l;if(l=c(t.right,e))return l;t=t.left}}return n}function u(t,e,n,r){this.y=t,this.index=e,this.start=n,this.closed=r}function d(t,e,n,r){this.x=t,this.segment=e,this.create=n,this.index=r}s.prototype.castUp=function(t){var e=r.le(this.coordinates,t[0]);if(e<0)return-1;this.slabs[e];var n=c(this.slabs[e],t),i=-1;if(n&&(i=n.value),this.coordinates[e]===t[0]){var s=null;if(n&&(s=n.key),e>0){var u=c(this.slabs[e-1],t);u&&(s?a(u.key,s)>0&&(s=u.key,i=u.value):(i=u.value,s=u.key))}var d=this.horizontal[e];if(d.length>0){var f=r.ge(d,t[1],l);if(f<d.length){var h=d[f];if(t[1]===h.y){if(h.closed)return h.index;for(;f<d.length-1&&d[f+1].y===t[1];)if((h=d[f+=1]).closed)return h.index;if(h.y===t[1]&&!h.start){if((f+=1)>=d.length)return i;h=d[f]}}if(h.start)if(s){var p=o(s[0],s[1],[t[0],h.y]);s[0][0]>s[1][0]&&(p=-p),p>0&&(i=h.index)}else i=h.index;else h.y!==t[1]&&(i=h.index)}}}return i}},{"./lib/order-segments":298,"binary-search-bounds":31,"functional-red-black-tree":69,"robust-orientation":284}],300:[function(t,e,n){"use strict";var r=t("robust-dot-product"),i=t("robust-sum");function o(t,e){var n=i(r(t,e),[e[e.length-1]]);return n[n.length-1]}function a(t,e,n,r){var i=-e/(r-e);i<0?i=0:i>1&&(i=1);for(var o=1-i,a=t.length,s=new Array(a),l=0;l<a;++l)s[l]=i*t[l]+o*n[l];return s}e.exports=function(t,e){for(var n=[],r=[],i=o(t[t.length-1],e),s=t[t.length-1],l=t[0],c=0;c<t.length;++c,s=l){var u=o(l=t[c],e);if(i<0&&u>0||i>0&&u<0){var d=a(s,u,l,i);n.push(d),r.push(d.slice())}u<0?r.push(l.slice()):u>0?n.push(l.slice()):(n.push(l.slice()),r.push(l.slice())),i=u}return{positive:n,negative:r}},e.exports.positive=function(t,e){for(var n=[],r=o(t[t.length-1],e),i=t[t.length-1],s=t[0],l=0;l<t.length;++l,i=s){var c=o(s=t[l],e);(r<0&&c>0||r>0&&c<0)&&n.push(a(i,c,s,r)),c>=0&&n.push(s.slice()),r=c}return n},e.exports.negative=function(t,e){for(var n=[],r=o(t[t.length-1],e),i=t[t.length-1],s=t[0],l=0;l<t.length;++l,i=s){var c=o(s=t[l],e);(r<0&&c>0||r>0&&c<0)&&n.push(a(i,c,s,r)),c<=0&&n.push(s.slice()),r=c}return n}},{"robust-dot-product":281,"robust-sum":289}],301:[function(t,e,n){!function(){"use strict";var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(t){return i(a(t),arguments)}function r(t,n){return e.apply(null,[t].concat(n||[]))}function i(n,r){var i,o,a,s,l,c,u,d,f,h=1,p=n.length,g="";for(o=0;o<p;o++)if("string"==typeof n[o])g+=n[o];else if("object"==typeof n[o]){if((s=n[o]).keys)for(i=r[h],a=0;a<s.keys.length;a++){if(null==i)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));i=i[s.keys[a]]}else i=s.param_no?r[s.param_no]:r[h++];if(t.not_type.test(s.type)&&t.not_primitive.test(s.type)&&i instanceof Function&&(i=i()),t.numeric_arg.test(s.type)&&"number"!=typeof i&&isNaN(i))throw new TypeError(e("[sprintf] expecting number but found %T",i));switch(t.number.test(s.type)&&(d=i>=0),s.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,s.width?parseInt(s.width):0);break;case"e":i=s.precision?parseFloat(i).toExponential(s.precision):parseFloat(i).toExponential();break;case"f":i=s.precision?parseFloat(i).toFixed(s.precision):parseFloat(i);break;case"g":i=s.precision?String(Number(i.toPrecision(s.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=s.precision?i.substring(0,s.precision):i;break;case"t":i=String(!!i),i=s.precision?i.substring(0,s.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=s.precision?i.substring(0,s.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=s.precision?i.substring(0,s.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}t.json.test(s.type)?g+=i:(!t.number.test(s.type)||d&&!s.sign?f="":(f=d?"+":"-",i=i.toString().replace(t.sign,"")),c=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",u=s.width-(f+i).length,l=s.width&&u>0?c.repeat(u):"",g+=s.align?f+i+l:"0"===c?f+l+i:l+f+i)}return g}var o=Object.create(null);function a(e){if(o[e])return o[e];for(var n,r=e,i=[],a=0;r;){if(null!==(n=t.text.exec(r)))i.push(n[0]);else if(null!==(n=t.modulo.exec(r)))i.push("%");else{if(null===(n=t.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){a|=1;var s=[],l=n[2],c=[];if(null===(c=t.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=t.key_access.exec(l)))s.push(c[1]);else{if(null===(c=t.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(c[1])}n[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}r=r.substring(n[0].length)}return o[e]=i}void 0!==n&&(n.sprintf=e,n.vsprintf=r),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=r)}()},{}],302:[function(t,e,n){"use strict";e.exports=function(t,e){if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return function(t,e){for(var n=i(t,e),r=n.length,o=new Array(r),a=new Array(r),s=0;s<r;++s)o[s]=[n[s]],a[s]=[s];return{positions:o,cells:a}}(t,e);var n=t.order.join()+"-"+t.dtype,s=a[n];return e=+e||0,s||(s=a[n]=function(t,e){var n=t.length+"d",i=o[n];if(i)return i(r,t,e)}(t.order,t.dtype)),s(t,e)};var r=t("ndarray-extract-contour"),i=t("zero-crossings"),o={"2d":function(t,e,n){var r=t({order:e,scalarArguments:3,getters:"generic"===n?[0]:void 0,phase:function(t,e,n,r){return t>r|0},vertex:function(t,e,n,r,i,o,a,s,l,c,u,d,f){var h=(a<<0)+(s<<1)+(l<<2)+(c<<3)|0;if(0!==h&&15!==h)switch(h){case 0:case 15:u.push([t-.5,e-.5]);break;case 1:u.push([t-.25-.25*(r+n-2*f)/(n-r),e-.25-.25*(i+n-2*f)/(n-i)]);break;case 2:u.push([t-.75-.25*(-r-n+2*f)/(r-n),e-.25-.25*(o+r-2*f)/(r-o)]);break;case 3:u.push([t-.5,e-.5-.5*(i+n+o+r-4*f)/(n-i+r-o)]);break;case 4:u.push([t-.25-.25*(o+i-2*f)/(i-o),e-.75-.25*(-i-n+2*f)/(i-n)]);break;case 5:u.push([t-.5-.5*(r+n+o+i-4*f)/(n-r+i-o),e-.5]);break;case 6:u.push([t-.5-.25*(-r-n+o+i)/(r-n+i-o),e-.5-.25*(-i-n+o+r)/(i-n+r-o)]);break;case 7:u.push([t-.75-.25*(o+i-2*f)/(i-o),e-.75-.25*(o+r-2*f)/(r-o)]);break;case 8:u.push([t-.75-.25*(-o-i+2*f)/(o-i),e-.75-.25*(-o-r+2*f)/(o-r)]);break;case 9:u.push([t-.5-.25*(r+n+-o-i)/(n-r+o-i),e-.5-.25*(i+n+-o-r)/(n-i+o-r)]);break;case 10:u.push([t-.5-.5*(-r-n-o-i+4*f)/(r-n+o-i),e-.5]);break;case 11:u.push([t-.25-.25*(-o-i+2*f)/(o-i),e-.75-.25*(i+n-2*f)/(n-i)]);break;case 12:u.push([t-.5,e-.5-.5*(-i-n-o-r+4*f)/(i-n+o-r)]);break;case 13:u.push([t-.75-.25*(r+n-2*f)/(n-r),e-.25-.25*(-o-r+2*f)/(o-r)]);break;case 14:u.push([t-.25-.25*(-r-n+2*f)/(r-n),e-.25-.25*(-i-n+2*f)/(i-n)])}},cell:function(t,e,n,r,i,o,a,s,l){i?s.push([t,e]):s.push([e,t])}});return function(t,e){var n=[],i=[];return r(t,n,i,e),{positions:n,cells:i}}}},a={}},{"ndarray-extract-contour":251,"zero-crossings":318}],303:[function(t,e,n){(function(n){(function(){"use strict";e.exports=function t(e,n,i){i=i||{};var a=o[e];a||(a=o[e]={" ":{data:new Float32Array(0),shape:.2}});var s=a[n];if(!s)if(n.length<=1||!/\d/.test(n))s=a[n]=function(t){for(var e=t.cells,n=t.positions,r=new Float32Array(6*e.length),i=0,o=0,a=0;a<e.length;++a)for(var s=e[a],l=0;l<3;++l){var c=n[s[l]];r[i++]=c[0],r[i++]=c[1]+1.4,o=Math.max(c[0],o)}return{data:r,shape:o}}(r(n,{triangles:!0,font:e,textAlign:i.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var l=n.split(/(\d|\s)/),c=new Array(l.length),u=0,d=0,f=0;f<l.length;++f)c[f]=t(e,l[f]),u+=c[f].data.length,d+=c[f].shape,f>0&&(d+=.02);var h=new Float32Array(u),p=0,g=-.5*d;for(f=0;f<c.length;++f){for(var m=c[f].data,v=0;v<m.length;v+=2)h[p++]=m[v]+g,h[p++]=m[v+1];g+=c[f].shape+.02}s=a[n]={data:h,shape:d}}return s};var r=t("vectorize-text"),i=window||n.global||{},o=i.__TEXT_CACHE||{};i.__TEXT_CACHE={}}).call(this)}).call(this,t("_process"))},{_process:5,"vectorize-text":311}],304:[function(t,e,n){"use strict";var r=t("parse-unit");function i(t,e){var n=r(getComputedStyle(t).getPropertyValue(e));return n[0]*o(n[1],t)}function o(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return function(t,e){var n=document.createElement("div");n.style["font-size"]="128"+t,e.appendChild(n);var r=i(n,"font-size")/128;return e.removeChild(n),r}(t,e);case"em":return i(e,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 96/2.54;case"mm":return 96/25.4;case"pt":return 96/72;case"pc":return 16}return 1}e.exports=o},{"parse-unit":265}],305:[function(t,e,n){"use strict";e.exports=function(t){var e=(t=t||{}).center||[0,0,0],n=t.up||[0,1,0],r=t.right||d(n),i=t.radius||1,o=t.theta||0,u=t.phi||0;if(e=[].slice.call(e,0,3),n=[].slice.call(n,0,3),s(n,n),r=[].slice.call(r,0,3),s(r,r),"eye"in t){var h=t.eye,p=[h[0]-e[0],h[1]-e[1],h[2]-e[2]];a(r,p,n),c(r[0],r[1],r[2])<1e-6?r=d(n):s(r,r),i=c(p[0],p[1],p[2]);var g=l(n,p)/i,m=l(r,p)/i;u=Math.acos(g),o=Math.acos(m)}return i=Math.log(i),new f(t.zoomMin,t.zoomMax,e,n,r,i,o,u)};var r=t("filtered-vector"),i=t("gl-mat4/invert"),o=t("gl-mat4/rotate"),a=t("gl-vec3/cross"),s=t("gl-vec3/normalize"),l=t("gl-vec3/dot");function c(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function u(t){return Math.min(1,Math.max(-1,t))}function d(t){var e=Math.abs(t[0]),n=Math.abs(t[1]),r=Math.abs(t[2]),i=[0,0,0];e>Math.max(n,r)?i[2]=1:n>Math.max(e,r)?i[0]=1:i[1]=1;for(var o=0,a=0,l=0;l<3;++l)o+=t[l]*t[l],a+=i[l]*t[l];for(l=0;l<3;++l)i[l]-=a/o*t[l];return s(i,i),i}function f(t,e,n,i,o,a,s,l){this.center=r(n),this.up=r(i),this.right=r(o),this.radius=r([a]),this.angle=r([s,l]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var c=0;c<16;++c)this.computedMatrix[c]=.5;this.recalcMatrix(0)}var h=f.prototype;h.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},h.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},h.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,n=this.computedRight,r=0,i=0,o=0;o<3;++o)i+=e[o]*n[o],r+=e[o]*e[o];var l=Math.sqrt(r),u=0;for(o=0;o<3;++o)n[o]-=e[o]*i/r,u+=n[o]*n[o],e[o]/=l;var d=Math.sqrt(u);for(o=0;o<3;++o)n[o]/=d;var f=this.computedToward;a(f,e,n),s(f,f);var h=Math.exp(this.computedRadius[0]),p=this.computedAngle[0],g=this.computedAngle[1],m=Math.cos(p),v=Math.sin(p),y=Math.cos(g),b=Math.sin(g),x=this.computedCenter,w=m*y,k=v*y,_=b,A=-m*b,T=-v*b,M=y,E=this.computedEye,C=this.computedMatrix;for(o=0;o<3;++o){var S=w*n[o]+k*f[o]+_*e[o];C[4*o+1]=A*n[o]+T*f[o]+M*e[o],C[4*o+2]=S,C[4*o+3]=0}var O=C[1],L=C[5],P=C[9],D=C[2],R=C[6],I=C[10],z=L*I-P*R,N=P*D-O*I,B=O*R-L*D,F=c(z,N,B);for(z/=F,N/=F,B/=F,C[0]=z,C[4]=N,C[8]=B,o=0;o<3;++o)E[o]=x[o]+C[2+4*o]*h;for(o=0;o<3;++o){u=0;for(var j=0;j<3;++j)u+=C[o+4*j]*E[j];C[12+o]=-u}C[15]=1},h.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n};var p=[0,0,0];h.rotate=function(t,e,n,r){if(this.angle.move(t,e,n),r){this.recalcMatrix(t);var i=this.computedMatrix;p[0]=i[2],p[1]=i[6],p[2]=i[10];for(var a=this.computedUp,s=this.computedRight,l=this.computedToward,c=0;c<3;++c)i[4*c]=a[c],i[4*c+1]=s[c],i[4*c+2]=l[c];for(o(i,i,r,p),c=0;c<3;++c)a[c]=i[4*c],s[c]=i[4*c+1];this.up.set(t,a[0],a[1],a[2]),this.right.set(t,s[0],s[1],s[2])}},h.pan=function(t,e,n,r){e=e||0,n=n||0,r=r||0,this.recalcMatrix(t);var i=this.computedMatrix,o=(Math.exp(this.computedRadius[0]),i[1]),a=i[5],s=i[9],l=c(o,a,s);o/=l,a/=l,s/=l;var u=i[0],d=i[4],f=i[8],h=u*o+d*a+f*s,p=c(u-=o*h,d-=a*h,f-=s*h),g=(u/=p)*e+o*n,m=(d/=p)*e+a*n,v=(f/=p)*e+s*n;this.center.move(t,g,m,v);var y=Math.exp(this.computedRadius[0]);y=Math.max(1e-4,y+r),this.radius.set(t,Math.log(y))},h.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},h.setMatrix=function(t,e,n,r){var o=1;"number"==typeof n&&(o=0|n),(o<0||o>3)&&(o=1);var a=(o+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var s=e[o],l=e[o+4],d=e[o+8];if(r){var f=Math.abs(s),h=Math.abs(l),p=Math.abs(d),g=Math.max(f,h,p);f===g?(s=s<0?-1:1,l=d=0):p===g?(d=d<0?-1:1,s=l=0):(l=l<0?-1:1,s=d=0)}else{var m=c(s,l,d);s/=m,l/=m,d/=m}var v,y,b=e[a],x=e[a+4],w=e[a+8],k=b*s+x*l+w*d,_=c(b-=s*k,x-=l*k,w-=d*k),A=l*(w/=_)-d*(x/=_),T=d*(b/=_)-s*w,M=s*x-l*b,E=c(A,T,M);if(A/=E,T/=E,M/=E,this.center.jump(t,H,V,W),this.radius.idle(t),this.up.jump(t,s,l,d),this.right.jump(t,b,x,w),2===o){var C=e[1],S=e[5],O=e[9],L=C*b+S*x+O*w,P=C*A+S*T+O*M;v=z<0?-Math.PI/2:Math.PI/2,y=Math.atan2(P,L)}else{var D=e[2],R=e[6],I=e[10],z=D*s+R*l+I*d,N=D*b+R*x+I*w,B=D*A+R*T+I*M;v=Math.asin(u(z)),y=Math.atan2(B,N)}this.angle.jump(t,y,v),this.recalcMatrix(t);var F=e[2],j=e[6],$=e[10],Z=this.computedMatrix;i(Z,e);var U=Z[15],H=Z[12]/U,V=Z[13]/U,W=Z[14]/U,Y=Math.exp(this.computedRadius[0]);this.center.jump(t,H-F*Y,V-j*Y,W-$*Y)},h.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},h.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},h.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},h.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},h.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||this.computedCenter;var i=(r=r||this.computedUp)[0],o=r[1],a=r[2],s=c(i,o,a);if(!(s<1e-6)){i/=s,o/=s,a/=s;var l=e[0]-n[0],d=e[1]-n[1],f=e[2]-n[2],h=c(l,d,f);if(!(h<1e-6)){l/=h,d/=h,f/=h;var p=this.computedRight,g=p[0],m=p[1],v=p[2],y=i*g+o*m+a*v,b=c(g-=y*i,m-=y*o,v-=y*a);if(!(b<.01&&(b=c(g=o*f-a*d,m=a*l-i*f,v=i*d-o*l))<1e-6)){g/=b,m/=b,v/=b,this.up.set(t,i,o,a),this.right.set(t,g,m,v),this.center.set(t,n[0],n[1],n[2]),this.radius.set(t,Math.log(h));var x=o*v-a*m,w=a*g-i*v,k=i*m-o*g,_=c(x,w,k),A=i*l+o*d+a*f,T=g*l+m*d+v*f,M=(x/=_)*l+(w/=_)*d+(k/=_)*f,E=Math.asin(u(A)),C=Math.atan2(M,T),S=this.angle._state,O=S[S.length-1],L=S[S.length-2];O%=2*Math.PI;var P=Math.abs(O+2*Math.PI-C),D=Math.abs(O-C),R=Math.abs(O-2*Math.PI-C);P<D&&(O+=2*Math.PI),R<D&&(O-=2*Math.PI),this.angle.jump(this.angle.lastT(),O,L),this.angle.set(t,C,E)}}}}},{"filtered-vector":68,"gl-mat4/invert":98,"gl-mat4/rotate":103,"gl-vec3/cross":157,"gl-vec3/dot":162,"gl-vec3/normalize":179}],306:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i=t*e,o=r*t,a=o-(o-t),s=t-a,l=r*e,c=l-(l-e),u=e-c,d=s*u-(i-a*c-s*c-a*u);return n?(n[0]=d,n[1]=i,n):[d,i]};var r=+(Math.pow(2,27)+1)},{}],307:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]}},{}],308:[function(t,e,r){(function(e){(function(){"use strict";var n=t("bit-twiddle"),i=t("dup"),o=t("buffer").Buffer;e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,c=e.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=i([32,0])),c.BIGUINT64||(c.BIGUINT64=i([32,0])),c.BIGINT64||(c.BIGINT64=i([32,0])),c.BUFFER||(c.BUFFER=i([32,0]));var u=c.DATA,d=c.BUFFER;function f(t){if(t){var e=t.length||t.byteLength,r=n.log2(e);u[r].push(t)}}function h(t){t=n.nextPow2(t);var e=n.log2(t),r=u[e];return r.length>0?r.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(h(t),0,t)}function g(t){return new Uint16Array(h(2*t),0,t)}function m(t){return new Uint32Array(h(4*t),0,t)}function v(t){return new Int8Array(h(t),0,t)}function y(t){return new Int16Array(h(2*t),0,t)}function b(t){return new Int32Array(h(4*t),0,t)}function x(t){return new Float32Array(h(4*t),0,t)}function w(t){return new Float64Array(h(8*t),0,t)}function k(t){return a?new Uint8ClampedArray(h(t),0,t):p(t)}function _(t){return s?new BigUint64Array(h(8*t),0,t):null}function A(t){return l?new BigInt64Array(h(8*t),0,t):null}function T(t){return new DataView(h(t),0,t)}function M(t){t=n.nextPow2(t);var e=n.log2(t),r=d[e];return r.length>0?r.pop():new o(t)}r.free=function(t){if(o.isBuffer(t))d[n.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|n.log2(e);u[r].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeBigUint64=r.freeInt8=r.freeInt16=r.freeInt32=r.freeBigInt64=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(t){f(t.buffer)},r.freeArrayBuffer=f,r.freeBuffer=function(t){d[n.log2(t.length)].push(t)},r.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return h(t);switch(e){case"uint8":return p(t);case"uint16":return g(t);case"uint32":return m(t);case"int8":return v(t);case"int16":return y(t);case"int32":return b(t);case"float":case"float32":return x(t);case"double":case"float64":return w(t);case"uint8_clamped":return k(t);case"bigint64":return A(t);case"biguint64":return _(t);case"buffer":return M(t);case"data":case"dataview":return T(t);default:return null}return null},r.mallocArrayBuffer=h,r.mallocUint8=p,r.mallocUint16=g,r.mallocUint32=m,r.mallocInt8=v,r.mallocInt16=y,r.mallocInt32=b,r.mallocFloat32=r.mallocFloat=x,r.mallocFloat64=r.mallocDouble=w,r.mallocUint8Clamped=k,r.mallocBigUint64=_,r.mallocBigInt64=A,r.mallocDataView=T,r.mallocBuffer=M,r.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,u[t].length=0,d[t].length=0}}).call(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bit-twiddle":32,buffer:3,dup:65}],309:[function(t,e,n){"use strict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var r=n[e];n[e]=t,e=r}return t},i.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},{}],310:[function(t,e,n){"use strict";e.exports=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,e(i=t[a],o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,(r=t[o])!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}(t))}},{}],311:[function(t,e,n){"use strict";e.exports=function(t,e){return"object"==typeof e&&null!==e||(e={}),r(t,e.canvas||i,e.context||o,e)};var r=t("./lib/vtext"),i=null,o=null;"undefined"!=typeof document&&((i=document.createElement("canvas")).width=8192,i.height=1024,o=i.getContext("2d"))},{"./lib/vtext":312}],312:[function(t,e,n){e.exports=function(t,e,n,r){var o=64,a=1.25,s={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return r&&(r.size&&r.size>0&&(o=r.size),r.lineSpacing&&r.lineSpacing>0&&(a=r.lineSpacing),r.styletags&&r.styletags.breaklines&&(s.breaklines=!!r.styletags.breaklines),r.styletags&&r.styletags.bolds&&(s.bolds=!!r.styletags.bolds),r.styletags&&r.styletags.italics&&(s.italics=!!r.styletags.italics),r.styletags&&r.styletags.subscripts&&(s.subscripts=!!r.styletags.subscripts),r.styletags&&r.styletags.superscripts&&(s.superscripts=!!r.styletags.superscripts)),n.font=[r.fontStyle,r.fontVariant,r.fontWeight,o+"px",r.font].filter((function(t){return t})).join(" "),n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr",f(function(t,e,n,r,o,a){n=n.replace(/\n/g,""),n=!0===a.breaklines?n.replace(/\<br\>/g,"\n"):n.replace(/\<br\>/g," ");var s="",l=[];for(h=0;h<n.length;++h)l[h]=s;!0===a.bolds&&(l=c("b","b|",n,l)),!0===a.italics&&(l=c("i","i|",n,l)),!0===a.superscripts&&(l=c("sup","+1",n,l)),!0===a.subscripts&&(l=c("sub","-1",n,l));var u=[],d="";for(h=0;h<n.length;++h)null!==l[h]&&(d+=n[h],u.push(l[h]));var f,h,p,g,m,v=d.split("\n"),y=v.length,b=Math.round(o*r),x=r,w=2*r,k=0,_=y*b+w;t.height<_&&(t.height=_),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.fillStyle="#fff";var A=0,T="";function M(){if(""!==T){var t=e.measureText(T).width;e.fillText(T,x+p,w+g),p+=t}}function E(){return Math.round(m)+"px "}function C(t,n){var r=""+e.font;if(!0===a.subscripts){var i=t.indexOf("-"),o=n.indexOf("-"),s=i>-1?parseInt(t[1+i]):0,l=o>-1?parseInt(n[1+o]):0;s!==l&&(r=r.replace(E(),"?px "),m*=Math.pow(.75,l-s),r=r.replace("?px ",E())),g+=.25*b*(l-s)}if(!0===a.superscripts){var c=t.indexOf("+"),u=n.indexOf("+"),d=c>-1?parseInt(t[1+c]):0,f=u>-1?parseInt(n[1+u]):0;d!==f&&(r=r.replace(E(),"?px "),m*=Math.pow(.75,f-d),r=r.replace("?px ",E())),g-=.25*b*(f-d)}if(!0===a.bolds){var h=t.indexOf("b|")>-1,p=n.indexOf("b|")>-1;!h&&p&&(r=v?r.replace("italic ","italic bold "):"bold "+r),h&&!p&&(r=r.replace("bold ",""))}if(!0===a.italics){var v=t.indexOf("i|")>-1,y=n.indexOf("i|")>-1;!v&&y&&(r="italic "+r),v&&!y&&(r=r.replace("italic ",""))}e.font=r}for(f=0;f<y;++f){var S=v[f]+"\n";for(p=0,g=f*b,m=r,T="",h=0;h<S.length;++h){var O=h+A<u.length?u[h+A]:u[u.length-1];s===O?T+=S[h]:(M(),T=S[h],void 0!==O&&(C(s,O),s=O))}M(),A+=S.length;var L=0|Math.round(p+2*x);k<L&&(k=L)}var P=k,D=w+b*y;return i(e.getImageData(0,0,P,D).data,[D,P,4]).pick(-1,-1,0).transpose(1,0)}(e,n,t,o,a,s),r,o)},e.exports.processPixels=f;var r=t("surface-nets"),i=t("ndarray"),o=t("simplify-planar-graph"),a=t("clean-pslg"),s=t("cdt2d"),l=t("planar-graph-to-polyline");function c(t,e,n,r){for(var i="<"+t+">",o="</"+t+">",a=i.length,s=o.length,l="+"===e[0]||"-"===e[0],c=0,u=-s;c>-1&&-1!==(c=n.indexOf(i,c))&&-1!==(u=n.indexOf(o,c+a))&&!(u<=c);){for(var d=c;d<u+s;++d)if(d<c+a||d>=u)r[d]=null,n=n.substr(0,d)+" "+n.substr(d+1);else if(null!==r[d]){var f=r[d].indexOf(e[0]);-1===f?r[d]+=e:l&&(r[d]=r[d].substr(0,f+1)+(1+parseInt(r[d][f+1]))+r[d].substr(f+2))}var h=c+a,p=n.substr(h,u-h).indexOf(i);c=-1!==p?p:u+s}return r}function u(t,e){var n=r(t,128);return e?o(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function d(t,e,n,r){var i=u(t,r),o=function(t,e,n){for(var r=e.textAlign||"start",i=e.textBaseline||"alphabetic",o=[1<<30,1<<30],a=[0,0],s=t.length,l=0;l<s;++l)for(var c=t[l],u=0;u<2;++u)o[u]=0|Math.min(o[u],c[u]),a[u]=0|Math.max(a[u],c[u]);var d=0;switch(r){case"center":d=-.5*(o[0]+a[0]);break;case"right":case"end":d=-a[0];break;case"left":case"start":d=-o[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var f=0;switch(i){case"hanging":case"top":f=-o[1];break;case"middle":f=-.5*(o[1]+a[1]);break;case"alphabetic":case"ideographic":f=-3*n;break;case"bottom":f=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+i+"'")}var h=1/n;return"lineHeight"in e?h*=+e.lineHeight:"width"in e?h=e.width/(a[0]-o[0]):"height"in e&&(h=e.height/(a[1]-o[1])),t.map((function(t){return[h*(t[0]+d),h*(t[1]+f)]}))}(i.positions,e,n),c=i.edges,d="ccw"===e.orientation;if(a(o,c),e.polygons||e.polygon||e.polyline){for(var f=l(c,o),h=new Array(f.length),p=0;p<f.length;++p){for(var g=f[p],m=new Array(g.length),v=0;v<g.length;++v){for(var y=g[v],b=new Array(y.length),x=0;x<y.length;++x)b[x]=o[y[x]].slice();d&&b.reverse(),m[v]=b}h[p]=m}return h}return e.triangles||e.triangulate||e.triangle?{cells:s(o,c,{delaunay:!1,exterior:!1,interior:!0}),positions:o}:{edges:c,positions:o}}function f(t,e,n){try{return d(t,e,n,!0)}catch(t){}try{return d(t,e,n,!1)}catch(t){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},{cdt2d:42,"clean-pslg":50,ndarray:259,"planar-graph-to-polyline":268,"simplify-planar-graph":297,"surface-nets":302}],313:[function(t,e,n){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=g);var t=!1;if("function"==typeof WeakMap){var n=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var r=new n,i=Object.freeze({});if(r.set(i,1),1===r.get(i))return void(e.exports=WeakMap);t=!0}}Object.prototype.hasOwnProperty;var o=Object.getOwnPropertyNames,a=Object.defineProperty,s=Object.isExtensible,l="weakmap:ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var c=new ArrayBuffer(25),u=new Uint8Array(c);crypto.getRandomValues(u),l="weakmap:rand:"+Array.prototype.map.call(u,(function(t){return(t%36).toString(36)})).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(t){return o(t).filter(m)}}),"getPropertyNames"in Object){var d=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(t){return d(t).filter(m)}})}!function(){var t=Object.freeze;a(Object,"freeze",{value:function(e){return v(e),t(e)}});var e=Object.seal;a(Object,"seal",{value:function(t){return v(t),e(t)}});var n=Object.preventExtensions;a(Object,"preventExtensions",{value:function(t){return v(t),n(t)}})}();var f=!1,h=0,p=function t(){this instanceof t||b();var e=[],n=[],r=h++;return Object.create(t.prototype,{get___:{value:y((function(t,i){var o,a=v(t);return a?r in a?a[r]:i:(o=e.indexOf(t))>=0?n[o]:i}))},has___:{value:y((function(t){var n=v(t);return n?r in n:e.indexOf(t)>=0}))},set___:{value:y((function(t,i){var o,a=v(t);return a?a[r]=i:(o=e.indexOf(t))>=0?n[o]=i:(o=e.length,n[o]=i,e[o]=t),this}))},delete___:{value:y((function(t){var i,o,a=v(t);return a?r in a&&delete a[r]:!((i=e.indexOf(t))<0)&&(o=e.length-1,e[i]=void 0,n[i]=n[o],e[i]=e[o],e.length=o,n.length=o,!0)}))}})};p.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof n?function(){function r(){this instanceof p||b();var e,r=new n,i=void 0,o=!1;return e=t?function(t,e){return r.set(t,e),r.has(t)||(i||(i=new p),i.set(t,e)),this}:function(t,e){if(o)try{r.set(t,e)}catch(n){i||(i=new p),i.set___(t,e)}else r.set(t,e);return this},Object.create(p.prototype,{get___:{value:y((function(t,e){return i?r.has(t)?r.get(t):i.get___(t,e):r.get(t,e)}))},has___:{value:y((function(t){return r.has(t)||!!i&&i.has___(t)}))},set___:{value:y(e)},delete___:{value:y((function(t){var e=!!r.delete(t);return i&&i.delete___(t)||e}))},permitHostObjects___:{value:y((function(t){if(t!==g)throw new Error("bogus call to permitHostObjects___");o=!0}))}})}t&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=p.prototype,e.exports=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.exports=p)}function g(t){t.permitHostObjects___&&t.permitHostObjects___(g)}function m(t){return!("weakmap:"==t.substr(0,"weakmap:".length)&&"___"===t.substr(t.length-3))}function v(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[l];if(e&&e.key===t)return e;if(s(t)){e={key:t};try{return a(t,l,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function y(t){return t.prototype=null,Object.freeze(t)}function b(){f||"undefined"==typeof console||(f=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},{}],314:[function(t,e,n){var r=t("./hidden-store.js");e.exports=function(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var n=e.valueOf(t);return n&&n.identity===t?n:r(e,t)}}},{"./hidden-store.js":315}],315:[function(t,e,n){e.exports=function(t,e){var n={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?r.apply(this,arguments):n},writable:!0}),n}},{}],316:[function(t,e,n){var r=t("./create-store.js");e.exports=function(){var t=r();return{get:function(e,n){var r=t(e);return r.hasOwnProperty("value")?r.value:n},set:function(e,n){return t(e).value=n,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}},{"./create-store.js":314}],317:[function(t,e,n){"use strict";var r,i=function(){return function(t,e,n,r,i,o){var a=t[0],s=n[0],l=[0],c=s;r|=0;var u=0,d=s;for(u=0;u<a;++u){var f=e[r]-o,h=e[r+c]-o;f>=0!=h>=0&&i.push(l[0]+.5+.5*(f+h)/(f-h)),r+=d,++l[0]}}};e.exports=(r={funcName:"zeroCrossings"},function(t){var e={};return function(n,r,i){var o=n.dtype,a=n.order,s=[o,a.join()].join(),l=e[s];return l||(e[s]=l=t([o,a])),l(n.shape.slice(0),n.data,n.stride,0|n.offset,r,i)}}(i.bind(void 0,r)))},{}],318:[function(t,e,n){"use strict";e.exports=function(t,e){var n=[];return e=+e||0,r(t.hi(t.shape[0]-1),n,e),n};var r=t("./lib/zc-core")},{"./lib/zc-core":317}]},{},[6])(6)}))}).call(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[8])(8)},888:function(t,e,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(t,e,n){t.exports=n(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(t,e,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(l[t]=e,t=0;t<e.length;t++)s.add(e[t])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function x(t,e,n,r){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(g,t)||!h.call(p,t)&&(f.test(t)?g[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,b);v[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,b);v[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,b);v[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,_=60106,A=60107,T=60108,M=60114,E=60109,C=60110,S=60112,O=60113,L=60120,P=60115,D=60116,R=60121,I=60128,z=60129,N=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;k=F("react.element"),_=F("react.portal"),A=F("react.fragment"),T=F("react.strict_mode"),M=F("react.profiler"),E=F("react.provider"),C=F("react.context"),S=F("react.forward_ref"),O=F("react.suspense"),L=F("react.suspense_list"),P=F("react.memo"),D=F("react.lazy"),R=F("react.block"),F("react.scope"),I=F("react.opaque.id"),z=F("react.debug_trace_mode"),N=F("react.offscreen"),B=F("react.legacy_hidden")}var j,$="function"===typeof Symbol&&Symbol.iterator;function Z(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=$&&t[$]||t["@@iterator"])?t:null}function U(t){if(void 0===j)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);j=e&&e[1]||""}return"\n"+j+t}var H=!1;function V(t,e){if(!t||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?U(t):""}function W(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=V(t.type,!1);case 11:return t=V(t.type.render,!1);case 22:return t=V(t.type._render,!1);case 1:return t=V(t.type,!0);default:return""}}function Y(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case A:return"Fragment";case _:return"Portal";case M:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case L:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case S:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case P:return Y(t.type);case R:return Y(t._render);case D:e=t._payload,t=t._init;try{return Y(t(e))}catch(n){}}return null}function G(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function J(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=G(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&x(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=G(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,G(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+G(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:G(n)}}function ct(t,e){var n=G(e.value),r=G(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ut(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var dt="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ht(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var gt,mt,vt=(mt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((gt=gt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function yt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xt=["Webkit","ms","Moz","O"];function wt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function kt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=wt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bt).forEach((function(t){xt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var _t=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function At(t,e){if(e){if(_t[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function Tt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Mt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,Ct=null,St=null;function Ot(t){if(t=ri(t)){if("function"!==typeof Et)throw Error(a(280));var e=t.stateNode;e&&(e=oi(e),Et(t.stateNode,t.type,e))}}function Lt(t){Ct?St?St.push(t):St=[t]:Ct=t}function Pt(){if(Ct){var t=Ct,e=St;if(St=Ct=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Dt(t,e){return t(e)}function Rt(t,e,n,r,i){return t(e,n,r,i)}function It(){}var zt=Dt,Nt=!1,Bt=!1;function Ft(){null===Ct&&null===St||(It(),Pt())}function jt(t,e){var n=t.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var $t=!1;if(d)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch(mt){$t=!1}function Ut(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ht=!1,Vt=null,Wt=!1,Yt=null,Gt={onError:function(t){Ht=!0,Vt=t}};function qt(t,e,n,r,i,o,a,s,l){Ht=!1,Vt=null,Ut.apply(Gt,arguments)}function Xt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Jt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Kt(t){if(Xt(t)!==t)throw Error(a(188))}function Qt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Xt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Kt(i),t;if(o===r)return Kt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,le=null,ce=null,ue=new Map,de=new Map,fe=[],he="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ge(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ce=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":de.delete(e.pointerId)}}function me(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=pe(e,n,r,i,o),null!==e&&(null!==(e=ri(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ve(t){var e=ni(t.target);if(null!==e){var n=Xt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Jt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ri(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){ye(t)&&n.delete(e)}function xe(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ri(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&ye(se)&&(se=null),null!==le&&ye(le)&&(le=null),null!==ce&&ye(ce)&&(ce=null),ue.forEach(be),de.forEach(be)}function we(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xe)))}function ke(t){function e(e){return we(e,t)}if(0<ae.length){we(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&we(se,t),null!==le&&we(le,t),null!==ce&&we(ce,t),ue.forEach(e),de.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ve(n),null===n.blockedOn&&fe.shift()}function _e(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ae={animationend:_e("Animation","AnimationEnd"),animationiteration:_e("Animation","AnimationIteration"),animationstart:_e("Animation","AnimationStart"),transitionend:_e("Transition","TransitionEnd")},Te={},Me={};function Ee(t){if(Te[t])return Te[t];if(!Ae[t])return t;var e,n=Ae[t];for(e in n)if(n.hasOwnProperty(e)&&e in Me)return Te[t]=n[e];return t}d&&(Me=document.createElement("div").style,"AnimationEvent"in window||(delete Ae.animationend.animation,delete Ae.animationiteration.animation,delete Ae.animationstart.animation),"TransitionEvent"in window||delete Ae.transitionend.transition);var Ce=Ee("animationend"),Se=Ee("animationiteration"),Oe=Ee("animationstart"),Le=Ee("transitionend"),Pe=new Map,De=new Map,Re=["abort","abort",Ce,"animationEnd",Se,"animationIteration",Oe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Le,"transitionEnd","waiting","waiting"];function Ie(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),De.set(r,e),Pe.set(r,i),c(i,[r])}}(0,o.unstable_now)();var ze=8;function Ne(t){if(0!==(1&t))return ze=15,1;if(0!==(2&t))return ze=14,2;if(0!==(4&t))return ze=13,4;var e=24&t;return 0!==e?(ze=12,e):0!==(32&t)?(ze=11,32):0!==(e=192&t)?(ze=10,e):0!==(256&t)?(ze=9,256):0!==(e=3584&t)?(ze=8,e):0!==(4096&t)?(ze=7,4096):0!==(e=4186112&t)?(ze=6,e):0!==(e=62914560&t)?(ze=5,e):67108864&t?(ze=4,67108864):0!==(134217728&t)?(ze=3,134217728):0!==(e=805306368&t)?(ze=2,e):0!==(1073741824&t)?(ze=1,1073741824):(ze=8,t)}function Be(t,e){var n=t.pendingLanes;if(0===n)return ze=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=ze=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Ne(l),i=ze):0!==(s&=o)&&(r=Ne(s),i=ze)}else 0!==(o=n&~a)?(r=Ne(o),i=ze):0!==s&&(r=Ne(s),i=ze);if(0===r)return 0;if(r=n&((0>(r=31-He(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(Ne(e),i<=ze)return e;ze=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-He(e)),r|=t[n],e&=~i;return r}function Fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function je(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=$e(24&~e))?je(10,e):t;case 10:return 0===(t=$e(192&~e))?je(8,e):t;case 8:return 0===(t=$e(3584&~e))&&(0===(t=$e(4186112&~e))&&(t=512)),t;case 2:return 0===(e=$e(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function $e(t){return t&-t}function Ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ue(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-He(e)]=n}var He=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ve(t)/We|0)|0},Ve=Math.log,We=Math.LN2;var Ye=o.unstable_UserBlockingPriority,Ge=o.unstable_runWithPriority,qe=!0;function Xe(t,e,n,r){Nt||It();var i=Ke,o=Nt;Nt=!0;try{Rt(i,t,e,n,r)}finally{(Nt=o)||Ft()}}function Je(t,e,n,r){Ge(Ye,Ke.bind(null,t,e,n,r))}function Ke(t,e,n,r){var i;if(qe)if((i=0===(4&e))&&0<ae.length&&-1<he.indexOf(t))t=pe(null,t,e,n,r),ae.push(t);else{var o=Qe(t,e,n,r);if(null===o)i&&ge(t,r);else{if(i){if(-1<he.indexOf(t))return t=pe(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=me(se,t,e,n,r,i),!0;case"dragenter":return le=me(le,t,e,n,r,i),!0;case"mouseover":return ce=me(ce,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ue.set(o,me(ue.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,de.set(o,me(de.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ge(t,r)}Ir(t,e,r,null,n)}}}function Qe(t,e,n,r){var i=Mt(r);if(null!==(i=ni(i))){var o=Xt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Jt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function ln(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var cn,un,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=ln(fn),pn=i({},fn,{view:0,detail:0}),gn=ln(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dn&&(dn&&"mousemove"===t.type?(cn=t.screenX-dn.screenX,un=t.screenY-dn.screenY):un=cn=0,dn=t),cn)},movementY:function(t){return"movementY"in t?t.movementY:un}}),vn=ln(mn),yn=ln(i({},mn,{dataTransfer:0})),bn=ln(i({},pn,{relatedTarget:0})),xn=ln(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kn=ln(wn),_n=ln(i({},fn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Mn[t])&&!!e[t]}function Cn(){return En}var Sn=i({},pn,{key:function(t){if(t.key){var e=An[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Tn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),On=ln(Sn),Ln=ln(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=ln(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),In=ln(Rn),zn=[9,13,27,32],Nn=d&&"CompositionEvent"in window,Bn=null;d&&"documentMode"in document&&(Bn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Bn,jn=d&&(!Nn||Bn&&8<Bn&&11>=Bn),$n=String.fromCharCode(32),Zn=!1;function Un(t,e){switch(t){case"keyup":return-1!==zn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Gn(t,e,n,r){Lt(r),0<(e=Nr(e,"onChange")).length&&(n=new hn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qn=null,Xn=null;function Jn(t){Sr(t,0)}function Kn(t){if(J(ii(t)))return t}function Qn(t,e){if("change"===t)return e}var tr=!1;if(d){var er;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}er=nr}else er=!1;tr=er&&(!document.documentMode||9<document.documentMode)}function ir(){qn&&(qn.detachEvent("onpropertychange",or),Xn=qn=null)}function or(t){if("value"===t.propertyName&&Kn(Xn)){var e=[];if(Gn(e,Xn,t,Mt(t)),t=Jn,Nt)t(e);else{Nt=!0;try{Dt(t,e)}finally{Nt=!1,Ft()}}}}function ar(t,e,n){"focusin"===t?(ir(),Xn=n,(qn=e).attachEvent("onpropertychange",or)):"focusout"===t&&ir()}function sr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Kn(Xn)}function lr(t,e){if("click"===t)return Kn(e)}function cr(t,e){if("input"===t||"change"===t)return Kn(e)}var ur="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},dr=Object.prototype.hasOwnProperty;function fr(t,e){if(ur(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(e,n[r])||!ur(t[n[r]],e[n[r]]))return!1;return!0}function hr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pr(t,e){var n,r=hr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hr(r)}}function gr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?gr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mr(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function vr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,kr=!1;function _r(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==br||br!==K(r)||("selectionStart"in(r=br)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Nr(xr,"onSelect")).length&&(e=new hn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=br)))}Ie("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ie("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ie(Re,2);for(var Ar="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Ar.length;Tr++)De.set(Ar[Tr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Cr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,l,c){if(qt.apply(this,arguments),Ht){if(!Ht)throw Error(a(198));var u=Vt;Ht=!1,Vt=null,Wt||(Wt=!0,Yt=u)}}(r,e,void 0,t),t.currentTarget=null}function Sr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Cr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Cr(i,s,c),o=l}}}if(Wt)throw t=Yt,Wt=!1,Yt=null,t}function Or(t,e){var n=ai(e),r=t+"__bubble";n.has(r)||(Rr(e,t,2,!1),n.add(r))}var Lr="_reactListening"+Math.random().toString(36).slice(2);function Pr(t){t[Lr]||(t[Lr]=!0,s.forEach((function(e){Er.has(e)||Dr(e,!1,t,null),Dr(e,!0,t,null)})))}function Dr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Er.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ai(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Rr(o,t,i,e),a.add(s))}function Rr(t,e,n,r){var i=De.get(e);switch(void 0===i?2:i){case 0:i=Xe;break;case 1:i=Je;break;default:i=Ke}n=i.bind(null,e,n,t),i=void 0,!$t||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ir(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Bt)return t(e,n);Bt=!0;try{zt(t,e,n)}finally{Bt=!1,Ft()}}((function(){var r=o,i=Mt(n),a=[];t:{var s=Pe.get(t);if(void 0!==s){var l=hn,c=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=bn;break;case"focusout":c="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ce:case Se:case Oe:l=xn;break;case Le:l=Dn;break;case"scroll":l=gn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var u=0!==(4&e),d=!u&&"scroll"===t,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=jt(p,f))&&u.push(zr(p,g,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ti])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(d=Xt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=vn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Ln,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:ii(l),h=null==c?s:ii(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=h,g=null,ni(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=h,u.relatedTarget=d,g=u),d=g,l&&c)t:{for(f=c,p=0,h=u=l;h;h=Br(h))p++;for(h=0,g=f;g;g=Br(g))h++;for(;0<p-h;)u=Br(u),p--;for(;0<h-p;)f=Br(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break t;u=Br(u),f=Br(f)}u=null}else u=null;null!==l&&Fr(a,s,l,u,!1),null!==c&&null!==d&&Fr(a,d,c,u,!0)}if("select"===(l=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Qn;else if(Yn(s))if(tr)m=cr;else{m=sr;var v=ar}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=lr);switch(m&&(m=m(t,r))?Gn(a,m,n,i):(v&&v(t,s,r),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&it(s,"number",s.value)),v=r?ii(r):window,t){case"focusin":(Yn(v)||"true"===v.contentEditable)&&(br=v,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,_r(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(Nn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vn?Un(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Vn=!0)),0<(v=Nr(r,b)).length&&(b=new _n(b,t,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Fn?function(t,e){switch(t){case"compositionend":return Hn(e);case"keypress":return 32!==e.which?null:(Zn=!0,$n);case"textInput":return(t=e.data)===$n&&Zn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Nn&&Un(t,e)?(t=rn(),nn=en=tn=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Nr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Sr(a,e)}))}function zr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=jt(t,n))&&r.unshift(zr(t,o,i)),null!=(o=jt(t,e))&&r.push(zr(t,o,i))),t=t.return}return r}function Br(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Fr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=jt(n,o))&&a.unshift(zr(n,l,s)):i||null!=(l=jt(n,o))&&a.push(zr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function jr(){}var $r=null,Zr=null;function Ur(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Hr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Vr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Yr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Gr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function qr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Jr,Qr="__reactProps$"+Jr,ti="__reactContainer$"+Jr,ei="__reactEvents$"+Jr;function ni(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[Kr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=qr(t);null!==t;){if(n=t[Kr])return n;t=qr(t)}return e}n=(t=n).parentNode}return null}function ri(t){return!(t=t[Kr]||t[ti])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ii(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function oi(t){return t[Qr]||null}function ai(t){var e=t[ei];return void 0===e&&(e=t[ei]=new Set),e}var si=[],li=-1;function ci(t){return{current:t}}function ui(t){0>li||(t.current=si[li],si[li]=null,li--)}function di(t,e){li++,si[li]=t.current,t.current=e}var fi={},hi=ci(fi),pi=ci(!1),gi=fi;function mi(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function vi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){ui(pi),ui(hi)}function bi(t,e,n){if(hi.current!==fi)throw Error(a(168));di(hi,e),di(pi,n)}function xi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,Y(e)||"Unknown",o));return i({},n,r)}function wi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,gi=hi.current,di(hi,t),di(pi,pi.current),!0}function ki(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=xi(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,ui(pi),ui(hi),di(hi,t)):ui(pi),di(pi,n)}var _i=null,Ai=null,Ti=o.unstable_runWithPriority,Mi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Si=o.unstable_requestPaint,Oi=o.unstable_now,Li=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,zi=o.unstable_IdlePriority,Ni={},Bi=void 0!==Si?Si:function(){},Fi=null,ji=null,$i=!1,Zi=Oi(),Ui=1e4>Zi?Oi:function(){return Oi()-Zi};function Hi(){switch(Li()){case Pi:return 99;case Di:return 98;case Ri:return 97;case Ii:return 96;case zi:return 95;default:throw Error(a(332))}}function Vi(t){switch(t){case 99:return Pi;case 98:return Di;case 97:return Ri;case 96:return Ii;case 95:return zi;default:throw Error(a(332))}}function Wi(t,e){return t=Vi(t),Ti(t,e)}function Yi(t,e,n){return t=Vi(t),Mi(t,e,n)}function Gi(){if(null!==ji){var t=ji;ji=null,Ei(t)}qi()}function qi(){if(!$i&&null!==Fi){$i=!0;var t=0;try{var e=Fi;Wi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(t+1)),Mi(Pi,Gi),n}finally{$i=!1}}}var Xi=w.ReactCurrentBatchConfig;function Ji(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Ki=ci(null),Qi=null,to=null,eo=null;function no(){eo=to=Qi=null}function ro(t){var e=Ki.current;ui(Ki),t.type._context._currentValue=e}function io(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function oo(t,e){Qi=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Na=!0),t.firstContext=null)}function ao(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===Qi)throw Error(a(308));to=e,Qi.dependencies={lanes:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var so=!1;function lo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ho(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,r){var o=t.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=t.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,d=u=c=null;;){l=a.lane;var h=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(l=e,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){f=p.call(h,f,l);break t}f=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=g.payload)?p.call(h,f,l):p)||void 0===l)break t;f=i({},f,l);break t;case 2:so=!0}}null!==a.callback&&(t.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else h={eventTime:h,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=h,c=f):d=d.next=h,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,$s|=s,t.lanes=s,t.memoizedState=f}}function go(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternals)&&Xt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fl(),i=hl(t),o=uo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),fo(t,o),pl(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fl(),i=hl(t),o=uo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),fo(t,o),pl(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fl(),r=hl(t),i=uo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),fo(t,i),pl(t,r,n)}};function bo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function xo(t,e,n){var r=!1,i=fi,o=e.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=vi(e)?gi:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?mi(t,i):fi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function ko(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mo,lo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=vi(e)?gi:hi.current,i.context=mi(t,o)),po(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(vo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var _o=Array.isArray;function Ao(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===mo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function To(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Mo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Wl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Xl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Ao(t,e,n),r.return=t,r):((r=Yl(n.type,n.key,n.props,null,t.mode,r)).ref=Ao(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Jl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function d(t,e,n,r,o){return null===e||7!==e.tag?((e=Gl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Xl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case k:return(n=Yl(e.type,e.key,e.props,null,t.mode,n)).ref=Ao(t,null,e),n.return=t,n;case _:return(e=Jl(e,t.mode,n)).return=t,e}if(_o(e)||Z(e))return(e=Gl(e,t.mode,n,null)).return=t,e;To(t,e)}return null}function h(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===A?d(t,e,n.props.children,r,i):c(t,e,n,r):null;case _:return n.key===i?u(t,e,n,r):null}if(_o(n)||Z(n))return null!==i?null:d(t,e,n,r,null);To(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return t=t.get(null===r.key?n:r.key)||null,r.type===A?d(e,t,r.props.children,i,r.key):c(e,t,r,i);case _:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||Z(r))return d(e,t=t.get(n)||null,r,i,null);To(e,r)}return null}function g(i,a,s,l){for(var c=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=h(i,d,s[g],l);if(null===v){null===d&&(d=m);break}t&&d&&null===v.alternate&&e(i,d),a=o(v,a,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),c;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(a=o(d,a,g),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(t&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?c=m:u.sibling=m,u=m);return t&&d.forEach((function(t){return e(i,t)})),c}function m(i,s,l,c){var u=Z(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=h(i,g,y.value,c);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(i,g),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return t&&g.forEach((function(t){return e(i,t)})),u}return function(t,r,o,l){var c="object"===typeof o&&null!==o&&o.type===A&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case k:t:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===A){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}}else if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=Ao(t,c,o),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}o.type===A?((r=Gl(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=Yl(o.type,o.key,o.props,null,t.mode,l)).ref=Ao(t,r,o),l.return=t,t=l)}return s(t);case _:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Jl(o,t.mode,l)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Xl(o,t.mode,l)).return=t,t=r),s(t);if(_o(o))return g(t,r,o,l);if(Z(o))return m(t,r,o,l);if(u&&To(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Y(t.type)||"Component"))}return n(t,r)}}var Eo=Mo(!0),Co=Mo(!1),So={},Oo=ci(So),Lo=ci(So),Po=ci(So);function Do(t){if(t===So)throw Error(a(174));return t}function Ro(t,e){switch(di(Po,e),di(Lo,t),di(Oo,So),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Oo),di(Oo,e)}function Io(){ui(Oo),ui(Lo),ui(Po)}function zo(t){Do(Po.current);var e=Do(Oo.current),n=pt(e,t.type);e!==n&&(di(Lo,t),di(Oo,n))}function No(t){Lo.current===t&&(ui(Oo),ui(Lo))}var Bo=ci(0);function Fo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jo=null,$o=null,Zo=!1;function Uo(t,e){var n=Hl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ho(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Vo(t){if(Zo){var e=$o;if(e){var n=e;if(!Ho(t,e)){if(!(e=Gr(n.nextSibling))||!Ho(t,e))return t.flags=-1025&t.flags|2,Zo=!1,void(jo=t);Uo(jo,n)}jo=t,$o=Gr(e.firstChild)}else t.flags=-1025&t.flags|2,Zo=!1,jo=t}}function Wo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;jo=t}function Yo(t){if(t!==jo)return!1;if(!Zo)return Wo(t),Zo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Hr(e,t.memoizedProps))for(e=$o;e;)Uo(t,e),e=Gr(e.nextSibling);if(Wo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){$o=Gr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}$o=null}}else $o=jo?Gr(t.stateNode.nextSibling):null;return!0}function Go(){$o=jo=null,Zo=!1}var qo=[];function Xo(){for(var t=0;t<qo.length;t++)qo[t]._workInProgressVersionPrimary=null;qo.length=0}var Jo=w.ReactCurrentDispatcher,Ko=w.ReactCurrentBatchConfig,Qo=0,ta=null,ea=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function sa(t,e,n,r,i,o){if(Qo=o,ta=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jo.current=null===t||null===t.memoizedState?Da:Ra,t=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ea=null,e.updateQueue=null,Jo.current=Ia,t=n(r,i)}while(ia)}if(Jo.current=Pa,e=null!==ea&&null!==ea.next,Qo=0,na=ea=ta=null,ra=!1,e)throw Error(a(300));return t}function la(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ta.memoizedState=na=t:na=na.next=t,na}function ca(){if(null===ea){var t=ta.alternate;t=null!==t?t.memoizedState:null}else t=ea.next;var e=null===na?ta.memoizedState:na.next;if(null!==e)na=e,ea=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ea=t).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===na?ta.memoizedState=na=t:na=na.next=t}return na}function ua(t,e){return"function"===typeof e?e(t):e}function da(t){var e=ca(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.lane;if((Qo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,ta.lanes|=u,$s|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,ur(r,e.memoizedState)||(Na=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function fa(t){var e=ca(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);ur(o,e.memoizedState)||(Na=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Qo&t)===t)&&(e._workInProgressVersionPrimary=r,qo.push(e))),t)return n(e._source);throw qo.push(e),Error(a(350))}function pa(t,e,n,r){var i=Ds;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),l=Jo.current,c=l.useState((function(){return ha(i,e,n)})),u=c[1],d=c[0];c=na;var f=t.memoizedState,h=f.refs,p=h.getSnapshot,g=f.source;f=f.subscribe;var m=ta;return t.memoizedState={refs:h,source:e,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=u;var t=o(e._source);if(!ur(s,t)){t=n(e._source),ur(d,t)||(u(t),t=hl(m),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var l=31-He(a),c=1<<l;r[l]|=t,a&=~c}}}),[n,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=h.getSnapshot,n=h.setSnapshot;try{n(t(e._source));var r=hl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),ur(p,n)&&ur(g,e)&&ur(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:d}).dispatch=u=La.bind(null,ta,t),c.queue=t,c.baseQueue=null,d=ha(i,e,n),c.memoizedState=c.baseState=d),d}function ga(t,e,n){return pa(ca(),t,e,n)}function ma(t){var e=la();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t}).dispatch=La.bind(null,ta,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ta.updateQueue)?(e={lastEffect:null},ta.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ya(t){return t={current:t},la().memoizedState=t}function ba(){return ca().memoizedState}function xa(t,e,n,r){var i=la();ta.flags|=t,i.memoizedState=va(1|e,n,void 0,void 0===r?null:r)}function wa(t,e,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void va(e,n,o,r)}ta.flags|=t,i.memoizedState=va(1|e,n,o,r)}function ka(t,e){return xa(516,4,t,e)}function _a(t,e){return wa(516,4,t,e)}function Aa(t,e){return wa(4,2,t,e)}function Ta(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ma(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,wa(4,2,Ta.bind(null,e,t),n)}function Ea(){}function Ca(t,e){var n=ca();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sa(t,e){var n=ca();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Oa(t,e){var n=Hi();Wi(98>n?98:n,(function(){t(!0)})),Wi(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{t(!1),e()}finally{Ko.transition=n}}))}function La(t,e,n){var r=fl(),i=hl(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===ta||null!==a&&a===ta)ia=ra=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,ur(l,s))return}catch(c){}pl(t,i,r)}}var Pa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:function(t,e){return la().memoizedState=[t,void 0===e?null:e],t},useContext:ao,useEffect:ka,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,xa(4,2,Ta.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xa(4,2,t,e)},useMemo:function(t,e){var n=la();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=la();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=La.bind(null,ta,t),[r.memoizedState,t]},useRef:ya,useState:ma,useDebugValue:Ea,useDeferredValue:function(t){var e=ma(t),n=e[0],r=e[1];return ka((function(){var e=Ko.transition;Ko.transition=1;try{r(t)}finally{Ko.transition=e}}),[t]),n},useTransition:function(){var t=ma(!1),e=t[0];return ya(t=Oa.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=la();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},pa(r,t,e,n)},useOpaqueIdentifier:function(){if(Zo){var t=!1,e=function(t){return{$$typeof:I,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=ma(e)[1];return 0===(2&ta.mode)&&(ta.flags|=516,va(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),e}return ma(e="r:"+(Xr++).toString(36)),e},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Ca,useContext:ao,useEffect:_a,useImperativeHandle:Ma,useLayoutEffect:Aa,useMemo:Sa,useReducer:da,useRef:ba,useState:function(){return da(ua)},useDebugValue:Ea,useDeferredValue:function(t){var e=da(ua),n=e[0],r=e[1];return _a((function(){var e=Ko.transition;Ko.transition=1;try{r(t)}finally{Ko.transition=e}}),[t]),n},useTransition:function(){var t=da(ua)[0];return[ba().current,t]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(ua)[0]},unstable_isNewReconciler:!1},Ia={readContext:ao,useCallback:Ca,useContext:ao,useEffect:_a,useImperativeHandle:Ma,useLayoutEffect:Aa,useMemo:Sa,useReducer:fa,useRef:ba,useState:function(){return fa(ua)},useDebugValue:Ea,useDeferredValue:function(t){var e=fa(ua),n=e[0],r=e[1];return _a((function(){var e=Ko.transition;Ko.transition=1;try{r(t)}finally{Ko.transition=e}}),[t]),n},useTransition:function(){var t=fa(ua)[0];return[ba().current,t]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(ua)[0]},unstable_isNewReconciler:!1},za=w.ReactCurrentOwner,Na=!1;function Ba(t,e,n,r){e.child=null===t?Co(e,null,n,r):Eo(e,t.child,n,r)}function Fa(t,e,n,r,i){n=n.render;var o=e.ref;return oo(e,i),r=sa(t,e,n,r,o,i),null===t||Na?(e.flags|=1,Ba(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function ja(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Vl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Yl(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,$a(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&t.ref===e.ref)?os(t,e,o):(e.flags|=1,(t=Wl(a,r)).ref=e.ref,t.return=e,e.child=t)}function $a(t,e,n,r,i,o){if(null!==t&&fr(t.memoizedProps,r)&&t.ref===e.ref){if(Na=!1,0===(o&i))return e.lanes=t.lanes,os(t,e,o);0!==(16384&t.flags)&&(Na=!0)}return Ha(t,e,n,r,o)}function Za(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},kl(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},kl(e,t),null;e.memoizedState={baseLanes:0},kl(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,kl(e,r);return Ba(t,e,i,n),e.child}function Ua(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ha(t,e,n,r,i){var o=vi(n)?gi:hi.current;return o=mi(e,o),oo(e,i),n=sa(t,e,n,r,o,i),null===t||Na?(e.flags|=1,Ba(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Va(t,e,n,r,i){if(vi(n)){var o=!0;wi(e)}else o=!1;if(oo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),xo(e,n,r),ko(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=mi(e,c=vi(n)?gi:hi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&wo(e,a,r,c),so=!1;var f=e.memoizedState;a.state=f,po(e,r,a,i),l=e.memoizedState,s!==r||f!==l||pi.current||so?("function"===typeof u&&(vo(e,n,u,r),l=e.memoizedState),(s=so||bo(e,n,s,r,f,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,co(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Ji(e.type,s),a.props=c,d=e.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ao(l):l=mi(e,l=vi(n)?gi:hi.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&wo(e,a,r,l),so=!1,f=e.memoizedState,a.state=f,po(e,r,a,i);var p=e.memoizedState;s!==d||f!==p||pi.current||so?("function"===typeof h&&(vo(e,n,h,r),p=e.memoizedState),(c=so||bo(e,n,c,r,f,p,l))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Wa(t,e,n,r,o,i)}function Wa(t,e,n,r,i,o){Ua(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&ki(e,n,!1),os(t,e,o);r=e.stateNode,za.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Eo(e,t.child,null,o),e.child=Eo(e,null,s,o)):Ba(t,e,s,o),e.memoizedState=r.state,i&&ki(e,n,!0),e.child}function Ya(t){var e=t.stateNode;e.pendingContext?bi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bi(0,e.context,!1),Ro(t,e.containerInfo)}var Ga,qa,Xa,Ja={dehydrated:null,retryLane:0};function Ka(t,e,n){var r,i=e.pendingProps,o=Bo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),di(Bo,1&o),null===t?(void 0!==i.fallback&&Vo(e),t=i.children,o=i.fallback,a?(t=Qa(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ja,t):"number"===typeof i.unstable_expectedLoadTime?(t=Qa(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ja,e.lanes=33554432,t):((n=ql({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=es(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Ja,i):(n=ts(t,e,i.children,n),e.memoizedState=null,n))}function Qa(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=ql(e,i,0,null),n=Gl(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ts(t,e,n,r){var i=t.child;return t=i.sibling,n=Wl(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function es(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Wl(a,s),null!==t?r=Wl(t,r):(r=Gl(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function ns(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),io(t.return,e)}function rs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(t,e,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ns(t,n);else if(19===t.tag)ns(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(di(Bo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Fo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Fo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rs(e,!0,n,null,o,e.lastEffect);break;case"together":rs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function os(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),$s|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Wl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Wl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function as(t,e){if(!Zo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ss(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(e.type)&&yi(),null;case 3:return Io(),ui(pi),ui(hi),Xo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Yo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:No(e);var o=Do(Po.current);if(n=e.type,null!==t&&null!=e.stateNode)qa(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Do(Oo.current),Yo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kr]=e,r[Qr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(t=0;t<Mr.length;t++)Or(Mr[t],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":tt(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":lt(r,s),Or("invalid",r)}for(var c in At(n,s),t=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":X(r),rt(r,s,!0);break;case"textarea":X(r),ut(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===dt&&(t=ht(n)),t===dt?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Kr]=e,t[Qr]=r,Ga(t,e),e.stateNode=t,c=Tt(n,r),n){case"dialog":Or("cancel",t),Or("close",t),o=r;break;case"iframe":case"object":case"embed":Or("load",t),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Or(Mr[o],t);o=r;break;case"source":Or("error",t),o=r;break;case"img":case"image":case"link":Or("error",t),Or("load",t),o=r;break;case"details":Or("toggle",t),o=r;break;case"input":tt(t,r),o=Q(t,r),Or("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",t);break;case"textarea":lt(t,r),o=st(t,r),Or("invalid",t);break;default:o=r}At(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?kt(t,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&vt(t,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&yt(t,d):"number"===typeof d&&yt(t,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Or("scroll",t):null!=d&&x(t,s,d,c))}switch(n){case"input":X(t),rt(t,r,!1);break;case"textarea":X(t),ut(t);break;case"option":null!=r.value&&t.setAttribute("value",""+G(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=jr)}Ur(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Xa(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Do(Po.current),Do(Oo.current),Yo(e)?(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=e,e.stateNode=r)}return null;case 13:return ui(Bo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Yo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Ds||0===(134217727&$s)&&0===(134217727&Zs)||yl(Ds,Is))),(r||n)&&(e.flags|=4),null);case 4:return Io(),null===t&&Pr(e.stateNode.containerInfo),null;case 10:return ro(e),null;case 19:if(ui(Bo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Bs||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=Fo(t))){for(e.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,t=c.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return di(Bo,1&Bo.current|2),e.child}t=t.sibling}null!==r.tail&&Ui()>Ws&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Fo(c))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Zo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Ws&&1073741824!==n&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,e=Bo.current,di(Bo,s?1&e|2:1&e),n):null;case 23:case 24:return _l(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function ls(t){switch(t.tag){case 1:vi(t.type)&&yi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Io(),ui(pi),ui(hi),Xo(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return No(t),null;case 13:return ui(Bo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ui(Bo),null;case 4:return Io(),null;case 10:return ro(t),null;case 23:case 24:return _l(),null;default:return null}}function cs(t,e){try{var n="",r=e;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function us(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Ga=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Do(Oo.current);var a,s=null;switch(n){case"input":o=Q(t,o),r=Q(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=jr)}for(d in At(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Or("scroll",t),s||c===u||(s=[])):"object"===typeof u&&null!==u&&u.$$typeof===I?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}},Xa=function(t,e,n,r){n!==r&&(e.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xs||(Xs=!0,Js=r),us(0,e)},n}function hs(t,e,n){(n=uo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return us(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),us(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function gs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){jl(t,n)}else e.current=null}function ms(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ji(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Yr(e.stateNode.containerInfo))}throw Error(a(163))}function vs(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Nl(n,t),zl(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Ji(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&go(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}go(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Ur(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&ke(n)))))}throw Error(a(163))}function ys(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=wt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(t,e){if(Ai&&"function"===typeof Ai.onCommitFiberUnmount)try{Ai.onCommitFiberUnmount(_i,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Nl(e,n);else{r=e;try{i()}catch(o){jl(r,o)}}n=n.next}while(n!==t)}break;case 1:if(gs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){jl(e,o)}break;case 5:gs(e);break;case 4:Ts(t,e)}}function xs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ws(t){return 5===t.tag||3===t.tag||4===t.tag}function ks(t){t:{for(var e=t.return;null!==e;){if(ws(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(yt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?_s(t,n,e):As(t,n,e)}function _s(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=jr));else if(4!==r&&null!==(t=t.child))for(_s(t,e,n),t=t.sibling;null!==t;)_s(t,e,n),t=t.sibling}function As(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(As(t,e,n),t=t.sibling;null!==t;)As(t,e,n),t=t.sibling}function Ts(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,l=i,c=l;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break t;for(;null===c.sibling;){if(null===c.return||c.return===l)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ms(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Qr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Tt(t,i),e=Tt(t,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?kt(n,l):"dangerouslySetInnerHTML"===s?vt(n,l):"children"===s?yt(n,l):x(n,s,l,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,ke(n.containerInfo)));case 13:return null!==e.memoizedState&&(Vs=Ui(),ys(e.child,!0)),void Es(e);case 19:return void Es(e);case 23:case 24:return void ys(e,null!==e.memoizedState)}throw Error(a(163))}function Es(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ps),e.forEach((function(e){var r=Zl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Cs(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Ss=Math.ceil,Os=w.ReactCurrentDispatcher,Ls=w.ReactCurrentOwner,Ps=0,Ds=null,Rs=null,Is=0,zs=0,Ns=ci(0),Bs=0,Fs=null,js=0,$s=0,Zs=0,Us=0,Hs=null,Vs=0,Ws=1/0;function Ys(){Ws=Ui()+500}var Gs,qs=null,Xs=!1,Js=null,Ks=null,Qs=!1,tl=null,el=90,nl=[],rl=[],il=null,ol=0,al=null,sl=-1,ll=0,cl=0,ul=null,dl=!1;function fl(){return 0!==(48&Ps)?Ui():-1!==sl?sl:sl=Ui()}function hl(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Hi()?1:2;if(0===ll&&(ll=js),0!==Xi.transition){0!==cl&&(cl=null!==Hs?Hs.pendingLanes:0),t=ll;var e=4186112&~cl;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Hi(),0!==(4&Ps)&&98===t?t=je(12,ll):t=je(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ll),t}function pl(t,e,n){if(50<ol)throw ol=0,al=null,Error(a(185));if(null===(t=gl(t,e)))return null;Ue(t,e,n),t===Ds&&(Zs|=e,4===Bs&&yl(t,Is));var r=Hi();1===e?0!==(8&Ps)&&0===(48&Ps)?bl(t):(ml(t,n),0===Ps&&(Ys(),Gi())):(0===(4&Ps)||98!==r&&99!==r||(null===il?il=new Set([t]):il.add(t)),ml(t,n)),Hs=t}function gl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function ml(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-He(s),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=e,Ne(c);var d=ze;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=e&&(t.expiredLanes|=c);s&=~c}if(r=Be(t,t===Ds?Is:0),e=ze,0===r)null!==n&&(n!==Ni&&Ei(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Ni&&Ei(n)}15===e?(n=bl.bind(null,t),null===Fi?(Fi=[n],ji=Mi(Pi,qi)):Fi.push(n),n=Ni):14===e?n=Yi(99,bl.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Yi(n,vl.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function vl(t){if(sl=-1,cl=ll=0,0!==(48&Ps))throw Error(a(327));var e=t.callbackNode;if(Il()&&t.callbackNode!==e)return null;var n=Be(t,t===Ds?Is:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var o=Ml();for(Ds===t&&Is===r||(Ys(),Al(t,r));;)try{Sl();break}catch(l){Tl(t,l)}if(no(),Os.current=o,Ps=i,null!==Rs?r=0:(Ds=null,Is=0,r=Bs),0!==(js&Zs))Al(t,0);else if(0!==r){if(2===r&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Yr(t.containerInfo)),0!==(n=Fe(t))&&(r=El(t,n))),1===r)throw e=Fs,Al(t,0),yl(t,n),ml(t,Ui()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Pl(t);break;case 3:if(yl(t,n),(62914560&n)===n&&10<(r=Vs+500-Ui())){if(0!==Be(t,0))break;if(((i=t.suspendedLanes)&n)!==n){fl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vr(Pl.bind(null,t),r);break}Pl(t);break;case 4:if(yl(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-He(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)){t.timeoutHandle=Vr(Pl.bind(null,t),n);break}Pl(t);break;default:throw Error(a(329))}}return ml(t,Ui()),t.callbackNode===e?vl.bind(null,t):null}function yl(t,e){for(e&=~Us,e&=~Zs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-He(e),r=1<<n;t[n]=-1,e&=~r}}function bl(t){if(0!==(48&Ps))throw Error(a(327));if(Il(),t===Ds&&0!==(t.expiredLanes&Is)){var e=Is,n=El(t,e);0!==(js&Zs)&&(n=El(t,e=Be(t,e)))}else n=El(t,e=Be(t,0));if(0!==t.tag&&2===n&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Yr(t.containerInfo)),0!==(e=Fe(t))&&(n=El(t,e))),1===n)throw n=Fs,Al(t,0),yl(t,e),ml(t,Ui()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pl(t),ml(t,Ui()),null}function xl(t,e){var n=Ps;Ps|=1;try{return t(e)}finally{0===(Ps=n)&&(Ys(),Gi())}}function wl(t,e){var n=Ps;Ps&=-2,Ps|=8;try{return t(e)}finally{0===(Ps=n)&&(Ys(),Gi())}}function kl(t,e){di(Ns,zs),zs|=e,js|=e}function _l(){zs=Ns.current,ui(Ns)}function Al(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Io(),ui(pi),ui(hi),Xo();break;case 5:No(r);break;case 4:Io();break;case 13:case 19:ui(Bo);break;case 10:ro(r);break;case 23:case 24:_l()}n=n.return}Ds=t,Rs=Wl(t.current,null),Is=zs=js=e,Bs=0,Fs=null,Us=Zs=$s=0}function Tl(t,e){for(;;){var n=Rs;try{if(no(),Jo.current=Pa,ra){for(var r=ta.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Qo=0,na=ea=ta=null,ia=!1,Ls.current=null,null===n||null===n.return){Bs=1,Fs=e,Rs=null;break}t:{var o=t,a=n.return,s=n,l=e;if(e=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Bo.current),f=a;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=f.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(h){var m=f.updateQueue;if(null===m){var v=new Set;v.add(c),f.updateQueue=v}else m.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=uo(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break t}l=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new ds,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var x=$l.bind(null,o,c,s);c.then(x,x)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);l=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),l=cs(l,s),f=a;do{switch(f.tag){case 3:o=l,f.flags|=4096,e&=-e,f.lanes|=e,ho(f,fs(0,o,e));break t;case 1:o=l;var w=f.type,k=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){f.flags|=4096,e&=-e,f.lanes|=e,ho(f,hs(f,o,e));break t}}f=f.return}while(null!==f)}Ll(n)}catch(_){e=_,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Ml(){var t=Os.current;return Os.current=Pa,null===t?Pa:t}function El(t,e){var n=Ps;Ps|=16;var r=Ml();for(Ds===t&&Is===e||Al(t,e);;)try{Cl();break}catch(i){Tl(t,i)}if(no(),Ps=n,Os.current=r,null!==Rs)throw Error(a(261));return Ds=null,Is=0,Bs}function Cl(){for(;null!==Rs;)Ol(Rs)}function Sl(){for(;null!==Rs&&!Ci();)Ol(Rs)}function Ol(t){var e=Gs(t.alternate,t,zs);t.memoizedProps=t.pendingProps,null===e?Ll(t):Rs=e,Ls.current=null}function Ll(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=ss(n,e,zs)))return void(Rs=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&zs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=ls(e)))return n.flags&=2047,void(Rs=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Rs=e);Rs=e=t}while(null!==e);0===Bs&&(Bs=5)}function Pl(t){var e=Hi();return Wi(99,Dl.bind(null,t,e)),null}function Dl(t,e){do{Il()}while(null!==tl);if(0!==(48&Ps))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,l=t.expirationTimes;0<o;){var c=31-He(o),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==il&&0===(24&r)&&il.has(t)&&il.delete(t),t===Ds&&(Rs=Ds=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Ls.current=null,$r=qe,vr(s=mr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else t:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(M){l=null;break t}var d=0,f=-1,h=-1,p=0,g=0,m=s,v=null;e:for(;;){for(var y;m!==l||0!==o&&3!==m.nodeType||(f=d+o),m!==c||0!==u&&3!==m.nodeType||(h=d+u),3===m.nodeType&&(d+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===s)break e;if(v===l&&++p===o&&(f=d),v===c&&++g===u&&(h=d),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}l=-1===f||-1===h?null:{start:f,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;Zr={focusedElem:s,selectionRange:l},qe=!1,ul=null,dl=!1,qs=r;do{try{Rl()}catch(M){if(null===qs)throw Error(a(330));jl(qs,M),qs=qs.nextEffect}}while(null!==qs);ul=null,qs=r;do{try{for(s=t;null!==qs;){var b=qs.flags;if(16&b&&yt(qs.stateNode,""),128&b){var x=qs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ks(qs),qs.flags&=-3;break;case 6:ks(qs),qs.flags&=-3,Ms(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,Ms(qs.alternate,qs);break;case 4:Ms(qs.alternate,qs);break;case 8:Ts(s,l=qs);var k=l.alternate;xs(l),null!==k&&xs(k)}qs=qs.nextEffect}}catch(M){if(null===qs)throw Error(a(330));jl(qs,M),qs=qs.nextEffect}}while(null!==qs);if(w=Zr,x=mr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==s&&vr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,k=Math.min(s.start,l),s=void 0===s.end?k:Math.min(s.end,l),!w.extend&&k>s&&(l=s,s=k,k=l),l=pr(b,k),o=pr(b,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),k>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qe=!!$r,Zr=$r=null,t.current=n,qs=r;do{try{for(b=t;null!==qs;){var _=qs.flags;if(36&_&&vs(b,qs.alternate,qs),128&_){x=void 0;var A=qs.ref;if(null!==A){var T=qs.stateNode;qs.tag,x=T,"function"===typeof A?A(x):A.current=x}}qs=qs.nextEffect}}catch(M){if(null===qs)throw Error(a(330));jl(qs,M),qs=qs.nextEffect}}while(null!==qs);qs=null,Bi(),Ps=i}else t.current=n;if(Qs)Qs=!1,tl=t,el=e;else for(qs=r;null!==qs;)e=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((_=qs).sibling=null,_.stateNode=null),qs=e;if(0===(r=t.pendingLanes)&&(Ks=null),1===r?t===al?ol++:(ol=0,al=t):ol=0,n=n.stateNode,Ai&&"function"===typeof Ai.onCommitFiberRoot)try{Ai.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(M){}if(ml(t,Ui()),Xs)throw Xs=!1,t=Js,Js=null,t;return 0!==(8&Ps)||Gi(),null}function Rl(){for(;null!==qs;){var t=qs.alternate;dl||null===ul||(0!==(8&qs.flags)?te(qs,ul)&&(dl=!0):13===qs.tag&&Cs(t,qs)&&te(qs,ul)&&(dl=!0));var e=qs.flags;0!==(256&e)&&ms(t,qs),0===(512&e)||Qs||(Qs=!0,Yi(97,(function(){return Il(),null}))),qs=qs.nextEffect}}function Il(){if(90!==el){var t=97<el?97:el;return el=90,Wi(t,Bl)}return!1}function zl(t,e){nl.push(e,t),Qs||(Qs=!0,Yi(97,(function(){return Il(),null})))}function Nl(t,e){rl.push(e,t),Qs||(Qs=!0,Yi(97,(function(){return Il(),null})))}function Bl(){if(null===tl)return!1;var t=tl;if(tl=null,0!==(48&Ps))throw Error(a(331));var e=Ps;Ps|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));jl(o,c)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(a(330));jl(o,c)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Ps=e,Gi(),!0}function Fl(t,e,n){fo(t,e=fs(0,e=cs(n,e),1)),e=fl(),null!==(t=gl(t,1))&&(Ue(t,1,e),ml(t,e))}function jl(t,e){if(3===t.tag)Fl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Fl(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=hs(n,t=cs(e,t),1);if(fo(n,i),i=fl(),null!==(n=gl(n,1)))Ue(n,1,i),ml(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function $l(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=fl(),t.pingedLanes|=t.suspendedLanes&n,Ds===t&&(Is&n)===n&&(4===Bs||3===Bs&&(62914560&Is)===Is&&500>Ui()-Vs?Al(t,0):Us|=n),ml(t,e)}function Zl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Hi()?1:2:(0===ll&&(ll=js),0===(e=$e(62914560&~ll))&&(e=4194304))),n=fl(),null!==(t=gl(t,e))&&(Ue(t,e,n),ml(t,n))}function Ul(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(t,e,n,r){return new Ul(t,e,n,r)}function Vl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Wl(t,e){var n=t.alternate;return null===n?((n=Hl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yl(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Vl(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case A:return Gl(n.children,i,o,e);case z:s=8,i|=16;break;case T:s=8,i|=1;break;case M:return(t=Hl(12,n,e,8|i)).elementType=M,t.type=M,t.lanes=o,t;case O:return(t=Hl(13,n,e,i)).type=O,t.elementType=O,t.lanes=o,t;case L:return(t=Hl(19,n,e,i)).elementType=L,t.lanes=o,t;case N:return ql(n,i,o,e);case B:return(t=Hl(24,n,e,i)).elementType=B,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case E:s=10;break t;case C:s=9;break t;case S:s=11;break t;case P:s=14;break t;case D:s=16,r=null;break t;case R:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Hl(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Gl(t,e,n,r){return(t=Hl(7,t,r,e)).lanes=n,t}function ql(t,e,n,r){return(t=Hl(23,t,r,e)).elementType=N,t.lanes=n,t}function Xl(t,e,n){return(t=Hl(6,t,null,e)).lanes=n,t}function Jl(t,e,n){return(e=Hl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ze(0),this.expirationTimes=Ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ze(0),this.mutableSourceEagerHydrationData=null}function Ql(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function tc(t,e,n,r){var i=e.current,o=fl(),s=hl(i);t:if(n){e:{if(Xt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=xi(n,c,l);break t}}n=l}else n=fi;return null===e.context?e.context=n:e.pendingContext=n,(e=uo(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),fo(i,e),pl(i,s,o),s}function ec(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function nc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function rc(t,e){nc(t,e),(t=t.alternate)&&nc(t,e)}function ic(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(t,e,null!=n&&!0===n.hydrate),e=Hl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,lo(e),t[ti]=n.current,Pr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function oc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ac(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=ec(a);s.call(t)}}tc(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ic(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var t=ec(a);l.call(t)}}wl((function(){tc(e,a,t,i)}))}return ec(a)}function sc(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(e))throw Error(a(200));return Ql(t,e,null,n)}Gs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pi.current)Na=!0;else{if(0===(n&r)){switch(Na=!1,e.tag){case 3:Ya(e),Go();break;case 5:zo(e);break;case 1:vi(e.type)&&wi(e);break;case 4:Ro(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;di(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Ka(t,e,n):(di(Bo,1&Bo.current),null!==(e=os(t,e,n))?e.sibling:null);di(Bo,1&Bo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return is(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Bo,Bo.current),r)break;return null;case 23:case 24:return e.lanes=0,Za(t,e,n)}return os(t,e,n)}Na=0!==(16384&t.flags)}else Na=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=mi(e,hi.current),oo(e,n),i=sa(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)){var o=!0;wi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternals=e,ko(e,r,t,n),e=Wa(null,e,r,!0,o,n)}else e.tag=0,Ba(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Vl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===S)return 11;if(t===P)return 14}return 2}(i),t=Ji(i,t),o){case 0:e=Ha(null,e,i,t,n);break t;case 1:e=Va(null,e,i,t,n);break t;case 11:e=Fa(null,e,i,t,n);break t;case 14:e=ja(null,e,i,Ji(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ha(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 1:return r=e.type,i=e.pendingProps,Va(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 3:if(Ya(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,co(t,e),po(e,r,null,n),(r=e.memoizedState.element)===i)Go(),e=os(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&($o=Gr(e.stateNode.containerInfo.firstChild),jo=e,o=Zo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],qo.push(o);for(n=Co(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ba(t,e,r,n),Go();e=e.child}return e;case 5:return zo(e),null===t&&Vo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==o&&Hr(r,o)&&(e.flags|=16),Ua(t,e),Ba(t,e,s,n),e.child;case 6:return null===t&&Vo(e),null;case 13:return Ka(t,e,n);case 4:return Ro(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Eo(e,null,r,n):Ba(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 7:return Ba(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ba(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(di(Ki,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=ur(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!pi.current){e=os(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=uo(-1,n&-n)).tag=2,fo(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),io(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ba(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,oo(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.flags|=1,Ba(t,e,r,n),e.child;case 14:return o=Ji(i=e.type,e.pendingProps),ja(t,e,i,o=Ji(i.type,o),r,n);case 15:return $a(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,vi(r)?(t=!0,wi(e)):t=!1,oo(e,n),xo(e,r,i),ko(e,r,i,n),Wa(null,e,r,!0,t,n);case 19:return is(t,e,n);case 23:case 24:return Za(t,e,n)}throw Error(a(156,e.tag))},ic.prototype.render=function(t){tc(t,this._internalRoot,null,null)},ic.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tc(null,t,null,(function(){e[ti]=null}))},ee=function(t){13===t.tag&&(pl(t,4,fl()),rc(t,4))},ne=function(t){13===t.tag&&(pl(t,67108864,fl()),rc(t,67108864))},re=function(t){if(13===t.tag){var e=fl(),n=hl(t);pl(t,n,e),rc(t,n)}},ie=function(t,e){return e()},Et=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oi(r);if(!i)throw Error(a(90));J(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Dt=xl,Rt=function(t,e,n,r,i){var o=Ps;Ps|=4;try{return Wi(98,t.bind(null,e,n,r,i))}finally{0===(Ps=o)&&(Ys(),Gi())}},It=function(){0===(49&Ps)&&(function(){if(null!==il){var t=il;il=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,ml(t,Ui())}))}Gi()}(),Il())},zt=function(t,e){var n=Ps;Ps|=2;try{return t(e)}finally{0===(Ps=n)&&(Ys(),Gi())}};var lc={Events:[ri,ii,oi,Lt,Pt,Il,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Qt(t))?null:t.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{_i=dc.inject(uc),Ai=dc}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,e.createPortal=sc,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Qt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ps;if(0!==(48&n))return t(e);Ps|=1;try{if(t)return Wi(99,t.bind(null,e))}finally{Ps=n,Gi()}},e.hydrate=function(t,e,n){if(!oc(e))throw Error(a(200));return ac(null,t,e,!0,n)},e.render=function(t,e,n){if(!oc(e))throw Error(a(200));return ac(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!oc(t))throw Error(a(40));return!!t._reactRootContainer&&(wl((function(){ac(null,null,t,!1,(function(){t._reactRootContainer=null,t[ti]=null}))})),!0)},e.unstable_batchedUpdates=xl,e.unstable_createPortal=function(t,e){return sc(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oc(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return ac(t,e,n,!1,r)},e.version="17.0.2"},4164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4463)},1372:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case u:case d:case o:case s:case a:case h:return t;default:switch(t=t&&t.$$typeof){case c:case f:case m:case g:case l:return t;default:return e}}case i:return e}}}function k(t){return w(t)===d}e.AsyncMode=u,e.ConcurrentMode=d,e.ContextConsumer=c,e.ContextProvider=l,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=m,e.Memo=g,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=h,e.isAsyncMode=function(t){return k(t)||w(t)===u},e.isConcurrentMode=k,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===f},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===m},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===h},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===d||t===s||t===a||t===h||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===c||t.$$typeof===f||t.$$typeof===y||t.$$typeof===b||t.$$typeof===x||t.$$typeof===v)},e.typeOf=w},7441:function(t,e,n){"use strict";t.exports=n(1372)},2067:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.Z=function(t){var e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(r,e);var n=function(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).p=Promise.resolve(),e.resizeHandler=null,e.handlers={},e.syncWindowResize=e.syncWindowResize.bind(d(e)),e.syncEventHandlers=e.syncEventHandlers.bind(d(e)),e.attachUpdateEvents=e.attachUpdateEvents.bind(d(e)),e.getRef=e.getRef.bind(d(e)),e.handleUpdate=e.handleUpdate.bind(d(e)),e.figureCallback=e.figureCallback.bind(d(e)),e.updatePlotly=e.updatePlotly.bind(d(e)),e}return function(t,e,n){e&&l(t.prototype,e);n&&l(t,n);Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"updatePlotly",value:function(e,n,r){var i=this;this.p=this.p.then((function(){if(!i.unmounting){if(!i.el)throw new Error("Missing element reference");return t.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})}})).then((function(){i.unmounting||(i.syncWindowResize(e),i.syncEventHandlers(),i.figureCallback(n),r&&i.attachUpdateEvents())})).catch((function(t){i.props.onError&&i.props.onError(t)}))}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(t){this.unmounting=!1;var e=t.frames&&t.frames.length?t.frames.length:0,n=this.props.frames&&this.props.frames.length?this.props.frames.length:0,r=!(t.layout===this.props.layout&&t.data===this.props.data&&t.config===this.props.config&&n===e),i=void 0!==t.revision,o=t.revision!==this.props.revision;(r||i&&(!i||o))&&this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&g&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),t.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var t=this;this.el&&this.el.removeListener&&p.forEach((function(e){t.el.on(e,t.handleUpdate)}))}},{key:"removeUpdateEvents",value:function(){var t=this;this.el&&this.el.removeListener&&p.forEach((function(e){t.el.removeListener(e,t.handleUpdate)}))}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(t){if("function"===typeof t){var e=this.el;t({data:e.data,layout:e.layout,frames:this.el._transitionData?this.el._transitionData._frames:null},this.el)}}},{key:"syncWindowResize",value:function(e){var n=this;g&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return t.Plots.resize(n.el)},window.addEventListener("resize",this.resizeHandler),e&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(t){this.el=t,this.props.debug&&g&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var t=this;h.forEach((function(e){var n=t.props["on"+e],r=t.handlers[e],i=Boolean(r);n&&!i?t.addEventHandler(e,n):!n&&i?t.removeEventHandler(e):n&&i&&n!==r&&(t.removeEventHandler(e),t.addEventHandler(e,n))}))}},{key:"addEventHandler",value:function(t,e){this.handlers[t]=e,this.el.on(this.getPlotlyEventName(t),this.handlers[t])}},{key:"removeEventHandler",value:function(t){this.el.removeListener(this.getPlotlyEventName(t),this.handlers[t]),delete this.handlers[t]}},{key:"getPlotlyEventName",value:function(t){return"plotly_"+t.toLowerCase()}},{key:"render",value:function(){return o.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),r}(o.Component);return e.propTypes={data:a.default.arrayOf(a.default.object),config:a.default.object,layout:a.default.object,frames:a.default.arrayOf(a.default.object),revision:a.default.number,onInitialized:a.default.func,onPurge:a.default.func,onError:a.default.func,onUpdate:a.default.func,debug:a.default.bool,style:a.default.object,className:a.default.string,useResizeHandler:a.default.bool,divId:a.default.string},h.forEach((function(t){e.propTypes["on"+t]=a.default.func})),e.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},e};var i,o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var l=o?Object.getOwnPropertyDescriptor(t,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=t[a]}i.default=t,n&&n.set(t,i);return i}(n(2791)),a=(i=n(2007))&&i.__esModule?i:{default:i};function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],p=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],g="undefined"!==typeof window},6374:function(t,e,n){"use strict";n(1725);var r=n(2791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:o,_owner:a.current}}e.jsx=c,e.jsxs=c},9117:function(t,e,n){"use strict";var r=n(1725),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,l=60112;e.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),e.Fragment=d("react.fragment"),e.StrictMode=d("react.strict_mode"),e.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),e.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function v(){}function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(h(85));this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function _(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,r)&&!k.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:x.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var T=/\/+/g;function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function E(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=t),t=""===r?"."+M(l,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(T,"$&/")+"/"),E(a,e,n,"",(function(t){return t}))):null!=a&&(A(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=r+M(s=t[c],c);l+=E(s,e,n,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=E(s=s.value,e,n,u=r+M(s,c++),a);else if("object"===s)throw e=""+t,Error(h(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function C(t,e,n){if(null==t)return t;var r=[],i=0;return E(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function S(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var O={current:null};function L(){var t=O.current;if(null===t)throw Error(h(321));return t}var P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:C,forEach:function(t,e,n){C(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return C(t,(function(){e++})),e},toArray:function(t){return C(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error(h(143));return t}},e.Component=m,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(h(267,t));var o=r({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=x.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)w.call(e,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===e[u]&&void 0!==c?c[u]:e[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=_,e.createFactory=function(t){var e=_.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:S}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return L().useCallback(t,e)},e.useContext=function(t,e){return L().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return L().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return L().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return L().useLayoutEffect(t,e)},e.useMemo=function(t,e){return L().useMemo(t,e)},e.useReducer=function(t,e,n){return L().useReducer(t,e,n)},e.useRef=function(t){return L().useRef(t)},e.useState=function(t){return L().useState(t)},e.version="17.0.2"},2791:function(t,e,n){"use strict";t.exports=n(9117)},184:function(t,e,n){"use strict";t.exports=n(6374)},6813:function(t,e){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,d=function t(){if(null!==c)try{var n=e.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(t,0),r}};n=function(t){null!==c?setTimeout(n,0,t):(c=t,setTimeout(d,0))},r=function(t,e){u=setTimeout(t,e)},i=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();b=t+y;try{m(!0,t)?w.postMessage(null):(g=!1,m=null)}catch(n){throw w.postMessage(null),n}}else g=!1},n=function(t){m=t,g||(g=!0,w.postMessage(null))},r=function(t,n){v=f((function(){t(e.unstable_now())}),n)},i=function(){h(v),v=-1}}function k(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<T(i,e)))break t;t[r]=e,t[n]=i,n=r}}function _(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>T(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var M=[],E=[],C=1,S=null,O=3,L=!1,P=!1,D=!1;function R(t){for(var e=_(E);null!==e;){if(null===e.callback)A(E);else{if(!(e.startTime<=t))break;A(E),e.sortIndex=e.expirationTime,k(M,e)}e=_(E)}}function I(t){if(D=!1,R(t),!P)if(null!==_(M))P=!0,n(z);else{var e=_(E);null!==e&&r(I,e.startTime-t)}}function z(t,n){P=!1,D&&(D=!1,i()),L=!0;var o=O;try{for(R(n),S=_(M);null!==S&&(!(S.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=S.callback;if("function"===typeof a){S.callback=null,O=S.priorityLevel;var s=a(S.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?S.callback=s:S===_(M)&&A(M),R(n)}else A(M);S=_(M)}if(null!==S)var l=!0;else{var c=_(E);null!==c&&r(I,c.startTime-n),l=!1}return l}finally{S=null,O=o,L=!1}}var N=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){P||L||(P=!0,n(z))},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return _(M)},e.unstable_next=function(t){switch(O){case 1:case 2:case 3:var e=3;break;default:e=O}var n=O;O=e;try{return t()}finally{O=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=N,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=O;O=t;try{return e()}finally{O=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:C++,callback:o,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(t.sortIndex=a,k(E,t),null===_(M)&&t===_(E)&&(D?i():D=!0,r(I,a-s))):(t.sortIndex=l,k(M,t),P||L||(P=!0,n(z))),t},e.unstable_wrapCallback=function(t){var e=O;return function(){var n=O;O=e;try{return t.apply(this,arguments)}finally{O=n}}}},5296:function(t,e,n){"use strict";t.exports=n(6813)},907:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},7326:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},5861:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,l,"next",t)}function l(t){r(a,i,o,s,l,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return i}})},5671:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},3144:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,{Z:function(){return i}})},7762:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(181);function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,r.Z)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},9388:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(1120),i=n(8814),o=n(2963);function a(t){var e=(0,i.Z)();return function(){var n,i=(0,r.Z)(t);if(e){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},4942:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},1120:function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,{Z:function(){return r}})},136:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(9611);function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,r.Z)(t,e)}},8814:function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}n.d(e,{Z:function(){return r}})},2963:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(1002),i=n(7326);function o(t,e){if(e&&("object"===(0,r.Z)(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(t)}},4165:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(C){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=u;var f={};function h(){}function p(){}function g(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(M([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=g.prototype=h.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(o,a,s,l){var c=d(t[o],t,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):e.resolve(f).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,l)}))}l(c.arg)}var o;this._invoke=function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=g,c(b,"constructor",g),c(g,"constructor",p),p.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},x(w.prototype),c(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(b),c(b,l,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}},9611:function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}n.d(e,{Z:function(){return r}})},885:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(181);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||(0,r.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(907);var i=n(181);function o(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,i.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:function(){return r}})},181:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(907);function i(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return"static/js/"+t+"."+{22:"604fba95",186:"b5d1c48f",272:"5adb8d54",372:"6fafed00",377:"b33aecdb",630:"2d04d78c",841:"d6f6910f",851:"f0c52d33",856:"ab387e23",858:"8ac2907c"}[t]+".chunk.js"},n.miniCssF=function(t){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="client:";n.l=function(r,i,o,a){if(t[r])t[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(h);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",function(){var t={179:0};n.f.j=function(e,r){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=t[e]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(function(r){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(e&&e(r);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";var t={};n.r(t),n.d(t,{Decoder:function(){return bg},Encoder:function(){return yg},PacketType:function(){return mg},protocol:function(){return vg}});var e=n(2791),r=n(4164),i=n(9611);function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(0,i.Z)(t,e)}function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}function s(t){return"/"===t.charAt(0)}function l(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var c=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&s(t),a=e&&s(e),c=o||a;if(t&&s(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,f=i.length;f>=0;f--){var h=i[f];"."===h?l(i,f):".."===h?(l(i,f),d++):d&&(l(i,f),d--)}if(!c)for(;d--;d)i.unshift("..");!c||""===i[0]||i[0]&&s(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},u="Invariant failed";function d(t,e){if(!t)throw new Error(u)}function f(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function p(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function g(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function m(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(t,e,n,r){var i;"string"===typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t),i.state=e):(void 0===(i=a({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function y(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(t,e){e(window.confirm(t))}var w="popstate",k="hashchange";function _(){try{return window.history.state||{}}catch(t){return{}}}function A(t){void 0===t&&(t={}),b||d(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=t,o=i.forceRefresh,s=void 0!==o&&o,l=i.getUserConfirmation,c=void 0===l?x:l,u=i.keyLength,h=void 0===u?6:u,A=t.basename?g(f(t.basename)):"";function T(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return A&&(o=p(o,A)),v(o,r,n)}function M(){return Math.random().toString(36).substr(2,h)}var E=y();function C(t){a(j,t),j.length=e.length,E.notifyListeners(j.location,j.action)}function S(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||P(T(t.state))}function O(){P(T(_()))}var L=!1;function P(t){if(L)L=!1,C();else{E.confirmTransitionTo(t,"POP",c,(function(e){e?C({action:"POP",location:t}):function(t){var e=j.location,n=R.indexOf(e.key);-1===n&&(n=0);var r=R.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(L=!0,z(i))}(t)}))}}var D=T(_()),R=[D.key];function I(t){return A+m(t)}function z(t){e.go(t)}var N=0;function B(t){1===(N+=t)&&1===t?(window.addEventListener(w,S),r&&window.addEventListener(k,O)):0===N&&(window.removeEventListener(w,S),r&&window.removeEventListener(k,O))}var F=!1;var j={length:e.length,action:"POP",location:D,createHref:I,push:function(t,r){var i="PUSH",o=v(t,r,M(),j.location);E.confirmTransitionTo(o,i,c,(function(t){if(t){var r=I(o),a=o.key,l=o.state;if(n)if(e.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var c=R.indexOf(j.location.key),u=R.slice(0,c+1);u.push(o.key),R=u,C({action:i,location:o})}else window.location.href=r}}))},replace:function(t,r){var i="REPLACE",o=v(t,r,M(),j.location);E.confirmTransitionTo(o,i,c,(function(t){if(t){var r=I(o),a=o.key,l=o.state;if(n)if(e.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var c=R.indexOf(j.location.key);-1!==c&&(R[c]=o.key),C({action:i,location:o})}else window.location.replace(r)}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(t){void 0===t&&(t=!1);var e=E.setPrompt(t);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),e()}},listen:function(t){var e=E.appendListener(t);return B(1),function(){B(-1),e()}}};return j}var T="hashchange",M={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:f},slash:{encodePath:f,decodePath:f}};function E(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function C(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function S(t){window.location.replace(E(window.location.href)+"#"+t)}function O(t){void 0===t&&{},b||d(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),r=n.getUserConfirmation,i=void 0===r?x:r,o=n.hashType,s=void 0===o?"slash":o,l=t.basename?g(f(t.basename)):"",c=M[s],u=c.encodePath,h=c.decodePath;function w(){var t=h(C());return l&&p(t,l),v(t)}var k=y();function _(t){a(j,t),j.length=e.length,k.notifyListeners(j.location,j.action)}var A=!1,O=null;function L(){var t,e,n=C(),r=u(n);if(n!==r)S(r);else{var o=w(),a=j.location;if(!A&&(o,a.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(O===m(o))return;null,function(t){if(A)!1,_();else{var e="POP";k.confirmTransitionTo(t,e,i,(function(n){n?_({action:e,location:t}):function(t){var e=j.location,n=I.lastIndexOf(m(e));-1===n&&0;var r=I.lastIndexOf(m(t));-1===r&&0;var i=n-r;i&&(!0,z(i))}(t)}))}}(o)}}var P=C(),D=u(P);P!==D&&S(D);var R=w(),I=[m(R)];function z(t){e.go(t)}var N=0;function B(t){1===(N+=t)&&1===t?window.addEventListener(T,L):0===N&&window.removeEventListener(T,L)}var F=!1;var j={length:e.length,action:"POP",location:R,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&E(window.location.href),n+"#"+u(l+m(t))},push:function(t,e){var n="PUSH",r=v(t,void 0,void 0,j.location);k.confirmTransitionTo(r,n,i,(function(t){if(t){var e=m(r),i=u(l+e);if(C()!==i){e,function(t){window.location.hash=t}(i);var o=I.lastIndexOf(m(j.location)),a=I.slice(0,o+1);a.push(e),a,_({action:n,location:r})}else _()}}))},replace:function(t,e){var n="REPLACE",r=v(t,void 0,void 0,j.location);k.confirmTransitionTo(r,n,i,(function(t){if(t){var e=m(r),i=u(l+e);C()!==i&&(e,S(i));var o=I.indexOf(m(j.location));-1!==o&&(I[o]=e),_({action:n,location:r})}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(t){void 0===t&&!1;var e=k.setPrompt(t);return F||(B(1),!0),function(){return F&&(!1,B(-1)),e()}},listen:function(t){var e=k.appendListener(t);return B(1),function(){B(-1),e()}}};return j}function L(t,e,n){return Math.min(Math.max(t,e),n)}function P(t){void 0===t&&{};var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=void 0===r?["/"]:r,o=e.initialIndex,s=void 0===o?0:o,l=e.keyLength,c=void 0===l?6:l,u=y();function d(t){a(x,t),x.length=x.entries.length,u.notifyListeners(x.location,x.action)}function f(){return Math.random().toString(36).substr(2,c)}var h=L(s,0,i.length-1),p=i.map((function(t){return v(t,void 0,"string"===typeof t?f():t.key||f())})),g=m;function b(t){var e=L(x.index+t,0,x.entries.length-1),r=x.entries[e];u.confirmTransitionTo(r,"POP",n,(function(t){t?d({action:"POP",location:r,index:e}):d()}))}var x={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:g,push:function(t,e){var r="PUSH",i=v(t,e,f(),x.location);u.confirmTransitionTo(i,r,n,(function(t){if(t){var e=x.index+1,n=x.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),d({action:r,location:i,index:e,entries:n})}}))},replace:function(t,e){var r="REPLACE",i=v(t,e,f(),x.location);u.confirmTransitionTo(i,r,n,(function(t){t&&(x.entries[x.index]=i,d({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=x.index+t;return e>=0&&e<x.entries.length},block:function(t){return void 0===t&&!1,u.setPrompt(t)},listen:function(t){return u.appendListener(t)}};return x}var D=n(2007),R=n.n(D),I=1073741823,z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function N(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var B=e.createContext||function(t,n){var r,i,a="__create-react-context-"+function(){var t="__global_unique_id__";return z[t]=(z[t]||0)+1}()+"__",s=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).emitter=N(e.props.value),e}o(e,t);var r=e.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var e,r=this.props.value,i=t.value;!function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}(r,i)?(e="function"===typeof n?n(r,i):I,0!==(e|=0)&&this.emitter.set(t.value,e)):e=0}},r.render=function(){return this.props.children},e}(e.Component);s.childContextTypes=((r={})[a]=R().object.isRequired,r);var l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}o(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?I:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?I:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(e.Component);return l.contextTypes=((i={})[a]=R().object,i),{Provider:s,Consumer:l}},F=B,j=n(6151),$=n.n(j);n(7441);function Z(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var U=n(2110),H=n.n(U),V=function(t){var e=F();return e.displayName=t,e},W=V("Router-History"),Y=V("Router"),G=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._pendingLocation=t}))),n}o(n,t),n.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var r=n.prototype;return r.componentDidMount=function(){var t=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(e){t._isMounted&&t.setState({location:e})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return e.createElement(Y.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(W.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;e.Component;var q={},X=0;function J(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=q[n]||(q[n]={});if(r[t])return r[t];var i=[],o={regexp:$()(t,i,e),keys:i};return X<1e4&&(r[t]=o,X++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,l=i.exec(t);if(!l)return null;var u=l[0],d=l.slice(1),f=t===u;return o&&!f?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=d[n],t}),{})}}),null)}var K=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this;return e.createElement(Y.Consumer,null,(function(n){n||d(!1);var r=t.props.location||n.location,i=a({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?J(r.pathname,t.props):n.match}),o=t.props,s=o.children,l=o.component,c=o.render;return Array.isArray(s)&&function(t){return 0===e.Children.count(t)}(s)&&(s=null),e.createElement(Y.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?e.createElement(l,i):c?c(i):null:"function"===typeof s?s(i):null)}))},n}(e.Component);function Q(t){return"/"===t.charAt(0)?t:"/"+t}function tt(t,e){if(!t)return e;var n=Q(t);return 0!==e.pathname.indexOf(n)?e:a({},e,{pathname:e.pathname.substr(n.length)})}function et(t){return"string"===typeof t?t:m(t)}function nt(t){return function(){d(!1)}}function rt(){}e.Component;e.Component;e.useContext;var it,ot=n(2982),at=n(885),st=n(4942),lt=n(4165),ct=n(5861),ut=n(7326),dt=n(136),ft=n(9388),ht=n(5671),pt=n(3144),gt=n(3196),mt=function(){function t(){(0,ht.Z)(this,t),this.m=new Map}return(0,pt.Z)(t,[{key:"reset",value:function(t){this.m=new Map(Object.entries(t))}},{key:"get",value:function(t,e){var n=this.m.get(t);return void 0!==n?n:e}},{key:"getBoolean",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.m.get(t);return void 0===n?e:"string"===typeof n?"true"===n:!!n}},{key:"getNumber",value:function(t,e){var n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==e?e:NaN:n}},{key:"set",value:function(t,e){this.m.set(t,e)}}]),t}(),vt=new mt,yt=function(t){try{var e=t.sessionStorage.getItem(_t);return null!==e?JSON.parse(e):{}}catch(n){return{}}},bt=function(t,e){try{t.sessionStorage.setItem(_t,JSON.stringify(e))}catch(n){return}},xt=function(t){var e={};return t.location.search.slice(1).split("&").map((function(t){return t.split("=")})).map((function(t){var e=(0,at.Z)(t,2),n=e[0],r=e[1];return[decodeURIComponent(n),decodeURIComponent(r)]})).filter((function(t){var e=(0,at.Z)(t,1)[0];return wt(e,kt)})).map((function(t){var e=(0,at.Z)(t,2),n=e[0],r=e[1];return[n.slice(kt.length),r]})).forEach((function(t){var n=(0,at.Z)(t,2),r=n[0],i=n[1];e[r]=i})),e},wt=function(t,e){return t.substr(0,e.length)===e},kt="ionic:",_t="ionic-persist-config",At=function(t,e){return"string"===typeof t&&(e=t,t=void 0),function(t){return Tt(t)}(t).includes(e)},Tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if("undefined"===typeof t)return[];t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=Mt(t)).forEach((function(e){return t.document.documentElement.classList.add("plt-".concat(e))})),e},Mt=function(t){var e=vt.get("platform");return Object.keys(It).filter((function(n){var r=null===e||void 0===e?void 0:e[n];return"function"===typeof r?r(t):It[n](t)}))},Et=function(t){return!!Dt(t,/iPad/i)||!(!Dt(t,/Macintosh/i)||!St(t))},Ct=function(t){return Dt(t,/android|sink/i)},St=function(t){return Rt(t,"(any-pointer:coarse)")},Ot=function(t){return Lt(t)||Pt(t)},Lt=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},Pt=function(t){var e=t.Capacitor;return!!(null===e||void 0===e?void 0:e.isNative)},Dt=function(t,e){return e.test(t.navigator.userAgent)},Rt=function(t,e){var n;return null===(n=t.matchMedia)||void 0===n?void 0:n.call(t,e).matches},It={ipad:Et,iphone:function(t){return Dt(t,/iPhone/i)},ios:function(t){return Dt(t,/iPhone|iPod/i)||Et(t)},android:Ct,phablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return Et(t)||function(t){return Ct(t)&&!Dt(t,/mobile/i)}(t)||r>460&&r<820&&i>780&&i<1400},cordova:Lt,capacitor:Pt,electron:function(t){return Dt(t,/electron/i)},pwa:function(t){var e;return!(!(null===(e=t.matchMedia)||void 0===e?void 0:e.call(t,"(display-mode: standalone)").matches)&&!t.navigator.standalone)},mobile:St,mobileweb:function(t){return St(t)&&!Ot(t)},desktop:function(t){return!St(t)},hybrid:Ot},zt=function(t){return t&&(0,gt.iJ)(t)||it},Nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof window){var e=window.document,n=window;gt._y.config=vt;var r=n.Ionic=n.Ionic||{},i={};t._ael&&(i.ael=t._ael),t._rel&&(i.rel=t._rel),t._ce&&(i.ce=t._ce),(0,gt.TX)(i);var o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},yt(n)),{persistConfig:!1}),r.config),xt(n)),t);vt.reset(o),vt.getBoolean("persistConfig")&&bt(n,o),Tt(n),r.config=vt,r.mode=it=vt.get("mode",e.documentElement.getAttribute("mode")||(At(n,"ios")?"ios":"md")),vt.set("mode",it),e.documentElement.setAttribute("mode",it),e.documentElement.classList.add(it),vt.getBoolean("_testing")&&vt.set("animated",!1);var a=function(t){var e;return null===(e=t.tagName)||void 0===e?void 0:e.startsWith("ION-")},s=function(t){return["ios","md"].includes(t)};(0,gt.PM)((function(t){for(;t;){var e=t.mode||t.getAttribute("mode");if(e){if(s(e))return e;a(t)&&console.warn('Invalid ionic mode: "'+e+'", expected: "ios" or "md"')}t=t.parentElement}return it}))}},Bt=n(8862),Ft=n(1811),jt=0,$t=new WeakMap,Zt=function(t){return{create:function(e){return qt(t,e)},dismiss:function(e,n,r){return te(document,e,n,t,r)},getTop:function(){return(0,ct.Z)((0,lt.Z)().mark((function e(){return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(document,t));case 1:case"end":return e.stop()}}),e)})))()}}},Ut=Zt("ion-alert"),Ht=Zt("ion-action-sheet"),Vt=Zt("ion-loading"),Wt=Zt("ion-popover"),Yt=Zt("ion-toast"),Gt=function(t){"undefined"!==typeof document&&Qt(document);var e=jt++;t.overlayIndex=e,t.hasAttribute("id")||(t.id="ion-overlay-".concat(e))},qt=function(t,e){return"undefined"!==typeof window&&"undefined"!==typeof window.customElements?window.customElements.whenDefined(t).then((function(){var n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),ae(document).appendChild(n),new Promise((function(t){return(0,Ft.c)(n,t)}))})):Promise.resolve()},Xt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Jt=function(t,e){var n=t.querySelector(Xt),r=null===n||void 0===n?void 0:n.shadowRoot;r&&(n=r.querySelector(Xt)||n),n?(0,Ft.f)(n):e.focus()},Kt=function(t,e){var n=Array.from(t.querySelectorAll(Xt)),r=n.length>0?n[n.length-1]:null,i=null===r||void 0===r?void 0:r.shadowRoot;i&&(r=i.querySelector(Xt)||r),r?r.focus():e.focus()},Qt=function(t){0===jt&&(jt=1,t.addEventListener("focus",(function(e){!function(t,e){var n=ee(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),r=t.target;n&&r&&!n.classList.contains("ion-disable-focus-trap")&&(n.shadowRoot?function(){if(n.contains(r))n.lastFocus=r;else{var t=n.lastFocus;Jt(n,n),t===e.activeElement&&Kt(n,n),n.lastFocus=e.activeElement}}():function(){if(n===r)n.lastFocus=void 0;else{var t=(0,Ft.g)(n);if(!t.contains(r))return;var i=t.querySelector(".ion-overlay-wrapper");if(!i)return;if(i.contains(r))n.lastFocus=r;else{var o=n.lastFocus;Jt(i,n),o===e.activeElement&&Kt(i,n),n.lastFocus=e.activeElement}}}())}(e,t)}),!0),t.addEventListener("ionBackButton",(function(e){var n=ee(t);(null===n||void 0===n?void 0:n.backdropDismiss)&&e.detail.register(Bt.OVERLAY_BACK_BUTTON_PRIORITY,(function(){return n.dismiss(void 0,he)}))})),t.addEventListener("keyup",(function(e){if("Escape"===e.key){var n=ee(t);(null===n||void 0===n?void 0:n.backdropDismiss)&&n.dismiss(void 0,he)}})))},te=function(t,e,n,r,i){var o=ee(t,r,i);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},ee=function(t,e,n){var r=function(t,e){return void 0===e&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter((function(t){return t.overlayIndex>0}))}(t,e).filter((function(t){return!t.classList.contains("overlay-hidden")}));return void 0===n?r[r.length-1]:r.find((function(t){return t.id===n}))},ne=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=ae(document),n=e.querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},re=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r,i,o){var a,s,l,c;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.presented){t.next=2;break}return t.abrupt("return");case 2:return ne(!0),e.presented=!0,e.willPresent.emit(),null===(a=e.willPresentShorthand)||void 0===a||a.emit(),l=zt(e),c=e.enterAnimation?e.enterAnimation:vt.get(n,"ios"===l?r:i),t.next=10,se(e,c,e.el,o);case 10:t.sent&&(e.didPresent.emit(),null===(s=e.didPresentShorthand)||void 0===s||s.emit()),"ION-TOAST"!==e.el.tagName&&ie(e.el),!e.keyboardClose||null!==document.activeElement&&e.el.contains(document.activeElement)||e.el.focus();case 14:case"end":return t.stop()}}),t)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),ie=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.activeElement){t.next=3;break}return t.abrupt("return");case 3:return(r=null===n||void 0===n?void 0:n.shadowRoot)&&(n=r.querySelector(Xt)||n),t.next=7,e.onDidDismiss();case 7:n.focus();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),oe=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r,i,o,a,s){var l,c,u,d;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.presented){t.next=2;break}return t.abrupt("return",!1);case 2:if(ne(!1),e.presented=!1,t.prev=4,e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:n,role:r}),null===(l=e.willDismissShorthand)||void 0===l||l.emit({data:n,role:r}),u=zt(e),d=e.leaveAnimation?e.leaveAnimation:vt.get(i,"ios"===u?o:a),"gesture"===r){t.next=13;break}return t.next=13,se(e,d,e.el,s);case 13:e.didDismiss.emit({data:n,role:r}),null===(c=e.didDismissShorthand)||void 0===c||c.emit({data:n,role:r}),$t.delete(e),e.el.classList.add("overlay-hidden"),e.el.style.removeProperty("pointer-events"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(4),console.error(t.t0);case 23:return e.el.remove(),t.abrupt("return",!0);case 25:case"end":return t.stop()}}),t,null,[[4,20]])})));return function(e,n,r,i,o,a,s){return t.apply(this,arguments)}}(),ae=function(t){return t.querySelector("ion-app")||t.body},se=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r,i){var o,a,s;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.classList.remove("overlay-hidden"),o=e.el,a=n(o,i),e.animated&&vt.getBoolean("animated",!0)||a.duration(0),e.keyboardClose&&a.beforeAddWrite((function(){var t=r.ownerDocument.activeElement;(null===t||void 0===t?void 0:t.matches("input,ion-input, ion-textarea"))&&t.blur()})),s=$t.get(e)||[],$t.set(e,[].concat((0,ot.Z)(s),[a])),t.next=9,a.play();case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),le=function(t,e){var n,r=new Promise((function(t){return n=t}));return ce(t,e,(function(t){n(t.detail)})),r},ce=function(t,e,n){(0,Ft.a)(t,e,(function r(i){(0,Ft.b)(t,e,r),n(i)}))},ue=function(t){return"cancel"===t||t===he},de=function(t){return t()},fe=function(t,e){if("function"===typeof t)return vt.get("_zoneGate",de)((function(){try{return t(e)}catch(n){throw n}}))},he="backdrop",pe=n(5883);function ge(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;var me,ve="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",ye="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",be="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",xe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",we="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Remove</title><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ke=function(t){var e=function(){if("undefined"===typeof window)return new Map;if(!me){var t=window;t.Ionicons=t.Ionicons||{},me=t.Ionicons.map=t.Ionicons.map||new Map}return me}().get(t);return e||(0,gt.K3)("svg/".concat(t,".svg"))},_e=function(t,e,n,r,i){return n="ios"===(n&&Ee(n))?"ios":"md",r&&"ios"===n?t=Ee(r):i&&"md"===n?t=Ee(i):(t||!e||Te(e)||(t=e),Me(t)&&(t=Ee(t))),Me(t)&&""!==t.trim()?""!==t.replace(/[a-z]|-|\d/gi,"")?null:t:null},Ae=function(t){return Me(t)&&(t=t.trim(),Te(t))?t:null},Te=function(t){return t.length>0&&/(\/|\.)/.test(t)},Me=function(t){return"string"===typeof t},Ee=function(t){return t.toLowerCase()},Ce=function t(e){if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n].name;if(Me(r)&&0===r.toLowerCase().indexOf("on"))return!1}for(var i=0;i<e.childNodes.length;i++)if(!t(e.childNodes[i]))return!1}return!0},Se=new Map,Oe=new Map,Le=function(t,e){var n=Oe.get(t);if(!n){if("undefined"===typeof fetch||"undefined"===typeof document)return Se.set(t,""),Promise.resolve();n=fetch(t).then((function(n){if(n.ok)return n.text().then((function(n){n&&!1!==e&&(n=function(t){var e=document.createElement("div");e.innerHTML=t;for(var n=e.childNodes.length-1;n>=0;n--)"svg"!==e.childNodes[n].nodeName.toLowerCase()&&e.removeChild(e.childNodes[n]);var r=e.firstElementChild;if(r&&"svg"===r.nodeName.toLowerCase()){var i=r.getAttribute("class")||"";if(r.setAttribute("class",(i+" s-ion-icon").trim()),Ce(r))return e.innerHTML}return""}(n)),Se.set(t,n||"")}));Se.set(t,"")})),Oe.set(t,n)}return n},Pe=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.iconName=null,t.inheritedAttributes={},t.isVisible=!1,t.mode=De(),t.lazy=!1,t.sanitize=!0,t.hasAriaHidden=function(){var e=(0,ut.Z)(t).el;return e.hasAttribute("aria-hidden")&&"true"===e.getAttribute("aria-hidden")},t}return(0,pt.Z)(n,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=function(t){var e={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){t.hasAttribute(n)&&(null!==t.getAttribute(n)&&(e[n]=t.getAttribute(n)),t.removeAttribute(n))})),e}(this.el,["aria-label"])}},{key:"connectedCallback",value:function(){var t=this;this.waitUntilVisible(this.el,"50px",(function(){t.isVisible=!0,t.loadIcon()}))}},{key:"disconnectedCallback",value:function(){this.io&&(this.io.disconnect(),this.io=void 0)}},{key:"waitUntilVisible",value:function(t,e,n){var r=this;if(gt.Z5.isBrowser&&this.lazy&&"undefined"!==typeof window&&window.IntersectionObserver){var i=this.io=new window.IntersectionObserver((function(t){t[0].isIntersecting&&(i.disconnect(),r.io=void 0,n())}),{rootMargin:e});i.observe(t)}else n()}},{key:"loadIcon",value:function(){var t=this;if(gt.Z5.isBrowser&&this.isVisible){var e=function(t){var e=Ae(t.src);if(e)return e;if(e=_e(t.name,t.icon,t.mode,t.ios,t.md))return ke(e);if(t.icon){if(e=Ae(t.icon))return e;if(e=Ae(t.icon[t.mode]))return e}return null}(this);e&&(Se.has(e)?this.svgContent=Se.get(e):Le(e,this.sanitize).then((function(){return t.svgContent=Se.get(e)})))}var n=this.iconName=_e(this.name,this.icon,this.mode,this.ios,this.md);n&&(this.ariaLabel=n.replace(/\-/g," "))}},{key:"render",value:function(){var t,e=this.iconName,n=this.ariaLabel,r=this.inheritedAttributes,i=this.mode||"md",o=this.flipRtl||e&&(e.indexOf("arrow")>-1||e.indexOf("chevron")>-1)&&!1!==this.flipRtl;return(0,gt.h)(gt.AA,Object.assign({"aria-label":void 0===n||this.hasAriaHidden()?null:n,role:"img",class:Object.assign(Object.assign((0,st.Z)({},i,!0),Re(this.color)),(t={},(0,st.Z)(t,"icon-".concat(this.size),!!this.size),(0,st.Z)(t,"flip-rtl",!!o&&"rtl"===this.el.ownerDocument.dir),t))},r),gt.Z5.isBrowser&&this.svgContent?(0,gt.h)("div",{class:"icon-inner",innerHTML:this.svgContent}):(0,gt.h)("div",{class:"icon-inner"}))}},{key:"el",get:function(){return this}}],[{key:"assetsDirs",get:function(){return["svg"]}},{key:"watchers",get:function(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"]}}},{key:"style",get:function(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}}]),n}(gt.mv),[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32],ariaLabel:[32]}]),De=function(){return gt.Z5.isBrowser&&"undefined"!==typeof document&&document.documentElement.getAttribute("mode")||"md"},Re=function(t){return t?(0,st.Z)({"ion-color":!0},"ion-color-".concat(t),!0):null};function Ie(){if("undefined"!==typeof customElements){["ion-icon"].forEach((function(t){if("ion-icon"===t)customElements.get(t)||customElements.define(t,Pe)}))}}gt.mv;var ze=0;var Ne=n(7762);gt.mv;gt.mv;var Be=n(2503),Fe=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionBackdropTap=(0,gt.yM)((0,ut.Z)(t),"ionBackdropTap",7),t.blocker=Be.G.createBlocker({disableScroll:!0}),t.visible=!0,t.tappable=!0,t.stopPropagation=!0,t}return(0,pt.Z)(n,[{key:"connectedCallback",value:function(){this.stopPropagation&&this.blocker.block()}},{key:"disconnectedCallback",value:function(){this.blocker.unblock()}},{key:"onMouseDown",value:function(t){this.emitTap(t)}},{key:"emitTap",value:function(t){this.stopPropagation&&(t.preventDefault(),t.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}},{key:"render",value:function(){var t,e=zt(this);return(0,gt.h)(gt.AA,{tabindex:"-1","aria-hidden":"true",class:(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"backdrop-hide",!this.visible),(0,st.Z)(t,"backdrop-no-tappable",!this.tappable),t)})}}],[{key:"style",get:function(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}}]),n}(gt.mv),[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function je(){if("undefined"!==typeof customElements){["ion-backdrop"].forEach((function(t){if("ion-backdrop"===t)customElements.get(t)||customElements.define(t,Fe)}))}}var $e=function(t,e){return null!==e.closest(t)},Ze=function(t,e){return"string"===typeof t&&t.length>0?Object.assign((0,st.Z)({"ion-color":!0},"ion-color-".concat(t),!0),e):e},Ue=function(t){var e={};return function(t){return void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter((function(t){return null!=t})).map((function(t){return t.trim()})).filter((function(t){return""!==t})):[]}(t).forEach((function(t){return e[t]=!0})),e},He=/^[a-z][a-z0-9+\-.]*:/,Ve=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r,i){var o;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||"#"===e[0]||He.test(e)){t.next=5;break}if(!(o=document.querySelector("ion-router"))){t.next=5;break}return null!=n&&n.preventDefault(),t.abrupt("return",o.push(e,r,i));case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}();gt.mv;gt.mv;var We=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.collapse=!1,t}return(0,pt.Z)(n,[{key:"render",value:function(){var t,e=zt(this);return(0,gt.h)(gt.AA,{class:(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"buttons-collapse",this.collapse),t)})}}],[{key:"style",get:function(){return{ios:".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-start:5px;--padding-end:5px;margin-left:2px;margin-right:2px;height:32px;font-size:17px;font-weight:400}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-right:0.3em;font-size:24px;line-height:0.67}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-left:0.4em;font-size:24px;line-height:0.67}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:unset;-webkit-margin-start:0.4em;margin-inline-start:0.4em}}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",md:".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;--padding-start:8px;--padding-end:8px;--box-shadow:none;margin-left:2px;margin-right:2px;height:32px;font-size:14px;font-weight:500}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-right:0.3em;font-size:1.4em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-icon[slot=start]{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-left:0.4em;font-size:1.4em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:unset;-webkit-margin-start:0.4em;margin-inline-start:0.4em}}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}"}}}]),n}(gt.mv),[34,"ion-buttons",{collapse:[4]}]);function Ye(){if("undefined"!==typeof customElements){["ion-buttons"].forEach((function(t){if("ion-buttons"===t)customElements.get(t)||customElements.define(t,We)}))}}var Ge=Ye;gt.mv;gt.mv;gt.mv;gt.mv;var qe=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionChange=(0,gt.yM)((0,ut.Z)(t),"ionChange",7),t.ionFocus=(0,gt.yM)((0,ut.Z)(t),"ionFocus",7),t.ionBlur=(0,gt.yM)((0,ut.Z)(t),"ionBlur",7),t.ionStyle=(0,gt.yM)((0,ut.Z)(t),"ionStyle",7),t.inputId="ion-cb-".concat(Xe++),t.name=t.inputId,t.checked=!1,t.indeterminate=!1,t.disabled=!1,t.value="on",t.onClick=function(e){e.preventDefault(),t.setFocus(),t.checked=!t.checked,t.indeterminate=!1},t.onFocus=function(){t.ionFocus.emit()},t.onBlur=function(){t.ionBlur.emit()},t}return(0,pt.Z)(n,[{key:"componentWillLoad",value:function(){this.emitStyle()}},{key:"checkedChanged",value:function(t){this.ionChange.emit({checked:t,value:this.value}),this.emitStyle()}},{key:"disabledChanged",value:function(){this.emitStyle()}},{key:"emitStyle",value:function(){this.ionStyle.emit({"checkbox-checked":this.checked,"interactive-disabled":this.disabled})}},{key:"setFocus",value:function(){this.focusEl&&this.focusEl.focus()}},{key:"render",value:function(){var t,e=this,n=this.color,r=this.checked,i=this.disabled,o=this.el,a=this.indeterminate,s=this.inputId,l=this.name,c=this.value,u=zt(this),d=(0,Ft.n)(o,s),f=d.label,h=d.labelId,p=d.labelText;(0,Ft.d)(!0,o,l,r?c:"",i);var g=a?(0,gt.h)("path",{d:"M6 12L18 12",part:"mark"}):(0,gt.h)("path",{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return"md"===u&&(g=a?(0,gt.h)("path",{d:"M2 12H22",part:"mark"}):(0,gt.h)("path",{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),(0,gt.h)(gt.AA,{onClick:this.onClick,"aria-labelledby":f?h:null,"aria-checked":"".concat(r),"aria-hidden":i?"true":null,role:"checkbox",class:Ze(n,(t={},(0,st.Z)(t,u,!0),(0,st.Z)(t,"in-item",$e("ion-item",o)),(0,st.Z)(t,"checkbox-checked",r),(0,st.Z)(t,"checkbox-disabled",i),(0,st.Z)(t,"checkbox-indeterminate",a),(0,st.Z)(t,"interactive",!0),t))},(0,gt.h)("svg",{class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},g),(0,gt.h)("label",{htmlFor:s},p),(0,gt.h)("input",{type:"checkbox","aria-checked":"".concat(r),disabled:i,id:s,onFocus:function(){return e.onFocus()},onBlur:function(){return e.onBlur()},ref:function(t){return e.focusEl=t}}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{checked:["checkedChanged"],disabled:["disabledChanged"]}}},{key:"style",get:function(){return{ios:":host{--background-checked:var(--ion-color-primary, #3880ff);--border-color-checked:var(--ion-color-primary, #3880ff);--checkmark-color:var(--ion-color-primary-contrast, #fff);--checkmark-width:1;--transition:none;display:inline-block;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.ion-color){--background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.checkbox-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:1px;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--background:var(--ion-item-background, var(--ion-background-color, #fff));--size:26px;width:var(--size);height:var(--size)}:host(.checkbox-disabled){opacity:0.3}:host(.in-item){margin-left:0;margin-right:8px;margin-top:10px;margin-bottom:9px;display:block;position:static}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}:host(.in-item[slot=start]){margin-left:2px;margin-right:20px;margin-top:8px;margin-bottom:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:20px;margin-inline-end:20px}}",md:":host{--background-checked:var(--ion-color-primary, #3880ff);--border-color-checked:var(--ion-color-primary, #3880ff);--checkmark-color:var(--ion-color-primary-contrast, #fff);--checkmark-width:1;--transition:none;display:inline-block;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.ion-color){--background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.checkbox-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.51);--checkmark-width:3;--background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px;width:var(--size);height:var(--size)}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled){opacity:0.3}:host(.in-item){margin-left:0;margin-right:0;margin-top:18px;margin-bottom:18px;display:block;position:static}:host(.in-item[slot=start]){margin-left:4px;margin-right:36px;margin-top:18px;margin-bottom:18px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:36px;margin-inline-end:36px}}"}}}]),n}(gt.mv),[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],value:[8]}]),Xe=0;function Je(){if("undefined"!==typeof customElements){["ion-checkbox"].forEach((function(t){if("ion-checkbox"===t)customElements.get(t)||customElements.define(t,qe)}))}}var Ke=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.type="bounded",t}return(0,pt.Z)(n,[{key:"addRipple",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){(0,gt.wj)((function(){var i=r.el.getBoundingClientRect(),o=i.width,a=i.height,s=Math.sqrt(o*o+a*a),l=Math.max(a,o),c=r.unbounded?l:s+tn,u=Math.floor(l*en),d=c/u,f=e-i.left,h=n-i.top;r.unbounded&&(f=.5*o,h=.5*a);var p=f-.5*u,g=h-.5*u,m=.5*o-f,v=.5*a-h;(0,gt.Iu)((function(){var e=document.createElement("div");e.classList.add("ripple-effect");var n=e.style;n.top=g+"px",n.left=p+"px",n.width=n.height=u+"px",n.setProperty("--final-scale","".concat(d)),n.setProperty("--translate-end","".concat(m,"px, ").concat(v,"px")),(r.el.shadowRoot||r.el).appendChild(e),setTimeout((function(){t((function(){Qe(e)}))}),325)}))}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"unbounded",get:function(){return"unbounded"===this.type}},{key:"render",value:function(){var t,e=zt(this);return(0,gt.h)(gt.AA,{role:"presentation",class:(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"unbounded",this.unbounded),t)})}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}}]),n}(gt.mv),[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Qe=function(t){t.classList.add("fade-out"),setTimeout((function(){t.remove()}),200)},tn=10,en=.5;function nn(){if("undefined"!==typeof customElements){["ion-ripple-effect"].forEach((function(t){if("ion-ripple-effect"===t)customElements.get(t)||customElements.define(t,Ke)}))}}var rn=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.outline=!1,t.disabled=!1,t}return(0,pt.Z)(n,[{key:"render",value:function(){var t,e=zt(this);return(0,gt.h)(gt.AA,{"aria-disabled":this.disabled?"true":null,class:Ze(this.color,(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"chip-outline",this.outline),(0,st.Z)(t,"chip-disabled",this.disabled),(0,st.Z)(t,"ion-activatable",!0),t))},(0,gt.h)("slot",null),"md"===e&&(0,gt.h)("ion-ripple-effect",null))}}],[{key:"style",get:function(){return":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:4px;margin-right:4px;margin-top:4px;margin-bottom:4px;padding-left:12px;padding-right:12px;padding-top:7px;padding-bottom:7px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:14px;line-height:1;cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:20px}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){margin-left:-4px;margin-right:8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon:first-child){margin-left:unset;margin-right:unset;-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-icon:last-child){margin-left:8px;margin-right:-4px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon:last-child){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px}}::slotted(ion-avatar){width:24px;height:24px}::slotted(ion-avatar:first-child){margin-left:-8px;margin-right:8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar:first-child){margin-left:unset;margin-right:unset;-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-avatar:last-child){margin-left:8px;margin-right:-8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar:last-child){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px}}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}"}}]),n}(gt.mv),[1,"ion-chip",{color:[513],outline:[4],disabled:[4]}]);var on=function(){if("undefined"!==typeof customElements){["ion-chip","ion-ripple-effect"].forEach((function(t){switch(t){case"ion-chip":customElements.get(t)||customElements.define(t,rn);break;case"ion-ripple-effect":customElements.get(t)||nn()}}))}},an={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},sn=function(t){if(void 0===t||""===t)return!0;if(window.matchMedia){var e=an[t];return window.matchMedia(e).matches}return!1},ln="undefined"!==typeof window?window:void 0,cn=ln&&!!(ln.CSS&&ln.CSS.supports&&ln.CSS.supports("--a: 0")),un=["","xs","sm","md","lg","xl"],dn=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t}return(0,pt.Z)(n,[{key:"onResize",value:function(){(0,gt.xE)(this)}},{key:"getColumns",value:function(t){var e,n,r=(0,Ne.Z)(un);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=sn(i),a=this[t+i.charAt(0).toUpperCase()+i.slice(1)];o&&void 0!==a&&(e=a)}}catch(s){r.e(s)}finally{r.f()}return e}},{key:"calculateSize",value:function(){var t=this.getColumns("size");if(t&&""!==t){var e="auto"===t?"auto":cn?"calc(calc(".concat(t," / var(--ion-grid-columns, 12)) * 100%)"):t/12*100+"%";return{flex:"0 0 ".concat(e),width:"".concat(e),"max-width":"".concat(e)}}}},{key:"calculatePosition",value:function(t,e){var n=this.getColumns(t);if(n){var r=cn?"calc(calc(".concat(n," / var(--ion-grid-columns, 12)) * 100%)"):n>0&&n<12?n/12*100+"%":"auto";return(0,st.Z)({},e,r)}}},{key:"calculateOffset",value:function(t){return this.calculatePosition("offset",t?"margin-right":"margin-left")}},{key:"calculatePull",value:function(t){return this.calculatePosition("pull",t?"left":"right")}},{key:"calculatePush",value:function(t){return this.calculatePosition("push",t?"right":"left")}},{key:"render",value:function(){var t="rtl"===document.dir,e=zt(this);return(0,gt.h)(gt.AA,{class:(0,st.Z)({},e,!0),style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(t)),this.calculatePull(t)),this.calculatePush(t)),this.calculateSize())},(0,gt.h)("slot",null))}}],[{key:"style",get:function(){return":host{padding-left:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px))}}@media (min-width: 576px){:host{padding-left:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 768px){:host{padding-left:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 992px){:host{padding-left:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 1200px){:host{padding-left:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}}"}}]),n}(gt.mv),[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);var fn=function(){if("undefined"!==typeof customElements){["ion-col"].forEach((function(t){if("ion-col"===t)customElements.get(t)||customElements.define(t,dn)}))}},hn=n(9507),pn=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionScrollStart=(0,gt.yM)((0,ut.Z)(t),"ionScrollStart",7),t.ionScroll=(0,gt.yM)((0,ut.Z)(t),"ionScroll",7),t.ionScrollEnd=(0,gt.yM)((0,ut.Z)(t),"ionScrollEnd",7),t.isScrolling=!1,t.lastScroll=0,t.queued=!1,t.cTop=-1,t.cBottom=-1,t.isMainContent=!0,t.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},t.fullscreen=!1,t.scrollX=!1,t.scrollY=!0,t.scrollEvents=!1,t}return(0,pt.Z)(n,[{key:"connectedCallback",value:function(){this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal")}},{key:"disconnectedCallback",value:function(){this.onScrollEnd()}},{key:"onAppLoad",value:function(){this.resize()}},{key:"shouldForceOverscroll",value:function(){var t=this.forceOverscroll,e=zt(this);return void 0===t?"ios"===e&&At("ios"):t}},{key:"resize",value:function(){var t=this;this.fullscreen?(0,gt.wj)((function(){return t.readDimensions()})):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,(0,gt.xE)(this))}},{key:"readDimensions",value:function(){var t=gn(this.el),e=Math.max(this.el.offsetTop,0),n=Math.max(t.offsetHeight-e-this.el.offsetHeight,0);(e!==this.cTop||n!==this.cBottom)&&(this.cTop=e,this.cBottom=n,(0,gt.xE)(this))}},{key:"onScroll",value:function(t){var e=this,n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,(0,gt.wj)((function(n){e.queued=!1,e.detail.event=t,mn(e.detail,e.scrollEl,n,r),e.ionScroll.emit(e.detail)})))}},{key:"getScrollElement",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.scrollEl){t.next=3;break}return t.next=3,new Promise((function(t){return(0,Ft.c)(e.el,t)}));case 3:return t.abrupt("return",Promise.resolve(this.scrollEl));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getBackgroundElement",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.backgroundContentEl){t.next=3;break}return t.next=3,new Promise((function(t){return(0,Ft.c)(e.el,t)}));case 3:return t.abrupt("return",Promise.resolve(this.backgroundContentEl));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"scrollToTop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.scrollToPoint(void 0,0,t)}},{key:"scrollToBottom",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n,r,i=arguments;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:0,t.next=3,this.getScrollElement();case 3:return n=t.sent,r=n.scrollHeight-n.clientHeight,t.abrupt("return",this.scrollToPoint(void 0,r,e));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"scrollByPoint",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r){var i;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getScrollElement();case 2:return i=t.sent,t.abrupt("return",this.scrollToPoint(e+i.scrollLeft,n+i.scrollTop,r));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"scrollToPoint",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r,i,o,a,s,l,c,u,d,f,h=arguments;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:0,t.next=3,this.getScrollElement();case 3:if(i=t.sent,!(r<32)){t.next=8;break}return null!=n&&(i.scrollTop=n),null!=e&&(i.scrollLeft=e),t.abrupt("return");case 8:return a=0,s=new Promise((function(t){return o=t})),l=i.scrollTop,c=i.scrollLeft,u=null!=n?n-l:0,d=null!=e?e-c:0,f=function t(e){var n=Math.min(1,(e-a)/r)-1,s=Math.pow(n,3)+1;0!==u&&(i.scrollTop=Math.floor(s*u+l)),0!==d&&(i.scrollLeft=Math.floor(s*d+c)),s<1?requestAnimationFrame(t):o()},requestAnimationFrame((function(t){a=t,f(t)})),t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onScrollStart",value:function(){var t=this;this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((function(){t.lastScroll<Date.now()-120&&t.onScrollEnd()}),100)}},{key:"onScrollEnd",value:function(){clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}},{key:"render",value:function(){var t,e=this,n=this.isMainContent,r=this.scrollX,i=this.scrollY,o=this.el,a=(0,hn.i)(o)?"rtl":"ltr",s=zt(this),l=this.shouldForceOverscroll(),c="ios"===s,u=n?"main":"div";return this.resize(),(0,gt.h)(gt.AA,{class:Ze(this.color,(t={},(0,st.Z)(t,s,!0),(0,st.Z)(t,"content-sizing",$e("ion-popover",this.el)),(0,st.Z)(t,"overscroll",l),(0,st.Z)(t,"content-".concat(a),!0),t)),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},(0,gt.h)("div",{ref:function(t){return e.backgroundContentEl=t},id:"background-content",part:"background"}),(0,gt.h)(u,{class:{"inner-scroll":!0,"scroll-x":r,"scroll-y":i,overscroll:(r||i)&&l},ref:function(t){return e.scrollEl=t},onScroll:this.scrollEvents?function(t){return e.onScroll(t)}:void 0,part:"scroll"},(0,gt.h)("slot",null)),c?(0,gt.h)("div",{class:"transition-effect"},(0,gt.h)("div",{class:"transition-cover"}),(0,gt.h)("div",{class:"transition-shadow"})):null,(0,gt.h)("slot",{name:"fixed"}))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.inner-scroll{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:10px;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3MDgzRkQ5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3MDgzRkU5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTcwODNGQjlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTcwODNGQzlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmePEuQAAABNSURBVHjaYvz//z8DIxAwMDAwATGMhmFmPDQuOSZks0AMmoJBaQHjkPfB0Lfg/2gQjVow+HPy/yHvg9GiYjQfjMbBqAWjFgy/4hogwADYqwdzxy5BuwAAAABJRU5ErkJggg==);background-repeat:repeat-y;background-size:10px 16px}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}'}}]),n}(gt.mv),[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"]]]),gn=function(t){var e=t.closest("ion-tabs");if(e)return e;var n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||function(t){var e;return t.parentElement?t.parentElement:(null===(e=t.parentNode)||void 0===e?void 0:e.host)?t.parentNode.host:null}(t)},mn=function(t,e,n,r){var i=t.currentX,o=t.currentY,a=t.currentTime,s=e.scrollLeft,l=e.scrollTop,c=n-a;if(r&&(t.startTime=n,t.startX=s,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=s,t.currentY=t.scrollTop=l,t.deltaX=s-t.startX,t.deltaY=l-t.startY,c>0&&c<100){var u=(s-i)/c,d=(l-o)/c;t.velocityX=.7*u+.3*t.velocityX,t.velocityY=.7*d+.3*t.velocityY}};var vn=function(){if("undefined"!==typeof customElements){["ion-content"].forEach((function(t){if("ion-content"===t)customElements.get(t)||customElements.define(t,pn)}))}},yn=n(7225),bn=n(3743),xn=function(t,e){return t.month===e.month&&t.day===e.day&&t.year===e.year},wn=function(t,e){return t.year<e.year||t.year===e.year&&t.month<e.month||t.year===e.year&&t.month===e.month&&t.day&&t.day<e.day},kn=function(t,e){return t.year>e.year||t.year===e.year&&t.month>e.month||t.year===e.year&&t.month===e.month&&t.day&&t.day>e.day},_n=function(t,e,n){var r,i=Array.isArray(t)?t:[t],o=(0,Ne.Z)(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(e&&wn(a,e)||n&&kn(a,n)){(0,bn.p)("The value provided to ion-datetime is out of bounds.\n\n"+"Min: ".concat(JSON.stringify(e),"\n")+"Max: ".concat(JSON.stringify(n),"\n")+"Value: ".concat(JSON.stringify(t)));break}}}catch(s){o.e(s)}finally{o.f()}},An=function(t,e){if(void 0!==e)return"h23"===e;var n=new Intl.DateTimeFormat(t,{hour:"numeric"}),r=n.resolvedOptions();if(void 0!==r.hourCycle)return"h23"===r.hourCycle;var i=new Date("5/18/2021 00:00"),o=n.formatToParts(i).find((function(t){return"hour"===t.type}));if(!o)throw new Error("Hour value not found from DateTimeFormat");return"00"===o.value},Tn=function(t,e){return 4===t||6===t||9===t||11===t?30:2===t?function(t){return t%4===0&&t%100!==0||t%400===0}(e)?29:28:31},Mn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"numeric",year:"numeric"},n=new Intl.DateTimeFormat(t,e).formatToParts(new Date);return"month"===n[0].type},En=function(t){return("0"+(void 0!==t?Math.abs(t):"0")).slice(-2)};function Cn(t){if(Array.isArray(t))return t.map((function(t){return Cn(t)}));var e,n="";return void 0!==t.year?(n=("000"+(void 0!==(e=t.year)?Math.abs(e):"0")).slice(-4),void 0!==t.month&&(n+="-"+En(t.month),void 0!==t.day&&(n+="-"+En(t.day),void 0!==t.hour&&(n+="T".concat(En(t.hour),":").concat(En(t.minute),":00"),void 0===t.tzOffset?n+="Z":n+=(t.tzOffset>0?"+":"-")+En(Math.floor(Math.abs(t.tzOffset/60)))+":"+En(t.tzOffset%60))))):void 0!==t.hour&&(n=En(t.hour)+":"+En(t.minute)),n}var Sn=function(t,e){return void 0===e?t:"am"===e?12===t?0:t:12===t?12:t+12},On=function(t,e){var n=t.month,r=t.day,i=t.year;if(null===r)throw new Error("No day provided");var o={month:n,day:r,year:i};if(o.day=r-e,o.day<1&&(o.month-=1),o.month<1&&(o.month=12,o.year-=1),o.day<1){var a=Tn(o.month,o.year);o.day=a+o.day}return o},Ln=function(t,e){var n=t.month,r=t.day,i=t.year;if(null===r)throw new Error("No day provided");var o={month:n,day:r,year:i},a=Tn(n,i);return o.day=r+e,o.day>a&&(o.day-=a,o.month+=1),o.month>12&&(o.month=1,o.year+=1),o},Pn=function(t){var e=1===t.month?12:t.month-1,n=1===t.month?t.year-1:t.year,r=Tn(e,n);return{month:e,year:n,day:r<t.day?r:t.day}},Dn=function(t){var e=12===t.month?1:t.month+1,n=12===t.month?t.year+1:t.year,r=Tn(e,n);return{month:e,year:n,day:r<t.day?r:t.day}},Rn=function(t,e){var n=t.month,r=t.year+e,i=Tn(n,r);return{month:n,year:r,day:i<t.day?i:t.day}},In=function(t,e,n){return e?t:Sn(t,n)},zn=function(t){var e=t.month,n=t.day,r=t.year,i=Object.assign({},t),o=Tn(e,r);return null!==n&&o<n&&(i.day=o),i},Nn=function(t,e,n){return void 0===e.hour||void 0===e.minute?"Invalid Time":new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",timeZone:"UTC",hourCycle:n?"h23":"h12"}).format(new Date(Cn(Object.assign(Object.assign({},e),{tzOffset:void 0}))))},Bn=function(t){var e=t.toString();return e.length>1?e:"0".concat(e)},Fn=function(t,e){return e?Bn(t):0===t?"12":t.toString()},jn=function(t,e,n){if(null===n.day)return null;var r=new Date("".concat(n.month,"/").concat(n.day,"/").concat(n.year," GMT+0000")),i=new Intl.DateTimeFormat(t,{weekday:"long",month:"long",day:"numeric",timeZone:"UTC"}).format(r);return e?"Today, ".concat(i):i},$n=function(t,e){var n=new Date("".concat(e.month,"/").concat(e.day,"/").concat(e.year," GMT+0000"));return new Intl.DateTimeFormat(t,{month:"long",year:"numeric",timeZone:"UTC"}).format(n)},Zn=function(t,e){return Wn(t,e,{month:"short",day:"numeric",year:"numeric"})},Un=function(t,e){return Yn(t,e,{day:"numeric"}).find((function(t){return"day"===t.type})).value},Hn=function(t,e){return Wn(t,e,{year:"numeric"})},Vn=function(t){var e=t.hour&&t.minute?" ".concat(t.hour,":").concat(t.minute):"";return new Date("".concat(t.month,"/").concat(t.day,"/").concat(t.year).concat(e," GMT+0000"))},Wn=function(t,e,n){var r=Vn(e);return Gn(t,n).format(r)},Yn=function(t,e,n){var r=Vn(e);return Gn(t,n).formatToParts(r)},Gn=function(t,e){return new Intl.DateTimeFormat(t,Object.assign(Object.assign({},e),{timeZone:"UTC"}))},qn=function(t){if("RelativeTimeFormat"in Intl){var e=new Intl.RelativeTimeFormat(t,{numeric:"auto"}).format(0,"day");return e.charAt(0).toUpperCase()+e.slice(1)}return"Today"},Xn=function(t){var e=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()-e),t},Jn=Xn(new Date("2022T01:00")),Kn=Xn(new Date("2022T13:00")),Qn=function(t,e){var n="am"===e?Jn:Kn,r=new Intl.DateTimeFormat(t,{hour:"numeric",timeZone:"UTC"}).formatToParts(n).find((function(t){return"dayPeriod"===t.type}));return r?r.value:function(t){return void 0===t?"":t.toUpperCase()}(e)},tr=function(){return Xn(new Date).toISOString()},er=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],nr=[0,1,2,3,4,5,6,7,8,9,10,11],rr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],ir=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h12",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a="h23"===e,s=a?rr:nr,l=er,c=!0,u=!0;if(i&&(s=s.filter((function(t){return i.includes(t)}))),o&&(l=l.filter((function(t){return o.includes(t)}))),n)if(xn(t,n)){if(void 0!==n.hour&&(s=s.filter((function(e){var r="pm"===t.ampm?(e+12)%24:e;return(a?e:r)>=n.hour})),c=n.hour<13),void 0!==n.minute){var d=!1;void 0!==n.hour&&void 0!==t.hour&&t.hour>n.hour&&(d=!0),l=l.filter((function(t){return!!d||t>=n.minute}))}}else wn(t,n)&&(s=[],l=[],c=u=!1);return r&&(xn(t,r)?(void 0!==r.hour&&(s=s.filter((function(e){var n="pm"===t.ampm?(e+12)%24:e;return(a?e:n)<=r.hour})),u=r.hour>=13),void 0!==r.minute&&t.hour===r.hour&&(l=l.filter((function(t){return t<=r.minute})))):kn(t,r)&&(s=[],l=[],c=u=!1)),{hours:s,minutes:l,am:c,pm:u}},or=function(t){return[Pn(t),{month:t.month,year:t.year,day:t.day},Dn(t)]},ar=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{day:"numeric"},a=e.month,s=e.year,l=[],c=Tn(a,s),u=(null===r||void 0===r?void 0:r.day)&&r.year===s&&r.month===a?r.day:c,d=(null===n||void 0===n?void 0:n.day)&&n.year===s&&n.month===a?n.day:1;if(void 0!==i){var f=i;(f=f.filter((function(t){return t>=d&&t<=u}))).forEach((function(e){var n=new Date("".concat(a,"/").concat(e,"/").concat(s," GMT+0000")),r=new Intl.DateTimeFormat(t,Object.assign(Object.assign({},o),{timeZone:"UTC"})).format(n);l.push({text:r,value:e})}))}else for(var h=d;h<=u;h++){var p=new Date("".concat(a,"/").concat(h,"/").concat(s," GMT+0000")),g=new Intl.DateTimeFormat(t,Object.assign(Object.assign({},o),{timeZone:"UTC"})).format(p);l.push({text:g,value:h})}return l},sr=function t(e,n){return e.month===n.month&&e.year===n.year?[e]:[e].concat((0,ot.Z)(t(Dn(e),n)))},lr=function(t,e,n,r,i,o){var a=[],s=[],l=sr(n,r);return o&&(l=l.filter((function(t){var e=t.month;return o.includes(e)}))),l.forEach((function(o){var l={month:o.month,day:null,year:o.year},c=ar(t,l,n,r,i,{month:"short",day:"numeric",weekday:"short"}),u=[],d=[];c.forEach((function(n){var r=xn(Object.assign(Object.assign({},l),{day:n.value}),e);d.push({text:r?qn(t):n.text,value:"".concat(l.year,"-").concat(l.month,"-").concat(n.value)}),u.push({month:l.month,year:l.year,day:n.value})})),s=[].concat((0,ot.Z)(s),u),a=[].concat((0,ot.Z)(a),d)})),{parts:s,items:a}},cr=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,ur=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,dr=function(t){if(void 0!==t){var e=t;return"string"===typeof t&&(e=t.replace(/\[|\]|\s/g,"").split(",")),Array.isArray(e)?e.map((function(t){return parseInt(t,10)})).filter(isFinite):[e]}};function fr(t){if(Array.isArray(t))return t.map((function(t){return fr(t)}));var e=null;if(null!=t&&""!==t&&(ur.exec(t)?(e.unshift(void 0,void 0),e[2]=e[3]=void 0):cr.exec(t)),null!==e){for(var n=1;n<8;n++)e[n]=void 0!==e[n]?parseInt(e[n],10):void 0;var r=0;return e[9]&&e[10]&&(60*parseInt(e[10],10),e[11]&&parseInt(e[11],10),"-"===e[9]&&-1),{year:e[1],month:e[2],day:e[3],hour:e[4],minute:e[5],tzOffset:r}}}var hr=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionFocus=(0,gt.yM)((0,ut.Z)(t),"ionFocus",7),t.ionBlur=(0,gt.yM)((0,ut.Z)(t),"ionBlur",7),t.inItem=!1,t.inListHeader=!1,t.inToolbar=!1,t.inheritedAttributes={},t.buttonType="button",t.disabled=!1,t.routerDirection="forward",t.strong=!1,t.type="button",t.handleClick=function(e){if("button"===t.type)Ve(t.href,e,t.routerDirection,t.routerAnimation);else if((0,Ft.q)(t.el)){var n=t.el.closest("form");if(n){e.preventDefault();var r=document.createElement("button");r.type=t.type,r.style.display="none",n.appendChild(r),r.click(),r.remove()}}},t.onFocus=function(){t.ionFocus.emit()},t.onBlur=function(){t.ionBlur.emit()},t}return(0,pt.Z)(n,[{key:"componentWillLoad",value:function(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=(0,Ft.i)(this.el)}},{key:"hasIconOnly",get:function(){return!!this.el.querySelector('[slot="icon-only"]')}},{key:"rippleType",get:function(){return(void 0===this.fill||"clear"===this.fill)&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}},{key:"render",value:function(){var t,e=zt(this),n=this.buttonType,r=this.type,i=this.disabled,o=this.rel,a=this.target,s=this.size,l=this.href,c=this.color,u=this.expand,d=this.hasIconOnly,f=this.shape,h=this.strong,p=this.inheritedAttributes,g=void 0===s&&this.inItem?"small":s,m=void 0===l?"button":"a",v="button"===m?{type:r}:{download:this.download,href:l,rel:o,target:a},y=this.fill;return void 0===y&&(y=this.inToolbar||this.inListHeader?"clear":"solid"),(0,gt.h)(gt.AA,{onClick:this.handleClick,"aria-disabled":i?"true":null,class:Ze(c,(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,n,!0),(0,st.Z)(t,"".concat(n,"-").concat(u),void 0!==u),(0,st.Z)(t,"".concat(n,"-").concat(g),void 0!==g),(0,st.Z)(t,"".concat(n,"-").concat(f),void 0!==f),(0,st.Z)(t,"".concat(n,"-").concat(y),!0),(0,st.Z)(t,"".concat(n,"-strong"),h),(0,st.Z)(t,"in-toolbar",$e("ion-toolbar",this.el)),(0,st.Z)(t,"in-toolbar-color",$e("ion-toolbar[color]",this.el)),(0,st.Z)(t,"button-has-icon-only",d),(0,st.Z)(t,"button-disabled",i),(0,st.Z)(t,"ion-activatable",!0),(0,st.Z)(t,"ion-focusable",!0),t))},(0,gt.h)(m,Object.assign({},v,{class:"button-native",part:"native",disabled:i,onFocus:this.onFocus,onBlur:this.onBlur},p),(0,gt.h)("span",{class:"button-inner"},(0,gt.h)("slot",{name:"icon-only"}),(0,gt.h)("slot",{name:"start"}),(0,gt.h)("slot",null),(0,gt.h)("slot",{name:"end"})),"md"===e&&(0,gt.h)("ion-ripple-effect",{type:this.rippleType})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){margin-left:-0.3em;margin-right:0.3em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}::slotted(ion-icon[slot=end]){margin-left:0.3em;margin-right:-0.2em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em}}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:10px;--padding-top:0;--padding-bottom:0;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;margin-left:2px;margin-right:2px;margin-top:4px;margin-bottom:4px;height:2.8em;font-size:16px;font-weight:500;letter-spacing:-0.03em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:10px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal;letter-spacing:0}:host(.button-large){--border-radius:12px;--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:2.8em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:hover),:host(.button-outline:hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native::after{background:#fff;opacity:0.1}}',md:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){margin-left:-0.3em;margin-right:0.3em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}::slotted(ion-icon[slot=end]){margin-left:0.3em;margin-right:-0.2em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em}}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:0;--padding-bottom:0;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;margin-left:2px;margin-right:2px;margin-top:4px;margin-bottom:4px;height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:2.8em;font-size:20px}:host(.button-small){--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}'}}}]),n}(gt.mv),[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1]}]);var pr=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t}return(0,pt.Z)(n,[{key:"render",value:function(){var t=zt(this);return(0,gt.h)(gt.AA,{class:Ze(this.color,(0,st.Z)({},t,!0))},(0,gt.h)("slot",null))}}],[{key:"style",get:function(){return{ios:":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, #a6a6a6)}",md:":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, #666666);font-size:14px}"}}}]),n}(gt.mv),[33,"ion-note",{color:[513]}]);function gr(){if("undefined"!==typeof customElements){["ion-note"].forEach((function(t){if("ion-note"===t)customElements.get(t)||customElements.define(t,pr)}))}}var mr=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.labelColorStyles={},t.itemStyles=new Map,t.multipleInputs=!1,t.focusable=!0,t.button=!1,t.detailIcon=xe,t.disabled=!1,t.counter=!1,t.routerDirection="forward",t.type="button",t}return(0,pt.Z)(n,[{key:"counterFormatterChanged",value:function(){this.updateCounterOutput(this.getFirstInput())}},{key:"handleIonChange",value:function(t){this.counter&&t.target===this.getFirstInput()&&this.updateCounterOutput(t.target)}},{key:"labelColorChanged",value:function(t){void 0===this.color&&(this.labelColorStyles=t.detail)}},{key:"itemStyle",value:function(t){t.stopPropagation();var e=t.target.tagName,n=t.detail,r={},i=this.itemStyles.get(e)||{},o=!1;Object.keys(n).forEach((function(t){if(n[t]){var e="item-".concat(t);i[e]||(o=!0),r[e]=!0}})),o||Object.keys(r).length===Object.keys(i).length||(o=!0),o&&(this.itemStyles.set(e,r),(0,gt.xE)(this))}},{key:"connectedCallback",value:function(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}},{key:"componentDidUpdate",value:function(){var t=this,e=this.getFirstInput();e&&!this.clickListener&&(this.clickListener=function(n){return t.delegateFocus(n,e)},this.el.addEventListener("click",this.clickListener))}},{key:"disconnectedCallback",value:function(){this.getFirstInput()&&this.clickListener&&(this.el.removeEventListener("click",this.clickListener),this.clickListener=void 0)}},{key:"componentDidLoad",value:function(){var t=this;(0,Ft.r)((function(){t.setMultipleInputs(),t.focusable=t.isFocusable()}))}},{key:"setMultipleInputs",value:function(){var t=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),e=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),n=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=t.length+e.length>1||t.length+n.length>1||t.length>0&&this.isClickable()}},{key:"hasCover",value:function(){return 1===this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length&&!this.multipleInputs}},{key:"isClickable",value:function(){return void 0!==this.href||this.button}},{key:"canActivate",value:function(){return this.isClickable()||this.hasCover()}},{key:"isFocusable",value:function(){var t=this.el.querySelector(".ion-focusable");return this.canActivate()||null!==t}},{key:"getFirstInput",value:function(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}},{key:"delegateFocus",value:function(t,e){var n="ION-ITEM"===t.target.tagName,r=!1;document.activeElement&&(r=e.querySelector("input, textarea")===document.activeElement),!n||!r&&this.multipleInputs||(e.fireFocusEvents=!1,e.setBlur(),e.setFocus(),(0,Ft.r)((function(){e.fireFocusEvents=!0})))}},{key:"updateCounterOutput",value:function(t){var e,n,r=this.counter,i=this.counterFormatter,o=this.defaultCounterFormatter;if(r&&!this.multipleInputs&&void 0!==(null===t||void 0===t?void 0:t.maxlength)){var a=null!==(n=null===(e=null===t||void 0===t?void 0:t.value)||void 0===e?void 0:e.toString().length)&&void 0!==n?n:0;if(void 0===i)this.counterString=o(a,t.maxlength);else try{this.counterString=i(a,t.maxlength)}catch(s){(0,bn.a)("Exception in provided `counterFormatter`.",s),this.counterString=o(a,t.maxlength)}}}},{key:"defaultCounterFormatter",value:function(t,e){return"".concat(t," / ").concat(e)}},{key:"hasStartEl",value:function(){null!==this.el.querySelector('[slot="start"]')&&this.el.classList.add("item-has-start-slot")}},{key:"render",value:function(){var t,e=this.counterString,n=this.detail,r=this.detailIcon,i=this.download,o=this.fill,a=this.labelColorStyles,s=this.lines,l=this.disabled,c=this.href,u=this.rel,d=this.shape,f=this.target,h=this.routerAnimation,p=this.routerDirection,g={},m=zt(this),v=this.isClickable(),y=this.canActivate(),b=v?void 0===c?"button":"a":"div",x="button"===b?{type:this.type}:{download:i,href:c,rel:u,target:f},w=v?{onClick:function(t){Ve(c,t,p,h)}}:{},k=void 0!==n?n:"ios"===m&&v;this.itemStyles.forEach((function(t){Object.assign(g,t)}));var _=l||g["item-interactive-disabled"]?"true":null,A=o||"none",T=$e("ion-list",this.el);return(0,gt.h)(gt.AA,{"aria-disabled":_,class:Object.assign(Object.assign(Object.assign({},g),a),Ze(this.color,(t={item:!0},(0,st.Z)(t,m,!0),(0,st.Z)(t,"item-lines-".concat(s),void 0!==s),(0,st.Z)(t,"item-fill-".concat(A),!0),(0,st.Z)(t,"item-shape-".concat(d),void 0!==d),(0,st.Z)(t,"item-disabled",l),(0,st.Z)(t,"in-list",T),(0,st.Z)(t,"item-multiple-inputs",this.multipleInputs),(0,st.Z)(t,"ion-activatable",y),(0,st.Z)(t,"ion-focusable",this.focusable),(0,st.Z)(t,"item-rtl","rtl"===document.dir),t))),role:T?"listitem":null},(0,gt.h)(b,Object.assign({},x,{class:"item-native",part:"native",disabled:l},w),(0,gt.h)("slot",{name:"start"}),(0,gt.h)("div",{class:"item-inner"},(0,gt.h)("div",{class:"input-wrapper"},(0,gt.h)("slot",null)),(0,gt.h)("slot",{name:"end"}),k&&(0,gt.h)("ion-icon",{icon:r,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":r===xe}),(0,gt.h)("div",{class:"item-inner-highlight"})),y&&"md"===m&&(0,gt.h)("ion-ripple-effect",null),(0,gt.h)("div",{class:"item-highlight"})),(0,gt.h)("div",{class:"item-bottom"},(0,gt.h)("slot",{name:"error"}),(0,gt.h)("slot",{name:"helper"}),e&&(0,gt.h)("ion-note",{class:"item-counter"},e)))}},{key:"el",get:function(){return this}}],[{key:"delegatesFocus",get:function(){return!0}},{key:"watchers",get:function(){return{counterFormatter:["counterFormatterChanged"]}}},{key:"style",get:function(){return{ios:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-native{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--inner-padding-start);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-inner{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-bottom{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end)}}.item-detail-icon{color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{margin-left:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-counter{margin-left:unset;-webkit-margin-start:auto;margin-inline-start:auto}}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:20px;--inner-padding-end:10px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:#000;--background-focused:#000;--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:17px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){margin-left:0;margin-right:20px;margin-top:2px;margin-bottom:2px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:20px;margin-inline-end:20px}}::slotted([slot=end]){margin-left:10px;margin-right:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px}}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:0px;--padding-bottom:0px;--padding-start:.5em;--padding-end:.5em;height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){width:56px;height:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px}}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){margin-left:0px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){margin-left:unset;-webkit-margin-start:0px;margin-inline-start:0px}}::slotted(ion-label){margin-left:0;margin-right:8px;margin-top:10px;margin-bottom:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-label){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',md:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-native{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--inner-padding-start);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-inner{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-bottom{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end)}}.item-detail-icon{color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{margin-left:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-counter{margin-left:unset;-webkit-margin-start:auto;margin-inline-start:auto}}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));left:var(--position-offset);top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){margin-right:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-right:unset;-webkit-margin-end:32px;margin-inline-end:32px}}::slotted([slot=end]){margin-left:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;-webkit-margin-start:32px;margin-inline-start:32px}}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){margin-right:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-right:unset;-webkit-margin-end:32px;margin-inline-end:32px}}::slotted(ion-icon[slot=end]){margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){padding-right:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-note[slot=start]){padding-right:unset;-webkit-padding-end:16px;padding-inline-end:16px}}::slotted(ion-note[slot=end]){padding-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-note[slot=end]){padding-left:unset;-webkit-padding-start:16px;padding-inline-start:16px}}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){width:56px;height:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){margin-right:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){margin-right:unset;-webkit-margin-end:16px;margin-inline-end:16px}}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){margin-left:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){margin-left:unset;-webkit-margin-start:0;margin-inline-start:0}}::slotted(.button-small){--padding-top:0;--padding-bottom:0;--padding-start:.6em;--padding-end:.6em;height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{padding-left:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-fill-outline.item-shape-round) .item-bottom{padding-left:unset;-webkit-padding-start:32px;padding-inline-start:32px}}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}'}}}]),n}(gt.mv),[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]);function vr(){if("undefined"!==typeof customElements){["ion-item","ion-icon","ion-note","ion-ripple-effect"].forEach((function(t){switch(t){case"ion-item":customElements.get(t)||customElements.define(t,mr);break;case"ion-icon":customElements.get(t)||Ie();break;case"ion-note":customElements.get(t)||gr();break;case"ion-ripple-effect":customElements.get(t)||nn()}}))}}var yr=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.ionColor=(0,gt.yM)((0,ut.Z)(t),"ionColor",7),t.ionStyle=(0,gt.yM)((0,ut.Z)(t),"ionStyle",7),t.inRange=!1,t.noAnimate=!1,t}return(0,pt.Z)(n,[{key:"componentWillLoad",value:function(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate="floating"===this.position,this.emitStyle(),this.emitColor()}},{key:"componentDidLoad",value:function(){var t=this;this.noAnimate&&setTimeout((function(){t.noAnimate=!1}),1e3)}},{key:"colorChanged",value:function(){this.emitColor()}},{key:"positionChanged",value:function(){this.emitStyle()}},{key:"emitColor",value:function(){var t=this.color;this.ionColor.emit((0,st.Z)({"item-label-color":void 0!==t},"ion-color-".concat(t),void 0!==t))}},{key:"emitStyle",value:function(){var t=this.inRange,e=this.position;t||this.ionStyle.emit((0,st.Z)({label:!0},"label-".concat(e),void 0!==e))}},{key:"render",value:function(){var t,e=this.position,n=zt(this);return(0,gt.h)(gt.AA,{class:Ze(this.color,(t={},(0,st.Z)(t,n,!0),(0,st.Z)(t,"in-item-color",$e("ion-item.ion-color",this.el)),(0,st.Z)(t,"label-".concat(e),void 0!==e),(0,st.Z)(t,"label-no-animate",this.noAnimate),(0,st.Z)(t,"label-rtl","rtl"===document.dir),t))})}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{color:["colorChanged"],position:["positionChanged"]}}},{key:"style",get:function(){return{ios:".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{white-space:normal}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{font-size:14px;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:14px}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:22px;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:17px;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",md:'.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{white-space:normal}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:24px;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:16px;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:20px;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}'}}}]),n}(gt.mv),[34,"ion-label",{color:[513],position:[1],noAnimate:[32]}]);function br(){if("undefined"!==typeof customElements){["ion-label"].forEach((function(t){if("ion-label"===t)customElements.get(t)||customElements.define(t,yr)}))}}var xr={getEngine:function(){var t,e=window;return e.TapticEngine||(null===(t=e.Capacitor)||void 0===t?void 0:t.isPluginAvailable("Haptics"))&&e.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(t){var e=this.getEngine();if(e){var n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})}},notification:function(t){var e=this.getEngine();if(e){var n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},wr=function(){xr.selectionStart()},kr=function(){xr.selectionChanged()},_r=function(){xr.selectionEnd()},Ar=function(t){xr.impact(t)},Tr=(gt.mv,"picker-item-active");gt.mv;var Mr=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r,i,o,a){var s,l;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",e.attachViewToDom(n,r,o,i));case 2:if(a||"string"===typeof r||r instanceof HTMLElement){t.next=4;break}throw new Error("framework delegate is missing");case 4:return l="string"===typeof r?null===(s=n.ownerDocument)||void 0===s?void 0:s.createElement(r):r,i&&i.forEach((function(t){return l.classList.add(t)})),o&&Object.assign(l,o),n.appendChild(l),t.next=10,new Promise((function(t){return(0,Ft.c)(l,t)}));case 10:return t.abrupt("return",l);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r,i,o,a){return t.apply(this,arguments)}}(),Er=function(t,e){if(e){if(t){var n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},Cr=function(){var t,e,n=function(){var n=(0,ct.Z)((0,lt.Z)().mark((function n(r,i){var o,a,s,l,c,u,d,f=arguments;return(0,lt.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=f.length>2&&void 0!==f[2]?f[2]:{},a=f.length>3&&void 0!==f[3]?f[3]:[],t=r,!i){n.next=12;break}return c="string"===typeof i?null===(s=t.ownerDocument)||void 0===s?void 0:s.createElement(i):i,a.forEach((function(t){return c.classList.add(t)})),Object.assign(c,o),t.appendChild(c),n.next=10,new Promise((function(t){return(0,Ft.c)(c,t)}));case 10:n.next=13;break;case 12:t.children.length>0&&(u=null===(l=t.ownerDocument)||void 0===l?void 0:l.createElement("div"),a.forEach((function(t){return u.classList.add(t)})),u.append.apply(u,(0,ot.Z)(t.children)),t.appendChild(u));case 13:return d=document.querySelector("ion-app")||document.body,e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),d.appendChild(t),n.abrupt("return",t);case 18:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}();return{attachViewToDom:n,removeViewFromDom:function(){return t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve()}}},Sr=n(6313),Or=function(t,e,n){var r=e.getBoundingClientRect(),i=r.height,o=r.width;"cover"===t&&n&&(o=n.getBoundingClientRect().width);return{contentWidth:o,contentHeight:i}},Lr=function(t,e){return e&&"ION-ITEM"===e.tagName?t.findIndex((function(t){return t===e})):-1},Pr=function(t,e){return t[Lr(t,e)+1]},Dr=function(t,e){return t[Lr(t,e)-1]},Rr=function(t){var e=(0,Ft.g)(t).querySelector("button");e&&(0,Ft.r)((function(){return e.focus()}))},Ir=function(t,e,n,r,i,o,a,s,l,c,u){var d,f={top:0,left:0,width:0,height:0};if("event"===o){if(!u)return l;var h=u;f={top:h.clientY,left:h.clientX,width:1,height:1}}else{var p=u,g=c||(null===(d=null===p||void 0===p?void 0:p.detail)||void 0===d?void 0:d.ionShadowTarget)||(null===p||void 0===p?void 0:p.target);if(!g)return l;var m=g.getBoundingClientRect();f={top:m.top,left:m.left,width:m.width,height:m.height}}var v=jr(a,f,e,n,r,i,t),y=$r(s,a,f,e,n),b=v.top+y.top,x=v.left+y.left,w=Fr(a,r,i,b,x,e,n,t),k=w.arrowTop,_=w.arrowLeft,A=zr(a,s,t);return{top:b,left:x,referenceCoordinates:f,arrowTop:k,arrowLeft:_,originX:A.originX,originY:A.originY}},zr=function(t,e,n){switch(t){case"top":return{originX:Nr(e),originY:"bottom"};case"bottom":return{originX:Nr(e),originY:"top"};case"left":return{originX:"right",originY:Br(e)};case"right":return{originX:"left",originY:Br(e)};case"start":return{originX:n?"left":"right",originY:Br(e)};case"end":return{originX:n?"right":"left",originY:Br(e)}}},Nr=function(t){switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},Br=function(t){switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},Fr=function(t,e,n,r,i,o,a,s){var l={arrowTop:r+a/2-e/2,arrowLeft:i+o-e/2},c={arrowTop:r+a/2-e/2,arrowLeft:i-1.5*e};switch(t){case"top":return{arrowTop:r+a,arrowLeft:i+o/2-e/2};case"bottom":return{arrowTop:r-n,arrowLeft:i+o/2-e/2};case"left":return l;case"right":return c;case"start":return s?c:l;case"end":return s?l:c;default:return{arrowTop:0,arrowLeft:0}}},jr=function(t,e,n,r,i,o,a){var s={top:e.top,left:e.left-n-i},l={top:e.top,left:e.left+e.width+i};switch(t){case"top":return{top:e.top-r-o,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+o,left:e.left};case"left":return s;case"start":return a?l:s;case"end":return a?s:l}},$r=function(t,e,n,r,i){switch(t){case"center":return Ur(e,n,r,i);case"end":return Zr(e,n,r,i);default:return{top:0,left:0}}},Zr=function(t,e,n,r){switch(t){case"start":case"end":case"left":case"right":return{top:-(r-e.height),left:0};default:return{top:0,left:-(n-e.width)}}},Ur=function(t,e,n,r){switch(t){case"start":case"end":case"left":case"right":return{top:-(r/2-e.height/2),left:0};default:return{top:0,left:-(n/2-e.width/2)}}},Hr=function(t,e,n,r,i,o,a,s,l,c,u,d){var f,h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,m=h,v=p,y=n,b=e,x=c,w=u,k=!1,_=!1,A=d?d.top+d.height:o/2-s/2,T=d?d.height:0,M=!1;return y<r+l?(y=r,k=!0,x="left"):a+r+y+l>i&&(_=!0,y=i-a-r,x="right"),A+T+s>o&&("top"===t||"bottom"===t)&&(A-s>0?(m=(b=Math.max(12,A-s-T-(g-1)))+s,w="bottom",M=!0):f=r),{top:b,left:y,bottom:f,originX:x,originY:w,checkSafeAreaLeft:k,checkSafeAreaRight:_,arrowTop:m,arrowLeft:v,addPopoverBottomClass:M}},Vr=function(t,e){var n,r=e.event,i=e.size,o=e.trigger,a=e.reference,s=e.side,l=e.align,c=t.ownerDocument,u="rtl"===c.dir,d=c.defaultView.innerWidth,f=c.defaultView.innerHeight,h=(0,Ft.g)(t),p=h.querySelector(".popover-content"),g=h.querySelector(".popover-arrow"),m=o||(null===(n=null===r||void 0===r?void 0:r.detail)||void 0===n?void 0:n.ionShadowTarget)||(null===r||void 0===r?void 0:r.target),v=Or(i,p,m),y=v.contentWidth,b=v.contentHeight,x=function(t){if(!t)return{arrowWidth:0,arrowHeight:0};var e=t.getBoundingClientRect();return{arrowWidth:e.width,arrowHeight:e.height}}(g),w=x.arrowWidth,k=x.arrowHeight,_=Ir(u,y,b,w,k,a,s,l,{top:f/2-b/2,left:d/2-y/2,originX:u?"right":"left",originY:"top"},o,r),A="cover"===i?0:5,T="cover"===i?0:25,M=Hr(s,_.top,_.left,A,d,f,y,b,T,_.originX,_.originY,_.referenceCoordinates,_.arrowTop,_.arrowLeft,k),E=M.originX,C=M.originY,S=M.top,O=M.left,L=M.bottom,P=M.checkSafeAreaLeft,D=M.checkSafeAreaRight,R=M.arrowTop,I=M.arrowLeft,z=M.addPopoverBottomClass,N=(0,pe.c)(),B=(0,pe.c)(),F=(0,pe.c)();return B.addElement(h.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),F.addElement(h.querySelector(".popover-wrapper")).fromTo("opacity",.01,1),N.easing("ease").duration(100).beforeAddWrite((function(){"cover"===i&&t.style.setProperty("--width","".concat(y,"px")),z&&t.classList.add("popover-bottom"),void 0!==L&&p.style.setProperty("bottom","".concat(L,"px"));var e="".concat(O,"px");if(P&&(e="".concat(O,"px").concat(" + var(--ion-safe-area-left, 0)")),D&&(e="".concat(O,"px").concat(" - var(--ion-safe-area-right, 0)")),p.style.setProperty("top","calc(".concat(S,"px + var(--offset-y, 0))")),p.style.setProperty("left","calc(".concat(e," + var(--offset-x, 0))")),p.style.setProperty("transform-origin","".concat(C," ").concat(E)),null!==g){var n=_.top!==S||_.left!==O,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>3?arguments[3]:void 0;return!(!(arguments.length>2?arguments[2]:void 0)&&!n)&&("top"===t||"bottom"===t||!e)}(s,n,r,o);a?(g.style.setProperty("top","calc(".concat(R,"px + var(--offset-y, 0))")),g.style.setProperty("left","calc(".concat(I,"px + var(--offset-x, 0))"))):g.style.setProperty("display","none")}})).addAnimation([B,F])},Wr=function(t){var e=(0,Ft.g)(t),n=e.querySelector(".popover-content"),r=e.querySelector(".popover-arrow"),i=(0,pe.c)(),o=(0,pe.c)(),a=(0,pe.c)();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),a.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite((function(){t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),r&&(r.style.removeProperty("top"),r.style.removeProperty("left"),r.style.removeProperty("display"))})).duration(300).addAnimation([o,a])},Yr=function(t,e){var n,r=e.event,i=e.size,o=e.trigger,a=e.reference,s=e.side,l=e.align,c=t.ownerDocument,u="rtl"===c.dir,d=c.defaultView.innerWidth,f=c.defaultView.innerHeight,h=(0,Ft.g)(t),p=h.querySelector(".popover-content"),g=o||(null===(n=null===r||void 0===r?void 0:r.detail)||void 0===n?void 0:n.ionShadowTarget)||(null===r||void 0===r?void 0:r.target),m=Or(i,p,g),v=m.contentWidth,y=m.contentHeight,b=Ir(u,v,y,0,0,a,s,l,{top:f/2-y/2,left:d/2-v/2,originX:u?"right":"left",originY:"top"},o,r),x="cover"===i?0:12,w=Hr(s,b.top,b.left,x,d,f,v,y,0,b.originX,b.originY,b.referenceCoordinates),k=w.originX,_=w.originY,A=w.top,T=w.left,M=w.bottom,E=(0,pe.c)(),C=(0,pe.c)(),S=(0,pe.c)(),O=(0,pe.c)(),L=(0,pe.c)();return C.addElement(h.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),S.addElement(h.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),O.addElement(p).beforeStyles({top:"calc(".concat(A,"px + var(--offset-y, 0px))"),left:"calc(".concat(T,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(_," ").concat(k)}).beforeAddWrite((function(){void 0!==M&&p.style.setProperty("bottom","".concat(M,"px"))})).fromTo("transform","scale(0.8)","scale(1)"),L.addElement(h.querySelector(".popover-viewport")).fromTo("opacity",.01,1),E.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite((function(){"cover"===i&&t.style.setProperty("--width","".concat(v,"px")),"bottom"===_&&t.classList.add("popover-bottom")})).addAnimation([C,S,O,L])},Gr=function(t){var e=(0,Ft.g)(t),n=e.querySelector(".popover-content"),r=(0,pe.c)(),i=(0,pe.c)(),o=(0,pe.c)();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite((function(){t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")})).duration(150).addAnimation([i,o])},qr=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.didPresent=(0,gt.yM)((0,ut.Z)(t),"ionPopoverDidPresent",7),t.willPresent=(0,gt.yM)((0,ut.Z)(t),"ionPopoverWillPresent",7),t.willDismiss=(0,gt.yM)((0,ut.Z)(t),"ionPopoverWillDismiss",7),t.didDismiss=(0,gt.yM)((0,ut.Z)(t),"ionPopoverDidDismiss",7),t.didPresentShorthand=(0,gt.yM)((0,ut.Z)(t),"didPresent",7),t.willPresentShorthand=(0,gt.yM)((0,ut.Z)(t),"willPresent",7),t.willDismissShorthand=(0,gt.yM)((0,ut.Z)(t),"willDismiss",7),t.didDismissShorthand=(0,gt.yM)((0,ut.Z)(t),"didDismiss",7),t.parentPopover=null,t.popoverIndex=Jr++,t.coreDelegate=Cr(),t.inline=!1,t.focusDescendantOnPresent=!1,t.presented=!1,t.hasController=!1,t.keyboardClose=!0,t.backdropDismiss=!0,t.showBackdrop=!0,t.translucent=!1,t.animated=!0,t.triggerAction="click",t.size="auto",t.dismissOnSelect=!1,t.reference="trigger",t.side="bottom",t.arrow=!0,t.isOpen=!1,t.keyboardEvents=!1,t.keepContentsMounted=!1,t.onBackdropTap=function(){t.dismiss(void 0,he)},t.onLifecycle=function(e){var n=t.usersElement,r=Xr[e.type];if(n&&r){var i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(i)}},t.configureTriggerInteraction=function(){var e=(0,ut.Z)(t),n=e.trigger,r=e.triggerAction,i=e.el,o=e.destroyTriggerInteraction;o&&o();var a=t.triggerEl=void 0!==n?document.getElementById(n):null;a&&(t.destroyTriggerInteraction=function(t,e,n){var r=[];switch(e){case"hover":var i;r=[{eventName:"mouseenter",callback:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.stopPropagation(),i&&clearTimeout(i),i=setTimeout((function(){(0,Ft.r)((function(){n.presentFromTrigger(e),i=void 0}))}),100);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{eventName:"mouseleave",callback:function(t){i&&clearTimeout(i);var e=t.relatedTarget;e&&e.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:function(t){return t.stopPropagation()}},{eventName:"ionPopoverActivateTrigger",callback:function(t){return n.presentFromTrigger(t,!0)}}];break;case"context-menu":r=[{eventName:"contextmenu",callback:function(t){t.preventDefault(),n.presentFromTrigger(t)}},{eventName:"click",callback:function(t){return t.stopPropagation()}},{eventName:"ionPopoverActivateTrigger",callback:function(t){return n.presentFromTrigger(t,!0)}}];break;default:r=[{eventName:"click",callback:function(t){return n.presentFromTrigger(t)}},{eventName:"ionPopoverActivateTrigger",callback:function(t){return n.presentFromTrigger(t,!0)}}]}return r.forEach((function(e){var n=e.eventName,r=e.callback;return t.addEventListener(n,r)})),t.setAttribute("data-ion-popover-trigger","true"),function(){r.forEach((function(e){var n=e.eventName,r=e.callback;return t.removeEventListener(n,r)})),t.removeAttribute("data-ion-popover-trigger")}}(a,r,i))},t.configureKeyboardInteraction=function(){var e=(0,ut.Z)(t),n=e.destroyKeyboardInteraction,r=e.el;n&&n(),t.destroyKeyboardInteraction=function(t){var e=function(){var e=(0,ct.Z)((0,lt.Z)().mark((function e(n){var r,i,o,a,s,l,c,u,d;return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=document.activeElement,o=[],"ION-POPOVER"===(a=null===(r=n.target)||void 0===r?void 0:r.tagName)||"ION-ITEM"===a){e.next=5;break}return e.abrupt("return");case 5:try{o=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(f){}e.t0=n.key,e.next="ArrowLeft"===e.t0?9:"ArrowDown"===e.t0?14:"ArrowUp"===e.t0?18:"Home"===e.t0?22:"End"===e.t0?26:"ArrowRight"===e.t0||" "===e.t0||"Enter"===e.t0?30:32;break;case 9:return e.next=11,t.getParentPopover();case 11:return e.sent&&t.dismiss(void 0,void 0,!1),e.abrupt("break",32);case 14:return n.preventDefault(),void 0!==(s=Pr(o,i))&&Rr(s),e.abrupt("break",32);case 18:return n.preventDefault(),void 0!==(l=Dr(o,i))&&Rr(l),e.abrupt("break",32);case 22:return n.preventDefault(),void 0!==(c=o[0])&&Rr(c),e.abrupt("break",32);case 26:return n.preventDefault(),void 0!==(u=o[o.length-1])&&Rr(u),e.abrupt("break",32);case 30:return i&&i.hasAttribute("data-ion-popover-trigger")&&(d=new CustomEvent("ionPopoverActivateTrigger"),i.dispatchEvent(d)),e.abrupt("break",32);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t.addEventListener("keydown",e),function(){return t.removeEventListener("keydown",e)}}(r)},t.configureDismissInteraction=function(){var e=(0,ut.Z)(t),n=e.destroyDismissInteraction,r=e.parentPopover,i=e.triggerAction,o=e.triggerEl,a=e.el;r&&o&&(n&&n(),t.destroyDismissInteraction=function(t,e,n,r){var i=[],o=(0,Ft.g)(r).querySelector(".popover-content");i="hover"===e?[{eventName:"mouseenter",callback:function(e){document.elementFromPoint(e.clientX,e.clientY)!==t&&n.dismiss(void 0,void 0,!1)}}]:[{eventName:"click",callback:function(e){e.target.closest("[data-ion-popover-trigger]")!==t?n.dismiss(void 0,void 0,!1):e.stopPropagation()}}];return i.forEach((function(t){var e=t.eventName,n=t.callback;return o.addEventListener(e,n)})),function(){i.forEach((function(t){var e=t.eventName,n=t.callback;return o.removeEventListener(e,n)}))}}(o,i,a,r))},t}return(0,pt.Z)(n,[{key:"onTriggerChange",value:function(){this.configureTriggerInteraction()}},{key:"onIsOpenChange",value:function(t,e){!0===t&&!1===e?this.present():!1===t&&!0===e&&this.dismiss()}},{key:"connectedCallback",value:function(){Gt(this.el)}},{key:"componentWillLoad",value:function(){this.popoverId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"ion-popover-".concat(this.popoverIndex),this.parentPopover=this.el.closest("ion-popover:not(#".concat(this.popoverId,")")),void 0===this.alignment&&(this.alignment="ios"===zt(this)?"center":"start")}},{key:"componentDidLoad",value:function(){var t=this,e=this.parentPopover;!0===this.isOpen&&(0,Ft.r)((function(){return t.present()})),e&&(0,Ft.a)(e,"ionPopoverWillDismiss",(function(){t.dismiss(void 0,void 0,!1)})),this.configureTriggerInteraction()}},{key:"presentFromTrigger",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r=arguments;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],this.focusDescendantOnPresent=n,t.next=4,this.present(e);case 4:this.focusDescendantOnPresent=!1;case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getDelegate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.workingDelegate&&!t)return{delegate:this.workingDelegate,inline:this.inline};var e=this.el.parentNode,n=this.inline=null!==e&&!this.hasController,r=this.workingDelegate=n?this.delegate||this.coreDelegate:this.delegate;return{inline:n,delegate:r}}},{key:"present",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r,i,o;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.presented){t.next=2;break}return t.abrupt("return");case 2:if(void 0===this.currentTransition){t.next=5;break}return t.next=5,this.currentTransition;case 5:return n=Object.assign(Object.assign({},this.componentProps),{popover:this.el}),r=this.getDelegate(!0),i=r.inline,o=r.delegate,t.next=9,Mr(o,this.el,this.component,["popover-viewport"],n,i);case 9:return this.usersElement=t.sent,t.next=12,(0,Sr.e)(this.usersElement);case 12:return this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),this.currentTransition=re(this,"popoverEnter",Vr,Yr,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),t.next=17,this.currentTransition;case 17:this.currentTransition=void 0,this.focusDescendantOnPresent&&Jt(this.el,this.el);case 19:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"dismiss",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r,i,o,a,s,l,c=arguments;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!(c.length>2&&void 0!==c[2])||c[2],void 0===this.currentTransition){t.next=4;break}return t.next=4,this.currentTransition;case 4:return i=this.destroyKeyboardInteraction,o=this.destroyDismissInteraction,r&&this.parentPopover&&this.parentPopover.dismiss(e,n,r),this.currentTransition=oe(this,e,n,"popoverLeave",Wr,Gr,this.event),t.next=9,this.currentTransition;case 9:if(!(a=t.sent)){t.next=16;break}return i&&(i(),this.destroyKeyboardInteraction=void 0),o&&(o(),this.destroyDismissInteraction=void 0),s=this.getDelegate(),l=s.delegate,t.next=16,Er(l,this.usersElement);case 16:return this.currentTransition=void 0,t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getParentPopover",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.parentPopover);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onDidDismiss",value:function(){return le(this.el,"ionPopoverDidDismiss")}},{key:"onWillDismiss",value:function(){return le(this.el,"ionPopoverWillDismiss")}},{key:"render",value:function(){var t,e=this,n=zt(this),r=this.onLifecycle,i=this.popoverId,o=this.parentPopover,a=this.dismissOnSelect,s=this.side,l=this.arrow,c=this.htmlAttributes,u=At("desktop"),d=l&&!o;return(0,gt.h)(gt.AA,Object.assign({"aria-modal":"true","no-router":!0,tabindex:"-1"},c,{style:{zIndex:"".concat(2e4+this.overlayIndex)},id:i,class:Object.assign(Object.assign({},Ue(this.cssClass)),(t={},(0,st.Z)(t,n,!0),(0,st.Z)(t,"popover-translucent",this.translucent),(0,st.Z)(t,"overlay-hidden",!0),(0,st.Z)(t,"popover-desktop",u),(0,st.Z)(t,"popover-side-".concat(s),!0),(0,st.Z)(t,"popover-nested",!!o),t)),onIonPopoverDidPresent:r,onIonPopoverWillPresent:r,onIonPopoverWillDismiss:r,onIonPopoverDidDismiss:r,onIonBackdropTap:this.onBackdropTap}),!o&&(0,gt.h)("ion-backdrop",{tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),(0,gt.h)("div",{class:"popover-wrapper ion-overlay-wrapper",onClick:a?function(){return e.dismiss()}:void 0},d&&(0,gt.h)("div",{class:"popover-arrow",part:"arrow"}),(0,gt.h)("div",{class:"popover-content",part:"content"},(0,gt.h)("slot",null))))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}},{key:"style",get:function(){return{ios:':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}[dir=rtl] .popover-arrow::after,:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',md:":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}[dir=rtl] .popover-content,:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}"}}}]),n}(gt.mv),[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]}]),Xr={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"},Jr=0;function Kr(){if("undefined"!==typeof customElements){["ion-popover","ion-backdrop"].forEach((function(t){switch(t){case"ion-popover":customElements.get(t)||customElements.define(t,qr);break;case"ion-backdrop":customElements.get(t)||je()}}))}}var Qr=function(t,e,n,r){return null===t.day||(void 0!==r&&!r.includes(t.day)||(!(!e||!wn(t,e))||!(!n||!kn(t,n))))},ti=function(t,e){var n=e.minParts,r=e.maxParts;return!!function(t,e,n){return!!(e&&e.year>t)||!!(n&&n.year<t)}(t.year,n,r)||!!(n&&wn(t,n)||r&&kn(t,r))},ei=(gt.mv,0);gt.mv;gt.mv;gt.mv;var ni=n(9344),ri=n(1437),ii=function(t){var e,n,r,i=function(){e=function(){r=!0,t&&t(!0)},n=function(){r=!1,t&&t(!1)},null===ri.w||void 0===ri.w||ri.w.addEventListener("keyboardWillShow",e),null===ri.w||void 0===ri.w||ri.w.addEventListener("keyboardWillHide",n)};return i(),{init:i,destroy:function(){null===ri.w||void 0===ri.w||ri.w.removeEventListener("keyboardWillShow",e),null===ri.w||void 0===ri.w||ri.w.removeEventListener("keyboardWillHide",n),e=n=void 0},isKeyboardVisible:function(){return r}}},oi=function(t,e){(0,gt.wj)((function(){var n=t.scrollTop-(t.scrollHeight-t.clientHeight-10),r=(0,Ft.e)(0,1-n/10,1);(0,gt.Iu)((function(){e.style.setProperty("--opacity-scale",r.toString())}))}))},ai=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.keyboardCtrl=null,t.keyboardVisible=!1,t.translucent=!1,t.checkCollapsibleFooter=function(){if("ios"===zt((0,ut.Z)(t))){var e="fade"===(0,ut.Z)(t).collapse;if(t.destroyCollapsibleFooter(),e){var n=t.el.closest("ion-app,ion-page,.ion-page,page-inner"),r=n?(0,ni.f)(n):null;if(!r)return void(0,ni.p)(t.el);t.setupFadeFooter(r)}}},t.setupFadeFooter=function(){var e=(0,ct.Z)((0,lt.Z)().mark((function e(n){var r;return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ni.g)(n);case 2:r=t.scrollEl=e.sent,t.contentScrollCallback=function(){oi(r,t.el)},r.addEventListener("scroll",t.contentScrollCallback),oi(r,t.el);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return(0,pt.Z)(n,[{key:"componentDidLoad",value:function(){this.checkCollapsibleFooter()}},{key:"componentDidUpdate",value:function(){this.checkCollapsibleFooter()}},{key:"connectedCallback",value:function(){var t=this;this.keyboardCtrl=ii((function(e){t.keyboardVisible=e}))}},{key:"disconnectedCallback",value:function(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}},{key:"destroyCollapsibleFooter",value:function(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}},{key:"render",value:function(){var t,e=this.translucent,n=this.collapse,r=zt(this),i=this.el.closest("ion-tabs"),o=null===i||void 0===i?void 0:i.querySelector(":scope > ion-tab-bar");return(0,gt.h)(gt.AA,{role:"contentinfo",class:(t={},(0,st.Z)(t,r,!0),(0,st.Z)(t,"footer-".concat(r),!0),(0,st.Z)(t,"footer-translucent",e),(0,st.Z)(t,"footer-translucent-".concat(r),e),(0,st.Z)(t,"footer-toolbar-padding",!this.keyboardVisible&&(!o||"bottom"!==o.slot)),(0,st.Z)(t,"footer-collapse-".concat(n),void 0!==n),t)},"ios"===r&&e&&(0,gt.h)("div",{class:"footer-background"}),(0,gt.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:"ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",md:'ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md::before{left:0;top:-2px;bottom:auto;background-position:left 0 top 0;position:absolute;width:100%;height:2px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==");background-repeat:repeat-x;content:""}[dir=rtl] .footer-md::before,:host-context([dir=rtl]) .footer-md::before{left:unset;right:unset;right:0}[dir=rtl] .footer-md::before,:host-context([dir=rtl]) .footer-md::before{background-position:right 0 top 0}.footer-md.ion-no-border::before{display:none}'}}}]),n}(gt.mv),[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);var si=function(){if("undefined"!==typeof customElements){["ion-footer"].forEach((function(t){if("ion-footer"===t)customElements.get(t)||customElements.define(t,ai)}))}},li=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.fixed=!1,t}return(0,pt.Z)(n,[{key:"render",value:function(){var t,e=zt(this);return(0,gt.h)(gt.AA,{class:(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"grid-fixed",this.fixed),t)},(0,gt.h)("slot",null))}}],[{key:"style",get:function(){return":host{padding-left:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));margin-left:auto;margin-right:auto;display:block;-ms-flex:1;flex:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px))}}@media (min-width: 576px){:host{padding-left:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}}@media (min-width: 768px){:host{padding-left:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}}@media (min-width: 992px){:host{padding-left:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}}@media (min-width: 1200px){:host{padding-left:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}"}}]),n}(gt.mv),[1,"ion-grid",{fixed:[4]}]);var ci=function(){if("undefined"!==typeof customElements){["ion-grid"].forEach((function(t){if("ion-grid"===t)customElements.get(t)||customElements.define(t,li)}))}},ui="all 0.2s ease-in-out",di=function(t){var e=document.querySelector("".concat(t,".ion-cloned-element"));if(null!==e)return e;var n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},fi=function(t){if(t){var e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map((function(t){var e=t.querySelector("ion-title");return{el:t,background:t.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:e,innerTitleEl:e?e.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(t.querySelectorAll("ion-buttons"))||[]}}))||[]}}},hi=function(t,e,n){(0,gt.wj)((function(){var r=t.scrollTop,i=(0,Ft.e)(1,1+-r/500,1.1);null===n.querySelector("ion-refresher.refresher-native")&&(0,gt.Iu)((function(){vi(e.toolbars,i)}))}))},pi=function(t,e){"fade"!==t.collapse&&(void 0===e?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},gi=function(t,e,n,r){(0,gt.Iu)((function(){var i=r.scrollTop;!function(t,e,n){if(t[0].isIntersecting){var r=t[0].intersectionRatio>.9||n<=0?0:100*(1-t[0].intersectionRatio)/75;pi(e.el,1===r?void 0:r)}}(t,e,i);var o=t[0],a=o.intersectionRect,s=a.width*a.height,l=o.rootBounds.width*o.rootBounds.height,c=0===s&&0===l,u=Math.abs(a.left-o.boundingClientRect.left),d=Math.abs(a.right-o.boundingClientRect.right);c||s>0&&(u>=5||d>=5)||(o.isIntersecting?(mi(e,!1),mi(n)):(0===a.x&&0===a.y||0!==a.width&&0!==a.height)&&i>0&&(mi(e),mi(n,!1),pi(e.el)))}))},mi=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.el;e?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},vi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var r=t.ionTitleEl,i=t.innerTitleEl;r&&"large"===r.size&&(i.style.transition=n?ui:"",i.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))}))},yi=function(t,e,n){(0,gt.wj)((function(){var r=t.scrollTop,i=e.clientHeight,o=n?n.clientHeight:0;if(null!==n&&r<o)return e.style.setProperty("--opacity-scale","0"),void t.style.setProperty("clip-path","inset(".concat(i,"px 0px 0px 0px)"));var a=r-o,s=(0,Ft.e)(0,a/10,1);(0,gt.Iu)((function(){t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",s.toString())}))}))},bi=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.inheritedAttributes={},t.translucent=!1,t.setupFadeHeader=function(){var e=(0,ct.Z)((0,lt.Z)().mark((function e(n,r){var i;return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ni.g)(n);case 2:i=t.scrollEl=e.sent,t.contentScrollCallback=function(){yi(t.scrollEl,t.el,r)},i.addEventListener("scroll",t.contentScrollCallback),yi(t.scrollEl,t.el,r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t}return(0,pt.Z)(n,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=(0,Ft.i)(this.el)}},{key:"componentDidLoad",value:function(){this.checkCollapsibleHeader()}},{key:"componentDidUpdate",value:function(){this.checkCollapsibleHeader()}},{key:"disconnectedCallback",value:function(){this.destroyCollapsibleHeader()}},{key:"checkCollapsibleHeader",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n,r,i,o,a,s,l;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ios"===zt(this)){t.next=3;break}return t.abrupt("return");case 3:if(e=this.collapse,n="condense"===e,r="fade"===e,this.destroyCollapsibleHeader(),!n){t.next=15;break}return i=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=i?(0,ni.f)(i):null,(0,gt.Iu)((function(){di("ion-title").size="large",di("ion-back-button")})),t.next=13,this.setupCondenseHeader(o,i);case 13:t.next=24;break;case 15:if(!r){t.next=24;break}if(a=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=a?(0,ni.f)(a):null){t.next=21;break}return(0,ni.p)(this.el),t.abrupt("return");case 21:return l=s.querySelector('ion-header[collapse="condense"]'),t.next=24,this.setupFadeHeader(s,l);case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"destroyCollapsibleHeader",value:function(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}},{key:"setupCondenseHeader",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r,i,o,a,s=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&n){t.next=3;break}return(0,ni.p)(this.el),t.abrupt("return");case 3:if("undefined"!==typeof IntersectionObserver){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,(0,ni.g)(e);case 7:if(this.scrollEl=t.sent,r=n.querySelectorAll("ion-header"),this.collapsibleMainHeader=Array.from(r).find((function(t){return"condense"!==t.collapse})),this.collapsibleMainHeader){t.next=12;break}return t.abrupt("return");case 12:if(i=fi(this.collapsibleMainHeader),o=fi(this.el),i&&o){t.next=16;break}return t.abrupt("return");case 16:mi(i,!1),pi(i.el,0),a=function(t){gi(t,i,o,s.scrollEl)},this.intersectionObserver=new IntersectionObserver(a,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=function(){hi(s.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),(0,gt.Iu)((function(){void 0!==s.collapsibleMainHeader&&s.collapsibleMainHeader.classList.add("header-collapse-main")}));case 24:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t,e=this.translucent,n=this.inheritedAttributes,r=zt(this),i=this.collapse||"none",o=$e("ion-menu",this.el)?"none":"banner";return(0,gt.h)(gt.AA,Object.assign({role:o,class:(t={},(0,st.Z)(t,r,!0),(0,st.Z)(t,"header-".concat(r),!0),(0,st.Z)(t,"header-translucent",this.translucent),(0,st.Z)(t,"header-collapse-".concat(i),!0),(0,st.Z)(t,"header-translucent-".concat(r),this.translucent),t)},n),"ios"===r&&e&&(0,gt.h)("div",{class:"header-background"}),(0,gt.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",md:'ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md::after{left:0;bottom:-5px;background-position:left 0 top -2px;position:absolute;width:100%;height:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==);background-repeat:repeat-x;content:""}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{left:unset;right:unset;right:0}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{background-position:right 0 top -2px}.header-collapse-condense{display:none}.header-md.ion-no-border::after{display:none}'}}}]),n}(gt.mv),[36,"ion-header",{collapse:[1],translucent:[4]}]);var xi=function(){if("undefined"!==typeof customElements){["ion-header"].forEach((function(t){if("ion-header"===t)customElements.get(t)||customElements.define(t,bi)}))}},wi=(gt.mv,function(t){switch(t){case"true":return!0;case"false":return!1;default:return}});gt.mv;var ki=function(t){try{if(t instanceof Ci)return t.value;if(!Ti()||"string"!==typeof t||""===t)return t;var e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,Ei.forEach((function(t){for(var n=e.querySelectorAll(t),r=n.length-1;r>=0;r--){var i=n[r];i.parentNode?i.parentNode.removeChild(i):e.removeChild(i);for(var o=Ai(i),a=0;a<o.length;a++)_i(o[a])}}));for(var r=Ai(e),i=0;i<r.length;i++)_i(r[i]);var o=document.createElement("div");o.appendChild(e);var a=o.querySelector("div");return null!==a?a.innerHTML:o.innerHTML}catch(s){return console.error(s),""}},_i=function t(e){if(!e.nodeType||1===e.nodeType){for(var n=e.attributes.length-1;n>=0;n--){var r=e.attributes.item(n),i=r.name;if(Mi.includes(i.toLowerCase())){var o=r.value;null!=o&&o.toLowerCase().includes("javascript:")&&e.removeAttribute(i)}else e.removeAttribute(i)}for(var a=Ai(e),s=0;s<a.length;s++)t(a[s])}},Ai=function(t){return null!=t.children?t.children:t.childNodes},Ti=function(){var t,e=window,n=null===(t=null===e||void 0===e?void 0:e.Ionic)||void 0===t?void 0:t.config;return!n||(n.get?n.get("sanitizerEnabled",!0):!0===n.sanitizerEnabled||void 0===n.sanitizerEnabled)},Mi=["class","id","href","src","name","slot"],Ei=["script","style","iframe","meta","link","object","embed"],Ci=(0,pt.Z)((function t(e){(0,ht.Z)(this,t),this.value=e})),Si={bubbles:{dur:1e3,circles:9,fn:function(t,e,n){var r="".concat(t*e/n-t,"ms"),i=2*Math.PI*e/n;return{r:5,style:{top:"".concat(9*Math.sin(i),"px"),left:"".concat(9*Math.cos(i),"px"),"animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:function(t,e,n){var r=e/n,i="".concat(t*r-t,"ms"),o=2*Math.PI*r;return{r:5,style:{top:"".concat(9*Math.sin(o),"px"),left:"".concat(9*Math.cos(o),"px"),"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(t,e){var n=-110*e+"ms";return{r:6,style:{left:"".concat(9-9*e,"px"),"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:function(t,e,n){return{y1:14,y2:26,style:{transform:"rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),"animation-delay":"".concat(t*e/n-t,"ms")}}}},"lines-small":{dur:1e3,lines:8,fn:function(t,e,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),"animation-delay":"".concat(t*e/n-t,"ms")}}}},"lines-sharp":{dur:1e3,lines:12,fn:function(t,e,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*e+(e<6?180:-180),"deg)"),"animation-delay":"".concat(t*e/n-t,"ms")}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:function(t,e,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*e+(e<6?180:-180),"deg)"),"animation-delay":"".concat(t*e/n-t,"ms")}}}}},Oi=Si,Li=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.paused=!1,t}return(0,pt.Z)(n,[{key:"getName",value:function(){var t=this.name||vt.get("spinner"),e=zt(this);return t||("ios"===e?"lines":"circular")}},{key:"render",value:function(){var t,e=this,n=zt(e),r=e.getName(),i=Oi[r]||Oi.lines,o="number"===typeof e.duration&&e.duration>10?e.duration:i.dur,a=[];if(void 0!==i.circles)for(var s=0;s<i.circles;s++)a.push(Pi(i,o,s,i.circles));else if(void 0!==i.lines)for(var l=0;l<i.lines;l++)a.push(Di(i,o,l,i.lines));return(0,gt.h)(gt.AA,{class:Ze(e.color,(t={},(0,st.Z)(t,n,!0),(0,st.Z)(t,"spinner-".concat(r),!0),(0,st.Z)(t,"spinner-paused",e.paused||vt.getBoolean("_testing")),t)),role:"progressbar",style:i.elmDuration?{animationDuration:o+"ms"}:{}},a)}}],[{key:"style",get:function(){return":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}[dir=rtl] svg,:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}"}}]),n}(gt.mv),[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),Pi=function(t,e,n,r){var i=t.fn(e,n,r);return i.style["animation-duration"]=e+"ms",(0,gt.h)("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},(0,gt.h)("circle",{transform:i.transform||"translate(32,32)",cx:i.cx,cy:i.cy,r:i.r,style:t.elmDuration?{animationDuration:e+"ms"}:{}}))},Di=function(t,e,n,r){var i=t.fn(e,n,r);return i.style["animation-duration"]=e+"ms",(0,gt.h)("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},(0,gt.h)("line",{transform:"translate(32,32)",y1:i.y1,y2:i.y2}))};function Ri(){if("undefined"!==typeof customElements){["ion-spinner"].forEach((function(t){if("ion-spinner"===t)customElements.get(t)||customElements.define(t,Li)}))}}gt.mv;gt.mv;var Ii=0;gt.mv;gt.mv;gt.mv;gt.mv;var zi,Ni=function(t,e,n){return!e&&n||t&&e};var Bi=br,Fi=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.inset=!1,t}return(0,pt.Z)(n,[{key:"closeSlidingItems",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(e=this.el.querySelector("ion-item-sliding"))||void 0===e?void 0:e.closeOpened)){t.next=3;break}return t.abrupt("return",e.closeOpened());case 3:return t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t,e=zt(this),n=this.lines,r=this.inset;return(0,gt.h)(gt.AA,{role:"list",class:(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"list-".concat(e),!0),(0,st.Z)(t,"list-inset",r),(0,st.Z)(t,"list-lines-".concat(n),void 0!==n),(0,st.Z)(t,"list-".concat(e,"-lines-").concat(n),void 0!==n),t)})}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{margin-left:16px;margin-right:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.list-ios.list-inset{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px}}.list-ios.list-inset ion-item{--border-width:0 0 1px 0;--inner-border-width:0}.list-ios.list-inset ion-item:last-child{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item{--border-width:0;--inner-border-width:0}.list-ios-lines-full .item,.list-ios .item-lines-full{--border-width:0 0 0.55px 0}.list-ios-lines-full .item{--inner-border-width:0}.list-ios-lines-inset .item,.list-ios .item-lines-inset{--inner-border-width:0 0 0.55px 0}.list-ios .item-lines-inset{--border-width:0}.list-ios .item-lines-full{--inner-border-width:0}.list-ios .item-lines-none{--border-width:0;--inner-border-width:0}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",md:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{left:0}[dir=rtl] .list-md>.input:last-child::after,:host-context([dir=rtl]) .list-md>.input:last-child::after{left:unset;right:unset;right:0}.list-md.list-inset{margin-left:16px;margin-right:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.list-md.list-inset{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px}}.list-md.list-inset ion-item:first-child{--border-radius:2px 2px 0 0;--border-width:0 0 1px 0}.list-md.list-inset ion-item:last-child{--border-radius:0 0 2px, 2px;--border-width:0}.list-md.list-inset .item-interactive{--padding-start:0;--padding-end:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item{--border-width:0;--inner-border-width:0}.list-md-lines-full .item,.list-md .item-lines-full{--border-width:0 0 1px 0}.list-md-lines-full .item{--inner-border-width:0}.list-md-lines-inset .item,.list-md .item-lines-inset{--inner-border-width:0 0 1px 0}.list-md .item-lines-inset{--border-width:0}.list-md .item-lines-full{--inner-border-width:0}.list-md .item-lines-none{--border-width:0;--inner-border-width:0}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}"}}}]),n}(gt.mv),[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function ji(){if("undefined"!==typeof customElements){["ion-list"].forEach((function(t){if("ion-list"===t)customElements.get(t)||customElements.define(t,Fi)}))}}var $i=ji,Zi=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t}return(0,pt.Z)(n,[{key:"render",value:function(){var t,e=this.lines,n=zt(this);return(0,gt.h)(gt.AA,{class:Ze(this.color,(t={},(0,st.Z)(t,n,!0),(0,st.Z)(t,"list-header-lines-".concat(e),void 0!==e),t))},(0,gt.h)("div",{class:"list-header-inner"},(0,gt.h)("slot",null)))}}],[{key:"style",get:function(){return{ios:":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, #262626);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));padding-left:calc(var(--ion-safe-area-left, 0px) + 20px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:22px;font-weight:700;letter-spacing:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;-webkit-padding-start:calc(var(--ion-safe-area-left, 0px) + 20px);padding-inline-start:calc(var(--ion-safe-area-left, 0px) + 20px)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){margin-left:3px;margin-right:3px;height:1.4em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-button){margin-left:unset;margin-right:unset;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px}}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",md:":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));padding-left:calc(var(--ion-safe-area-left, 0) + 16px);min-height:45px;font-size:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;-webkit-padding-start:calc(var(--ion-safe-area-left, 0) + 16px);padding-inline-start:calc(var(--ion-safe-area-left, 0) + 16px)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}"}}}]),n}(gt.mv),[33,"ion-list-header",{color:[513],lines:[1]}]);function Ui(){if("undefined"!==typeof customElements){["ion-list-header"].forEach((function(t){if("ion-list-header"===t)customElements.get(t)||customElements.define(t,Zi)}))}}var Hi=function(t,e,n,r,i){return Wi(t[1],e[1],n[1],r[1],i).map((function(i){return Vi(t[0],e[0],n[0],r[0],i)}))},Vi=function(t,e,n,r,i){return i*(3*e*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-t*Math.pow(i-1,3)},Wi=function(t,e,n,r,i){return Yi((r-=i)-3*(n-=i)+3*(e-=i)-(t-=i),3*n-6*e+3*t,3*e-3*t,t).filter((function(t){return t>=0&&t<=1}))},Yi=function(t,e,n,r){if(0===t)return function(t,e,n){var r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]}(e,n,r);var i=(3*(n/=t)-(e/=t)*e)/3,o=(2*e*e*e-9*e*n+27*(r/=t))/27;if(0===i)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-i),-Math.sqrt(-i)];var a=Math.pow(o/2,2)+Math.pow(i/3,3);if(0===a)return[Math.pow(o/2,.5)-e/3];if(a>0)return[Math.pow(-o/2+Math.sqrt(a),1/3)-Math.pow(o/2+Math.sqrt(a),1/3)-e/3];var s=Math.sqrt(Math.pow(-i/3,3)),l=Math.acos(-o/(2*Math.sqrt(Math.pow(-i/3,3)))),c=2*Math.pow(s,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]},Gi=function(t){return(0,pe.c)().duration(t?400:300)},qi=function(t){var e,n,r=t.width+8,i=(0,pe.c)(),o=(0,pe.c)();t.isEndSide?(e=r+"px",n="0px"):(e=-r+"px",n="0px"),i.addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(n,")"));var a="ios"===zt(t),s=a?.2:.25;return o.addElement(t.backdropEl).fromTo("opacity",.01,s),Gi(a).addAnimation([i,o])},Xi=function(t){var e,n,r=zt(t),i=t.width;t.isEndSide?(e=-i+"px",n=i+"px"):(e=i+"px",n=-i+"px");var o=(0,pe.c)().addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),a=(0,pe.c)().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),s=(0,pe.c)().addElement(t.backdropEl).fromTo("opacity",.01,.32);return Gi("ios"===r).addAnimation([o,a,s])},Ji=function(t){var e=zt(t),n=t.width*(t.isEndSide?-1:1)+"px",r=(0,pe.c)().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return Gi("ios"===e).addAnimation(r)},Ki=function(){var t=new Map,e=[],n=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n.open());case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,void 0!==e?c(e):u();case 2:if(void 0===(n=t.sent)){t.next=5;break}return t.abrupt("return",n.close());case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n.toggle());case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(n);case 2:return(r=t.sent)&&(r.disabled=!e),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),a=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(n);case 2:return(r=t.sent)&&(r.swipeGesture=e),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),s=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=7;break}return t.next=3,c(e);case 3:return n=t.sent,t.abrupt("return",void 0!==n&&n.isOpen());case 7:return t.next=9,u();case 9:return r=t.sent,t.abrupt("return",void 0!==r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",!n.disabled);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(n){var r,i;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:if("start"!==n&&"end"!==n){t.next=9;break}if(!(r=b((function(t){return t.side===n&&!t.disabled})))){t.next=6;break}return t.abrupt("return",r);case 6:return t.abrupt("return",b((function(t){return t.side===n})));case 9:if(null==n){t.next=11;break}return t.abrupt("return",b((function(t){return t.menuId===n})));case 11:if(!(i=b((function(t){return!t.disabled})))){t.next=14;break}return t.abrupt("return",i);case 14:return t.abrupt("return",e.length>0?e[0].el:void 0);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:return t.abrupt("return",m());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:return t.abrupt("return",v());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:return t.abrupt("return",y());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(e,n){t.set(e,n)},p=function(t){var n=t.side;e.filter((function(e){return e.side===n&&e!==t})).forEach((function(t){return t.disabled=!0}))},g=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r){var i;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y()){t.next=2;break}return t.abrupt("return",!1);case 2:if(!n){t.next=9;break}return t.next=5,u();case 5:if(!(i=t.sent)||e.el===i){t.next=9;break}return t.next=9,i.setOpen(!1,!1);case 9:return t.abrupt("return",e._setOpen(n,r));case 10:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),m=function(){return b((function(t){return t._isOpen}))},v=function(){return e.map((function(t){return t.el}))},y=function(){return e.some((function(t){return t.isAnimating}))},b=function(t){var n=e.find(t);if(void 0!==n)return n.el},x=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((function(t){return new Promise((function(e){return(0,Ft.c)(t,e)}))})))};return h("reveal",Ji),h("push",Xi),h("overlay",qi),"undefined"!==typeof document&&document.addEventListener("ionBackButton",(function(t){var e=m();e&&t.detail.register(Bt.MENU_BACK_BUTTON_PRIORITY,(function(){return e.close()}))})),{registerAnimation:h,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:a,isAnimating:f,isOpen:s,enable:o,toggle:i,close:r,open:n,_getOpenSync:m,_createAnimation:function(e,n){var r=t.get(e);if(!r)throw new Error("animation not registered");return r(n)},_register:function(t){e.indexOf(t)<0&&(t.disabled||p(t),e.push(t))},_unregister:function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},_setOpen:g,_setActiveMenu:p}},Qi=Ki(),to='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',eo=(gt.mv,function(t,e,n){return Math.max(0,e!==n?-t:t)}),no=function(t,e,n,r){return n?e>=t.innerWidth-r:e<=r},ro="show-menu",io="show-backdrop",oo="menu-content-open";var ao=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qi.get(e);case 2:if(n=t.sent,t.t0=n,!t.t0){t.next=8;break}return t.next=7,n.isActive();case 7:t.t0=t.sent;case 8:return t.abrupt("return",!!t.t0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();gt.mv;gt.mv;var so=function(){function t(e,n){(0,ht.Z)(this,t),this.component=e,this.params=n,this.state=1}return(0,pt.Z)(t,[{key:"init",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state=2,this.element){t.next=6;break}return n=this.component,t.next=5,Mr(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params);case 5:this.element=t.sent;case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_destroy",value:function(){(0,Ft.m)(3!==this.state,"view state must be ATTACHED");var t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=3}}]),t}(),lo=function(t,e,n){return!!t&&(t.component===e&&(0,Ft.s)(t.params,n))},co=function(t,e){return t?t instanceof so?t:new so(t,e):null},uo=(0,gt.GH)(function(t){(0,dt.Z)(r,t);var e=(0,ft.Z)(r);function r(){var t;return(0,ht.Z)(this,r),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionNavWillLoad=(0,gt.yM)((0,ut.Z)(t),"ionNavWillLoad",7),t.ionNavWillChange=(0,gt.yM)((0,ut.Z)(t),"ionNavWillChange",3),t.ionNavDidChange=(0,gt.yM)((0,ut.Z)(t),"ionNavDidChange",3),t.transInstr=[],t.animationEnabled=!0,t.useRouter=!1,t.isTransitioning=!1,t.destroyed=!1,t.views=[],t.animated=!0,t}return(0,pt.Z)(r,[{key:"swipeGestureChanged",value:function(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}},{key:"rootChanged",value:function(){var t=gt.Z5.isDev;void 0!==this.root&&(this.useRouter?t&&console.warn("<ion-nav> does not support a root attribute when using ion-router."):this.setRoot(this.root,this.rootParams))}},{key:"componentWillLoad",value:function(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){var t=zt(this);this.swipeGesture=vt.getBoolean("swipeBackEnabled","ios"===t)}this.ionNavWillLoad.emit()}},{key:"componentDidLoad",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.rootChanged(),t.next=3,n.e(22).then(n.bind(n,5022));case 3:this.gesture=t.sent.createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"connectedCallback",value:function(){this.destroyed=!1}},{key:"disconnectedCallback",value:function(){var t,e=(0,Ne.Z)(this.views);try{for(e.s();!(t=e.n()).done;){var n=t.value;(0,Sr.l)(n.element,Sr.d),n._destroy()}}catch(r){e.e(r)}finally{e.f()}this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}},{key:"push",value:function(t,e,n,r){return this.insert(-1,t,e,n,r)}},{key:"insert",value:function(t,e,n,r,i){return this.insertPages(t,[{component:e,componentProps:n}],r,i)}},{key:"insertPages",value:function(t,e,n,r){return this.queueTrns({insertStart:t,insertViews:e,opts:n},r)}},{key:"pop",value:function(t,e){return this.removeIndex(-1,1,t,e)}},{key:"popTo",value:function(t,e,n){var r={removeStart:-1,removeCount:-1,opts:e};return"object"===typeof t&&t.component?(r.removeView=t,r.removeStart=1):"number"===typeof t&&(r.removeStart=t+1),this.queueTrns(r,n)}},{key:"popToRoot",value:function(t,e){return this.removeIndex(1,-1,t,e)}},{key:"removeIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return this.queueTrns({removeStart:t,removeCount:e,opts:n},r)}},{key:"setRoot",value:function(t,e,n,r){return this.setPages([{component:t,componentProps:e}],n,r)}},{key:"setPages",value:function(t,e,n){return null!==e&&void 0!==e||(e={}),!0!==e.animated&&(e.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:e},n)}},{key:"setRouteId",value:function(t,e,n,r){var i,o=this.getActiveSync();if(lo(o,t,e))return Promise.resolve({changed:!1,element:o.element});var a,s=new Promise((function(t){return i=t})),l={updateURL:!1,viewIsReady:function(t){var e,n=new Promise((function(t){return e=t}));return i({changed:!0,element:t,markVisible:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(),t.next=3,a;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),n}};if("root"===n)a=this.setRoot(t,e,l);else{var c=this.views.find((function(n){return lo(n,t,e)}));c?a=this.popTo(c,Object.assign(Object.assign({},l),{direction:"back",animationBuilder:r})):"forward"===n?a=this.push(t,e,Object.assign(Object.assign({},l),{animationBuilder:r})):"back"===n&&(a=this.setRoot(t,e,Object.assign(Object.assign({},l),{direction:"back",animated:!0,animationBuilder:r})))}return s}},{key:"getRouteId",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.getActiveSync())){t.next=3;break}return t.abrupt("return",{id:e.element.tagName,params:e.params,element:e.element});case 3:return t.abrupt("return",void 0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getActive",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getActiveSync());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getByIndex",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.views[e]);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"canGoBack",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.canGoBackSync(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getPrevious",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getPreviousSync(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getLength",value:function(){return this.views.length}},{key:"getActiveSync",value:function(){return this.views[this.views.length-1]}},{key:"canGoBackSync",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getActiveSync();return!(!t||!this.getPreviousSync(t))}},{key:"getPreviousSync",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getActiveSync();if(t){var e=this.views,n=e.indexOf(t);return n>0?e[n-1]:void 0}}},{key:"queueTrns",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r,i,o,a,s;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTransitioning||!(null===(r=e.opts)||void 0===r?void 0:r.skipIfBusy)){t.next=2;break}return t.abrupt("return",!1);case 2:if(o=new Promise((function(t,n){e.resolve=t,e.reject=n})),e.done=n,!e.opts||!1===e.opts.updateURL||!this.useRouter){t.next=15;break}if(!(a=document.querySelector("ion-router"))){t.next=15;break}return t.next=9,a.canTransition();case 9:if(!1!==(s=t.sent)){t.next=12;break}return t.abrupt("return",!1);case 12:if("string"!==typeof s){t.next=15;break}return a.push(s,e.opts.direction||"back"),t.abrupt("return",!1);case 15:return 0===(null===(i=e.insertViews)||void 0===i?void 0:i.length)&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),t.abrupt("return",o);case 19:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"success",value:function(t,e){if(this.destroyed)this.fireError("nav controller was destroyed",e);else if(e.done&&e.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),e.resolve(t.hasCompleted),!1!==e.opts.updateURL&&this.useRouter){var n=document.querySelector("ion-router");if(n){var r="back"===t.direction?"back":"forward";n.navChanged(r)}}}},{key:"failed",value:function(t,e){this.destroyed?this.fireError("nav controller was destroyed",e):(this.transInstr.length=0,this.fireError(t,e))}},{key:"fireError",value:function(t,e){e.done&&e.done(!1,!1,t),e.reject&&!this.destroyed?e.reject(t):e.resolve(!1)}},{key:"nextTrns",value:function(){if(this.isTransitioning)return!1;var t=this.transInstr.shift();return!!t&&(this.runTransition(t),!0)}},{key:"runTransition",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r,i,o;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e),n=this.getActiveSync(),r=this.getEnteringView(e,n),n||r){t.next=8;break}throw new Error("no views in the stack to be removed");case 8:if(!r||1!==r.state){t.next=11;break}return t.next=11,r.init(this.el);case 11:if(this.postViewInit(r,n,e),(i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==n)&&e.opts&&n&&("back"===e.opts.direction&&(e.opts.animationBuilder=e.opts.animationBuilder||(null===r||void 0===r?void 0:r.animationBuilder)),n.animationBuilder=e.opts.animationBuilder),!i){t.next=20;break}return t.next=17,this.transition(r,n,e);case 17:o=t.sent,t.next=21;break;case 20:o={hasCompleted:!0,requiresTransition:!1};case 21:this.success(o,e),this.ionNavDidChange.emit(),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(0),this.failed(t.t0,e);case 28:this.isTransitioning=!1,this.nextTrns();case 30:case"end":return t.stop()}}),t,this,[[0,25]])})));return function(e){return t.apply(this,arguments)}}()},{key:"prepareTI",value:function(t){var e,n,r,i=this.views.length;if(null!==(e=t.opts)&&void 0!==e||(t.opts={}),null!==(n=(r=t.opts).delegate)&&void 0!==n||(r.delegate=this.delegate),void 0!==t.removeView){(0,Ft.m)(void 0!==t.removeStart,"removeView needs removeStart"),(0,Ft.m)(void 0!==t.removeCount,"removeView needs removeCount");var o=this.views.indexOf(t.removeView);if(o<0)throw new Error("removeView was not found");t.removeStart+=o}void 0!==t.removeStart&&(t.removeStart<0&&(t.removeStart=i-1),t.removeCount<0&&(t.removeCount=i-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===i),t.insertViews&&((t.insertStart<0||t.insertStart>i)&&(t.insertStart=i),t.enteringRequiresTransition=t.insertStart===i);var a=t.insertViews;if(a){(0,Ft.m)(a.length>0,"length can not be zero");var s=a.map((function(t){return t instanceof so?t:"component"in t?co(t.component,null===t.componentProps?void 0:t.componentProps):co(t,void 0)})).filter((function(t){return null!==t}));if(0===s.length)throw new Error("invalid views to insert");var l,c=(0,Ne.Z)(s);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.delegate=t.opts.delegate;var d=u.nav;if(d&&d!==this)throw new Error("inserted view was already inserted");if(3===u.state)throw new Error("inserted view was already destroyed")}}catch(f){c.e(f)}finally{c.f()}t.insertViews=s}}},{key:"getEnteringView",value:function(t,e){var n=t.insertViews;if(void 0!==n)return n[n.length-1];var r=t.removeStart;if(void 0!==r)for(var i=this.views,o=r+t.removeCount,a=i.length-1;a>=0;a--){var s=i[a];if((a<r||a>=o)&&s!==e)return s}}},{key:"postViewInit",value:function(t,e,n){var r,i,o;(0,Ft.m)(e||t,"Both leavingView and enteringView are null"),(0,Ft.m)(n.resolve,"resolve must be valid"),(0,Ft.m)(n.reject,"reject must be valid");var a,s=n.opts,l=n.insertViews,c=n.removeStart,u=n.removeCount;if(void 0!==c&&void 0!==u){(0,Ft.m)(c>=0,"removeStart can not be negative"),(0,Ft.m)(u>=0,"removeCount can not be negative"),a=[];for(var d=c;d<c+u;d++){var f=this.views[d];f&&f!==t&&f!==e&&a.push(f)}null!==(r=s.direction)&&void 0!==r||(s.direction="back")}var h=this.views.length+(null!==(i=null===l||void 0===l?void 0:l.length)&&void 0!==i?i:0)-(null!==u&&void 0!==u?u:0);if((0,Ft.m)(h>=0,"final balance can not be negative"),0===h)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){var p,g=n.insertStart,m=(0,Ne.Z)(l);try{for(m.s();!(p=m.n()).done;){var v=p.value;this.insertViewAt(v,g),g++}}catch(A){m.e(A)}finally{m.f()}n.enteringRequiresTransition&&(null!==(o=s.direction)&&void 0!==o||(s.direction="forward"))}if(a&&a.length>0){var y,b=(0,Ne.Z)(a);try{for(b.s();!(y=b.n()).done;){var x=y.value;(0,Sr.l)(x.element,Sr.b),(0,Sr.l)(x.element,Sr.c),(0,Sr.l)(x.element,Sr.d)}}catch(A){b.e(A)}finally{b.f()}var w,k=(0,Ne.Z)(a);try{for(k.s();!(w=k.n()).done;){var _=w.value;this.destroyView(_)}}catch(A){k.e(A)}finally{k.f()}}}},{key:"transition",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r){var i,o,a,s,l,c,u,d,f=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.opts,o=i.progressAnimation?function(t){return f.sbAni=t}:void 0,a=zt(this),s=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:a,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&vt.getBoolean("animated",!0),enteringEl:s,leavingEl:l},i),{animationBuilder:i.animationBuilder||this.animation||vt.get("navAnimation")}),t.next=8,(0,Sr.t)(c);case 8:return u=t.sent,d=u.hasCompleted,t.abrupt("return",this.transitionFinish(d,e,n,i));case 11:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"transitionFinish",value:function(t,e,n,r){var i=t?e:n;return i&&this.unmountInactiveViews(i),{hasCompleted:t,requiresTransition:!0,enteringView:e,leavingView:n,direction:r.direction}}},{key:"insertViewAt",value:function(t,e){var n=this.views,r=n.indexOf(t);r>-1?((0,Ft.m)(t.nav===this,"view is not part of the nav"),n.splice(r,1),n.splice(e,0,t)):((0,Ft.m)(!t.nav,"nav is used"),t.nav=this,n.splice(e,0,t))}},{key:"removeView",value:function(t){(0,Ft.m)(2===t.state||3===t.state,"view state should be loaded or destroyed");var e=this.views,n=e.indexOf(t);(0,Ft.m)(n>-1,"view must be part of the stack"),n>=0&&e.splice(n,1)}},{key:"destroyView",value:function(t){t._destroy(),this.removeView(t)}},{key:"unmountInactiveViews",value:function(t){if(!this.destroyed)for(var e=this.views,n=e.indexOf(t),r=e.length-1;r>=0;r--){var i=e[r],o=i.element;o&&(r>n?((0,Sr.l)(o,Sr.d),this.destroyView(i)):r<n&&(0,Sr.s)(o,!0))}}},{key:"canStart",value:function(){return!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.animationEnabled&&this.canGoBackSync()}},{key:"onStart",value:function(){this.pop({direction:"back",progressAnimation:!0})}},{key:"onMove",value:function(t){this.sbAni&&this.sbAni.progressStep(t)}},{key:"onEnd",value:function(t,e,n){var r=this;if(this.sbAni){this.animationEnabled=!1,this.sbAni.onFinish((function(){r.animationEnabled=!0}),{oneTimeCallback:!0});var i=t?-.001:.001;t?i+=Hi([0,0],[.32,.72],[0,1],[1,1],e)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=Hi([0,0],[1,0],[.68,.28],[1,1],e)[0]),this.sbAni.progressEnd(t?1:0,i,n)}}},{key:"render",value:function(){return(0,gt.h)("slot",null)}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}},{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}}]),r}(gt.mv),[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);var fo=function(){if("undefined"!==typeof customElements){["ion-nav"].forEach((function(t){if("ion-nav"===t)customElements.get(t)||customElements.define(t,uo)}))}};gt.mv;var ho=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.type="determinate",t.reversed=!1,t.value=0,t.buffer=1,t}return(0,pt.Z)(n,[{key:"render",value:function(){var t,e=this.color,n=this.type,r=this.reversed,i=this.value,o=this.buffer,a=vt.getBoolean("_testing"),s=zt(this);return(0,gt.h)(gt.AA,{role:"progressbar","aria-valuenow":"determinate"===n?i:null,"aria-valuemin":"0","aria-valuemax":"1",class:Ze(e,(t={},(0,st.Z)(t,s,!0),(0,st.Z)(t,"progress-bar-".concat(n),!0),(0,st.Z)(t,"progress-paused",a),(0,st.Z)(t,"progress-bar-reversed","rtl"===document.dir?!r:r),t))},"indeterminate"===n?po():go(i,o))}}],[{key:"style",get:function(){return{ios:":host{--background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.3);--progress-background:var(--ion-color-primary, #3880ff);--buffer-background:var(--background);display:block;position:relative;width:100%;contain:strict;direction:ltr;overflow:hidden}.progress,.progress-indeterminate,.indeterminate-bar-primary,.indeterminate-bar-secondary,.progress-buffer-bar{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%}.buffer-circles-container,.buffer-circles{left:0;right:0;top:0;bottom:0;position:absolute}.buffer-circles{right:-10px;left:-10px;}.progress,.progress-buffer-bar,.buffer-circles-container{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms linear;transition:-webkit-transform 150ms linear;transition:transform 150ms linear;transition:transform 150ms linear, -webkit-transform 150ms linear}.progress,.progress-indeterminate{background:var(--progress-background);z-index:2}.progress-buffer-bar{background:var(--buffer-background);z-index:1}.buffer-circles-container{overflow:hidden}.indeterminate-bar-primary{top:0;right:0;bottom:0;left:-145.166611%;-webkit-animation:primary-indeterminate-translate 2s infinite linear;animation:primary-indeterminate-translate 2s infinite linear}.indeterminate-bar-primary .progress-indeterminate{-webkit-animation:primary-indeterminate-scale 2s infinite linear;animation:primary-indeterminate-scale 2s infinite linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.indeterminate-bar-secondary{top:0;right:0;bottom:0;left:-54.888891%;-webkit-animation:secondary-indeterminate-translate 2s infinite linear;animation:secondary-indeterminate-translate 2s infinite linear}.indeterminate-bar-secondary .progress-indeterminate{-webkit-animation:secondary-indeterminate-scale 2s infinite linear;animation:secondary-indeterminate-scale 2s infinite linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.buffer-circles{background-image:radial-gradient(ellipse at center, var(--buffer-background) 0%, var(--buffer-background) 30%, transparent 30%);background-repeat:repeat-x;background-position:5px center;background-size:10px 10px;z-index:0;-webkit-animation:buffering 450ms infinite linear;animation:buffering 450ms infinite linear}:host(.progress-bar-reversed){-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.progress-paused) .indeterminate-bar-secondary,:host(.progress-paused) .indeterminate-bar-primary,:host(.progress-paused) .buffer-circles{-webkit-animation-play-state:paused;animation-play-state:paused}:host(.ion-color) .progress-buffer-bar{background:rgba(var(--ion-color-base-rgb), 0.3)}:host(.ion-color) .buffer-circles{background-image:radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%)}:host(.ion-color) .progress,:host(.ion-color) .progress-indeterminate{background:var(--ion-color-base)}@-webkit-keyframes primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}100%{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}@keyframes primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}100%{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}@-webkit-keyframes primary-indeterminate-scale{0%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);-webkit-transform:scaleX(0.661479);transform:scaleX(0.661479)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@keyframes primary-indeterminate-scale{0%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);-webkit-transform:scaleX(0.661479);transform:scaleX(0.661479)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@-webkit-keyframes secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}100%{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}@keyframes secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}100%{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}@-webkit-keyframes secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);-webkit-transform:scaleX(0.457104);transform:scaleX(0.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);-webkit-transform:scaleX(0.72796);transform:scaleX(0.72796)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@keyframes secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);-webkit-transform:scaleX(0.457104);transform:scaleX(0.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);-webkit-transform:scaleX(0.72796);transform:scaleX(0.72796)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@-webkit-keyframes buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}@keyframes buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}:host{height:3px}",md:":host{--background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.3);--progress-background:var(--ion-color-primary, #3880ff);--buffer-background:var(--background);display:block;position:relative;width:100%;contain:strict;direction:ltr;overflow:hidden}.progress,.progress-indeterminate,.indeterminate-bar-primary,.indeterminate-bar-secondary,.progress-buffer-bar{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%}.buffer-circles-container,.buffer-circles{left:0;right:0;top:0;bottom:0;position:absolute}.buffer-circles{right:-10px;left:-10px;}.progress,.progress-buffer-bar,.buffer-circles-container{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms linear;transition:-webkit-transform 150ms linear;transition:transform 150ms linear;transition:transform 150ms linear, -webkit-transform 150ms linear}.progress,.progress-indeterminate{background:var(--progress-background);z-index:2}.progress-buffer-bar{background:var(--buffer-background);z-index:1}.buffer-circles-container{overflow:hidden}.indeterminate-bar-primary{top:0;right:0;bottom:0;left:-145.166611%;-webkit-animation:primary-indeterminate-translate 2s infinite linear;animation:primary-indeterminate-translate 2s infinite linear}.indeterminate-bar-primary .progress-indeterminate{-webkit-animation:primary-indeterminate-scale 2s infinite linear;animation:primary-indeterminate-scale 2s infinite linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.indeterminate-bar-secondary{top:0;right:0;bottom:0;left:-54.888891%;-webkit-animation:secondary-indeterminate-translate 2s infinite linear;animation:secondary-indeterminate-translate 2s infinite linear}.indeterminate-bar-secondary .progress-indeterminate{-webkit-animation:secondary-indeterminate-scale 2s infinite linear;animation:secondary-indeterminate-scale 2s infinite linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.buffer-circles{background-image:radial-gradient(ellipse at center, var(--buffer-background) 0%, var(--buffer-background) 30%, transparent 30%);background-repeat:repeat-x;background-position:5px center;background-size:10px 10px;z-index:0;-webkit-animation:buffering 450ms infinite linear;animation:buffering 450ms infinite linear}:host(.progress-bar-reversed){-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.progress-paused) .indeterminate-bar-secondary,:host(.progress-paused) .indeterminate-bar-primary,:host(.progress-paused) .buffer-circles{-webkit-animation-play-state:paused;animation-play-state:paused}:host(.ion-color) .progress-buffer-bar{background:rgba(var(--ion-color-base-rgb), 0.3)}:host(.ion-color) .buffer-circles{background-image:radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%)}:host(.ion-color) .progress,:host(.ion-color) .progress-indeterminate{background:var(--ion-color-base)}@-webkit-keyframes primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}100%{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}@keyframes primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}100%{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}@-webkit-keyframes primary-indeterminate-scale{0%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);-webkit-transform:scaleX(0.661479);transform:scaleX(0.661479)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@keyframes primary-indeterminate-scale{0%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);-webkit-transform:scaleX(0.661479);transform:scaleX(0.661479)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@-webkit-keyframes secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}100%{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}@keyframes secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}100%{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}@-webkit-keyframes secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);-webkit-transform:scaleX(0.457104);transform:scaleX(0.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);-webkit-transform:scaleX(0.72796);transform:scaleX(0.72796)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@keyframes secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);-webkit-transform:scaleX(0.457104);transform:scaleX(0.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);-webkit-transform:scaleX(0.72796);transform:scaleX(0.72796)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@-webkit-keyframes buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}@keyframes buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}:host{height:4px}"}}}]),n}(gt.mv),[33,"ion-progress-bar",{type:[1],reversed:[4],value:[2],buffer:[2],color:[513]}]),po=function(){return(0,gt.h)("div",{part:"track",class:"progress-buffer-bar"},(0,gt.h)("div",{class:"indeterminate-bar-primary"},(0,gt.h)("span",{part:"progress",class:"progress-indeterminate"})),(0,gt.h)("div",{class:"indeterminate-bar-secondary"},(0,gt.h)("span",{part:"progress",class:"progress-indeterminate"})))},go=function(t,e){var n=(0,Ft.e)(0,t,1),r=(0,Ft.e)(0,e,1);return[(0,gt.h)("div",{part:"progress",class:"progress",style:{transform:"scaleX(".concat(n,")")}}),(0,gt.h)("div",{class:{"buffer-circles-container":!0,"ion-hide":1===r},style:{transform:"translateX(".concat(100*r,"%)")}},(0,gt.h)("div",{class:"buffer-circles-container",style:{transform:"translateX(-".concat(100*r,"%)")}},(0,gt.h)("div",{part:"stream",class:"buffer-circles"}))),(0,gt.h)("div",{part:"track",class:"progress-buffer-bar",style:{transform:"scaleX(".concat(r,")")}})]};var mo=function(){if("undefined"!==typeof customElements){["ion-progress-bar"].forEach((function(t){if("ion-progress-bar"===t)customElements.get(t)||customElements.define(t,ho)}))}},vo=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionStyle=(0,gt.yM)((0,ut.Z)(t),"ionStyle",7),t.ionFocus=(0,gt.yM)((0,ut.Z)(t),"ionFocus",7),t.ionBlur=(0,gt.yM)((0,ut.Z)(t),"ionBlur",7),t.inputId="ion-rb-".concat(yo++),t.radioGroup=null,t.checked=!1,t.buttonTabindex=-1,t.name=t.inputId,t.disabled=!1,t.updateState=function(){t.radioGroup&&(t.checked=t.radioGroup.value===t.value)},t.onClick=function(){t.checked=t.nativeInput.checked},t.onFocus=function(){t.ionFocus.emit()},t.onBlur=function(){t.ionBlur.emit()},t}return(0,pt.Z)(n,[{key:"setFocus",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.stopPropagation(),e.preventDefault(),this.el.focus();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setButtonTabindex",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.buttonTabindex=e;case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"connectedCallback",value:function(){void 0===this.value&&(this.value=this.inputId);var t=this.radioGroup=this.el.closest("ion-radio-group");t&&(this.updateState(),(0,Ft.a)(t,"ionChange",this.updateState))}},{key:"disconnectedCallback",value:function(){var t=this.radioGroup;t&&((0,Ft.b)(t,"ionChange",this.updateState),this.radioGroup=null)}},{key:"componentWillLoad",value:function(){this.emitStyle()}},{key:"emitStyle",value:function(){this.ionStyle.emit({"radio-checked":this.checked,"interactive-disabled":this.disabled})}},{key:"render",value:function(){var t,e=this,n=this.inputId,r=this.disabled,i=this.checked,o=this.color,a=this.el,s=this.buttonTabindex,l=zt(this),c=(0,Ft.n)(a,n),u=c.label,d=c.labelId,f=c.labelText;return(0,gt.h)(gt.AA,{"aria-checked":"".concat(i),"aria-hidden":r?"true":null,"aria-labelledby":u?d:null,role:"radio",tabindex:s,onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:Ze(o,(t={},(0,st.Z)(t,l,!0),(0,st.Z)(t,"in-item",$e("ion-item",a)),(0,st.Z)(t,"interactive",!0),(0,st.Z)(t,"radio-checked",i),(0,st.Z)(t,"radio-disabled",r),t))},(0,gt.h)("div",{class:"radio-icon",part:"container"},(0,gt.h)("div",{class:"radio-inner",part:"mark"}),(0,gt.h)("div",{class:"radio-ripple"})),(0,gt.h)("label",{htmlFor:n},f),(0,gt.h)("input",{type:"radio",checked:i,disabled:r,tabindex:"-1",id:n,ref:function(t){return e.nativeInput=t}}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{color:["emitStyle"],checked:["emitStyle"],disabled:["emitStyle"]}}},{key:"style",get:function(){return{ios:':host{--inner-border-radius:50%;display:inline-block;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host{--color-checked:var(--ion-color-primary, #3880ff);width:15px;height:24px}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{margin-left:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-radio.item-ios ion-label{margin-left:unset;-webkit-margin-start:0;margin-inline-start:0}}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);left:-9px;top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #4c8dff);content:"";opacity:0.2}:host-context([dir=rtl]):host(.ion-focused) .radio-icon::after,:host-context([dir=rtl]).ion-focused .radio-icon::after{left:unset;right:unset;right:-9px}:host(.in-item){margin-left:10px;margin-right:11px;margin-top:8px;margin-bottom:8px;display:block;position:static}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item){margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:11px;margin-inline-end:11px}}:host(.in-item[slot=start]){margin-left:3px;margin-right:21px;margin-top:8px;margin-bottom:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:21px;margin-inline-end:21px}}',md:':host{--inner-border-radius:50%;display:inline-block;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host{--color:var(--ion-color-step-400, #999999);--color-checked:var(--ion-color-primary, #3880ff);--border-width:2px;--border-style:solid;--border-radius:50%;width:20px;height:20px}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);left:-12px;top:-12px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #4c8dff);content:"";opacity:0.2}:host-context([dir=rtl]):host(.ion-focused) .radio-icon::after,:host-context([dir=rtl]).ion-focused .radio-icon::after{left:unset;right:unset;right:-12px}:host(.in-item){margin-left:0;margin-right:0;margin-top:9px;margin-bottom:9px;display:block;position:static}:host(.in-item[slot=start]){margin-left:4px;margin-right:36px;margin-top:11px;margin-bottom:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:36px;margin-inline-end:36px}}'}}}]),n}(gt.mv),[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]}]),yo=0;function bo(){if("undefined"!==typeof customElements){["ion-radio"].forEach((function(t){if("ion-radio"===t)customElements.get(t)||customElements.define(t,vo)}))}}var xo=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.ionChange=(0,gt.yM)((0,ut.Z)(t),"ionChange",7),t.inputId="ion-rg-".concat(wo++),t.labelId="".concat(t.inputId,"-lbl"),t.allowEmptySelection=!1,t.name=t.inputId,t.setRadioTabindex=function(e){var n=t.getRadios(),r=n.find((function(t){return!t.disabled})),i=n.find((function(t){return t.value===e&&!t.disabled}));if(r||i){var o,a=i||r,s=(0,Ne.Z)(n);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l===a?0:-1;l.setButtonTabindex(c)}}catch(u){s.e(u)}finally{s.f()}}},t.onClick=function(e){e.preventDefault();var n=e.target&&e.target.closest("ion-radio");if(n){var r=t.value,i=n.value;i!==r?t.value=i:t.allowEmptySelection&&(t.value=void 0)}},t}return(0,pt.Z)(n,[{key:"valueChanged",value:function(t){this.setRadioTabindex(t),this.ionChange.emit({value:t})}},{key:"componentDidLoad",value:function(){this.setRadioTabindex(this.value)}},{key:"connectedCallback",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider"))&&(n=this.label=e.querySelector("ion-label"))&&(this.labelId=n.id=this.name+"-lbl");case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getRadios",value:function(){return Array.from(this.el.querySelectorAll("ion-radio"))}},{key:"onKeydown",value:function(t){var e=!!this.el.closest("ion-select-popover");if(!t.target||this.el.contains(t.target)){var n=this.getRadios().filter((function(t){return!t.disabled}));if(t.target&&n.includes(t.target)){var r,i=n.findIndex((function(e){return e===t.target})),o=n[i];["ArrowDown","ArrowRight"].includes(t.code)&&(r=i===n.length-1?n[0]:n[i+1]),["ArrowUp","ArrowLeft"].includes(t.code)&&(r=0===i?n[n.length-1]:n[i-1]),r&&n.includes(r)&&(r.setFocus(t),e||(this.value=r.value)),["Space"].includes(t.code)&&(this.value=this.allowEmptySelection&&void 0!==this.value?void 0:o.value,t.preventDefault())}}}},{key:"render",value:function(){var t=this.label,e=this.labelId,n=zt(this);return(0,gt.h)(gt.AA,{role:"radiogroup","aria-labelledby":t?e:null,onClick:this.onClick,class:n})}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{value:["valueChanged"]}}}]),n}(gt.mv),[0,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],name:[1],value:[1032]},[[4,"keydown","onKeydown"]]]),wo=0;function ko(){if("undefined"!==typeof customElements){["ion-radio-group"].forEach((function(t){if("ion-radio-group"===t)customElements.get(t)||customElements.define(t,xo)}))}}var _o=(0,gt.GH)(function(t){(0,dt.Z)(r,t);var e=(0,ft.Z)(r);function r(){var t;return(0,ht.Z)(this,r),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionChange=(0,gt.yM)((0,ut.Z)(t),"ionChange",7),t.ionStyle=(0,gt.yM)((0,ut.Z)(t),"ionStyle",7),t.ionFocus=(0,gt.yM)((0,ut.Z)(t),"ionFocus",7),t.ionBlur=(0,gt.yM)((0,ut.Z)(t),"ionBlur",7),t.ionKnobMoveStart=(0,gt.yM)((0,ut.Z)(t),"ionKnobMoveStart",7),t.ionKnobMoveEnd=(0,gt.yM)((0,ut.Z)(t),"ionKnobMoveEnd",7),t.didLoad=!1,t.noUpdate=!1,t.hasFocus=!1,t.inheritedAttributes={},t.contentEl=null,t.initialContentScrollY=!0,t.ratioA=0,t.ratioB=0,t.debounce=0,t.name="",t.dualKnobs=!1,t.min=0,t.max=100,t.pin=!1,t.pinFormatter=function(t){return Math.round(t)},t.snaps=!1,t.step=1,t.ticks=!0,t.disabled=!1,t.value=0,t.clampBounds=function(e){return(0,Ft.e)(t.min,e,t.max)},t.ensureValueInBounds=function(e){return t.dualKnobs?{lower:t.clampBounds(e.lower),upper:t.clampBounds(e.upper)}:t.clampBounds(e)},t.setupGesture=(0,ct.Z)((0,lt.Z)().mark((function e(){var r;return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.rangeSlider)){e.next=6;break}return e.next=4,Promise.resolve().then(n.bind(n,7909));case 4:t.gesture=e.sent.createGesture({el:r,gestureName:"range",gesturePriority:100,threshold:0,onStart:function(e){return t.onStart(e)},onMove:function(e){return t.onMove(e)},onEnd:function(e){return t.onEnd(e)}}),t.gesture.enable(!t.disabled);case 6:case"end":return e.stop()}}),e)}))),t.handleKeyboard=function(e,n){var r=(0,ut.Z)(t).ensureValueInBounds,i=t.step;i=i>0?i:1,i/=t.max-t.min,n||(i*=-1),"A"===e?t.ratioA=(0,Ft.e)(0,t.ratioA+i,1):t.ratioB=(0,Ft.e)(0,t.ratioB+i,1),t.ionKnobMoveStart.emit({value:r(t.value)}),t.updateValue(),t.ionKnobMoveEnd.emit({value:r(t.value)})},t.onBlur=function(){t.hasFocus&&(t.hasFocus=!1,t.ionBlur.emit(),t.emitStyle())},t.onFocus=function(){t.hasFocus||(t.hasFocus=!0,t.ionFocus.emit(),t.emitStyle())},t}return(0,pt.Z)(r,[{key:"debounceChanged",value:function(){this.ionChange=(0,Ft.j)(this.ionChange,this.debounce)}},{key:"minChanged",value:function(){this.noUpdate||this.updateRatio()}},{key:"maxChanged",value:function(){this.noUpdate||this.updateRatio()}},{key:"activeBarStartChanged",value:function(){var t=this.activeBarStart;void 0!==t&&(t>this.max?((0,bn.p)("Range: The value of activeBarStart (".concat(t,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):t<this.min&&((0,bn.p)("Range: The value of activeBarStart (".concat(t,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}},{key:"disabledChanged",value:function(){this.gesture&&this.gesture.enable(!this.disabled),this.emitStyle()}},{key:"valueChanged",value:function(t){this.noUpdate||this.updateRatio(),t=this.ensureValueInBounds(t),this.ionChange.emit({value:t})}},{key:"componentWillLoad",value:function(){this.rangeId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"ion-r-".concat(Eo++),this.inheritedAttributes=(0,Ft.i)(this.el)}},{key:"componentDidLoad",value:function(){this.setupGesture(),this.didLoad=!0}},{key:"connectedCallback",value:function(){this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture(),this.contentEl=(0,ni.a)(this.el)}},{key:"disconnectedCallback",value:function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}},{key:"getValue",value:function(){var t=this.value||0;return this.dualKnobs?"object"===typeof t?t:{lower:0,upper:t}:"object"===typeof t?t.upper:t}},{key:"emitStyle",value:function(){this.ionStyle.emit({interactive:!0,"interactive-disabled":this.disabled})}},{key:"onStart",value:function(t){var e=this.contentEl;e&&(this.initialContentScrollY=(0,ni.d)(e));var n=this.rect=this.rangeSlider.getBoundingClientRect(),r=t.currentX,i=(0,Ft.e)(0,(r-n.left)/n.width,1);(0,hn.i)(this.el)&&(i=1-i),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-i)<Math.abs(this.ratioB-i)?"A":"B",this.setFocus(this.pressedKnob),this.update(r),this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}},{key:"onMove",value:function(t){this.update(t.currentX)}},{key:"onEnd",value:function(t){var e=this.contentEl,n=this.initialContentScrollY;e&&(0,ni.r)(e,n),this.update(t.currentX),this.pressedKnob=void 0,this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}},{key:"update",value:function(t){var e=this.rect,n=(0,Ft.e)(0,(t-e.left)/e.width,1);(0,hn.i)(this.el)&&(n=1-n),this.snaps&&(n=Mo(To(n,this.min,this.max,this.step),this.min,this.max)),"A"===this.pressedKnob?this.ratioA=n:this.ratioB=n,this.updateValue()}},{key:"valA",get:function(){return To(this.ratioA,this.min,this.max,this.step)}},{key:"valB",get:function(){return To(this.ratioB,this.min,this.max,this.step)}},{key:"ratioLower",get:function(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);var t=this.activeBarStart;return null==t?0:Mo(t,this.min,this.max)}},{key:"ratioUpper",get:function(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}},{key:"updateRatio",value:function(){var t=this.getValue(),e=this.min,n=this.max;this.dualKnobs?(this.ratioA=Mo(t.lower,e,n),this.ratioB=Mo(t.upper,e,n)):this.ratioA=Mo(t,e,n)}},{key:"updateValue",value:function(){this.noUpdate=!0;var t=this.valA,e=this.valB;this.value=this.dualKnobs?{lower:Math.min(t,e),upper:Math.max(t,e)}:t,this.noUpdate=!1}},{key:"setFocus",value:function(t){if(this.el.shadowRoot){var e=this.el.shadowRoot.querySelector("A"===t?".range-knob-a":".range-knob-b");e&&e.focus()}}},{key:"render",value:function(){var t,e,n,r=this,i=this.min,o=this.max,a=this.step,s=this.el,l=this.handleKeyboard,c=this.pressedKnob,u=this.disabled,d=this.pin,f=this.ratioLower,h=this.ratioUpper,p=this.inheritedAttributes,g=this.rangeId,m=this.pinFormatter,v=(0,Ft.n)(s,g).labelText;void 0!==v&&null!==v||(v=p["aria-label"]);var y=zt(this),b="".concat(100*f,"%"),x="".concat(100-100*h,"%"),w=(0,hn.i)(this.el),k=w?"right":"left",_=w?"left":"right",A=function(t){return(0,st.Z)({},k,t[k])};!1===this.dualKnobs&&(this.valA<(null!==(n=this.activeBarStart)&&void 0!==n?n:this.min)?(b="".concat(100*h,"%"),x="".concat(100-100*f,"%")):(b="".concat(100*f,"%"),x="".concat(100-100*h,"%")));var T=(t={},(0,st.Z)(t,k,b),(0,st.Z)(t,_,x),t),M=[];if(this.snaps&&this.ticks)for(var E=i;E<=o;E+=a){var C=Mo(E,i,o),S=Math.min(f,h),O=Math.max(f,h),L={ratio:C,active:C>=S&&C<=O};L[k]="".concat(100*C,"%"),M.push(L)}return(0,Ft.d)(!0,s,this.name,JSON.stringify(this.getValue()),u),(0,gt.h)(gt.AA,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:g,class:Ze(this.color,(e={},(0,st.Z)(e,y,!0),(0,st.Z)(e,"in-item",$e("ion-item",s)),(0,st.Z)(e,"range-disabled",u),(0,st.Z)(e,"range-pressed",void 0!==c),(0,st.Z)(e,"range-has-pin",d),e))},(0,gt.h)("slot",{name:"start"}),(0,gt.h)("div",{class:"range-slider",ref:function(t){return r.rangeSlider=t}},M.map((function(t){return(0,gt.h)("div",{style:A(t),role:"presentation",class:{"range-tick":!0,"range-tick-active":t.active},part:t.active?"tick-active":"tick"})})),(0,gt.h)("div",{class:"range-bar",role:"presentation",part:"bar"}),(0,gt.h)("div",{class:"range-bar range-bar-active",role:"presentation",style:T,part:"bar-active"}),Ao(w,{knob:"A",pressed:"A"===c,value:this.valA,ratio:this.ratioA,pin:d,pinFormatter:m,disabled:u,handleKeyboard:l,min:i,max:o,labelText:v}),this.dualKnobs&&Ao(w,{knob:"B",pressed:"B"===c,value:this.valB,ratio:this.ratioB,pin:d,pinFormatter:m,disabled:u,handleKeyboard:l,min:i,max:o,labelText:v})),(0,gt.h)("slot",{name:"end"}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}},{key:"style",get:function(){return{ios:":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{left:0;top:calc((var(--height) - var(--knob-handle-size)) / 2);margin-left:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}[dir=rtl] .range-knob-handle,:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-knob-handle{margin-left:unset;-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2)}}[dir=rtl] .range-knob-handle,:host-context([dir=rtl]) .range-knob-handle{left:unset}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar{border-radius:var(--bar-border-radius);left:0;top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}[dir=rtl] .range-bar,:host-context([dir=rtl]) .range-bar{left:unset;right:unset;right:0}[dir=rtl] .range-bar,:host-context([dir=rtl]) .range-bar{left:unset}.range-knob{border-radius:var(--knob-border-radius);left:calc(50% - var(--knob-size) / 2);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}[dir=rtl] .range-knob,:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob,:host-context([dir=rtl]) .range-knob{left:unset}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0 3px 1px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.13), 0 0 0 1px rgba(0, 0, 0, 0.02);--knob-size:28px;--bar-height:2px;--bar-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:0;--height:42px;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){margin-left:0;margin-right:16px;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}}::slotted([slot=end]){margin-left:16px;margin-right:0;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}}:host(.range-has-pin){padding-top:20px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-tick{margin-left:-1px;border-radius:0;position:absolute;top:18px;width:2px;height:8px;background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1);pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-tick{margin-left:unset;-webkit-margin-start:-1px;margin-inline-start:-1px}}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  28px,  0) scale(0.01);transform:translate3d(0,  28px,  0) scale(0.01);padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;display:inline-block;position:relative;top:-20px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:12px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-pin{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.range-knob-pressed .range-pin{-webkit-transform:translate3d(0,  0,  0) scale(1);transform:translate3d(0,  0,  0) scale(1)}:host(.range-disabled){opacity:0.5}",md:':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{left:0;top:calc((var(--height) - var(--knob-handle-size)) / 2);margin-left:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}[dir=rtl] .range-knob-handle,:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-knob-handle{margin-left:unset;-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2)}}[dir=rtl] .range-knob-handle,:host-context([dir=rtl]) .range-knob-handle{left:unset}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar{border-radius:var(--bar-border-radius);left:0;top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}[dir=rtl] .range-bar,:host-context([dir=rtl]) .range-bar{left:unset;right:unset;right:0}[dir=rtl] .range-bar,:host-context([dir=rtl]) .range-bar{left:unset}.range-knob{border-radius:var(--knob-border-radius);left:calc(50% - var(--knob-size) / 2);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}[dir=rtl] .range-knob,:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob,:host-context([dir=rtl]) .range-knob{left:unset}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.26);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #3880ff);--pin-color:var(--ion-color-primary-contrast, #fff);padding-left:14px;padding-right:14px;padding-top:8px;padding-bottom:8px;font-size:12px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px}}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){margin-left:0;margin-right:14px;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px}}::slotted([slot=end]){margin-left:14px;margin-right:0;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0}}:host(.range-has-pin){padding-top:28px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:inline-block;position:relative;min-width:28px;height:28px;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color);text-align:center}.range-pin::before{left:50%;top:3px;margin-left:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}[dir=rtl] .range-pin::before,:host-context([dir=rtl]) .range-pin::before{left:unset;right:unset;right:50%}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-pin::before{margin-left:unset;-webkit-margin-start:-13px;margin-inline-start:-13px}}[dir=rtl] .range-pin::before,:host-context([dir=rtl]) .range-pin::before{left:unset}.range-knob-pressed .range-pin{-webkit-transform:translate3d(0,  -24px,  0) scale(1);transform:translate3d(0,  -24px,  0) scale(1)}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, #bfbfbf)}'}}}]),r}(gt.mv),[33,"ion-range",{color:[513],debounce:[2],name:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],ratioA:[32],ratioB:[32],pressedKnob:[32]}]),Ao=function(t,e){var n=e.knob,r=e.value,i=e.ratio,o=e.min,a=e.max,s=e.disabled,l=e.pressed,c=e.pin,u=e.handleKeyboard,d=e.labelText,f=e.pinFormatter,h=t?"right":"left";return(0,gt.h)("div",{onKeyDown:function(t){var e=t.key;"ArrowLeft"===e||"ArrowDown"===e?(u(n,!1),t.preventDefault(),t.stopPropagation()):"ArrowRight"!==e&&"ArrowUp"!==e||(u(n,!0),t.preventDefault(),t.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":"A"===n,"range-knob-b":"B"===n,"range-knob-pressed":l,"range-knob-min":r===o,"range-knob-max":r===a},style:function(){var t={};return t[h]="".concat(100*i,"%"),t}(),role:"slider",tabindex:s?-1:0,"aria-label":d,"aria-valuemin":o,"aria-valuemax":a,"aria-disabled":s?"true":null,"aria-valuenow":r},c&&(0,gt.h)("div",{class:"range-pin",role:"presentation",part:"pin"},f(r)),(0,gt.h)("div",{class:"range-knob",role:"presentation",part:"knob"}))},To=function(t,e,n,r){var i=(n-e)*t;return r>0&&(i=Math.round(i/r)*r+e),(0,Ft.e)(e,i,n)},Mo=function(t,e,n){return(0,Ft.e)(0,(t-e)/(n-e),1)},Eo=0;var Co=function(){if("undefined"!==typeof customElements){["ion-range"].forEach((function(t){if("ion-range"===t)customElements.get(t)||customElements.define(t,_o)}))}},So=function(t){var e=t.previousElementSibling;return null!==e&&"ION-HEADER"===e.tagName?"translate":"scale"},Oo=function(t,e,n){return"scale"===t?Po(e,n):Do(e,n)},Lo=function(t){var e=t.querySelector("ion-spinner"),n=e.shadowRoot.querySelector("circle"),r=t.querySelector(".spinner-arrow-container"),i=t.querySelector(".arrow-container"),o=i?i.querySelector("ion-icon"):null,a=(0,pe.c)().duration(1e3).easing("ease-out"),s=(0,pe.c)().addElement(r).keyframes([{offset:0,opacity:"0.3"},{offset:.45,opacity:"0.3"},{offset:.55,opacity:"1"},{offset:1,opacity:"1"}]),l=(0,pe.c)().addElement(n).keyframes([{offset:0,strokeDasharray:"1px, 200px"},{offset:.2,strokeDasharray:"1px, 200px"},{offset:.55,strokeDasharray:"100px, 200px"},{offset:1,strokeDasharray:"100px, 200px"}]),c=(0,pe.c)().addElement(e).keyframes([{offset:0,transform:"rotate(-90deg)"},{offset:1,transform:"rotate(210deg)"}]);if(i&&o){var u=(0,pe.c)().addElement(i).keyframes([{offset:0,transform:"rotate(0deg)"},{offset:.3,transform:"rotate(0deg)"},{offset:.55,transform:"rotate(280deg)"},{offset:1,transform:"rotate(400deg)"}]),d=(0,pe.c)().addElement(o).keyframes([{offset:0,transform:"translateX(2px) scale(0)"},{offset:.3,transform:"translateX(2px) scale(0)"},{offset:.55,transform:"translateX(-1.5px) scale(1)"},{offset:1,transform:"translateX(-1.5px) scale(1)"}]);a.addAnimation([u,d])}return a.addAnimation([s,l,c])},Po=function(t,e){var n=e.clientHeight,r=(0,pe.c)().addElement(t).keyframes([{offset:0,transform:"scale(0) translateY(-".concat(n,"px)")},{offset:1,transform:"scale(1) translateY(100px)"}]);return Lo(t).addAnimation([r])},Do=function(t,e){var n=e.clientHeight,r=(0,pe.c)().addElement(t).keyframes([{offset:0,transform:"translateY(-".concat(n,"px)")},{offset:1,transform:"translateY(100px)"}]);return Lo(t).addAnimation([r])},Ro=function(t){return(0,pe.c)().duration(125).addElement(t).fromTo("transform","translateY(var(--ion-pulling-refresher-translate, 100px))","translateY(0px)")},Io=function(t,e,n){(0,gt.Iu)((function(){t.forEach((function(t,r){var i=r*(1/e),o=1-i,a=n-i,s=(0,Ft.e)(0,a/o,1);t.style.setProperty("opacity",s.toString())}))}))},zo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!t)return Promise.resolve();var r=(0,Ft.t)(t,n);return(0,gt.Iu)((function(){t.style.setProperty("transition","".concat(n,"ms all ease-out")),void 0===e?t.style.removeProperty("transform"):t.style.setProperty("transform","translate3d(0px, ".concat(e,", 0px)"))})),r},No=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r,i,o;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.querySelector("ion-refresher-content")){t.next=3;break}return t.abrupt("return",Promise.resolve(!1));case 3:return t.next=5,new Promise((function(t){return(0,Ft.c)(r,t)}));case 5:return i=e.querySelector("ion-refresher-content .refresher-pulling ion-spinner"),o=e.querySelector("ion-refresher-content .refresher-refreshing ion-spinner"),t.abrupt("return",null!==i&&null!==o&&("ios"===n&&At("mobile")&&void 0!==e.style.webkitOverflowScrolling||"md"===n));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();gt.mv;gt.mv;gt.mv;gt.mv;var Bo=function(t){return t.$ionIndex},Fo=function(t,e){for(var n;t;){if((n=t.parentElement)===e)return t;t=n}},jo=60,$o=10,Zo="reorder-selected",Uo=function(t,e,n){var r=t[e];return t.splice(e,1),t.splice(n,0,r),t.slice()};var Ho=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t}return(0,pt.Z)(n,[{key:"render",value:function(){return(0,gt.h)(gt.AA,{class:zt(this)},(0,gt.h)("slot",null))}}],[{key:"style",get:function(){return":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}"}}]),n}(gt.mv),[1,"ion-row"]);var Vo=function(){if("undefined"!==typeof customElements){["ion-row"].forEach((function(t){if("ion-row"===t)customElements.get(t)||customElements.define(t,Ho)}))}};gt.mv;var Wo=(0,gt.GH)(function(t){(0,dt.Z)(r,t);var e=(0,ft.Z)(r);function r(){var t;return(0,ht.Z)(this,r),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionChange=(0,gt.yM)((0,ut.Z)(t),"ionChange",7),t.ionSelect=(0,gt.yM)((0,ut.Z)(t),"ionSelect",7),t.ionStyle=(0,gt.yM)((0,ut.Z)(t),"ionStyle",7),t.didInit=!1,t.activated=!1,t.disabled=!1,t.scrollable=!1,t.swipeGesture=!0,t.selectOnFocus=!1,t.onClick=function(e){var n=e.target,r=t.checked;"ION-SEGMENT"!==n.tagName&&(t.value=n.value,!t.scrollable&&t.swipeGesture||(r?t.checkButton(r,n):t.setCheckedClasses()),t.checked=n)},t.getSegmentButton=function(e){var n=t.getButtons().filter((function(t){return!t.disabled})),r=n.findIndex((function(t){return t===document.activeElement}));switch(e){case"first":return n[0];case"last":return n[n.length-1];case"next":return n[r+1]||n[0];case"previous":return n[r-1]||n[n.length-1];default:return null}},t}return(0,pt.Z)(r,[{key:"colorChanged",value:function(t,e){(void 0===e&&void 0!==t||void 0!==e&&void 0===t)&&this.emitStyle()}},{key:"swipeGestureChanged",value:function(){this.gestureChanged()}},{key:"valueChanged",value:function(t,e){this.ionSelect.emit({value:t}),(""!==e||this.didInit)&&(this.activated?this.valueAfterGesture=t:this.ionChange.emit({value:t}))}},{key:"disabledChanged",value:function(){this.gestureChanged();var t,e=this.getButtons(),n=(0,Ne.Z)(e);try{for(n.s();!(t=n.n()).done;){t.value.disabled=this.disabled}}catch(r){n.e(r)}finally{n.f()}}},{key:"gestureChanged",value:function(){this.gesture&&this.gesture.enable(!this.scrollable&&!this.disabled&&this.swipeGesture)}},{key:"connectedCallback",value:function(){this.emitStyle()}},{key:"componentWillLoad",value:function(){this.emitStyle()}},{key:"componentDidLoad",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setCheckedClasses(),this.ensureFocusable(),t.next=4,Promise.resolve().then(n.bind(n,7909));case 4:this.gesture=t.sent.createGesture({el:this.el,gestureName:"segment",gesturePriority:100,threshold:0,passive:!1,onStart:function(t){return e.onStart(t)},onMove:function(t){return e.onMove(t)},onEnd:function(t){return e.onEnd(t)}}),this.gestureChanged(),this.disabled&&this.disabledChanged(),this.didInit=!0;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onStart",value:function(t){this.activate(t)}},{key:"onMove",value:function(t){this.setNextIndex(t)}},{key:"onEnd",value:function(t){this.setActivated(!1);var e=this.setNextIndex(t,!0);t.event.stopImmediatePropagation(),e&&this.addRipple(t);var n=this.valueAfterGesture;void 0!==n&&(this.ionChange.emit({value:n}),this.valueAfterGesture=void 0)}},{key:"getButtons",value:function(){return Array.from(this.el.querySelectorAll("ion-segment-button"))}},{key:"addRipple",value:function(t){var e=this;if(vt.getBoolean("animated",!0)&&vt.getBoolean("rippleEffect",!0)){var n=this.getButtons().find((function(t){return t.value===e.value})),r=(n.shadowRoot||n).querySelector("ion-ripple-effect");if(r){var i=(0,Ft.p)(t.event),o=i.x,a=i.y;r.addRipple(o,a).then((function(t){return t()}))}}}},{key:"setActivated",value:function(t){this.getButtons().forEach((function(e){t?e.classList.add("segment-button-activated"):e.classList.remove("segment-button-activated")})),this.activated=t}},{key:"activate",value:function(t){var e=this,n=t.event.target,r=this.getButtons().find((function(t){return t.value===e.value}));"ION-SEGMENT-BUTTON"===n.tagName&&(r||(this.value=n.value,this.setCheckedClasses()),this.value===n.value&&this.setActivated(!0))}},{key:"getIndicator",value:function(t){return(t.shadowRoot||t).querySelector(".segment-button-indicator")}},{key:"checkButton",value:function(t,e){var n=this.getIndicator(t),r=this.getIndicator(e);if(null!==n&&null!==r){var i=n.getBoundingClientRect(),o=r.getBoundingClientRect(),a=i.width/o.width,s=i.left-o.left,l="translate3d(".concat(s,"px, 0, 0) scaleX(").concat(a,")");(0,gt.Iu)((function(){r.classList.remove("segment-button-indicator-animated"),r.style.setProperty("transform",l),r.getBoundingClientRect(),r.classList.add("segment-button-indicator-animated"),r.style.setProperty("transform","")})),this.value=e.value,this.setCheckedClasses()}}},{key:"setCheckedClasses",value:function(){var t=this,e=this.getButtons(),n=e.findIndex((function(e){return e.value===t.value})),r=n+1;this.checked=e.find((function(e){return e.value===t.value}));var i,o=(0,Ne.Z)(e);try{for(o.s();!(i=o.n()).done;){i.value.classList.remove("segment-button-after-checked")}}catch(a){o.e(a)}finally{o.f()}r<e.length&&e[r].classList.add("segment-button-after-checked")}},{key:"setNextIndex",value:function(t){var e,n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=(0,hn.i)(this.el),a=this.activated,s=this.getButtons(),l=s.findIndex((function(t){return t.value===r.value})),c=s[l];if(-1!==l){var u=c.getBoundingClientRect(),d=u.left,f=u.width,h=t.currentX,p=u.top+u.height/2,g=this.el.getRootNode(),m=g.elementFromPoint(h,p),v=o?h>d+f:h<d,y=o?h<d:h>d+f;if(a&&!i){if(v){var b=l-1;b>=0&&(n=b)}else if(y&&a&&!i){var x=l+1;x<s.length&&(n=x)}void 0===n||s[n].disabled||(e=s[n])}if(!a&&i&&(e=m),null!=e){if("ION-SEGMENT"===e.tagName)return!1;c!==e&&this.checkButton(c,e)}return!0}}},{key:"emitStyle",value:function(){this.ionStyle.emit({segment:!0})}},{key:"onKeyDown",value:function(t){var e,n=(0,hn.i)(this.el),r=this.selectOnFocus;switch(t.key){case"ArrowRight":t.preventDefault(),e=n?this.getSegmentButton("previous"):this.getSegmentButton("next");break;case"ArrowLeft":t.preventDefault(),e=n?this.getSegmentButton("next"):this.getSegmentButton("previous");break;case"Home":t.preventDefault(),e=this.getSegmentButton("first");break;case"End":t.preventDefault(),e=this.getSegmentButton("last");break;case" ":case"Enter":t.preventDefault(),e=document.activeElement,r=!0}if(e){if(r){var i=this.checked||e;this.checkButton(i,e)}e.focus()}}},{key:"ensureFocusable",value:function(){var t;void 0===this.value&&(null===(t=this.getButtons()[0])||void 0===t||t.setAttribute("tabindex","0"))}},{key:"render",value:function(){var t,e=zt(this);return(0,gt.h)(gt.AA,{role:"tablist",onClick:this.onClick,class:Ze(this.color,(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"in-toolbar",$e("ion-toolbar",this.el)),(0,st.Z)(t,"in-toolbar-color",$e("ion-toolbar[color]",this.el)),(0,st.Z)(t,"segment-activated",this.activated),(0,st.Z)(t,"segment-disabled",this.disabled),(0,st.Z)(t,"segment-scrollable",this.scrollable),t))},(0,gt.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{color:["colorChanged"],swipeGesture:["swipeGestureChanged"],value:["valueChanged"],disabled:["disabledChanged"]}}},{key:"style",get:function(){return{ios:":host{--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;background:var(--background);font-family:var(--ion-font-family, inherit);text-align:center;contain:paint;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.segment-scrollable){-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:auto}:host(.segment-scrollable::-webkit-scrollbar){display:none}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.065);border-radius:8px;overflow:hidden;z-index:0}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.065)}:host(.in-toolbar){margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;width:auto}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-toolbar){margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.in-toolbar:not(.ion-color)){background:var(--ion-toolbar-segment-background, var(--background))}:host(.in-toolbar-color:not(.ion-color)){background:rgba(var(--ion-color-contrast-rgb), 0.11)}",md:":host{--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;background:var(--background);font-family:var(--ion-font-family, inherit);text-align:center;contain:paint;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.segment-scrollable){-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:auto}:host(.segment-scrollable::-webkit-scrollbar){display:none}:host{--background:transparent}:host(.segment-scrollable) ::slotted(ion-segment-button){min-width:auto}"}}}]),r}(gt.mv),[33,"ion-segment",{color:[513],disabled:[4],scrollable:[4],swipeGesture:[4,"swipe-gesture"],value:[1025],selectOnFocus:[4,"select-on-focus"],activated:[32]},[[0,"keydown","onKeyDown"]]]);var Yo=function(){if("undefined"!==typeof customElements){["ion-segment"].forEach((function(t){if("ion-segment"===t)customElements.get(t)||customElements.define(t,Wo)}))}},Go=0,qo=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.segmentEl=null,t.checked=!1,t.disabled=!1,t.layout="icon-top",t.type="button",t.value="ion-sb-"+Go++,t.updateStyle=function(){(0,gt.xE)((0,ut.Z)(t))},t.updateState=function(){t.segmentEl&&(t.checked=t.segmentEl.value===t.value)},t}return(0,pt.Z)(n,[{key:"connectedCallback",value:function(){var t=this.segmentEl=this.el.closest("ion-segment");t&&(this.updateState(),(0,Ft.a)(t,"ionSelect",this.updateState),(0,Ft.a)(t,"ionStyle",this.updateStyle))}},{key:"disconnectedCallback",value:function(){var t=this.segmentEl;t&&((0,Ft.b)(t,"ionSelect",this.updateState),(0,Ft.b)(t,"ionStyle",this.updateStyle),this.segmentEl=null)}},{key:"hasLabel",get:function(){return!!this.el.querySelector("ion-label")}},{key:"hasIcon",get:function(){return!!this.el.querySelector("ion-icon")}},{key:"tabIndex",get:function(){return this.checked&&!this.disabled?0:-1}},{key:"render",value:function(){var t,e=this.checked,n=this.type,r=this.disabled,i=this.hasIcon,o=this.hasLabel,a=this.layout,s=this.segmentEl,l=this.tabIndex,c=zt(this);return(0,gt.h)(gt.AA,{role:"tab","aria-selected":e?"true":"false","aria-disabled":r?"true":null,tabIndex:l,class:(t={},(0,st.Z)(t,c,!0),(0,st.Z)(t,"in-toolbar",$e("ion-toolbar",this.el)),(0,st.Z)(t,"in-toolbar-color",$e("ion-toolbar[color]",this.el)),(0,st.Z)(t,"in-segment",$e("ion-segment",this.el)),(0,st.Z)(t,"in-segment-color",void 0!==(null===s||void 0===s?void 0:s.color)),(0,st.Z)(t,"segment-button-has-label",o),(0,st.Z)(t,"segment-button-has-icon",i),(0,st.Z)(t,"segment-button-has-label-only",o&&!i),(0,st.Z)(t,"segment-button-has-icon-only",i&&!o),(0,st.Z)(t,"segment-button-disabled",r),(0,st.Z)(t,"segment-button-checked",e),(0,st.Z)(t,"segment-button-layout-".concat(a),!0),(0,st.Z)(t,"ion-activatable",!0),(0,st.Z)(t,"ion-activatable-instant",!0),(0,st.Z)(t,"ion-focusable",!0),t)},(0,gt.h)("button",{type:n,tabIndex:-1,class:"button-native",part:"native",disabled:r},(0,gt.h)("span",{class:"button-inner"},(0,gt.h)("slot",null)),"md"===c&&(0,gt.h)("ion-ripple-effect",null)),(0,gt.h)("div",{part:"indicator",class:{"segment-button-indicator":!0,"segment-button-indicator-animated":!0}},(0,gt.h)("div",{part:"indicator-background",class:"segment-button-indicator-background"})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--color:initial;--color-hover:var(--color);--color-checked:var(--color);--color-disabled:var(--color);--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;height:auto;background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none;cursor:pointer}.button-native{border-radius:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:var(--margin-start);margin-right:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;pointer-events:none;overflow:hidden;z-index:2}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end)}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}:host(.segment-button-checked){background:var(--background-checked);color:var(--color-checked)}:host(.segment-button-disabled){cursor:default;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(:focus){outline:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.segment-button-checked:hover) .button-native{color:var(--color-checked)}}::slotted(ion-icon){-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:-1;order:-1;pointer-events:none}::slotted(ion-label){display:block;-ms-flex-item-align:center;align-self:center;line-height:22px;text-overflow:ellipsis;white-space:nowrap;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.segment-button-layout-icon-top) .button-native{-ms-flex-direction:column;flex-direction:column}:host(.segment-button-layout-icon-start) .button-native{-ms-flex-direction:row;flex-direction:row}:host(.segment-button-layout-icon-end) .button-native{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.segment-button-layout-icon-bottom) .button-native{-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.segment-button-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.segment-button-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color, var(--color-checked))}.segment-button-indicator{-webkit-transform-origin:left;transform-origin:left;position:absolute;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;will-change:transform, opacity;pointer-events:none}.segment-button-indicator-background{width:100%;height:var(--indicator-height);-webkit-transform:var(--indicator-transform);transform:var(--indicator-transform);-webkit-box-shadow:var(--indicator-box-shadow);box-shadow:var(--indicator-box-shadow);pointer-events:none}.segment-button-indicator-animated{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked) .segment-button-indicator{opacity:1}@media (prefers-reduced-motion: reduce){.segment-button-indicator-background{-webkit-transform:none;transform:none}.segment-button-indicator-animated{-webkit-transition:none;transition:none}}:host{--background:none;--background-checked:none;--background-hover:none;--background-hover-opacity:0;--background-focused:none;--background-focused-opacity:0;--border-radius:7px;--border-width:1px;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--border-style:solid;--indicator-box-shadow:0 0 5px rgba(0, 0, 0, 0.16);--indicator-color:var(--ion-color-step-350, var(--ion-background-color, #fff));--indicator-height:100%;--indicator-transition:transform 260ms cubic-bezier(0.4, 0, 0.2, 1);--indicator-transform:none;--transition:100ms all linear;--padding-top:0;--padding-end:13px;--padding-bottom:0;--padding-start:13px;margin-top:2px;margin-bottom:2px;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-direction:row;flex-direction:row;min-width:70px;min-height:28px;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);font-size:13px;font-weight:450;line-height:37px}:host::before{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;-webkit-transition:160ms opacity ease-in-out;transition:160ms opacity ease-in-out;-webkit-transition-delay:100ms;transition-delay:100ms;border-left:var(--border-width) var(--border-style) var(--border-color);content:"";opacity:1;will-change:opacity}:host(:first-of-type)::before{border-left-color:transparent}:host(.segment-button-disabled){opacity:0.3}::slotted(ion-icon){font-size:24px}:host(.segment-button-layout-icon-start) ::slotted(ion-label){margin-left:2px;margin-right:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.segment-button-layout-icon-start) ::slotted(ion-label){margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:0;margin-inline-end:0}}:host(.segment-button-layout-icon-end) ::slotted(ion-label){margin-left:0;margin-right:2px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.segment-button-layout-icon-end) ::slotted(ion-label){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:2px;margin-inline-end:2px}}.segment-button-indicator{padding-left:2px;padding-right:2px;left:0;right:0;top:0;bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.segment-button-indicator{padding-left:unset;padding-right:unset;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px}}.segment-button-indicator-background{border-radius:var(--border-radius);background:var(--indicator-color)}.segment-button-indicator-background{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked)::before,:host(.segment-button-after-checked)::before{opacity:0}:host(.segment-button-checked){z-index:-1}:host(.segment-button-activated){--indicator-transform:scale(0.95)}:host(.ion-focused) .button-native{opacity:0.7}@media (any-hover: hover){:host(:hover) .button-native{opacity:0.5}:host(.segment-button-checked:hover) .button-native{opacity:1}}:host(.in-segment-color){background:none;color:var(--ion-text-color, #000)}:host(.in-segment-color) .segment-button-indicator-background{background:var(--ion-color-step-350, var(--ion-background-color, #fff))}@media (any-hover: hover){:host(.in-segment-color:hover) .button-native,:host(.in-segment-color.segment-button-checked:hover) .button-native{color:var(--ion-text-color, #000)}}:host(.in-toolbar:not(.in-segment-color)){--background-checked:var(--ion-toolbar-segment-background-checked, none);--color:var(--ion-toolbar-segment-color, var(--ion-toolbar-color), initial);--color-checked:var(--ion-toolbar-segment-color-checked, var(--ion-toolbar-color), initial);--indicator-color:var(--ion-toolbar-segment-indicator-color, var(--ion-color-step-350, var(--ion-background-color, #fff)))}:host(.in-toolbar-color) .segment-button-indicator-background{background:#fff}:host(.in-toolbar-color:not(.in-segment-color)) .button-native{color:var(--ion-color-contrast)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.in-toolbar-color:not(.in-segment-color):hover) .button-native{color:var(--ion-color-contrast)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color):hover) .button-native{color:var(--ion-color-base)}}',md:':host{--color:initial;--color-hover:var(--color);--color-checked:var(--color);--color-disabled:var(--color);--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;height:auto;background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none;cursor:pointer}.button-native{border-radius:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:var(--margin-start);margin-right:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;pointer-events:none;overflow:hidden;z-index:2}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end)}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}:host(.segment-button-checked){background:var(--background-checked);color:var(--color-checked)}:host(.segment-button-disabled){cursor:default;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(:focus){outline:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.segment-button-checked:hover) .button-native{color:var(--color-checked)}}::slotted(ion-icon){-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:-1;order:-1;pointer-events:none}::slotted(ion-label){display:block;-ms-flex-item-align:center;align-self:center;line-height:22px;text-overflow:ellipsis;white-space:nowrap;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.segment-button-layout-icon-top) .button-native{-ms-flex-direction:column;flex-direction:column}:host(.segment-button-layout-icon-start) .button-native{-ms-flex-direction:row;flex-direction:row}:host(.segment-button-layout-icon-end) .button-native{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.segment-button-layout-icon-bottom) .button-native{-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.segment-button-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.segment-button-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color, var(--color-checked))}.segment-button-indicator{-webkit-transform-origin:left;transform-origin:left;position:absolute;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;will-change:transform, opacity;pointer-events:none}.segment-button-indicator-background{width:100%;height:var(--indicator-height);-webkit-transform:var(--indicator-transform);transform:var(--indicator-transform);-webkit-box-shadow:var(--indicator-box-shadow);box-shadow:var(--indicator-box-shadow);pointer-events:none}.segment-button-indicator-animated{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked) .segment-button-indicator{opacity:1}@media (prefers-reduced-motion: reduce){.segment-button-indicator-background{-webkit-transform:none;transform:none}.segment-button-indicator-animated{-webkit-transition:none;transition:none}}:host{--background:none;--background-checked:none;--background-hover:var(--color-checked);--background-focused:var(--color-checked);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #3880ff);--indicator-box-shadow:none;--indicator-color:var(--color-checked);--indicator-height:2px;--indicator-transition:transform 250ms cubic-bezier(0.4, 0, 0.2, 1);--indicator-transform:none;--padding-top:0;--padding-end:16px;--padding-bottom:0;--padding-start:16px;--transition:color 0.15s linear 0s, opacity 0.15s linear 0s;min-width:90px;max-width:360px;min-height:48px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);font-size:14px;font-weight:500;letter-spacing:0.06em;line-height:40px;text-transform:uppercase}:host(.segment-button-disabled){opacity:0.3}:host(.in-segment-color){background:none;color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6)}:host(.in-segment-color) ion-ripple-effect{color:var(--ion-color-base)}:host(.in-segment-color) .segment-button-indicator-background{background:var(--ion-color-base)}:host(.in-segment-color.segment-button-checked) .button-native{color:var(--ion-color-base)}:host(.in-segment-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.in-segment-color:hover) .button-native{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6)}:host(.in-segment-color:hover) .button-native::after{background:var(--ion-color-base)}:host(.in-segment-color.segment-button-checked:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-segment-color)){--background:var(--ion-toolbar-segment-background, none);--background-checked:var(--ion-toolbar-segment-background-checked, none);--color:var(--ion-toolbar-segment-color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6));--color-checked:var(--ion-toolbar-segment-color-checked, var(--ion-color-primary, #3880ff));--indicator-color:var(--ion-toolbar-segment-color-checked, var(--color-checked))}:host(.in-toolbar-color:not(.in-segment-color)) .button-native{color:rgba(var(--ion-color-contrast-rgb), 0.6)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native{color:var(--ion-color-contrast)}@media (any-hover: hover){:host(.in-toolbar-color:not(.in-segment-color)) .button-native::after{background:var(--ion-color-contrast)}}::slotted(ion-icon){margin-top:12px;margin-bottom:12px;font-size:24px}::slotted(ion-label){margin-top:12px;margin-bottom:12px}:host(.segment-button-layout-icon-top) ::slotted(ion-label),:host(.segment-button-layout-icon-bottom) ::slotted(ion-icon){margin-top:0}:host(.segment-button-layout-icon-top) ::slotted(ion-icon),:host(.segment-button-layout-icon-bottom) ::slotted(ion-label){margin-bottom:0}:host(.segment-button-layout-icon-start) ::slotted(ion-label){margin-left:8px;margin-right:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.segment-button-layout-icon-start) ::slotted(ion-label){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:0;margin-inline-end:0}}:host(.segment-button-layout-icon-end) ::slotted(ion-label){margin-left:0;margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.segment-button-layout-icon-end) ::slotted(ion-label){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}:host(.segment-button-has-icon-only) ::slotted(ion-icon){margin-top:12px;margin-bottom:12px}:host(.segment-button-has-label-only) ::slotted(ion-label){margin-top:12px;margin-bottom:12px}.segment-button-indicator{left:0;right:0;bottom:0}.segment-button-indicator-background{background:var(--indicator-color)}:host(.in-toolbar:not(.in-segment-color)) .segment-button-indicator-background{background:var(--ion-toolbar-segment-indicator-color, var(--indicator-color))}:host(.in-toolbar-color:not(.in-segment-color)) .segment-button-indicator-background{background:var(--ion-color-contrast)}'}}}]),n}(gt.mv),[33,"ion-segment-button",{disabled:[4],layout:[1],type:[1],value:[1],checked:[32]}]);var Xo=function(){if("undefined"!==typeof customElements){["ion-segment-button","ion-ripple-effect"].forEach((function(t){switch(t){case"ion-segment-button":customElements.get(t)||customElements.define(t,qo);break;case"ion-ripple-effect":customElements.get(t)||nn()}}))}},Jo=n(7909),Ko=function(t,e){var n,r,i=function(t,r,i){if("undefined"!==typeof document){var s=document.elementFromPoint(t,r);s&&e(s)?s!==n&&(a(),o(s,i)):a()}},o=function(t,e){n=t,r||(r=n);var i=n;(0,gt.Iu)((function(){return i.classList.add("ion-activated")})),e()},a=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n){var e=n;(0,gt.Iu)((function(){return e.classList.remove("ion-activated")})),t&&r!==n&&n.click(),n=void 0}};return(0,Jo.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:function(t){return i(t.currentX,t.currentY,wr)},onMove:function(t){return i(t.currentX,t.currentY,kr)},onEnd:function(){a(!0),_r(),r=void 0}})},Qo=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,r])},ta=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,r])},ea=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,r])},na=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,r])},ra=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.didPresent=(0,gt.yM)((0,ut.Z)(t),"ionActionSheetDidPresent",7),t.willPresent=(0,gt.yM)((0,ut.Z)(t),"ionActionSheetWillPresent",7),t.willDismiss=(0,gt.yM)((0,ut.Z)(t),"ionActionSheetWillDismiss",7),t.didDismiss=(0,gt.yM)((0,ut.Z)(t),"ionActionSheetDidDismiss",7),t.presented=!1,t.keyboardClose=!0,t.buttons=[],t.backdropDismiss=!0,t.translucent=!1,t.animated=!0,t.onBackdropTap=function(){t.dismiss(void 0,he)},t.dispatchCancelHandler=function(e){var n=e.detail.role;if(ue(n)){var r=t.getButtons().find((function(t){return"cancel"===t.role}));t.callButtonHandler(r)}},t}return(0,pt.Z)(n,[{key:"present",value:function(){return re(this,"actionSheetEnter",Qo,ea)}},{key:"connectedCallback",value:function(){Gt(this.el)}},{key:"dismiss",value:function(t,e){return oe(this,t,e,"actionSheetLeave",ta,na)}},{key:"onDidDismiss",value:function(){return le(this.el,"ionActionSheetDidDismiss")}},{key:"onWillDismiss",value:function(){return le(this.el,"ionActionSheetWillDismiss")}},{key:"buttonClick",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.role,!ue(n)){t.next=3;break}return t.abrupt("return",this.dismiss(e.data,n));case 3:return t.next=5,this.callButtonHandler(e);case 5:if(!t.sent){t.next=8;break}return t.abrupt("return",this.dismiss(e.data,e.role));case 8:return t.abrupt("return",Promise.resolve());case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"callButtonHandler",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,fe(e.handler);case 3:if(!1!==t.sent){t.next=6;break}return t.abrupt("return",!1);case 6:return t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getButtons",value:function(){return this.buttons.map((function(t){return"string"===typeof t?{text:t}:t}))}},{key:"disconnectedCallback",value:function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}},{key:"componentDidLoad",value:function(){var t=this,e=this.groupEl,n=this.wrapperEl;!this.gesture&&"md"!==zt(this)&&n&&e&&(0,gt.wj)((function(){e.scrollHeight>e.clientHeight||(t.gesture=Ko(n,(function(t){return t.classList.contains("action-sheet-button")})),t.gesture.enable(!0))}))}},{key:"render",value:function(){var t=this,e=this.header,n=this.htmlAttributes,r=this.overlayIndex,i=zt(this),o=this.getButtons(),a=o.find((function(t){return"cancel"===t.role})),s=o.filter((function(t){return"cancel"!==t.role})),l="action-sheet-".concat(r,"-header");return(0,gt.h)(gt.AA,Object.assign({role:"dialog","aria-modal":"true","aria-labelledby":void 0!==e?l:null,tabindex:"-1"},n,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign((0,st.Z)({},i,!0),Ue(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,gt.h)("ion-backdrop",{tappable:this.backdropDismiss}),(0,gt.h)("div",{tabindex:"0"}),(0,gt.h)("div",{class:"action-sheet-wrapper ion-overlay-wrapper",ref:function(e){return t.wrapperEl=e}},(0,gt.h)("div",{class:"action-sheet-container"},(0,gt.h)("div",{class:"action-sheet-group",ref:function(e){return t.groupEl=e}},void 0!==e&&(0,gt.h)("div",{id:l,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":void 0!==this.subHeader}},e,this.subHeader&&(0,gt.h)("div",{class:"action-sheet-sub-title"},this.subHeader)),s.map((function(e){return(0,gt.h)("button",{type:"button",id:e.id,class:ia(e),onClick:function(){return t.buttonClick(e)}},(0,gt.h)("span",{class:"action-sheet-button-inner"},e.icon&&(0,gt.h)("ion-icon",{icon:e.icon,lazy:!1,class:"action-sheet-icon"}),e.text),"md"===i&&(0,gt.h)("ion-ripple-effect",null))}))),a&&(0,gt.h)("div",{class:"action-sheet-group action-sheet-group-cancel"},(0,gt.h)("button",{type:"button",class:ia(a),onClick:function(){return t.buttonClick(a)}},(0,gt.h)("span",{class:"action-sheet-button-inner"},a.icon&&(0,gt.h)("ion-icon",{icon:a.icon,lazy:!1,class:"action-sheet-icon"}),a.text),"md"===i&&(0,gt.h)("ion-ripple-effect",null))))),(0,gt.h)("div",{tabindex:"0"}))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:'.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color, #fff));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-400, #999999);text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-container.sc-ion-action-sheet-ios{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-container.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{padding-left:10px;padding-right:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, #999999));font-size:13px;font-weight:400;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:13px;font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{padding-left:18px;padding-right:18px;padding-top:18px;padding-bottom:18px;height:56px;font-size:20px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:18px;padding-inline-start:18px;-webkit-padding-end:18px;padding-inline-end:18px}}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:0.3em;font-size:28px;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #eb445a)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #eb445a)}}',md:'.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, #262626);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-title.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:16px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-icon.sc-ion-action-sheet-md{padding-bottom:4px;margin-left:0;margin-right:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-icon.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px}}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}'}}}]),n}(gt.mv),[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]),ia=function(t){return Object.assign((0,st.Z)({"action-sheet-button":!0,"ion-activatable":!0,"ion-focusable":!0},"action-sheet-".concat(t.role),void 0!==t.role),Ue(t.cssClass))};function oa(){if("undefined"!==typeof customElements){["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach((function(t){switch(t){case"ion-action-sheet":customElements.get(t)||customElements.define(t,ra);break;case"ion-backdrop":customElements.get(t)||je();break;case"ion-icon":customElements.get(t)||Ie();break;case"ion-ripple-effect":customElements.get(t)||nn()}}))}}var aa=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,r])},sa=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,r])},la=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,r])},ca=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(t.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,r])},ua=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.didPresent=(0,gt.yM)((0,ut.Z)(t),"ionAlertDidPresent",7),t.willPresent=(0,gt.yM)((0,ut.Z)(t),"ionAlertWillPresent",7),t.willDismiss=(0,gt.yM)((0,ut.Z)(t),"ionAlertWillDismiss",7),t.didDismiss=(0,gt.yM)((0,ut.Z)(t),"ionAlertDidDismiss",7),t.processedInputs=[],t.processedButtons=[],t.presented=!1,t.keyboardClose=!0,t.buttons=[],t.inputs=[],t.backdropDismiss=!0,t.translucent=!1,t.animated=!0,t.onBackdropTap=function(){t.dismiss(void 0,he)},t.dispatchCancelHandler=function(e){var n=e.detail.role;if(ue(n)){var r=t.processedButtons.find((function(t){return"cancel"===t.role}));t.callButtonHandler(r)}},t}return(0,pt.Z)(n,[{key:"onKeydown",value:function(t){var e=new Set(this.processedInputs.map((function(t){return t.type})));if(e.has("radio")&&(!t.target||this.el.contains(t.target))&&!t.target.classList.contains("alert-button")){var n,r=this.el.querySelectorAll(".alert-radio"),i=Array.from(r).filter((function(t){return!t.disabled})),o=i.findIndex((function(e){return e.id===t.target.id}));if(["ArrowDown","ArrowRight"].includes(t.code)&&(n=o===i.length-1?i[0]:i[o+1]),["ArrowUp","ArrowLeft"].includes(t.code)&&(n=0===o?i[i.length-1]:i[o-1]),n&&i.includes(n)){var a=this.processedInputs.find((function(t){return t.id===(null===n||void 0===n?void 0:n.id)}));a&&(this.rbClick(a),n.focus())}}}},{key:"buttonsChanged",value:function(){var t=this.buttons;this.processedButtons=t.map((function(t){return"string"===typeof t?{text:t,role:"cancel"===t.toLowerCase()?"cancel":void 0}:t}))}},{key:"inputsChanged",value:function(){var t=this,e=this.inputs,n=e.find((function(t){return!t.disabled})),r=e.find((function(t){return t.checked&&!t.disabled}))||n,i=new Set(e.map((function(t){return t.type})));i.has("checkbox")&&i.has("radio")&&console.warn("Alert cannot mix input types: ".concat(Array.from(i.values()).join("/"),". Please see alert docs for more info.")),this.inputType=i.values().next().value,this.processedInputs=e.map((function(e,n){return{type:e.type||"text",name:e.name||"".concat(n),placeholder:e.placeholder||"",value:e.value,label:e.label,checked:!!e.checked,disabled:!!e.disabled,id:e.id||"alert-input-".concat(t.overlayIndex,"-").concat(n),handler:e.handler,min:e.min,max:e.max,cssClass:e.cssClass||"",attributes:e.attributes||{},tabindex:"radio"===e.type&&e!==r?-1:0}}))}},{key:"connectedCallback",value:function(){Gt(this.el)}},{key:"componentWillLoad",value:function(){this.inputsChanged(),this.buttonsChanged()}},{key:"disconnectedCallback",value:function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}},{key:"componentDidLoad",value:function(){!this.gesture&&"md"!==zt(this)&&this.wrapperEl&&(this.gesture=Ko(this.wrapperEl,(function(t){return t.classList.contains("alert-button")})),this.gesture.enable(!0))}},{key:"present",value:function(){return re(this,"alertEnter",aa,la)}},{key:"dismiss",value:function(t,e){return oe(this,t,e,"alertLeave",sa,ca)}},{key:"onDidDismiss",value:function(){return le(this.el,"ionAlertDidDismiss")}},{key:"onWillDismiss",value:function(){return le(this.el,"ionAlertWillDismiss")}},{key:"rbClick",value:function(t){var e,n=(0,Ne.Z)(this.processedInputs);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.checked=r===t,r.tabindex=r===t?0:-1}}catch(i){n.e(i)}finally{n.f()}this.activeId=t.id,fe(t.handler,t),(0,gt.xE)(this)}},{key:"cbClick",value:function(t){t.checked=!t.checked,fe(t.handler,t),(0,gt.xE)(this)}},{key:"buttonClick",value:function(t){var e=t.role,n=this.getValues();if(ue(e))return this.dismiss({values:n},e);var r=this.callButtonHandler(t,n);return!1!==r?this.dismiss(Object.assign({values:n},r),t.role):Promise.resolve(!1)}},{key:"callButtonHandler",value:function(t,e){if(null===t||void 0===t?void 0:t.handler){var n=fe(t.handler,e);if(!1===n)return!1;if("object"===typeof n)return n}return{}}},{key:"getValues",value:function(){if(0!==this.processedInputs.length){if("radio"===this.inputType){var t=this.processedInputs.find((function(t){return!!t.checked}));return t?t.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter((function(t){return t.checked})).map((function(t){return t.value}));var e={};return this.processedInputs.forEach((function(t){e[t.name]=t.value||""})),e}}},{key:"renderAlertInputs",value:function(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}},{key:"renderCheckbox",value:function(){var t=this,e=this.processedInputs,n=zt(this);return 0===e.length?null:(0,gt.h)("div",{class:"alert-checkbox-group"},e.map((function(e){return(0,gt.h)("button",{type:"button",onClick:function(){return t.cbClick(e)},"aria-checked":"".concat(e.checked),id:e.id,disabled:e.disabled,tabIndex:e.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Ue(e.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":e.disabled||!1})},(0,gt.h)("div",{class:"alert-button-inner"},(0,gt.h)("div",{class:"alert-checkbox-icon"},(0,gt.h)("div",{class:"alert-checkbox-inner"})),(0,gt.h)("div",{class:"alert-checkbox-label"},e.label)),"md"===n&&(0,gt.h)("ion-ripple-effect",null))})))}},{key:"renderRadio",value:function(){var t=this,e=this.processedInputs;return 0===e.length?null:(0,gt.h)("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map((function(e){return(0,gt.h)("button",{type:"button",onClick:function(){return t.rbClick(e)},"aria-checked":"".concat(e.checked),disabled:e.disabled,id:e.id,tabIndex:e.tabindex,class:Object.assign(Object.assign({},Ue(e.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":e.disabled||!1}),role:"radio"},(0,gt.h)("div",{class:"alert-button-inner"},(0,gt.h)("div",{class:"alert-radio-icon"},(0,gt.h)("div",{class:"alert-radio-inner"})),(0,gt.h)("div",{class:"alert-radio-label"},e.label)))})))}},{key:"renderInput",value:function(){var t=this.processedInputs;return 0===t.length?null:(0,gt.h)("div",{class:"alert-input-group"},t.map((function(t){var e,n,r,i;return"textarea"===t.type?(0,gt.h)("div",{class:"alert-input-wrapper"},(0,gt.h)("textarea",Object.assign({placeholder:t.placeholder,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:null!==(n=null===(e=t.attributes)||void 0===e?void 0:e.disabled)&&void 0!==n?n:t.disabled,class:da(t),onInput:function(e){var n;t.value=e.target.value,(null===(n=t.attributes)||void 0===n?void 0:n.onInput)&&t.attributes.onInput(e)}}))):(0,gt.h)("div",{class:"alert-input-wrapper"},(0,gt.h)("input",Object.assign({placeholder:t.placeholder,type:t.type,min:t.min,max:t.max,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:null!==(i=null===(r=t.attributes)||void 0===r?void 0:r.disabled)&&void 0!==i?i:t.disabled,class:da(t),onInput:function(e){var n;t.value=e.target.value,(null===(n=t.attributes)||void 0===n?void 0:n.onInput)&&t.attributes.onInput(e)}})))})))}},{key:"renderAlertButtons",value:function(){var t=this,e=this.processedButtons,n=zt(this),r={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return(0,gt.h)("div",{class:r},e.map((function(e){return(0,gt.h)("button",{type:"button",id:e.id,class:fa(e),tabIndex:0,onClick:function(){return t.buttonClick(e)}},(0,gt.h)("span",{class:"alert-button-inner"},e.text),"md"===n&&(0,gt.h)("ion-ripple-effect",null))})))}},{key:"render",value:function(){var t,e=this,n=this.overlayIndex,r=this.header,i=this.subHeader,o=this.message,a=this.htmlAttributes,s=zt(this),l="alert-".concat(n,"-hdr"),c="alert-".concat(n,"-sub-hdr"),u="alert-".concat(n,"-msg"),d=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",f=r?l:i?c:null;return(0,gt.h)(gt.AA,Object.assign({role:d,"aria-modal":"true","aria-labelledby":f,"aria-describedby":o?u:null,tabindex:"-1"},a,{style:{zIndex:"".concat(2e4+n)},class:Object.assign(Object.assign({},Ue(this.cssClass)),(t={},(0,st.Z)(t,s,!0),(0,st.Z)(t,"overlay-hidden",!0),(0,st.Z)(t,"alert-translucent",this.translucent),t)),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,gt.h)("ion-backdrop",{tappable:this.backdropDismiss}),(0,gt.h)("div",{tabindex:"0"}),(0,gt.h)("div",{class:"alert-wrapper ion-overlay-wrapper",ref:function(t){return e.wrapperEl=t}},(0,gt.h)("div",{class:"alert-head"},r&&(0,gt.h)("h2",{id:l,class:"alert-title"},r),i&&(0,gt.h)("h2",{id:c,class:"alert-sub-title"},i)),(0,gt.h)("div",{id:u,class:"alert-message",innerHTML:ki(o)}),this.renderAlertInputs(),this.renderAlertButtons()),(0,gt.h)("div",{tabindex:"0"}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{buttons:["buttonsChanged"],inputs:["inputsChanged"]}}},{key:"style",get:function(){return{ios:".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{height:44px}.alert-radio-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px;top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}.alert-checkbox-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;margin-left:16px;margin-right:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-icon.sc-ion-alert-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px}}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px;top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}.alert-button-group.sc-ion-alert-ios{margin-right:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-ios{margin-right:unset;-webkit-margin-end:-0.55px;margin-inline-end:-0.55px}}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}",md:".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{padding-left:23px;padding-right:23px;padding-top:20px;padding-bottom:15px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px}}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:24px;padding-right:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;height:48px;overflow:hidden}.alert-radio-label.sc-ion-alert-md{padding-left:52px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-radio-icon.sc-ion-alert-md{left:26px;top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}.alert-radio-inner.sc-ion-alert-md{left:3px;top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{padding-left:53px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-checkbox-icon.sc-ion-alert-md{left:26px;top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px;top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}.alert-button-group.sc-ion-alert-md{padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.alert-button.sc-ion-alert-md{border-radius:2px;margin-left:0;margin-right:8px;margin-top:0;margin-bottom:0;padding-left:10px;padding-right:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}"}}}]),n}(gt.mv),[34,"ion-alert",{overlayIndex:[2,"overlay-index"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]]]),da=function(t){var e,n,r;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(n=null===(e=t.attributes)||void 0===e?void 0:e.disabled)&&void 0!==n?n:t.disabled)||!1},Ue(t.cssClass)),Ue(t.attributes?null===(r=t.attributes.class)||void 0===r?void 0:r.toString():""))},fa=function(t){return Object.assign((0,st.Z)({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0},"alert-button-role-".concat(t.role),void 0!==t.role),Ue(t.cssClass))};function ha(){if("undefined"!==typeof customElements){["ion-alert","ion-backdrop","ion-ripple-effect"].forEach((function(t){switch(t){case"ion-alert":customElements.get(t)||customElements.define(t,ua);break;case"ion-backdrop":customElements.get(t)||je();break;case"ion-ripple-effect":customElements.get(t)||nn()}}))}}var pa=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.options=[],t}return(0,pt.Z)(n,[{key:"onSelect",value:function(t){this.setChecked(t),this.callOptionHandler(t)}},{key:"findOptionFromEvent",value:function(t){return this.options.find((function(e){return e.value===t.target.value}))}},{key:"callOptionHandler",value:function(t){var e=this.findOptionFromEvent(t),n=this.getValues(t);(null===e||void 0===e?void 0:e.handler)&&fe(e.handler,n)}},{key:"rbClick",value:function(t){this.callOptionHandler(t)}},{key:"setChecked",value:function(t){var e=this.multiple,n=this.findOptionFromEvent(t);e&&n&&(n.checked=t.detail.checked)}},{key:"getValues",value:function(t){var e=this.multiple,n=this.options;if(e)return n.filter((function(t){return t.checked})).map((function(t){return t.value}));var r=this.findOptionFromEvent(t);return r?r.value:void 0}},{key:"renderOptions",value:function(t){return!0===this.multiple?this.renderCheckboxOptions(t):this.renderRadioOptions(t)}},{key:"renderCheckboxOptions",value:function(t){return t.map((function(t){return(0,gt.h)("ion-item",{class:Ue(t.cssClass)},(0,gt.h)("ion-checkbox",{slot:"start",value:t.value,disabled:t.disabled,checked:t.checked}),(0,gt.h)("ion-label",null,t.text))}))}},{key:"renderRadioOptions",value:function(t){var e=this,n=t.filter((function(t){return t.checked})).map((function(t){return t.value}))[0];return(0,gt.h)("ion-radio-group",{value:n},t.map((function(t){return(0,gt.h)("ion-item",{class:Ue(t.cssClass)},(0,gt.h)("ion-label",null,t.text),(0,gt.h)("ion-radio",{value:t.value,disabled:t.disabled,onClick:function(t){return e.rbClick(t)}}))})))}},{key:"render",value:function(){var t=this.header,e=this.message,n=this.options,r=this.subHeader,i=void 0!==r||void 0!==e;return(0,gt.h)(gt.AA,{class:zt(this)},(0,gt.h)("ion-list",null,void 0!==t&&(0,gt.h)("ion-list-header",null,t),i&&(0,gt.h)("ion-item",null,(0,gt.h)("ion-label",{class:"ion-text-wrap"},void 0!==r&&(0,gt.h)("h3",null,r),void 0!==e&&(0,gt.h)("p",null,e))),this.renderOptions(n)))}}],[{key:"style",get:function(){return{ios:".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",md:".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md{opacity:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08);--background-focused:var(--ion-color-primary, #3880ff);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #3880ff);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #3880ff)}"}}}]),n}(gt.mv),[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]},[[0,"ionChange","onSelect"]]]);var ga=function(t,e,n){if("undefined"!==typeof MutationObserver){var r=new MutationObserver((function(t){n(ma(t,e))}));return r.observe(t,{childList:!0,subtree:!0}),r}},ma=function(t,e){var n;return t.forEach((function(t){for(var r=0;r<t.addedNodes.length;r++)n=va(t.addedNodes[r],e)||n})),n},va=function(t,e){if(1===t.nodeType)return(t.tagName===e.toUpperCase()?[t]:Array.from(t.querySelectorAll(e))).find((function(e){return e.value===t.value}))},ya=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionChange=(0,gt.yM)((0,ut.Z)(t),"ionChange",7),t.ionCancel=(0,gt.yM)((0,ut.Z)(t),"ionCancel",7),t.ionDismiss=(0,gt.yM)((0,ut.Z)(t),"ionDismiss",7),t.ionFocus=(0,gt.yM)((0,ut.Z)(t),"ionFocus",7),t.ionBlur=(0,gt.yM)((0,ut.Z)(t),"ionBlur",7),t.ionStyle=(0,gt.yM)((0,ut.Z)(t),"ionStyle",7),t.inputId="ion-sel-".concat(Ta++),t.didInit=!1,t.isExpanded=!1,t.disabled=!1,t.cancelText="Cancel",t.okText="OK",t.name=t.inputId,t.multiple=!1,t.interface="alert",t.interfaceOptions={},t.onClick=function(e){t.setFocus(),t.open(e)},t.onFocus=function(){t.ionFocus.emit()},t.onBlur=function(){t.ionBlur.emit()},t}return(0,pt.Z)(n,[{key:"styleChanged",value:function(){this.emitStyle()}},{key:"valueChanged",value:function(){this.emitStyle(),this.didInit&&this.ionChange.emit({value:this.value})}},{key:"connectedCallback",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.updateOverlayOptions(),this.emitStyle(),this.mutationO=ga(this.el,"ion-select-option",(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updateOverlayOptions();case 1:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"disconnectedCallback",value:function(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0)}},{key:"componentDidLoad",value:function(){this.didInit=!0}},{key:"open",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r,i,o=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.disabled&&!this.isExpanded){t.next=2;break}return t.abrupt("return",void 0);case 2:return this.isExpanded=!0,t.next=5,this.createOverlay(e);case 5:return(n=this.overlay=t.sent).onDidDismiss().then((function(){o.overlay=void 0,o.isExpanded=!1,o.ionDismiss.emit(),o.setFocus()})),t.next=9,n.present();case 9:return"popover"===this.interface&&(r=(r=this.childOpts.map((function(t){return t.value})).indexOf(this.value))>-1?r:0,(i=n.querySelector(".select-interface-option:nth-child(".concat(r+1,")")))&&(0,Ft.f)(i)),t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createOverlay",value:function(t){var e=this.interface;return"action-sheet"===e&&this.multiple&&(console.warn('Select interface cannot be "'.concat(e,'" with a multi-value select. Using the "alert" interface instead.')),e="alert"),"popover"!==e||t||(console.warn('Select interface cannot be a "'.concat(e,'" without passing an event. Using the "alert" interface instead.')),e="alert"),"action-sheet"===e?this.openActionSheet():"popover"===e?this.openPopover(t):this.openAlert()}},{key:"updateOverlayOptions",value:function(){var t=this.overlay;if(t){var e=this.childOpts,n=this.value;switch(this.interface){case"action-sheet":t.buttons=this.createActionSheetButtons(e,n);break;case"popover":var r=t.querySelector("ion-select-popover");r&&(r.options=this.createPopoverOptions(e,n));break;case"alert":var i=this.multiple?"checkbox":"radio";t.inputs=this.createAlertInputs(e,i,n)}}}},{key:"createActionSheetButtons",value:function(t,e){var n=this,r=t.map((function(t){var r=xa(t),i=Array.from(t.classList).filter((function(t){return"hydrated"!==t})).join(" "),o="".concat(Ma," ").concat(i);return{role:ba(e,r,n.compareWith)?"selected":"",text:t.textContent,cssClass:o,handler:function(){n.value=r}}}));return r.push({text:this.cancelText,role:"cancel",handler:function(){n.ionCancel.emit()}}),r}},{key:"createAlertInputs",value:function(t,e,n){var r=this,i=t.map((function(t){var i=xa(t),o=Array.from(t.classList).filter((function(t){return"hydrated"!==t})).join(" "),a="".concat(Ma," ").concat(o);return{type:e,cssClass:a,label:t.textContent||"",value:i,checked:ba(n,i,r.compareWith),disabled:t.disabled}}));return i}},{key:"createPopoverOptions",value:function(t,e){var n=this,r=t.map((function(t){var r=xa(t),i=Array.from(t.classList).filter((function(t){return"hydrated"!==t})).join(" "),o="".concat(Ma," ").concat(i);return{text:t.textContent||"",cssClass:o,value:r,checked:ba(e,r,n.compareWith),disabled:t.disabled,handler:function(t){n.value=t,n.multiple||n.close()}}}));return r}},{key:"openPopover",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r,i,o,a,s,l,c,u;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.interfaceOptions,r=zt(this),i="md"!==r,o=this.multiple,a=this.value,s=e,l="auto",(c=this.el.closest("ion-item"))&&(c.classList.contains("item-label-floating")||c.classList.contains("item-label-stacked"))&&(s=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:c}}),l="cover"),u=Object.assign(Object.assign({mode:r,event:s,alignment:"center",size:l,showBackdrop:i},n),{component:"ion-select-popover",cssClass:["select-popover",n.cssClass],componentProps:{header:n.header,subHeader:n.subHeader,message:n.message,multiple:o,value:a,options:this.createPopoverOptions(this.childOpts,a)}}),t.abrupt("return",Wt.create(u));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"openActionSheet",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n,r;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=zt(this),n=this.interfaceOptions,r=Object.assign(Object.assign({mode:e},n),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",n.cssClass]}),t.abrupt("return",Ht.create(r));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"openAlert",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n,r,i,o,a,s=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getLabel(),n=e?e.textContent:null,r=this.interfaceOptions,i=this.multiple?"checkbox":"radio",o=zt(this),a=Object.assign(Object.assign({mode:o},r),{header:r.header?r.header:n,inputs:this.createAlertInputs(this.childOpts,i,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:function(){s.ionCancel.emit()}},{text:this.okText,handler:function(t){s.value=t}}],cssClass:["select-alert",r.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]}),t.abrupt("return",Ut.create(a));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"close",value:function(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}},{key:"getLabel",value:function(){return(0,Ft.k)(this.el)}},{key:"hasValue",value:function(){return""!==this.getText()}},{key:"childOpts",get:function(){return Array.from(this.el.querySelectorAll("ion-select-option"))}},{key:"getText",value:function(){var t=this.selectedText;return null!=t&&""!==t?t:_a(this.childOpts,this.value,this.compareWith)}},{key:"setFocus",value:function(){this.focusEl&&this.focusEl.focus()}},{key:"emitStyle",value:function(){this.ionStyle.emit({interactive:!0,"interactive-disabled":this.disabled,select:!0,"select-disabled":this.disabled,"has-placeholder":void 0!==this.placeholder,"has-value":this.hasValue(),"has-focus":this.isExpanded})}},{key:"render",value:function(){var t,e=this,n=this.disabled,r=this.el,i=this.inputId,o=this.isExpanded,a=this.name,s=this.placeholder,l=this.value,c=zt(this),u=(0,Ft.n)(r,i),d=u.labelText,f=u.labelId;(0,Ft.d)(!0,r,a,wa(l),n);var h=!1,p=this.getText();""===p&&void 0!==s&&(p=s,h=!0);var g={"select-text":!0,"select-placeholder":h},m=h?"placeholder":"text",v=void 0!==d?""!==p?"".concat(p,", ").concat(d):d:p;return(0,gt.h)(gt.AA,{onClick:this.onClick,role:"button","aria-haspopup":"listbox","aria-disabled":n?"true":null,"aria-label":v,class:(t={},(0,st.Z)(t,c,!0),(0,st.Z)(t,"in-item",$e("ion-item",r)),(0,st.Z)(t,"select-disabled",n),(0,st.Z)(t,"select-expanded",o),t)},(0,gt.h)("div",{"aria-hidden":"true",class:g,part:m},p),(0,gt.h)("div",{class:"select-icon",role:"presentation",part:"icon"},(0,gt.h)("div",{class:"select-icon-inner"})),(0,gt.h)("label",{id:f},v),(0,gt.h)("button",{type:"button",disabled:n,id:i,"aria-labelledby":f,"aria-haspopup":"listbox","aria-expanded":"".concat(o),onFocus:this.onFocus,onBlur:this.onBlur,ref:function(t){return e.focusEl=t}}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{disabled:["styleChanged"],placeholder:["styleChanged"],isExpanded:["styleChanged"],value:["valueChanged"]}}},{key:"style",get:function(){return{ios:":host{--placeholder-color:currentColor;--placeholder-opacity:0.33;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);overflow:hidden;z-index:2}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}:host(.in-item){position:static;max-width:45%}:host(.select-disabled){opacity:0.4;pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{position:relative}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.select-icon-inner{left:5px;top:50%;margin-top:-2px;position:absolute;width:0;height:0;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;color:currentColor;pointer-events:none}[dir=rtl] .select-icon-inner,:host-context([dir=rtl]) .select-icon-inner{left:unset;right:unset;right:5px}:host{--padding-top:10px;--padding-end:10px;--padding-bottom:10px;--padding-start:20px}.select-icon{width:12px;height:18px;opacity:0.33}",md:":host{--placeholder-color:currentColor;--placeholder-opacity:0.33;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);overflow:hidden;z-index:2}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}:host(.in-item){position:static;max-width:45%}:host(.select-disabled){opacity:0.4;pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{position:relative}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.select-icon-inner{left:5px;top:50%;margin-top:-2px;position:absolute;width:0;height:0;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;color:currentColor;pointer-events:none}[dir=rtl] .select-icon-inner,:host-context([dir=rtl]) .select-icon-inner{left:unset;right:unset;right:5px}:host{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:16px}.select-icon{width:19px;height:19px;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:0.55}:host-context(.item-label-stacked) .select-icon,:host-context(.item-label-floating:not(.item-fill-outline)) .select-icon,:host-context(.item-label-floating.item-fill-outline){-webkit-transform:translate3d(0,  -9px,  0);transform:translate3d(0,  -9px,  0)}:host-context(.item-has-focus) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host-context(.item-has-focus.item-label-stacked) .select-icon,:host-context(.item-has-focus.item-label-floating:not(.item-fill-outline)) .select-icon{-webkit-transform:translate3d(0,  -9px,  0) rotate(180deg);transform:translate3d(0,  -9px,  0) rotate(180deg)}:host-context(ion-item.ion-focused) .select-icon,:host-context(.item-has-focus) .select-icon{color:var(--highlight-color-focused);opacity:1}"}}}]),n}(gt.mv),[33,"ion-select",{disabled:[4],cancelText:[1,"cancel-text"],okText:[1,"ok-text"],placeholder:[1],name:[1],selectedText:[1,"selected-text"],multiple:[4],interface:[1],interfaceOptions:[8,"interface-options"],compareWith:[1,"compare-with"],value:[1032],isExpanded:[32],open:[64]}]),ba=function(t,e,n){return void 0!==t&&(Array.isArray(t)?t.some((function(t){return ka(t,e,n)})):ka(t,e,n))},xa=function(t){var e=t.value;return void 0===e?t.textContent||"":e},wa=function(t){if(null!=t)return Array.isArray(t)?t.join(","):t.toString()},ka=function(t,e,n){return"function"===typeof n?n(t,e):"string"===typeof n?t[n]===e[n]:Array.isArray(e)?e.includes(t):t===e},_a=function(t,e,n){return void 0===e?"":Array.isArray(e)?e.map((function(e){return Aa(t,e,n)})).filter((function(t){return null!==t})).join(", "):Aa(t,e,n)||""},Aa=function(t,e,n){var r=t.find((function(t){return ka(e,xa(t),n)}));return r?r.textContent:null},Ta=0,Ma="select-interface-option";var Ea=function(){if("undefined"!==typeof customElements){["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-note","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-popover"].forEach((function(t){switch(t){case"ion-select":customElements.get(t)||customElements.define(t,ya);break;case"ion-action-sheet":customElements.get(t)||oa();break;case"ion-alert":customElements.get(t)||ha();break;case"ion-backdrop":customElements.get(t)||je();break;case"ion-checkbox":customElements.get(t)||Je();break;case"ion-icon":customElements.get(t)||Ie();break;case"ion-item":customElements.get(t)||vr();break;case"ion-label":customElements.get(t)||br();break;case"ion-list":customElements.get(t)||ji();break;case"ion-list-header":customElements.get(t)||Ui();break;case"ion-note":customElements.get(t)||gr();break;case"ion-popover":customElements.get(t)||Kr();break;case"ion-radio":customElements.get(t)||bo();break;case"ion-radio-group":customElements.get(t)||ko();break;case"ion-ripple-effect":customElements.get(t)||nn();break;case"ion-select-popover":customElements.get(t)||"undefined"!==typeof customElements&&["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-note","ion-radio","ion-radio-group","ion-ripple-effect"].forEach((function(t){switch(t){case"ion-select-popover":customElements.get(t)||customElements.define(t,pa);break;case"ion-checkbox":customElements.get(t)||Je();break;case"ion-icon":customElements.get(t)||Ie();break;case"ion-item":customElements.get(t)||vr();break;case"ion-label":customElements.get(t)||br();break;case"ion-list":customElements.get(t)||ji();break;case"ion-list-header":customElements.get(t)||Ui();break;case"ion-note":customElements.get(t)||gr();break;case"ion-radio":customElements.get(t)||bo();break;case"ion-radio-group":customElements.get(t)||ko();break;case"ion-ripple-effect":customElements.get(t)||nn()}}))}}))}},Ca=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.inputId="ion-selopt-".concat(Sa++),t.disabled=!1,t}return(0,pt.Z)(n,[{key:"render",value:function(){return(0,gt.h)(gt.AA,{role:"option",id:this.inputId,class:zt(this)})}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return":host{display:none}"}}]),n}(gt.mv),[1,"ion-select-option",{disabled:[4],value:[8]}]),Sa=0;var Oa=function(){if("undefined"!==typeof customElements){["ion-select-option"].forEach((function(t){if("ion-select-option"===t)customElements.get(t)||customElements.define(t,Ca)}))}};gt.mv;gt.mv;gt.mv;var La=function(t){return Promise.all(Array.from(t.querySelectorAll("ion-slide")).map((function(t){return new Promise((function(e){return(0,Ft.c)(t,e)}))})))};var Pa="split-pane-main",Da="split-pane-side",Ra={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",never:""},Ia=(gt.mv,function(t,e){var n,r;e?(n=Pa,r=Da):(n=Da,r=Pa);var i=t.classList;i.add(n),i.remove(r)});gt.mv;gt.mv;gt.mv;var za=0;gt.mv;var Na=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionStyle=(0,gt.yM)((0,ut.Z)(t),"ionStyle",7),t}return(0,pt.Z)(n,[{key:"sizeChanged",value:function(){this.emitStyle()}},{key:"connectedCallback",value:function(){this.emitStyle()}},{key:"emitStyle",value:function(){var t=this.getSize();this.ionStyle.emit((0,st.Z)({},"title-".concat(t),!0))}},{key:"getSize",value:function(){return void 0!==this.size?this.size:"default"}},{key:"render",value:function(){var t,e=zt(this),n=this.getSize();return(0,gt.h)(gt.AA,{class:Ze(this.color,(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"title-".concat(n),!0),(0,st.Z)(t,"title-rtl","rtl"===document.dir),t))},(0,gt.h)("div",{class:"toolbar-title"},(0,gt.h)("slot",null)))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{size:["sizeChanged"]}}},{key:"style",get:function(){return{ios:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{left:0;top:0;padding-left:90px;padding-right:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px}}:host(.title-small){padding-left:9px;padding-right:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:13px;font-weight:normal}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.title-small){padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}:host(.title-large){padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;-webkit-transform-origin:left center;transform-origin:left center;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;padding-bottom:6px;font-size:34px;font-weight:700;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.title-large){padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}",md:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{padding-left:20px;padding-right:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:0.0125em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px}}:host(.title-small){width:100%;height:100%;font-size:15px;font-weight:normal}"}}}]),n}(gt.mv),[33,"ion-title",{color:[513],size:[1]}]);var Ba=function(){if("undefined"!==typeof customElements){["ion-title"].forEach((function(t){if("ion-title"===t)customElements.get(t)||customElements.define(t,Na)}))}},Fa=(0,gt.GH)(function(t){(0,dt.Z)(r,t);var e=(0,ft.Z)(r);function r(){var t;return(0,ht.Z)(this,r),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionChange=(0,gt.yM)((0,ut.Z)(t),"ionChange",7),t.ionFocus=(0,gt.yM)((0,ut.Z)(t),"ionFocus",7),t.ionBlur=(0,gt.yM)((0,ut.Z)(t),"ionBlur",7),t.ionStyle=(0,gt.yM)((0,ut.Z)(t),"ionStyle",7),t.inputId="ion-tg-".concat($a++),t.lastDrag=0,t.activated=!1,t.name=t.inputId,t.checked=!1,t.disabled=!1,t.value="on",t.enableOnOffLabels=void 0,t.onClick=function(e){e.preventDefault(),t.lastDrag+300<Date.now()&&(t.checked=!t.checked)},t.onFocus=function(){t.ionFocus.emit()},t.onBlur=function(){t.ionBlur.emit()},t.getSwitchLabelIcon=function(t,e){return"md"===t?e?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Checkmark</title><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>":we:e?we:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipse</title><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"},t}return(0,pt.Z)(r,[{key:"checkedChanged",value:function(t){this.ionChange.emit({checked:t,value:this.value})}},{key:"disabledChanged",value:function(){this.emitStyle(),this.gesture&&this.gesture.enable(!this.disabled)}},{key:"connectedCallback",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.bind(n,7909));case 2:this.gesture=t.sent.createGesture({el:this.el,gestureName:"toggle",gesturePriority:100,threshold:5,passive:!1,onStart:function(){return e.onStart()},onMove:function(t){return e.onMove(t)},onEnd:function(t){return e.onEnd(t)}}),this.disabledChanged();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"disconnectedCallback",value:function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}},{key:"componentWillLoad",value:function(){this.emitStyle()}},{key:"emitStyle",value:function(){this.ionStyle.emit({"interactive-disabled":this.disabled})}},{key:"onStart",value:function(){this.activated=!0,this.setFocus()}},{key:"onMove",value:function(t){ja((0,hn.i)(this.el),this.checked,t.deltaX,-10)&&(this.checked=!this.checked,xr.selection())}},{key:"onEnd",value:function(t){this.activated=!1,this.lastDrag=Date.now(),t.event.preventDefault(),t.event.stopImmediatePropagation()}},{key:"getValue",value:function(){return this.value||""}},{key:"setFocus",value:function(){this.focusEl&&this.focusEl.focus()}},{key:"renderOnOffSwitchLabels",value:function(t,e){var n=this.getSwitchLabelIcon(t,e);return(0,gt.h)("ion-icon",{class:{"toggle-switch-icon":!0,"toggle-switch-icon-checked":e},icon:n})}},{key:"render",value:function(){var t,e=this,n=this.activated,r=this.color,i=this.checked,o=this.disabled,a=this.el,s=this.inputId,l=this.name,c=this.enableOnOffLabels,u=zt(this),d=(0,Ft.n)(a,s),f=d.label,h=d.labelId,p=d.labelText,g=this.getValue();return(0,Ft.d)(!0,a,l,i?g:"",o),(0,gt.h)(gt.AA,{onClick:this.onClick,"aria-labelledby":f?h:null,"aria-checked":"".concat(i),"aria-hidden":o?"true":null,role:"switch",class:Ze(r,(t={},(0,st.Z)(t,u,!0),(0,st.Z)(t,"in-item",$e("ion-item",a)),(0,st.Z)(t,"toggle-activated",n),(0,st.Z)(t,"toggle-checked",i),(0,st.Z)(t,"toggle-disabled",o),(0,st.Z)(t,"interactive",!0),t))},(0,gt.h)("div",{class:"toggle-icon",part:"track"},c&&"ios"===u&&[this.renderOnOffSwitchLabels(u,!0),this.renderOnOffSwitchLabels(u,!1)],(0,gt.h)("div",{class:"toggle-icon-wrapper"},(0,gt.h)("div",{class:"toggle-inner",part:"handle"},c&&"md"===u&&this.renderOnOffSwitchLabels(u,i)))),(0,gt.h)("label",{htmlFor:s},p),(0,gt.h)("input",{type:"checkbox",role:"switch","aria-checked":"".concat(i),disabled:o,id:s,onFocus:function(){return e.onFocus()},onBlur:function(){return e.onBlur()},ref:function(t){return e.focusEl=t}}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{checked:["checkedChanged"],disabled:["disabledChanged"]}}},{key:"style",get:function(){return{ios:":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;outline:none;contain:content;cursor:pointer;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0;pointer-events:none}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--background);pointer-events:none;overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--background-checked)}.toggle-inner{left:var(--handle-spacing);border-radius:var(--handle-border-radius);position:absolute;width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}[dir=rtl] .toggle-inner,:host-context([dir=rtl]) .toggle-inner{left:unset;right:unset;right:var(--handle-spacing)}:host(.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host-context([dir=rtl]):host(.toggle-checked) .toggle-icon-wrapper,:host-context([dir=rtl]).toggle-checked .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);background:var(--handle-background-checked)}:host-context([dir=rtl]):host(.toggle-checked) .toggle-inner,:host-context([dir=rtl]).toggle-checked .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.088);--background-checked:var(--ion-color-primary, #3880ff);--border-radius:16px;--handle-background:#ffffff;--handle-background-checked:#ffffff;--handle-border-radius:25.5px;--handle-box-shadow:0 3px 12px rgba(0, 0, 0, 0.16), 0 3px 1px rgba(0, 0, 0, 0.1);--handle-height:calc(32px - (2px * 2));--handle-max-height:calc(100% - var(--handle-spacing) * 2);--handle-width:calc(32px - (2px * 2));--handle-spacing:2px;--handle-transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms;width:51px;height:32px;contain:strict;overflow:hidden}:host(.ion-color.toggle-checked) .toggle-icon{background:var(--ion-color-base)}:host(.toggle-activated) .toggle-switch-icon{opacity:0}.toggle-icon{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:background-color 300ms;transition:background-color 300ms}.toggle-inner{will-change:transform}.toggle-switch-icon{position:absolute;top:50%;width:11px;height:11px;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:opacity 300ms, color 300ms;transition:opacity 300ms, color 300ms}.toggle-switch-icon{right:6px;position:absolute;color:var(--ion-color-dark)}[dir=rtl] .toggle-switch-icon,:host-context([dir=rtl]) .toggle-switch-icon{right:initial;left:6px;}:host(.toggle-checked) .toggle-switch-icon.toggle-switch-icon-checked{color:var(--ion-color-contrast, #fff)}:host(.toggle-checked) .toggle-switch-icon:not(.toggle-switch-icon-checked){opacity:0}.toggle-switch-icon-checked{right:initial;left:4px;position:absolute;width:15px;height:15px;-webkit-transform:translateY(-50%) rotate(90deg);transform:translateY(-50%) rotate(90deg)}[dir=rtl] .toggle-switch-icon-checked,:host-context([dir=rtl]) .toggle-switch-icon-checked{right:4px}:host(.toggle-activated) .toggle-icon::before,:host(.toggle-checked) .toggle-icon::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated.toggle-checked) .toggle-inner::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated) .toggle-inner{width:calc(var(--handle-width) + 6px)}:host(.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0);transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0)}:host-context([dir=rtl]):host(.toggle-activated.toggle-checked) .toggle-icon-wrapper,:host-context([dir=rtl]).toggle-activated.toggle-checked .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0);transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0)}:host(.toggle-disabled){opacity:0.3}:host(.in-item[slot]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:20px;padding-right:10px;padding-top:6px;padding-bottom:5px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot]){padding-left:unset;padding-right:unset;-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:10px;padding-inline-end:10px}}:host(.in-item[slot=start]){padding-left:0;padding-right:16px;padding-top:6px;padding-bottom:5px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){padding-left:unset;padding-right:unset;-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:16px;padding-inline-end:16px}}",md:":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;outline:none;contain:content;cursor:pointer;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0;pointer-events:none}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--background);pointer-events:none;overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--background-checked)}.toggle-inner{left:var(--handle-spacing);border-radius:var(--handle-border-radius);position:absolute;width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}[dir=rtl] .toggle-inner,:host-context([dir=rtl]) .toggle-inner{left:unset;right:unset;right:var(--handle-spacing)}:host(.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host-context([dir=rtl]):host(.toggle-checked) .toggle-icon-wrapper,:host-context([dir=rtl]).toggle-checked .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);background:var(--handle-background-checked)}:host-context([dir=rtl]):host(.toggle-checked) .toggle-inner,:host-context([dir=rtl]).toggle-checked .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.39);--background-checked:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.5);--border-radius:14px;--handle-background:#ffffff;--handle-background-checked:var(--ion-color-primary, #3880ff);--handle-border-radius:50%;--handle-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--handle-width:20px;--handle-height:20px;--handle-max-height:calc(100% + 6px);--handle-spacing:0;--handle-transition:transform 160ms cubic-bezier(0.4, 0, 0.2, 1), background-color 160ms cubic-bezier(0.4, 0, 0.2, 1);padding-left:12px;padding-right:12px;padding-top:12px;padding-bottom:12px;width:36px;height:14px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}:host(.ion-color.toggle-checked) .toggle-icon{background:rgba(var(--ion-color-base-rgb), 0.5)}:host(.ion-color.toggle-checked) .toggle-inner{background:var(--ion-color-base)}:host(.toggle-checked) .toggle-inner{color:var(--ion-color-contrast, #fff)}.toggle-icon{-webkit-transition:background-color 160ms;transition:background-color 160ms}.toggle-inner{will-change:background-color, transform;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#000}.toggle-inner .toggle-switch-icon{padding-left:1px;padding-right:1px;padding-top:1px;padding-bottom:1px;width:100%;height:100%}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toggle-inner .toggle-switch-icon{padding-left:unset;padding-right:unset;-webkit-padding-start:1px;padding-inline-start:1px;-webkit-padding-end:1px;padding-inline-end:1px}}:host(.toggle-disabled){opacity:0.3}:host(.in-item[slot]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:16px;padding-right:0;padding-top:12px;padding-bottom:12px;cursor:pointer}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot]){padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:0;padding-inline-end:0}}:host(.in-item[slot=start]){padding-left:2px;padding-right:18px;padding-top:12px;padding-bottom:12px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){padding-left:unset;padding-right:unset;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:18px;padding-inline-end:18px}}"}}}]),r}(gt.mv),[33,"ion-toggle",{color:[513],name:[1],checked:[1028],disabled:[4],value:[1],enableOnOffLabels:[4,"enable-on-off-labels"],activated:[32]}]),ja=function(t,e,n,r){return e?!t&&r>n||t&&-r<n:!t&&-r<n||t&&r>n},$a=0;var Za=function(){if("undefined"!==typeof customElements){["ion-toggle","ion-icon"].forEach((function(t){switch(t){case"ion-toggle":customElements.get(t)||customElements.define(t,Fa);break;case"ion-icon":customElements.get(t)||Ie()}}))}},Ua=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.childrenStyles=new Map,t}return(0,pt.Z)(n,[{key:"componentWillLoad",value:function(){var t=Array.from(this.el.querySelectorAll("ion-buttons")),e=t.find((function(t){return"start"===t.slot}));e&&e.classList.add("buttons-first-slot");var n=t.reverse(),r=n.find((function(t){return"end"===t.slot}))||n.find((function(t){return"primary"===t.slot}))||n.find((function(t){return"secondary"===t.slot}));r&&r.classList.add("buttons-last-slot")}},{key:"childrenStyle",value:function(t){t.stopPropagation();var e=t.target.tagName,n=t.detail,r={},i=this.childrenStyles.get(e)||{},o=!1;Object.keys(n).forEach((function(t){var e="toolbar-".concat(t),a=n[t];a!==i[e]&&(o=!0),a&&(r[e]=!0)})),o&&(this.childrenStyles.set(e,r),(0,gt.xE)(this))}},{key:"render",value:function(){var t,e=zt(this),n={};return this.childrenStyles.forEach((function(t){Object.assign(n,t)})),(0,gt.h)(gt.AA,{class:Object.assign(Object.assign({},n),Ze(this.color,(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"in-toolbar",$e("ion-toolbar",this.el)),t)))},(0,gt.h)("div",{class:"toolbar-background"}),(0,gt.h)("div",{class:"toolbar-container"},(0,gt.h)("slot",{name:"start"}),(0,gt.h)("slot",{name:"secondary"}),(0,gt.h)("div",{class:"toolbar-content"},(0,gt.h)("slot",null)),(0,gt.h)("slot",{name:"primary"}),(0,gt.h)("slot",{name:"end"})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toolbar-container{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",md:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toolbar-container{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(ion-segment){min-height:var(--min-height)}::slotted(.buttons-first-slot){margin-left:4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(.buttons-first-slot){margin-left:unset;-webkit-margin-start:4px;margin-inline-start:4px}}::slotted(.buttons-last-slot){margin-right:4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(.buttons-last-slot){margin-right:unset;-webkit-margin-end:4px;margin-inline-end:4px}}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}"}}}]),n}(gt.mv),[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);var Ha=function(){if("undefined"!==typeof customElements){["ion-toolbar"].forEach((function(t){if("ion-toolbar"===t)customElements.get(t)||customElements.define(t,Ua)}))}},Va="item",Wa="header",Ya="footer",Ga=function(t,e){var n=qa(t,e);return n&&t.ownerDocument?t.ownerDocument.importNode(n.content,!0).children[0]:null},qa=function(t,e){switch(e){case Va:return t.querySelector("template:not([name])");case Wa:return t.querySelector("template[name=header]");case Ya:return t.querySelector("template[name=footer]")}},Xa=function(t,e){var n=t.length>0?t[t.length-1].index:0;return 0===e?0:e===n+1?t.length:t.findIndex((function(t){return t.index===e}))},Ja=function(t,e,n){if(0===n&&e.length>=t.length)return e;for(var r=0;r<e.length;r++)t[r+n]=e[r];return t},Ka=function(t,e,n,r,i,o,a,s,l,c,u,d){for(var f=[],h=d+u,p=u;p<h;p++){var g=t[p];if(i){var m=i(g,p,t);null!=m&&f.push({i:c++,type:Wa,value:m,index:p,height:n?n(m,p):a,reads:n?0:2,visible:!!n})}if(f.push({i:c++,type:Va,value:g,index:p,height:e?e(g,p):l,reads:e?0:2,visible:!!e}),o){var v=o(g,p,t);null!=v&&f.push({i:c++,type:Ya,value:v,index:p,height:r?r(v,p):s,reads:r?0:2,visible:!!r})}}return f},Qa=function(t,e,n){for(var r=t[n],i=n;i<t.length;i++)t[i]=r,r+=e[i].height;return r},ts=function(t,e){if(!t)return new Uint32Array(e);if(t.length===e)return t;if(e>t.length){var n=new Uint32Array(e);return n.set(t),n}return t.subarray(0,e)},es=(gt.mv,function(t,e,n){var r=t.dom;return n.map(e,(function(t,e){var n=r[e],i=t.vattrs||{},o=i.class||"";return o+="virtual-item ",n.visible||(o+="virtual-loading"),Object.assign(Object.assign({},t),{vattrs:Object.assign(Object.assign({},i),{class:o,style:Object.assign(Object.assign({},i.style),{transform:"translate3d(0,".concat(n.top,"px,0)")})})})}))});gt.mv;var ns=hr;gt.mv;gt.mv;gt.mv;var rs=mr;gt.mv;var is=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,r])},os=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,r])},as=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,r])},ss=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,r])},ls=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.didPresent=(0,gt.yM)((0,ut.Z)(t),"ionLoadingDidPresent",7),t.willPresent=(0,gt.yM)((0,ut.Z)(t),"ionLoadingWillPresent",7),t.willDismiss=(0,gt.yM)((0,ut.Z)(t),"ionLoadingWillDismiss",7),t.didDismiss=(0,gt.yM)((0,ut.Z)(t),"ionLoadingDidDismiss",7),t.presented=!1,t.keyboardClose=!0,t.duration=0,t.backdropDismiss=!1,t.showBackdrop=!0,t.translucent=!1,t.animated=!0,t.onBackdropTap=function(){t.dismiss(void 0,he)},t}return(0,pt.Z)(n,[{key:"connectedCallback",value:function(){Gt(this.el)}},{key:"componentWillLoad",value:function(){if(void 0===this.spinner){var t=zt(this);this.spinner=vt.get("loadingSpinner",vt.get("spinner","ios"===t?"lines":"crescent"))}}},{key:"present",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(this,"loadingEnter",is,as,void 0);case 2:this.duration>0&&(this.durationTimeout=setTimeout((function(){return e.dismiss()}),this.duration+10));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"dismiss",value:function(t,e){return this.durationTimeout&&clearTimeout(this.durationTimeout),oe(this,t,e,"loadingLeave",os,ss)}},{key:"onDidDismiss",value:function(){return le(this.el,"ionLoadingDidDismiss")}},{key:"onWillDismiss",value:function(){return le(this.el,"ionLoadingWillDismiss")}},{key:"render",value:function(){var t,e=this.message,n=this.spinner,r=this.htmlAttributes,i=zt(this);return(0,gt.h)(gt.AA,Object.assign({tabindex:"-1"},r,{style:{zIndex:"".concat(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},Ue(this.cssClass)),(t={},(0,st.Z)(t,i,!0),(0,st.Z)(t,"overlay-hidden",!0),(0,st.Z)(t,"loading-translucent",this.translucent),t))}),(0,gt.h)("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,gt.h)("div",{tabindex:"0"}),(0,gt.h)("div",{class:"loading-wrapper ion-overlay-wrapper",role:"dialog"},n&&(0,gt.h)("div",{class:"loading-spinner"},(0,gt.h)("ion-spinner",{name:n,"aria-hidden":"true"})),e&&(0,gt.h)("div",{class:"loading-content",innerHTML:ki(e)})),(0,gt.h)("div",{tabindex:"0"}))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;padding-left:34px;padding-right:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}",md:".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;padding-left:24px;padding-right:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}"}}}]),n}(gt.mv),[34,"ion-loading",{overlayIndex:[2,"overlay-index"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]);var cs=function(){if("undefined"!==typeof customElements){["ion-loading","ion-backdrop","ion-spinner"].forEach((function(t){switch(t){case"ion-loading":customElements.get(t)||customElements.define(t,ls);break;case"ion-backdrop":customElements.get(t)||je();break;case"ion-spinner":customElements.get(t)||Ri()}}))}},us=function(t,e){var n=(0,pe.c)(),r=(0,pe.c)(),i=(0,Ft.g)(t).querySelector(".toast-wrapper");switch(r.addElement(i),e){case"top":r.fromTo("transform","translateY(-100%)","translateY(".concat("calc(10px + var(--ion-safe-area-top, 0px))",")"));break;case"middle":var o=Math.floor(t.clientHeight/2-i.clientHeight/2);i.style.top="".concat(o,"px"),r.fromTo("opacity",.01,1);break;default:r.fromTo("transform","translateY(100%)","translateY(".concat("calc(-10px - var(--ion-safe-area-bottom, 0px))",")"))}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(r)},ds=function(t,e){var n=(0,pe.c)(),r=(0,pe.c)(),i=(0,Ft.g)(t).querySelector(".toast-wrapper");switch(r.addElement(i),e){case"top":r.fromTo("transform","translateY(".concat("calc(10px + var(--ion-safe-area-top, 0px))",")"),"translateY(-100%)");break;case"middle":r.fromTo("opacity",.99,0);break;default:r.fromTo("transform","translateY(".concat("calc(-10px - var(--ion-safe-area-bottom, 0px))",")"),"translateY(100%)")}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(r)},fs=function(t,e){var n=(0,pe.c)(),r=(0,pe.c)(),i=(0,Ft.g)(t).querySelector(".toast-wrapper");switch(r.addElement(i),e){case"top":i.style.top="calc(8px + var(--ion-safe-area-top, 0px))",r.fromTo("opacity",.01,1);break;case"middle":var o=Math.floor(t.clientHeight/2-i.clientHeight/2);i.style.top="".concat(o,"px"),r.fromTo("opacity",.01,1);break;default:i.style.bottom="calc(8px + var(--ion-safe-area-bottom, 0px))",r.fromTo("opacity",.01,1)}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(r)},hs=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,Ft.g)(t).querySelector(".toast-wrapper");return n.addElement(r).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},ps=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.didPresent=(0,gt.yM)((0,ut.Z)(t),"ionToastDidPresent",7),t.willPresent=(0,gt.yM)((0,ut.Z)(t),"ionToastWillPresent",7),t.willDismiss=(0,gt.yM)((0,ut.Z)(t),"ionToastWillDismiss",7),t.didDismiss=(0,gt.yM)((0,ut.Z)(t),"ionToastDidDismiss",7),t.presented=!1,t.duration=0,t.keyboardClose=!1,t.position="bottom",t.translucent=!1,t.animated=!0,t.dispatchCancelHandler=function(e){var n=e.detail.role;if(ue(n)){var r=t.getButtons().find((function(t){return"cancel"===t.role}));t.callButtonHandler(r)}},t}return(0,pt.Z)(n,[{key:"connectedCallback",value:function(){Gt(this.el)}},{key:"present",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(this,"toastEnter",us,fs,this.position);case 2:this.duration>0&&(this.durationTimeout=setTimeout((function(){return e.dismiss(void 0,"timeout")}),this.duration));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"dismiss",value:function(t,e){return this.durationTimeout&&clearTimeout(this.durationTimeout),oe(this,t,e,"toastLeave",ds,hs,this.position)}},{key:"onDidDismiss",value:function(){return le(this.el,"ionToastDidDismiss")}},{key:"onWillDismiss",value:function(){return le(this.el,"ionToastWillDismiss")}},{key:"getButtons",value:function(){return this.buttons?this.buttons.map((function(t){return"string"===typeof t?{text:t}:t})):[]}},{key:"buttonClick",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.role,!ue(n)){t.next=3;break}return t.abrupt("return",this.dismiss(void 0,n));case 3:return t.next=5,this.callButtonHandler(e);case 5:if(!t.sent){t.next=8;break}return t.abrupt("return",this.dismiss(void 0,n));case 8:return t.abrupt("return",Promise.resolve());case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"callButtonHandler",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.handler)){t.next=12;break}return t.prev=1,t.next=4,fe(e.handler);case 4:if(!1!==t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:return t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"renderButtons",value:function(t,e){var n=this;if(0!==t.length){var r=zt(this),i=(0,st.Z)({"toast-button-group":!0},"toast-button-group-".concat(e),!0);return(0,gt.h)("div",{class:i},t.map((function(t){return(0,gt.h)("button",{type:"button",class:gs(t),tabIndex:0,onClick:function(){return n.buttonClick(t)},part:"button"},(0,gt.h)("div",{class:"toast-button-inner"},t.icon&&(0,gt.h)("ion-icon",{icon:t.icon,slot:void 0===t.text?"icon-only":void 0,class:"toast-button-icon"}),t.text),"md"===r&&(0,gt.h)("ion-ripple-effect",{type:void 0!==t.icon&&void 0===t.text?"unbounded":"bounded"}))})))}}},{key:"render",value:function(){var t=this.getButtons(),e=t.filter((function(t){return"start"===t.side})),n=t.filter((function(t){return"start"!==t.side})),r=zt(this),i=(0,st.Z)({"toast-wrapper":!0},"toast-".concat(this.position),!0),o=t.length>0?"dialog":"status";return(0,gt.h)(gt.AA,Object.assign({"aria-live":"polite","aria-atomic":"true",role:o,tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:Ze(this.color,Object.assign(Object.assign((0,st.Z)({},r,!0),Ue(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),(0,gt.h)("div",{class:i},(0,gt.h)("div",{class:"toast-container",part:"container"},this.renderButtons(e,"start"),void 0!==this.icon&&(0,gt.h)("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),(0,gt.h)("div",{class:"toast-content"},void 0!==this.header&&(0,gt.h)("div",{class:"toast-header",part:"header"},this.header),void 0!==this.message&&(0,gt.h)("div",{class:"toast-message",part:"message",innerHTML:ki(this.message)})),this.renderButtons(n,"end"))))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",md:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}"}}}]),n}(gt.mv),[33,"ion-toast",{overlayIndex:[2,"overlay-index"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]),gs=function(t){var e;return Object.assign((e={"toast-button":!0,"toast-button-icon-only":void 0!==t.icon&&void 0===t.text},(0,st.Z)(e,"toast-button-".concat(t.role),void 0!==t.role),(0,st.Z)(e,"ion-focusable",!0),(0,st.Z)(e,"ion-activatable",!0),e),Ue(t.cssClass))};var ms=function(){if("undefined"!==typeof customElements){["ion-toast","ion-icon","ion-ripple-effect"].forEach((function(t){switch(t){case"ion-toast":customElements.get(t)||customElements.define(t,ps);break;case"ion-icon":customElements.get(t)||Ie();break;case"ion-ripple-effect":customElements.get(t)||nn()}}))}},vs=(gt.mv,"picker-opt-selected"),ys=.97,bs=90,xs=150;var ws=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(t.querySelector(".picker-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,r])},ks=function(t){var e=(0,pe.c)(),n=(0,pe.c)(),r=(0,pe.c)();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",.01),r.addElement(t.querySelector(".picker-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,r])},_s=(gt.mv,function(t){var e;return e={},(0,st.Z)(e,"picker-toolbar-".concat(t.role),void 0!==t.role),(0,st.Z)(e,"picker-toolbar-button",!0),e}),As=function(t){return Object.assign({"picker-button":!0,"ion-activatable":!0},Ue(t.cssClass))};var Ts,Ms=n(5573);!function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"}(Ts||(Ts={}));var Es={getEngine:function(){var t;return(null===(t=null===ri.w||void 0===ri.w?void 0:ri.w.Capacitor)||void 0===t?void 0:t.isPluginAvailable("StatusBar"))&&(null===ri.w||void 0===ri.w?void 0:ri.w.Capacitor.Plugins.StatusBar)},supportsDefaultStatusBarStyle:function(){var t;return!!(null===(t=null===ri.w||void 0===ri.w?void 0:ri.w.Capacitor)||void 0===t?void 0:t.PluginHeaders)},setStyle:function(t){var e=this.getEngine();e&&e.setStyle(t)}},Cs=function(t,e){if(1===e)return 0;var n=1/(1-e);return t*n+-e*n},Ss=function(){!ri.w||ri.w.innerWidth>=768||!Es.supportsDefaultStatusBarStyle()||Es.setStyle({style:Ts.Dark})},Os=function(){!ri.w||ri.w.innerWidth>=768||!Es.supportsDefaultStatusBarStyle()||Es.setStyle({style:Ts.Default})},Ls=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"===typeof e.canDismiss){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.canDismiss();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:n.isRunning()?n.onFinish((function(){e.dismiss(void 0,"handler")}),{oneTimeCallback:!0}):e.dismiss(void 0,"handler");case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Ps=function(t){return.00255275*Math.pow(2.71828,-14.9619*t)-1.00255*Math.pow(2.71828,-.0380968*t)+1},Ds=.93,Rs=function(t,e,n){var r=.5,i=t.offsetHeight,o=!1,a=!1,s=null,l=null,c=!0,u=0,d=(0,Jo.createGesture)({el:t,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:function(t){var e=t.event.target;if(null===e||!e.closest)return!0;if(s=(0,ni.a)(e)){if((0,ni.i)(s)){var n=(0,Ft.g)(s);l=n.querySelector(".inner-scroll")}else l=s;return!!!s.querySelector("ion-refresher")&&0===l.scrollTop}return null===e.closest("ion-footer")},onStart:function(n){var r=n.deltaY;c=!s||!(0,ni.i)(s)||s.scrollY,a=void 0!==t.canDismiss&&!0!==t.canDismiss,r>0&&s&&(0,ni.d)(s),e.progressStart(!0,o?1:0)},onMove:function(t){t.deltaY>0&&s&&(0,ni.d)(s);var n=t.deltaY/i,o=n>=0&&a,l=o?.2:.9999,c=o?Ps(n/l):n,d=(0,Ft.e)(1e-4,c,l);e.progressStep(d),d>=r&&u<r?Os():d<r&&u>=r&&Ss(),u=d},onEnd:function(l){var u=l.velocityY,f=l.deltaY/i,h=f>=0&&a,p=h?.2:.9999,g=h?Ps(f/p):f,m=(0,Ft.e)(1e-4,g,p),v=(l.deltaY+1e3*u)/i,y=!h&&v>=r,b=y?-.001:.001;y?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),b+=Hi([0,0],[.32,.72],[0,1],[1,1],m)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),b+=Hi([0,0],[1,0],[.68,.28],[1,1],m)[0]);var x=Is(y?f*i:(1-m)*i,u);o=y,d.enable(!1),s&&(0,ni.r)(s,c),e.onFinish((function(){y||d.enable(!0)})).progressEnd(y?1:0,b,x),h&&m>p/4?Ls(t,e):y&&n()}});return d},Is=function(t,e){return(0,Ft.e)(400,t/Math.abs(1.1*e),500)},zs=function(t){var e=t.currentBreakpoint,n=t.backdropBreakpoint,r=void 0===n||n<e,i=r?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",o=(0,pe.c)("backdropAnimation").fromTo("opacity",0,i);return r&&o.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),{wrapperAnimation:(0,pe.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-100*e,"%)")}]),backdropAnimation:o}},Ns=function(t){var e=t.currentBreakpoint,n=t.backdropBreakpoint,r="calc(var(--backdrop-opacity) * ".concat(Cs(e,n),")"),i=[{offset:0,opacity:r},{offset:1,opacity:0}],o=[{offset:0,opacity:r},{offset:n,opacity:0},{offset:1,opacity:0}],a=(0,pe.c)("backdropAnimation").keyframes(0!==n?o:i);return{wrapperAnimation:(0,pe.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-100*e,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:a}},Bs=function(t,e){var n=e.presentingEl,r=e.currentBreakpoint,i=(0,Ft.g)(t),o=void 0!==r?zs(e):{backdropAnimation:(0,pe.c)().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:(0,pe.c)().fromTo("transform","translateY(100vh)","translateY(0vh)")},a=o.wrapperAnimation,s=o.backdropAnimation;s.addElement(i.querySelector("ion-backdrop")),a.addElement(i.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});var l=(0,pe.c)("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(a);if(n){var c=window.innerWidth<768,u="ION-MODAL"===n.tagName&&void 0!==n.presentingElement,d=(0,Ft.g)(n),f=(0,pe.c)().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),h=document.body;if(c){var p=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",g=Ds,m="translateY(".concat(u?"-10px":p,") scale(").concat(g,")");f.afterStyles({transform:m}).beforeAddWrite((function(){return h.style.setProperty("background-color","black")})).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:m,borderRadius:"10px 10px 0 0"}]),l.addAnimation(f)}else if(l.addAnimation(s),u){var v="translateY(-10px) scale(".concat(u?Ds:1,")");f.afterStyles({transform:v}).addElement(d.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:v}]);var y=(0,pe.c)().afterStyles({transform:v}).addElement(d.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:v}]);l.addAnimation([f,y])}else a.fromTo("opacity","0","1")}else l.addAnimation(s);return l},Fs=function(){return{backdropAnimation:(0,pe.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,pe.c)().fromTo("transform","translateY(0vh)","translateY(100vh)")}},js=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=e.presentingEl,i=e.currentBreakpoint,o=(0,Ft.g)(t),a=void 0!==i?Ns(e):Fs(),s=a.wrapperAnimation,l=a.backdropAnimation;l.addElement(o.querySelector("ion-backdrop")),s.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});var c=(0,pe.c)("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(s);if(r){var u=window.innerWidth<768,d="ION-MODAL"===r.tagName&&void 0!==r.presentingElement,f=(0,Ft.g)(r),h=(0,pe.c)().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((function(t){1===t&&(r.style.setProperty("overflow",""),Array.from(p.querySelectorAll("ion-modal")).filter((function(t){return void 0!==t.presentingElement})).length<=1&&p.style.setProperty("background-color",""))})),p=document.body;if(u){var g=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",m=d?"-10px":g,v=Ds,y="translateY(".concat(m,") scale(").concat(v,")");h.addElement(r).keyframes([{offset:0,filter:"contrast(0.85)",transform:y,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),c.addAnimation(h)}else if(c.addAnimation(l),d){var b=d?Ds:1,x="translateY(-10px) scale(".concat(b,")");h.addElement(f.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:x},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);var w=(0,pe.c)().addElement(f.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:x},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);c.addAnimation([h,w])}else s.fromTo("opacity","1","0")}else c.addAnimation(l);return c},$s=function(t,e){var n=e.currentBreakpoint,r=(0,Ft.g)(t),i=void 0!==n?zs(e):{backdropAnimation:(0,pe.c)().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:(0,pe.c)().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])},o=i.wrapperAnimation,a=i.backdropAnimation;return a.addElement(r.querySelector("ion-backdrop")),o.addElement(r.querySelector(".modal-wrapper")),(0,pe.c)().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([a,o])},Zs=function(t,e){var n=e.currentBreakpoint,r=(0,Ft.g)(t),i=void 0!==n?Ns(e):{backdropAnimation:(0,pe.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,pe.c)().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])},o=i.wrapperAnimation,a=i.backdropAnimation;return a.addElement(r.querySelector("ion-backdrop")),o.addElement(r.querySelector(".modal-wrapper")),(0,pe.c)().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([a,o])},Us=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.didPresent=(0,gt.yM)((0,ut.Z)(t),"ionModalDidPresent",7),t.willPresent=(0,gt.yM)((0,ut.Z)(t),"ionModalWillPresent",7),t.willDismiss=(0,gt.yM)((0,ut.Z)(t),"ionModalWillDismiss",7),t.didDismiss=(0,gt.yM)((0,ut.Z)(t),"ionModalDidDismiss",7),t.ionBreakpointDidChange=(0,gt.yM)((0,ut.Z)(t),"ionBreakpointDidChange",7),t.didPresentShorthand=(0,gt.yM)((0,ut.Z)(t),"didPresent",7),t.willPresentShorthand=(0,gt.yM)((0,ut.Z)(t),"willPresent",7),t.willDismissShorthand=(0,gt.yM)((0,ut.Z)(t),"willDismiss",7),t.didDismissShorthand=(0,gt.yM)((0,ut.Z)(t),"didDismiss",7),t.modalIndex=Vs++,t.coreDelegate=Cr(),t.isSheetModal=!1,t.inheritedAttributes={},t.inline=!1,t.gestureAnimationDismissing=!1,t.presented=!1,t.hasController=!1,t.keyboardClose=!0,t.backdropBreakpoint=0,t.handleBehavior="none",t.backdropDismiss=!0,t.showBackdrop=!0,t.animated=!0,t.swipeToClose=!1,t.isOpen=!1,t.keepContentsMounted=!1,t.configureTriggerInteraction=function(){var e=(0,ut.Z)(t),n=e.trigger,r=e.el,i=e.destroyTriggerInteraction;i&&i();var o=void 0!==n?document.getElementById(n):null;if(o){t.destroyTriggerInteraction=function(t,e){var n=function(){e.present()};return t.addEventListener("click",n),function(){t.removeEventListener("click",n)}}(o,r)}},t.onHandleClick=function(){var e=(0,ut.Z)(t),n=e.sheetTransition;"cycle"===e.handleBehavior&&void 0===n&&t.moveToNextBreakpoint()},t.onBackdropTap=function(){void 0===(0,ut.Z)(t).sheetTransition&&t.dismiss(void 0,he)},t.onLifecycle=function(e){var n=t.usersElement,r=Hs[e.type];if(n&&r){var i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(i)}},t}return(0,pt.Z)(n,[{key:"onIsOpenChange",value:function(t,e){!0===t&&!1===e?this.present():!1===t&&!0===e&&this.dismiss()}},{key:"onTriggerChange",value:function(){this.configureTriggerInteraction()}},{key:"swipeToCloseChanged",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gesture){t.next=4;break}this.gesture.enable(e),t.next=7;break;case 4:if(!e){t.next=7;break}return t.next=7,this.initSwipeToClose();case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"breakpointsChanged",value:function(t){void 0!==t&&(this.sortedBreakpoints=t.sort((function(t,e){return t-e})))}},{key:"connectedCallback",value:function(){Gt(this.el)}},{key:"componentWillLoad",value:function(){var t=this.breakpoints,e=this.initialBreakpoint,n=this.swipeToClose,r=this.el;this.inheritedAttributes=(0,Ft.h)(r,["role"]),this.modalId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"ion-modal-".concat(this.modalIndex),(this.isSheetModal=void 0!==t&&void 0!==e)&&(this.currentBreakpoint=this.initialBreakpoint),void 0===t||void 0===e||t.includes(e)||(0,bn.p)("Your breakpoints array must include the initialBreakpoint value."),n&&(0,bn.p)("swipeToClose has been deprecated in favor of canDismiss.\n\nIf you want a card modal to be swipeable, set canDismiss to `true`. In the next major release of Ionic, swipeToClose will be removed, and all card modals will be swipeable by default.")}},{key:"componentDidLoad",value:function(){var t=this;!0===this.isOpen&&(0,Ft.r)((function(){return t.present()})),this.breakpointsChanged(this.breakpoints),this.configureTriggerInteraction()}},{key:"getDelegate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.workingDelegate&&!t)return{delegate:this.workingDelegate,inline:this.inline};var e=this.el.parentNode,n=this.inline=null!==e&&!this.hasController,r=this.workingDelegate=n?this.delegate||this.coreDelegate:this.delegate;return{inline:n,delegate:r}}},{key:"checkCanDismiss",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(e=this.canDismiss)){t.next=3;break}return t.abrupt("return",!0);case 3:if("function"!==typeof e){t.next=5;break}return t.abrupt("return",e());case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"present",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n,r,i,o,a=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.presented){t.next=2;break}return t.abrupt("return");case 2:if(void 0===this.currentTransition){t.next=5;break}return t.next=5,this.currentTransition;case 5:return this.currentBreakpoint=this.initialBreakpoint,e=Object.assign(Object.assign({},this.componentProps),{modal:this.el}),n=this.getDelegate(!0),r=n.inline,i=n.delegate,t.next=10,Mr(i,this.el,this.component,["ion-page"],e,r);case 10:return this.usersElement=t.sent,t.next=13,(0,Sr.e)(this.usersElement);case 13:return(0,gt.Iu)((function(){return a.el.classList.add("show-modal")})),this.currentTransition=re(this,"modalEnter",Bs,$s,{presentingEl:this.presentingElement,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),(o=this.swipeToClose||void 0!==this.canDismiss&&void 0!==this.presentingElement)&&"ios"===zt(this)&&Ss(),t.next=19,this.currentTransition;case 19:if(!this.isSheetModal){t.next=23;break}this.initSheetGesture(),t.next=26;break;case 23:if(!o){t.next=26;break}return t.next=26,this.initSwipeToClose();case 26:"undefined"!==typeof window&&(this.keyboardOpenCallback=function(){a.gesture&&(a.gesture.enable(!1),(0,Ft.r)((function(){a.gesture&&a.gesture.enable(!0)})))},window.addEventListener(Ms.KEYBOARD_DID_OPEN,this.keyboardOpenCallback)),this.currentTransition=void 0;case 28:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initSwipeToClose",value:function(){var t=this;if("ios"===zt(this)){var e=this.el,n=this.leaveAnimation||vt.get("modalLeave",js),r=this.animation=n(e,{presentingEl:this.presentingElement});(0,ni.f)(e)?(this.gesture=Rs(e,r,(function(){t.gestureAnimationDismissing=!0,t.animation.onFinish((0,ct.Z)((0,lt.Z)().mark((function e(){return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dismiss(void 0,"gesture");case 2:t.gestureAnimationDismissing=!1;case 3:case"end":return e.stop()}}),e)}))))})),this.gesture.enable(!0)):(0,ni.p)(e)}}},{key:"initSheetGesture",value:function(){var t=this,e=this.wrapperEl,n=this.initialBreakpoint,r=this.backdropBreakpoint;if(e&&void 0!==n){var i=this.enterAnimation||vt.get("modalEnter",Bs),o=this.animation=i(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:r});o.progressStart(!0,1);var a=function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-i,opacity:0},{offset:1,opacity:0}],f={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==i?d:u},h=t.querySelector("ion-content"),p=n.clientHeight,g=r,m=0,v=!1,y=.95,b=o.childAnimations.find((function(t){return"wrapperAnimation"===t.id})),x=o.childAnimations.find((function(t){return"backdropAnimation"===t.id})),w=a[a.length-1],k=a[0],_=function(){t.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),t.classList.remove("ion-disable-focus-trap")},A=function(){t.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),t.classList.add("ion-disable-focus-trap")};if(b&&x){b.keyframes((0,ot.Z)(f.WRAPPER_KEYFRAMES)),x.keyframes((0,ot.Z)(f.BACKDROP_KEYFRAMES)),o.progressStart(!0,1-g),g>i?_():A()}h&&g!==w&&(h.scrollY=!1);var T=function(t){var e=t.event.target.closest("ion-content");return 1!==(g=s())||!e},M=function(){v=void 0!==t.canDismiss&&!0!==t.canDismiss&&0===k,h&&(h.scrollY=!1),(0,Ft.r)((function(){t.focus()})),o.progressStart(!0,1-g)},E=function(t){var e=1-g,n=a.length>1?1-a[1]:void 0,r=e+t.deltaY/p,i=void 0!==n&&r>=n&&v,s=i?y:.9999,l=i&&void 0!==n?n+Ps((r-n)/(s-n)):r;m=(0,Ft.e)(1e-4,l,s),o.progressStep(m)},C=function(t){var e=t.velocityY,n=(t.deltaY+350*e)/p,r=g-n,i=a.reduce((function(t,e){return Math.abs(e-r)<Math.abs(t-r)?e:t}));S({breakpoint:i,breakpointOffset:m,canDismiss:v})},S=function(e){var n=e.breakpoint,r=e.canDismiss,s=e.breakpointOffset,u=r&&0===n,d=u?g:n,p=0!==d;return g=0,b&&x&&(b.keyframes([{offset:0,transform:"translateY(".concat(100*s,"%)")},{offset:1,transform:"translateY(".concat(100*(1-d),"%)")}]),x.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(Cs(1-s,i),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(Cs(d,i),")")}]),o.progressStep(0)),O.enable(!1),u?Ls(t,o):p||l(),new Promise((function(t){o.onFinish((function(){p?b&&x?(0,Ft.r)((function(){b.keyframes((0,ot.Z)(f.WRAPPER_KEYFRAMES)),x.keyframes((0,ot.Z)(f.BACKDROP_KEYFRAMES)),o.progressStart(!0,1-d),c(g=d),h&&g===a[a.length-1]&&(h.scrollY=!0),g>i?_():A(),O.enable(!0),t()})):(O.enable(!0),t()):t()}),{oneTimeCallback:!0}).progressEnd(1,0,500)}))},O=(0,Jo.createGesture)({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:T,onStart:M,onMove:E,onEnd:C});return{gesture:O,moveSheetToBreakpoint:S}}(this.el,this.backdropEl,e,n,r,o,this.sortedBreakpoints,(function(){var e;return null!==(e=t.currentBreakpoint)&&void 0!==e?e:0}),(function(){return t.sheetOnDismiss()}),(function(e){t.currentBreakpoint!==e&&(t.currentBreakpoint=e,t.ionBreakpointDidChange.emit({breakpoint:e}))})),s=a.gesture,l=a.moveSheetToBreakpoint;this.gesture=s,this.moveSheetToBreakpoint=l,this.gesture.enable(!0)}}},{key:"sheetOnDismiss",value:function(){var t=this;this.gestureAnimationDismissing=!0,this.animation.onFinish((0,ct.Z)((0,lt.Z)().mark((function e(){return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.currentBreakpoint=0,t.ionBreakpointDidChange.emit({breakpoint:t.currentBreakpoint}),e.next=4,t.dismiss(void 0,"gesture");case 4:t.gestureAnimationDismissing=!1;case 5:case"end":return e.stop()}}),e)}))))}},{key:"dismiss",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r,i,o,a,s=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gestureAnimationDismissing||"gesture"===n){t.next=2;break}return t.abrupt("return",!1);case 2:if(t.t0="handler"!==n,!t.t0){t.next=7;break}return t.next=6,this.checkCanDismiss();case 6:t.t0=!t.sent;case 7:if(!t.t0){t.next=9;break}return t.abrupt("return",!1);case 9:if((this.swipeToClose||void 0!==this.canDismiss&&void 0!==this.presentingElement)&&"ios"===zt(this)&&Os(),"undefined"!==typeof window&&this.keyboardOpenCallback&&window.removeEventListener(Ms.KEYBOARD_DID_OPEN,this.keyboardOpenCallback),void 0===this.currentTransition){t.next=15;break}return t.next=15,this.currentTransition;case 15:return r=$t.get(this)||[],this.currentTransition=oe(this,e,n,"modalLeave",js,Zs,{presentingEl:this.presentingElement,currentBreakpoint:this.currentBreakpoint||this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),t.next=19,this.currentTransition;case 19:if(!(i=t.sent)){t.next=28;break}return o=this.getDelegate(),a=o.delegate,t.next=24,Er(a,this.usersElement);case 24:(0,gt.Iu)((function(){return s.el.classList.remove("show-modal")})),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy(),r.forEach((function(t){return t.destroy()}));case 28:return this.currentBreakpoint=void 0,this.currentTransition=void 0,this.animation=void 0,t.abrupt("return",i);case 32:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onDidDismiss",value:function(){return le(this.el,"ionModalDidDismiss")}},{key:"onWillDismiss",value:function(){return le(this.el,"ionModalWillDismiss")}},{key:"setCurrentBreakpoint",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r,i,o;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isSheetModal){t.next=3;break}return(0,bn.p)("setCurrentBreakpoint is only supported on sheet modals."),t.abrupt("return");case 3:if(this.breakpoints.includes(e)){t.next=6;break}return(0,bn.p)("Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints.")),t.abrupt("return");case 6:if(n=this.currentBreakpoint,r=this.moveSheetToBreakpoint,i=this.canDismiss,o=this.breakpoints,n!==e){t.next=9;break}return t.abrupt("return");case 9:if(!r){t.next=14;break}return this.sheetTransition=r({breakpoint:e,breakpointOffset:1-n,canDismiss:void 0!==i&&!0!==i&&0===o[0]}),t.next=13,this.sheetTransition;case 13:this.sheetTransition=void 0;case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCurrentBreakpoint",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.currentBreakpoint);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"moveToNextBreakpoint",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n,r,i,o,a;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.breakpoints,n=this.currentBreakpoint,e&&null!=n){t.next=3;break}return t.abrupt("return",!1);case 3:return r=e.filter((function(t){return 0!==t})),i=r.indexOf(n),o=(i+1)%r.length,a=r[o],t.next=9,this.setCurrentBreakpoint(a);case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t,e=this,n=this.handle,r=this.isSheetModal,i=this.presentingElement,o=this.htmlAttributes,a=this.handleBehavior,s=this.inheritedAttributes,l=!1!==n&&r,c=zt(this),u=this.modalId,d=void 0!==i&&"ios"===c,f="cycle"===a;return(0,gt.h)(gt.AA,Object.assign({"no-router":!0,"aria-modal":"true",role:"dialog",tabindex:"-1"},o,s,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign((t={},(0,st.Z)(t,c,!0),(0,st.Z)(t,"modal-default",!d&&!r),(0,st.Z)(t,"modal-card",d),(0,st.Z)(t,"modal-sheet",r),(0,st.Z)(t,"overlay-hidden",!0),t),Ue(this.cssClass)),id:u,onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),(0,gt.h)("ion-backdrop",{ref:function(t){return e.backdropEl=t},visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===c&&(0,gt.h)("div",{class:"modal-shadow"}),(0,gt.h)("div",{class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:function(t){return e.wrapperEl=t}},l&&(0,gt.h)("button",{class:"modal-handle",tabIndex:f?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:f?this.onHandleClick:void 0,part:"handle"}),(0,gt.h)("slot",null)))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{isOpen:["onIsOpenChange"],trigger:["onTriggerChange"],swipeToClose:["swipeToCloseChanged"]}}},{key:"style",get:function(){return{ios:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.modal-handle::before{padding-left:4px;padding-right:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle::before{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: 1px){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: 1px){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}',md:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.modal-handle::before{padding-left:4px;padding-right:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle::before{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}'}}}]),n}(gt.mv),[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],swipeToClose:[4,"swipe-to-close"],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]}]),Hs={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"},Vs=0;var Ws=function(){if("undefined"!==typeof customElements){["ion-modal","ion-backdrop"].forEach((function(t){switch(t){case"ion-modal":customElements.get(t)||customElements.define(t,Us);break;case"ion-backdrop":customElements.get(t)||je()}}))}},Ys=(0,gt.GH)(function(t){(0,dt.Z)(r,t);var e=(0,ft.Z)(r);function r(){var t;return(0,ht.Z)(this,r),(t=e.call(this)).__registerHost(),t}return(0,pt.Z)(r,[{key:"componentDidLoad",value:function(){var t=this;gt.Z5.isBrowser&&qs((0,ct.Z)((0,lt.Z)().mark((function e(){var r,i;return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=At(window,"hybrid"),vt.getBoolean("_testing")||n.e(272).then(n.bind(n,5272)).then((function(t){return t.startTapClick(vt)})),vt.getBoolean("statusTap",r)&&n.e(841).then(n.bind(n,8841)).then((function(t){return t.startStatusTap()})),vt.getBoolean("inputShims",Gs())&&n.e(186).then(n.bind(n,1186)).then((function(t){return t.startInputShims(vt)})),e.next=6,Promise.resolve().then(n.bind(n,8862));case 6:i=e.sent,vt.getBoolean("hardwareBackButton",r)?i.startHardwareBackButton():i.blockHardwareBackButton(),"undefined"!==typeof window&&Promise.resolve().then(n.bind(n,5573)).then((function(t){return t.startKeyboardAssist(window)})),Promise.resolve().then(n.bind(n,7225)).then((function(e){return t.focusVisible=e.startFocusVisible()}));case 10:case"end":return e.stop()}}),e)}))))}},{key:"setFocus",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.focusVisible&&this.focusVisible.setFocus(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t,e=zt(this);return(0,gt.h)(gt.AA,{class:(t={},(0,st.Z)(t,e,!0),(0,st.Z)(t,"ion-page",!0),(0,st.Z)(t,"force-statusbar-padding",vt.getBoolean("_forceStatusbarPadding")),t)})}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}}]),r}(gt.mv),[0,"ion-app",{setFocus:[64]}]),Gs=function(){return At(window,"ios")&&At(window,"mobile")},qs=function(t){"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};var Xs=function(){if("undefined"!==typeof customElements){["ion-app"].forEach((function(t){if("ion-app"===t)customElements.get(t)||customElements.define(t,Ys)}))}};gt.mv;var Js=(0,gt.GH)(function(t){(0,dt.Z)(r,t);var e=(0,ft.Z)(r);function r(){var t;return(0,ht.Z)(this,r),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionNavWillLoad=(0,gt.yM)((0,ut.Z)(t),"ionNavWillLoad",7),t.ionNavWillChange=(0,gt.yM)((0,ut.Z)(t),"ionNavWillChange",3),t.ionNavDidChange=(0,gt.yM)((0,ut.Z)(t),"ionNavDidChange",3),t.gestureOrAnimationInProgress=!1,t.mode=zt((0,ut.Z)(t)),t.animated=!0,t}return(0,pt.Z)(r,[{key:"swipeHandlerChanged",value:function(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}},{key:"connectedCallback",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,r=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){r.gestureOrAnimationInProgress=!0,r.swipeHandler&&r.swipeHandler.onStart()},t.next=3,n.e(22).then(n.bind(n,5022));case 3:this.gesture=t.sent.createSwipeBackGesture(this.el,(function(){return!r.gestureOrAnimationInProgress&&!!r.swipeHandler&&r.swipeHandler.canStart()}),(function(){return e()}),(function(t){var e;return null===(e=r.ani)||void 0===e?void 0:e.progressStep(t)}),(function(t,e,n){if(r.ani){r.ani.onFinish((function(){r.gestureOrAnimationInProgress=!1,r.swipeHandler&&r.swipeHandler.onEnd(t)}),{oneTimeCallback:!0});var i=t?-.001:.001;t?i+=Hi([0,0],[.32,.72],[0,1],[1,1],e)[0]:(r.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=Hi([0,0],[1,0],[.68,.28],[1,1],e)[0]),r.ani.progressEnd(t?1:0,i,n)}else r.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillLoad",value:function(){this.ionNavWillLoad.emit()}},{key:"disconnectedCallback",value:function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}},{key:"commit",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r){var i,o;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lock();case 2:return i=t.sent,o=!1,t.prev=4,t.next=7,this.transition(e,n,r);case 7:o=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.error(t.t0);case 13:return i(),t.abrupt("return",o);case 15:case"end":return t.stop()}}),t,this,[[4,10]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"setRouteId",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r,i){var o;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setRoot(e,n,{duration:"root"===r?0:void 0,direction:"back"===r?"back":"forward",animationBuilder:i});case 2:return o=t.sent,t.abrupt("return",{changed:o,element:this.activeEl});case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},{key:"getRouteId",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.activeEl,t.abrupt("return",e?{id:e.tagName,element:e,params:this.activeParams}:void 0);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setRoot",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r){var i,o;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activeComponent!==e||!(0,Ft.s)(n,this.activeParams)){t.next=2;break}return t.abrupt("return",!1);case 2:return i=this.activeEl,t.next=5,Mr(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);case 5:return o=t.sent,this.activeComponent=e,this.activeEl=o,this.activeParams=n,t.next=11,this.commit(o,i,r);case 11:return t.next=13,Er(this.delegate,i);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"transition",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n){var r,i,o,a,s,l=this,c=arguments;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:{},n!==e){t.next=3;break}return t.abrupt("return",!1);case 3:return this.ionNavWillChange.emit(),i=this.el,o=this.mode,a=this.animated&&vt.getBoolean("animated",!0),s=r.animationBuilder||this.animation||vt.get("navAnimation"),t.next=9,(0,Sr.t)(Object.assign(Object.assign({mode:o,animated:a,enteringEl:e,leavingEl:n,baseEl:i,progressCallback:r.progressAnimation?function(t){void 0===t||l.gestureOrAnimationInProgress?l.ani=t:(l.gestureOrAnimationInProgress=!0,t.onFinish((function(){l.gestureOrAnimationInProgress=!1,l.swipeHandler&&l.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),t.progressEnd(0,0,0))}:void 0},r),{animationBuilder:s}));case 9:return this.ionNavDidChange.emit(),t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"lock",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.waitPromise,this.waitPromise=new Promise((function(t){return n=t})),void 0===e){t.next=5;break}return t.next=5,e;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return(0,gt.h)("slot",null)}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{swipeHandler:["swipeHandlerChanged"]}}},{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}}]),r}(gt.mv),[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);var Ks=function(){if("undefined"!==typeof customElements){["ion-router-outlet"].forEach((function(t){if("ion-router-outlet"===t)customElements.get(t)||customElements.define(t,Js)}))}},Qs=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionTabBarChanged=(0,gt.yM)((0,ut.Z)(t),"ionTabBarChanged",7),t.keyboardCtrl=null,t.keyboardVisible=!1,t.translucent=!1,t}return(0,pt.Z)(n,[{key:"selectedTabChanged",value:function(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}},{key:"componentWillLoad",value:function(){this.selectedTabChanged()}},{key:"connectedCallback",value:function(){var t=this;this.keyboardCtrl=ii((function(e){t.keyboardVisible=e}))}},{key:"disconnectedCallback",value:function(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}},{key:"render",value:function(){var t,e=this.color,n=this.translucent,r=this.keyboardVisible,i=zt(this),o=r&&"top"!==this.el.getAttribute("slot");return(0,gt.h)(gt.AA,{role:"tablist","aria-hidden":o?"true":null,class:Ze(e,(t={},(0,st.Z)(t,i,!0),(0,st.Z)(t,"tab-bar-translucent",n),(0,st.Z)(t,"tab-bar-hidden",o),t))},(0,gt.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{selectedTab:["selectedTabChanged"]}}},{key:"style",get:function(){return{ios:":host{padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-400, #999999));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}"}}}]),n}(gt.mv),[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);var tl=function(){if("undefined"!==typeof customElements){["ion-tab-bar"].forEach((function(t){if("ion-tab-bar"===t)customElements.get(t)||customElements.define(t,Qs)}))}},el=(0,gt.GH)(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.ionTabButtonClick=(0,gt.yM)((0,ut.Z)(t),"ionTabButtonClick",7),t.disabled=!1,t.selected=!1,t.onKeyUp=function(e){"Enter"!==e.key&&" "!==e.key||t.selectTab(e)},t.onClick=function(e){t.selectTab(e)},t}return(0,pt.Z)(n,[{key:"onTabBarChanged",value:function(t){var e=t.target,n=this.el.parentElement;(t.composedPath().includes(n)||(null===e||void 0===e?void 0:e.contains(this.el)))&&(this.selected=this.tab===t.detail.tab)}},{key:"componentWillLoad",value:function(){void 0===this.layout&&(this.layout=vt.get("tabButtonLayout","icon-top"))}},{key:"selectTab",value:function(t){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),t.preventDefault())}},{key:"hasLabel",get:function(){return!!this.el.querySelector("ion-label")}},{key:"hasIcon",get:function(){return!!this.el.querySelector("ion-icon")}},{key:"tabIndex",get:function(){return this.disabled?-1:this.el.hasAttribute("tabindex")?this.el.getAttribute("tabindex"):0}},{key:"render",value:function(){var t,e=this.disabled,n=this.hasIcon,r=this.hasLabel,i=this.tabIndex,o=this.href,a=this.rel,s=this.target,l=this.layout,c=this.selected,u=this.tab,d=zt(this),f={download:this.download,href:o,rel:a,target:s};return(0,gt.h)(gt.AA,{onClick:this.onClick,onKeyup:this.onKeyUp,role:"tab",tabindex:i,"aria-selected":c?"true":null,id:void 0!==u?"tab-button-".concat(u):null,class:(t={},(0,st.Z)(t,d,!0),(0,st.Z)(t,"tab-selected",c),(0,st.Z)(t,"tab-disabled",e),(0,st.Z)(t,"tab-has-label",r),(0,st.Z)(t,"tab-has-icon",n),(0,st.Z)(t,"tab-has-label-only",r&&!n),(0,st.Z)(t,"tab-has-icon-only",n&&!r),(0,st.Z)(t,"tab-layout-".concat(l),!0),(0,st.Z)(t,"ion-activatable",!0),(0,st.Z)(t,"ion-selectable",!0),(0,st.Z)(t,"ion-focusable",!0),t)},(0,gt.h)("a",Object.assign({},f,{tabIndex:-1,class:"button-native",part:"native"}),(0,gt.h)("span",{class:"button-inner"},(0,gt.h)("slot",null)),"md"===d&&(0,gt.h)("ion-ripple-effect",{type:"unbounded"})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){padding-left:6px;padding-right:6px;padding-top:1px;padding-bottom:1px;left:calc(50% + 6px);top:4px;height:auto;font-size:12px;line-height:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-badge){padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}[dir=rtl] ::slotted(ion-badge),:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px);top:10px}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px);top:10px}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}[dir=rtl] ::slotted(ion-icon),:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}::slotted(ion-badge){border-radius:8px;padding-left:2px;padding-right:2px;padding-top:3px;padding-bottom:2px;left:calc(50% + 6px);top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-badge){padding-left:unset;padding-right:unset;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px}}[dir=rtl] ::slotted(ion-badge),:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%;top:8px}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%;top:16px}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){margin-right:6px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-icon){margin-right:unset;-webkit-margin-end:6px;margin-inline-end:6px}}:host(.tab-layout-icon-end) ::slotted(ion-icon){margin-left:6px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.tab-layout-icon-end) ::slotted(ion-icon){margin-left:unset;-webkit-margin-start:6px;margin-inline-start:6px}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%;top:16px}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}}]),n}(gt.mv),[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);var nl,rl,il,ol,al,sl=function(){if("undefined"!==typeof customElements){["ion-tab-button","ion-ripple-effect"].forEach((function(t){switch(t){case"ion-tab-button":customElements.get(t)||customElements.define(t,el);break;case"ion-ripple-effect":customElements.get(t)||nn()}}))}},ll=!1,cl=!0,ul=!1,dl=!0,fl=!0,hl=!0,pl=!0,gl=!0,ml=!0,vl=!0,yl=!0,bl=!0,xl=!0,wl=!0,kl=!0,_l=!1,Al=!0,Tl=!0,Ml=!0,El=!0,Cl=!0,Sl=!0,Ol=!0,Ll=!0,Pl=!0,Dl=!0,Rl=!0,Il=!0,zl=!0,Nl=!0,Bl=!0,Fl=!0,jl=!0,$l=!0,Zl=!0,Ul=!0,Hl=!0,Vl=!0,Wl=!0,Yl=!0,Gl=!0,ql=!0,Xl=!0,Jl=!0,Kl=!1,Ql=!1,tc=!1,ec=!1,nc=!1,rc=!1,ic=!1,oc=!1,ac=!1,sc=!0,lc=!1,cc=!0,uc=!1,dc=!0,fc=!0,hc=!0,pc=!1,gc=!0,mc=!0,vc=!0,yc=!1,bc=!1,xc=!1,wc=!0,kc="app",_c=0,Ac=!1,Tc=!1,Mc=!1,Ec=!1,Cc=0,Sc=!1,Oc="undefined"!==typeof window?window:{},Lc=(pc&&Oc.CSS,Oc.document||{head:{}}),Pc=Oc.HTMLElement||function(){return(0,pt.Z)((function t(){(0,ht.Z)(this,t)}))}(),Dc={$flags$:0,$resourcesUrl$:"",jmp:function(t){return t()},raf:function(t){return requestAnimationFrame(t)},ael:function(t,e,n,r){return t.addEventListener(e,n,r)},rel:function(t,e,n,r){return t.removeEventListener(e,n,r)},ce:function(t,e){return new CustomEvent(t,e)}},Rc=!uc||!Pl||function(){return(Lc.head.attachShadow+"").indexOf("[native")>-1}(),Ic=function(){var t=!1;try{Lc.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t}(),zc=!!gc&&function(){try{return new CSSStyleSheet,"function"===typeof(new CSSStyleSheet).replace}catch(t){}return!1}(),Nc=function(t,e,n,r){bl&&n&&(_l&&(n=r?n.filter((function(t){return 32&(0,at.Z)(t,1)[0]})):n.filter((function(t){return!(32&(0,at.Z)(t,1)[0])}))),n.map((function(n){var r=(0,at.Z)(n,3),i=r[0],o=r[1],a=r[2],s=Al?Fc(t,i):t,l=Bc(e,a),c=jc(i);Dc.ael(s,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push((function(){return Dc.rel(s,o,l,c)}))})))},Bc=function(t,e){return function(n){try{oc?256&t.$flags$?t.$lazyInstance$[e](n):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,n]):t.$hostElement$[e](n)}catch(r){id(r)}}},Fc=function(t,e){return wl&&4&e?Lc:xl&&8&e?Oc:kl&&16&e?Lc.body:_l&&32&e?t.parentElement:t},jc=function(t){return Ic?{passive:0!==(1&t),capture:0!==(2&t)}:0!==(2&t)},$c="s-id",Zc="sty-id",Uc="c-id",Hc="http://www.w3.org/1999/xlink",Vc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(ac&&performance.mark){var n="st:".concat(t,":").concat(e,":").concat(_c++);return performance.mark(n),function(){return performance.measure("[Stencil] ".concat(t,"() <").concat(e,">"),n)}}return function(){}},Wc=function(t,e){return ac&&performance.mark?(0===performance.getEntriesByName(t).length&&performance.mark(t),function(){0===performance.getEntriesByName(e).length&&performance.measure(e,t)}):function(){}},Yc=new WeakMap,Gc=function(t,e,n){var r=ud.get(t);zc&&n?(r=r||new CSSStyleSheet).replace(e):r=e,ud.set(t,r)},qc=function(t,e,n,r){var i=Jc(e,n),o=ud.get(i);if(!wc)return i;if(t=11===t.nodeType?t:Lc,o)if("string"===typeof o){t=t.head||t;var a,s=Yc.get(t);if(s||Yc.set(t,s=new Set),!s.has(i)){if(rc&&t.host&&(a=t.querySelector("[".concat(Zc,'="').concat(i,'"]'))))a.innerHTML=o;else{if(pc&&Dc.$cssShim$){var l=(a=Dc.$cssShim$.createHostStyle(r,i,o,!!(10&e.$flags$)))["s-sc"];l&&(i=l,s=null)}else(a=Lc.createElement("style")).innerHTML=o;(nc||Kl)&&a.setAttribute(Zc,i),t.insertBefore(a,t.querySelector("link"))}s&&s.add(i)}}else gc&&!t.adoptedStyleSheets.includes(o)&&(t.adoptedStyleSheets=[].concat((0,ot.Z)(t.adoptedStyleSheets),[o]));return i},Xc=function(t){var e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=Vc("attachStyles",e.$tagName$),o=qc(Pl&&Rc&&n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$,n);(Pl||Ll)&&Rl&&10&r&&(n["s-sc"]=o,n.classList.add(o+"-h"),Ll&&2&r&&n.classList.add(o+"-s")),i()},Jc=function(t,e){return"sc-"+(El&&e&&32&t.$flags$?t.$tagName$+"-"+e:t.$tagName$)},Kc=function(t){return dd.map((function(e){return e(t)})).find((function(t){return!!t}))},Qc={},tu=function(t){return"object"===(t=typeof t)||"function"===t},eu=function(t,e){for(var n=null,r=null,i=null,o=!1,a=!1,s=[],l=function e(r){for(var i=0;i<r.length;i++)n=r[i],Array.isArray(n)?e(n):null!=n&&"boolean"!==typeof n&&((o="function"!==typeof t&&!tu(n))?n=String(n):tc&&"function"!==typeof t&&void 0===n.$flags$&&ad("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),o&&a?s[s.length-1].$text$+=n:s.push(o?nu(null,n):n),a=o)},c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];if(l(u),e&&(tc&&"input"===t&&lu(e),Ul&&e.key&&(r=e.key),sc&&e.name&&(i=e.name),$l)){var f=e.className||e.class;f&&(e.class="object"!==typeof f?f:Object.keys(f).filter((function(t){return f[t]})).join(" "))}if(tc&&s.some(iu)&&ad("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),Zl&&"function"===typeof t)return t(null===e?{}:e,s,ou);var h=nu(t,null);return h.$attrs$=e,s.length>0&&(h.$children$=s),Ul&&(h.$key$=r),sc&&(h.$name$=i),h},nu=function(t,e){var n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return Fl&&(n.$attrs$=null),Ul&&(n.$key$=null),sc&&(n.$name$=null),n},ru={},iu=function(t){return t&&t.$tag$===ru},ou={forEach:function(t,e){return t.map(au).forEach(e)},map:function(t,e){return t.map(au).map(e).map(su)}},au=function(t){return{vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}},su=function(t){if("function"===typeof t.vtag){var e=Object.assign({},t.vattrs);return t.vkey&&(e.key=t.vkey),t.vname&&(e.name=t.vname),eu.apply(void 0,[t.vtag,e].concat((0,ot.Z)(t.vchildren||[])))}var n=nu(t.vtag,t.vtext);return n.$attrs$=t.vattrs,n.$children$=t.vchildren,n.$key$=t.vkey,n.$name$=t.vname,n},lu=function(t){var e=Object.keys(t),n=e.indexOf("value");if(-1!==n){var r=e.indexOf("type"),i=e.indexOf("min"),o=e.indexOf("max"),a=e.indexOf("step");(n<r||n<i||n<o||n<a)&&sd('The "value" prop of <input> should be set after "min", "max", "type" and "step"')}},cu=function(t,e,n,r,i,o){if(n!==r){var a=rd(t,e),s=e.toLowerCase();if($l&&"class"===e){var l=t.classList,c=du(n),u=du(r);l.remove.apply(l,(0,ot.Z)(c.filter((function(t){return t&&!u.includes(t)})))),l.add.apply(l,(0,ot.Z)(u.filter((function(t){return t&&!c.includes(t)}))))}else if(Gl&&"style"===e){if(Bl)for(var d in n)r&&null!=r[d]||(!nc&&d.includes("-")?t.style.removeProperty(d):t.style[d]="");for(var f in r)n&&r[f]===n[f]||(!nc&&f.includes("-")?t.style.setProperty(f,r[f]):t.style[f]=r[f])}else if(Ul&&"key"===e);else if(Vl&&"ref"===e)r&&r(t);else if(!Hl||(oc?a:t.__lookupSetter__(e))||"o"!==e[0]||"n"!==e[1]){if(Wl){var h=tu(r);if((a||h&&null!==r)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{var p=null==r?"":r;"list"===e?a=!1:null!=n&&t[e]==p||(t[e]=p)}}catch(m){}var g=!1;jl&&s!==(s=s.replace(/^xlink\:?/,""))&&(e=s,g=!0),null==r||!1===r?!1===r&&""!==t.getAttribute(e)||(jl&&g?t.removeAttributeNS(Hc,e):t.removeAttribute(e)):(!a||4&o||i)&&!h&&(r=!0===r?"":r,jl&&g?t.setAttributeNS(Hc,e,r):t.setAttribute(e,r))}}else e="-"===e[2]?e.slice(3):rd(Oc,s)?s.slice(2):s[2]+e.slice(3),n&&Dc.rel(t,e,n,!1),r&&Dc.ael(t,e,r,!1)}},uu=/\s/,du=function(t){return t?t.split(uu):[]},fu=function(t,e,n,r){var i=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||Qc,a=e.$attrs$||Qc;if(Bl)for(r in o)r in a||cu(i,r,o[r],void 0,n,e.$flags$);for(r in a)cu(i,r,o[r],a[r],n,e.$flags$)},hu=function t(e,n,r,i){var o,a,s,l=n.$children$[r],c=0;if(sc&&!Ac&&(Mc=!0,"slot"===l.$tag$&&(nl&&i.classList.add(nl+"-s"),l.$flags$|=l.$children$?2:1)),tc&&l.$elm$&&ad("The JSX ".concat(null!==l.$text$?'"'.concat(l.$text$,'" text'):'"'.concat(l.$tag$,'" element')," node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes")),ql&&null!==l.$text$)o=l.$elm$=Lc.createTextNode(l.$text$);else if(sc&&1&l.$flags$)o=l.$elm$=Ql||nc?Cu(l):Lc.createTextNode("");else{if(Nl&&!Ec&&(Ec="svg"===l.$tag$),o=l.$elm$=Nl?Lc.createElementNS(Ec?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",sc&&2&l.$flags$?"slot-fb":l.$tag$):Lc.createElement(sc&&2&l.$flags$?"slot-fb":l.$tag$),Nl&&Ec&&"foreignObject"===l.$tag$&&(Ec=!1),Fl&&fu(null,l,Ec),(Pl||Ll)&&function(t){return null!=t}(nl)&&o["s-si"]!==nl&&o.classList.add(o["s-si"]=nl),l.$children$)for(c=0;c<l.$children$.length;++c)(a=t(e,l,c,o))&&o.appendChild(a);Nl&&("svg"===l.$tag$?Ec=!1:"foreignObject"===o.tagName&&(Ec=!0))}return sc&&(o["s-hn"]=il,3&l.$flags$&&(o["s-sr"]=!0,o["s-cr"]=rl,o["s-sn"]=l.$name$||"",(s=e&&e.$children$&&e.$children$[r])&&s.$tag$===l.$tag$&&e.$elm$&&pu(e.$elm$,!1))),o},pu=function t(e,n){Dc.$flags$|=1;for(var r=e.childNodes,i=r.length-1;i>=0;i--){var o=r[i];o["s-hn"]!==il&&o["s-ol"]&&(xu(o).insertBefore(o,bu(o)),o["s-ol"].remove(),o["s-ol"]=void 0,Mc=!0),n&&t(o,n)}Dc.$flags$&=-2},gu=function(t,e,n,r,i,o){var a,s=sc&&t["s-cr"]&&t["s-cr"].parentNode||t;for(Pl&&s.shadowRoot&&s.tagName===il&&(s=s.shadowRoot);i<=o;++i)r[i]&&(a=hu(null,n,i,t))&&(r[i].$elm$=a,s.insertBefore(a,sc?bu(e):e))},mu=function(t,e,n,r,i){for(;e<=n;++e)(r=t[e])&&(i=r.$elm$,Mu(r),sc&&(Tc=!0,i["s-ol"]?i["s-ol"].remove():pu(i,!0)),i.remove())},vu=function(t,e,n,r){for(var i,o,a=0,s=0,l=0,c=0,u=e.length-1,d=e[0],f=e[u],h=r.length-1,p=r[0],g=r[h];a<=u&&s<=h;)if(null==d)d=e[++a];else if(null==f)f=e[--u];else if(null==p)p=r[++s];else if(null==g)g=r[--h];else if(yu(d,p))wu(d,p),d=e[++a],p=r[++s];else if(yu(f,g))wu(f,g),f=e[--u],g=r[--h];else if(yu(d,g))!sc||"slot"!==d.$tag$&&"slot"!==g.$tag$||pu(d.$elm$.parentNode,!1),wu(d,g),t.insertBefore(d.$elm$,f.$elm$.nextSibling),d=e[++a],g=r[--h];else if(yu(f,p))!sc||"slot"!==d.$tag$&&"slot"!==g.$tag$||pu(f.$elm$.parentNode,!1),wu(f,p),t.insertBefore(f.$elm$,d.$elm$),f=e[--u],p=r[++s];else{if(l=-1,Ul)for(c=a;c<=u;++c)if(e[c]&&null!==e[c].$key$&&e[c].$key$===p.$key$){l=c;break}Ul&&l>=0?((o=e[l]).$tag$!==p.$tag$?i=hu(e&&e[s],n,l,t):(wu(o,p),e[l]=void 0,i=o.$elm$),p=r[++s]):(i=hu(e&&e[s],n,s,t),p=r[++s]),i&&(sc?xu(d.$elm$).insertBefore(i,bu(d.$elm$)):d.$elm$.parentNode.insertBefore(i,d.$elm$))}a>u?gu(t,null==r[h+1]?null:r[h+1].$elm$,n,r,s,h):Bl&&s>h&&mu(e,a,u)},yu=function(t,e){return t.$tag$===e.$tag$&&(sc&&"slot"===t.$tag$?t.$name$===e.$name$:!Ul||t.$key$===e.$key$)},bu=function(t){return t&&t["s-ol"]||t},xu=function(t){return(t["s-ol"]?t["s-ol"]:t).parentNode},wu=function(t,e){var n,r=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,a=e.$tag$,s=e.$text$;ql&&null!==s?ql&&sc&&(n=r["s-cr"])?n.parentNode.textContent=s:ql&&t.$text$!==s&&(r.data=s):(Nl&&(Ec="svg"===a||"foreignObject"!==a&&Ec),(Fl||Ol)&&(Dl&&"slot"===a||fu(t,e,Ec)),Bl&&null!==i&&null!==o?vu(r,i,e,o):null!==o?(Bl&&ql&&null!==t.$text$&&(r.textContent=""),gu(r,null,e,o,0,o.length-1)):Bl&&null!==i&&mu(i,0,i.length-1),Nl&&Ec&&"svg"===a&&(Ec=!1))},ku=function t(e){var n,r,i,o,a,s,l=e.childNodes;for(r=0,i=l.length;r<i;r++)if(1===(n=l[r]).nodeType){if(n["s-sr"])for(a=n["s-sn"],n.hidden=!1,o=0;o<i;o++)if(s=l[o].nodeType,l[o]["s-hn"]!==n["s-hn"]||""!==a){if(1===s&&a===l[o].getAttribute("slot")){n.hidden=!0;break}}else if(1===s||3===s&&""!==l[o].textContent.trim()){n.hidden=!0;break}t(n)}},_u=[],Au=function t(e){for(var n,r,i,o,a,s,l=0,c=e.childNodes,u=c.length;l<u;l++){if((n=c[l])["s-sr"]&&(r=n["s-cr"])&&r.parentNode)for(i=r.parentNode.childNodes,o=n["s-sn"],s=i.length-1;s>=0;s--)(r=i[s])["s-cn"]||r["s-nr"]||r["s-hn"]===n["s-hn"]||(Tu(r,o)?(a=_u.find((function(t){return t.$nodeToRelocate$===r})),Tc=!0,r["s-sn"]=r["s-sn"]||o,a?a.$slotRefNode$=n:_u.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&_u.map((function(t){Tu(t.$nodeToRelocate$,r["s-sn"])&&(a=_u.find((function(t){return t.$nodeToRelocate$===r})),a&&!t.$slotRefNode$&&(t.$slotRefNode$=a.$slotRefNode$))}))):_u.some((function(t){return t.$nodeToRelocate$===r}))||_u.push({$nodeToRelocate$:r}));1===n.nodeType&&t(n)}},Tu=function(t,e){return 1===t.nodeType?null===t.getAttribute("slot")&&""===e||t.getAttribute("slot")===e:t["s-sn"]===e||""===e},Mu=function t(e){Vl&&(e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(t))},Eu=function(t,e){var n=t.$hostElement$,r=t.$cmpMeta$,i=t.$vnode$||nu(null,null),o=iu(e)?e:eu(null,null,e);if(il=n.tagName,tc&&Array.isArray(e)&&e.some(iu))throw new Error('The <Host> must be the single root component.\nLooks like the render() function of "'.concat(il.toLowerCase(),'" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  '));if(Ol&&r.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},r.$attrsToReflect$.map((function(t){var e=(0,at.Z)(t,2),r=e[0],i=e[1];return o.$attrs$[i]=n[r]}))),o.$tag$=null,o.$flags$|=4,t.$vnode$=o,o.$elm$=i.$elm$=Pl&&n.shadowRoot||n,(Ll||Pl)&&(nl=n["s-sc"]),sc&&(rl=n["s-cr"],Ac=Rc&&0!==(1&r.$flags$),Tc=!1),wu(i,o),sc){if(Dc.$flags$|=1,Mc){var a,s,l,c,u,d;Au(o.$elm$);for(var f=0;f<_u.length;f++)(s=(a=_u[f]).$nodeToRelocate$)["s-ol"]||((l=Ql||nc?Su(s):Lc.createTextNode(""))["s-nr"]=s,s.parentNode.insertBefore(s["s-ol"]=l,s));for(f=0;f<_u.length;f++)if(s=(a=_u[f]).$nodeToRelocate$,a.$slotRefNode$){for(c=a.$slotRefNode$.parentNode,u=a.$slotRefNode$.nextSibling,l=s["s-ol"];l=l.previousSibling;)if((d=l["s-nr"])&&d["s-sn"]===s["s-sn"]&&c===d.parentNode&&(!(d=d.nextSibling)||!d["s-nr"])){u=d;break}(!u&&c!==s.parentNode||s.nextSibling!==u)&&s!==u&&(!s["s-hn"]&&s["s-ol"]&&(s["s-hn"]=s["s-ol"].parentNode.nodeName),c.insertBefore(s,u))}else 1===s.nodeType&&(s.hidden=!0)}Tc&&ku(o.$elm$),Dc.$flags$&=-2,_u.length=0}},Cu=function(t){return Lc.createComment("<slot".concat(t.$name$?' name="'+t.$name$+'"':"","> (host=").concat(il.toLowerCase(),")"))},Su=function(t){return Lc.createComment("org-location for "+(t.localName?"<".concat(t.localName,"> (host=").concat(t["s-hn"],")"):"[".concat(t.textContent,"]")))},Ou=function(t,e,n){var r=Dc.ce(e,n);return t.dispatchEvent(r),r},Lu=function(t,e){bc&&e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((function(e){return t.$onRenderResolve$=e})))},Pu=function(t,e){if(Jl&&Bl&&(t.$flags$|=16),!(bc&&4&t.$flags$)){Lu(t,t.$ancestorComponent$);var n=function(){return Du(t,e)};return Jl?xd(n):n()}t.$flags$|=512},Du=function(t,e){var n,r=t.$hostElement$,i=Vc("scheduleUpdate",t.$cmpMeta$.$tagName$),o=oc?t.$lazyInstance$:r;return e?(oc&&bl&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map((function(t){var e=(0,at.Z)(t,2),n=e[0],r=e[1];return Bu(o,n,r)})),t.$queuedListeners$=null)),ju(r,"componentWillLoad"),hl&&(n=Bu(o,"componentWillLoad"))):(ju(r,"componentWillUpdate"),pl&&(n=Bu(o,"componentWillUpdate"))),ju(r,"componentWillRender"),gl&&(n=Fu(n,(function(){return Bu(o,"componentWillRender")}))),i(),Fu(n,(function(){return Ru(t,o,e)}))},Ru=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r){var i,o,a,s,l,c;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.$hostElement$,o=Vc("update",e.$cmpMeta$.$tagName$),a=i["s-rc"],zl&&r&&Xc(e),s=Vc("render",e.$cmpMeta$.$tagName$),tc&&(e.$flags$|=1024),!nc){t.next=11;break}return t.next=9,Iu(e,n,i);case 9:t.next=12;break;case 11:Iu(e,n,i);case 12:if(pc&&Dc.$cssShim$&&Dc.$cssShim$.updateHost(i),tc&&(e.$renderCount$++,e.$flags$&=-1025),nc)try{Zu(i),r&&(1&e.$cmpMeta$.$flags$?i["s-en"]="":2&e.$cmpMeta$.$flags$&&(i["s-en"]="c"))}catch(u){id(u,i)}bc&&a&&(a.map((function(t){return t()})),i["s-rc"]=void 0),s(),o(),bc?(l=i["s-p"],c=function(){return zu(e)},0===l.length?c():(Promise.all(l).then(c),e.$flags$|=4,l.length=0)):zu(e);case 19:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Iu=function(t,e,n){var r=!!ll,i=!!oc,o=!!Jl,a=!!Bl;try{if(e,e=(r||e.render)&&e.render(),a&&o&&(t.$flags$&=-17),(a||i)&&(t.$flags$|=2),yl||Ol)if(Yl||Ol){if(nc)return Promise.resolve(e).then((function(e){return Eu(t,e)}));Eu(t,e)}else n.textContent=e}catch(s){id(s,t.$hostElement$)}return null,null},zu=function(t){var e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=Vc("postUpdate",e),i=oc?t.$lazyInstance$:n,o=t.$ancestorComponent$;fl&&(tc&&(t.$flags$|=1024),Bu(i,"componentDidRender"),tc&&(t.$flags$&=-1025)),ju(n,"componentDidRender"),64&t.$flags$?(dl&&(tc&&(t.$flags$|=1024),Bu(i,"componentDidUpdate"),tc&&(t.$flags$&=-1025)),ju(n,"componentDidUpdate"),r()):(t.$flags$|=64,bc&&Rl&&$u(n),cl&&(tc&&(t.$flags$|=2048),Bu(i,"componentDidLoad"),tc&&(t.$flags$&=-2049)),ju(n,"componentDidLoad"),r(),bc&&(t.$onReadyResolve$(n),o||Nu(e))),Kl&&n["s-hmr-load"]&&n["s-hmr-load"](),Ml&&oc&&t.$onInstanceResolve$(n),bc&&(t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&bd((function(){return Pu(t,!1)})),t.$flags$&=-517)},Nu=function(t){Rl&&$u(Lc.documentElement),xc&&(Dc.$flags$|=2),bd((function(){return Ou(Oc,"appload",{detail:{namespace:kc}})})),ac&&performance.measure&&performance.measure("[Stencil] ".concat(kc," initial load (by ").concat(t,")"),"st:app:start")},Bu=function(t,e,n){if(t&&t[e])try{return t[e](n)}catch(r){id(r)}},Fu=function(t,e){return t&&t.then?t.then(e):e()},ju=function(t,e){ic&&Ou(t,"stencil_"+e,{bubbles:!0,composed:!0,detail:{namespace:kc}})},$u=function(t){return cc?t.classList.add("hydrated"):lc?t.setAttribute("hydrated",""):void 0},Zu=function t(e){var n=e.children;if(null!=n)for(var r=0,i=n.length;r<i;r++){var o=n[r];"function"===typeof o.connectedCallback&&o.connectedCallback(),t(o)}},Uu=function t(e,n,r,i,o,a,s){var l,c,u,d;if(1===a.nodeType){for((l=a.getAttribute(Uc))&&((c=l.split("."))[0]!==s&&"0"!==c[0]||(u={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:a.tagName.toLowerCase(),$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},n.push(u),a.removeAttribute(Uc),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,e=u,i&&"0"===u.$depth$&&(i[u.$index$]=u.$elm$))),d=a.childNodes.length-1;d>=0;d--)t(e,n,r,i,o,a.childNodes[d],s);if(a.shadowRoot)for(d=a.shadowRoot.childNodes.length-1;d>=0;d--)t(e,n,r,i,o,a.shadowRoot.childNodes[d],s)}else if(8===a.nodeType)(c=a.nodeValue.split("."))[1]!==s&&"0"!==c[1]||(l=c[0],u={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===l?(u.$elm$=a.nextSibling,u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,n.push(u),a.remove(),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,i&&"0"===u.$depth$&&(i[u.$index$]=u.$elm$))):u.$hostId$===s&&("s"===l?(u.$tag$="slot",c[5]?a["s-sn"]=u.$name$=c[5]:a["s-sn"]="",a["s-sr"]=!0,Pl&&i&&(u.$elm$=Lc.createElement(u.$tag$),u.$name$&&u.$elm$.setAttribute("name",u.$name$),a.parentNode.insertBefore(u.$elm$,a),a.remove(),"0"===u.$depth$&&(i[u.$index$]=u.$elm$)),r.push(u),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u):"r"===l&&(Pl&&i?a.remove():sc&&(o["s-cr"]=a,a["s-cn"]=!0))));else if(e&&"style"===e.$tag$){var f=nu(null,a.textContent);f.$elm$=a,f.$index$="0",e.$children$=[f]}},Hu=function t(e,n){if(1===e.nodeType){for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r],n);if(e.shadowRoot)for(r=0;r<e.shadowRoot.childNodes.length;r++)t(e.shadowRoot.childNodes[r],n)}else if(8===e.nodeType){var i=e.nodeValue.split(".");"o"===i[0]&&(n.set(i[1]+"."+i[2],e),e.nodeValue="",e["s-en"]=i[3])}},Vu=function(t,e,n,r){var i,o,a=ed(t),s=oc?a.$hostElement$:t,l=a.$instanceValues$.get(e),c=a.$flags$,u=oc?a.$lazyInstance$:s;i=n,o=r.$members$[e][0],n=null==i||tu(i)?i:dc&&4&o?"false"!==i&&(""===i||!!i):fc&&2&o?parseFloat(i):hc&&1&o?String(i):i;var d=Number.isNaN(l)&&Number.isNaN(n);if((!oc||!(8&c)||void 0===l)&&(n!==l&&!d)&&(a.$instanceValues$.set(e,n),tc&&(1024&a.$flags$?sd('The state/prop "'.concat(e,'" changed during rendering. This can potentially lead to infinite-loops and other bugs.'),"\nElement",s,"\nNew value",n,"\nOld value",l):2048&a.$flags$&&sd('The state/prop "'.concat(e,'" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"'),"\nElement",s,"\nNew value",n,"\nOld value",l)),!oc||u)){if(Xl&&r.$watchers$&&128&c){var f=r.$watchers$[e];f&&f.map((function(t){try{u[t](n,l,e)}catch(r){id(r,s)}}))}if(Bl&&2===(18&c)){if(mc&&u.componentShouldUpdate&&!1===u.componentShouldUpdate(n,l,e))return;Pu(a,!1)}}},Wu=function(t,e,n){if(Tl&&e.$members$){Xl&&t.watchers&&(e.$watchers$=t.watchers);var r=Object.entries(e.$members$),i=t.prototype;if(r.map((function(t){var r=(0,at.Z)(t,2),o=r[0],a=(0,at.Z)(r[1],1)[0];(Sl||Il)&&(31&a||(!oc||2&n)&&32&a)?Object.defineProperty(i,o,{get:function(){return t=o,ed(this).$instanceValues$.get(t);var t},set:function(t){if(tc){var r=ed(this);0===(1&n)&&0===(8&r.$flags$)&&0!==(31&a)&&0===(1024&a)&&sd('@Prop() "'.concat(o,'" on <').concat(e.$tagName$,"> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability"))}Vu(this,o,t,e)},configurable:!0,enumerable:!0}):oc&&Ml&&1&n&&64&a&&Object.defineProperty(i,o,{value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ed(this);return r.$onInstancePromise$.then((function(){var t;return(t=r.$lazyInstance$)[o].apply(t,e)}))}})})),Cl&&(!oc||1&n)){var o=new Map;i.attributeChangedCallback=function(t,e,n){var r=this;Dc.jmp((function(){var e=o.get(t);if(r.hasOwnProperty(e))n=r[e],delete r[e];else if(i.hasOwnProperty(e)&&"number"===typeof r[e]&&r[e]==n)return;r[e]=(null!==n||"boolean"!==typeof r[e])&&n}))},t.observedAttributes=r.filter((function(t){var e=(0,at.Z)(t,2);e[0];return 15&e[1][0]})).map((function(t){var n=(0,at.Z)(t,2),r=n[0],i=n[1],a=i[1]||r;return o.set(a,r),Ol&&512&i[0]&&e.$attrsToReflect$.push([r,a]),a}))}}return t},Yu=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,r,i,o,a){var s,l,c,u,d,f,h;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(oc||nc||zl)||0!==(32&r.$flags$)){t.next=37;break}if(!oc&&!rc){t.next=22;break}if(r.$flags$|=32,!(a=cd(i,r,o)).then){t.next=10;break}return s=Wc("st:load:".concat(i.$tagName$,":").concat(r.$modeName$),"[Stencil] Load module for <".concat(i.$tagName$,">")),t.next=8,a;case 8:a=t.sent,s();case 10:if(!tc&&!Ql||a){t.next=12;break}throw new Error('Constructor for "'.concat(i.$tagName$,"#").concat(r.$modeName$,'" was not found'));case 12:Tl&&!a.isProxied&&(Xl&&(i.$watchers$=a.watchers),Wu(a,i,2),a.isProxied=!0),l=Vc("createInstance",i.$tagName$),Tl&&(r.$flags$|=8);try{new a(r)}catch(p){id(p)}Tl&&(r.$flags$&=-9),Xl&&(r.$flags$|=128),l(),Gu(r.$lazyInstance$),t.next=25;break;case 22:a=e.constructor,r.$flags$|=32,customElements.whenDefined(i.$tagName$).then((function(){return r.$flags$|=128}));case 25:if(!zl||!a.style){t.next=37;break}if(c=a.style,El&&"string"!==typeof c&&(c=c[r.$modeName$=Kc(e)],nc&&r.$modeName$&&e.setAttribute("s-mode",r.$modeName$)),u=Jc(i,r.$modeName$),ud.has(u)){t.next=37;break}if(d=Vc("registerStyles",i.$tagName$),!(!nc&&Pl&&uc&&8&i.$flags$)){t.next=35;break}return t.next=34,n.e(630).then(n.bind(n,3630)).then((function(t){return t.scopeCss(c,u,!1)}));case 34:c=t.sent;case 35:Gc(u,c,!!(1&i.$flags$)),d();case 37:f=r.$ancestorComponent$,h=function(){return Pu(r,!0)},bc&&f&&f["s-rc"]?f["s-rc"].push(h):h();case 40:case"end":return t.stop()}}),t)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),Gu=function(t){oc&&ml&&Bu(t,"connectedCallback")},qu=function(t){if(0===(1&Dc.$flags$)){var e=ed(t),n=e.$cmpMeta$,r=Vc("connectedCallback",n.$tagName$);if(_l&&Nc(t,e,n.$listeners$,!0),1&e.$flags$)Nc(t,e,n.$listeners$,!1),Gu(e.$lazyInstance$);else{var i;if(e.$flags$|=1,rc&&(i=t.getAttribute($c))){if(Pl&&Rc&&1&n.$flags$){var o=El?qc(t.shadowRoot,n,t.getAttribute("s-mode")):qc(t.shadowRoot,n);t.classList.remove(o+"-h",o+"-s")}!function(t,e,n,r){var i=Vc("hydrateClient",e),o=t.shadowRoot,a=[],s=Pl&&o?[]:null,l=r.$vnode$=nu(e,null);Dc.$orgLocNodes$||Hu(Lc.body,Dc.$orgLocNodes$=new Map),t["s-id"]=n,t.removeAttribute($c),Uu(l,a,[],s,t,t,n),a.map((function(t){var n=t.$hostId$+"."+t.$nodeId$,r=Dc.$orgLocNodes$.get(n),i=t.$elm$;r&&Rc&&""===r["s-en"]&&r.parentNode.insertBefore(i,r.nextSibling),o||(i["s-hn"]=e,r&&(i["s-ol"]=r,i["s-ol"]["s-nr"]=i)),Dc.$orgLocNodes$.delete(n)})),Pl&&o&&s.map((function(t){t&&o.appendChild(t)})),i()}(t,n.$tagName$,i,e)}if(sc&&!i&&(nc||(Dl||Pl)&&12&n.$flags$)&&Xu(t),bc)for(var a=t;a=a.parentNode||a.host;)if(rc&&1===a.nodeType&&a.hasAttribute("s-id")&&a["s-p"]||a["s-p"]){Lu(e,e.$ancestorComponent$=a);break}Sl&&!nc&&n.$members$&&Object.entries(n.$members$).map((function(e){var n=(0,at.Z)(e,2),r=n[0];if(31&(0,at.Z)(n[1],1)[0]&&t.hasOwnProperty(r)){var i=t[r];delete t[r],t[r]=i}})),yc?bd((function(){return Yu(t,e,n)})):Yu(t,e,n)}r()}},Xu=function(t){var e=t["s-cr"]=Lc.createComment(Ql?"content-ref (host=".concat(t.localName,")"):"");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},Ju=function(t){if(0===(1&Dc.$flags$)){var e=ed(t),n=oc?e.$lazyInstance$:t;bl&&e.$rmListeners$&&(e.$rmListeners$.map((function(t){return t()})),e.$rmListeners$=void 0),pc&&Dc.$cssShim$&&Dc.$cssShim$.removeHost(t),oc&&vl&&Bu(n,"disconnectedCallback"),ul&&Bu(n,"componentDidUnload")}},Ku=function(t,e){var n={$flags$:e[0],$tagName$:e[1]};Tl&&(n.$members$=e[2]),bl&&(n.$listeners$=e[3]),Xl&&(n.$watchers$=t.$watchers$),Ol&&(n.$attrsToReflect$=[]),Pl&&!Rc&&1&n.$flags$&&(n.$flags$|=8);var r=t.prototype.connectedCallback,i=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost:function(){nd(this,n)},connectedCallback:function(){qu(this),ml&&r&&r.call(this)},disconnectedCallback:function(){Ju(this),vl&&i&&i.call(this)},__attachShadow:function(){Rc?vc?this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),t.is=n.$tagName$,Wu(t,n,3)},Qu=function(t){var e=new URL(t,Dc.$resourcesUrl$);return e.origin!==Oc.location.origin?e.href:e.pathname},td=new WeakMap,ed=function(t){return td.get(t)},nd=function(t,e){var n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return tc&&(n.$renderCount$=0),Ml&&oc&&(n.$onInstancePromise$=new Promise((function(t){return n.$onInstanceResolve$=t}))),bc&&(n.$onReadyPromise$=new Promise((function(t){return n.$onReadyResolve$=t})),t["s-p"]=[],t["s-rc"]=[]),Nc(t,n,e.$listeners$,!1),td.set(t,n)},rd=function(t,e){return e in t},id=function(t,e){return(ol||console.error)(t,e)},od=ec?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],ad=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).error.apply(t,od.concat(n))},sd=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).warn.apply(t,od.concat(n))},ld=new Map,cd=function(t,e,r){var i=t.$tagName$.replace(/-/g,"_"),o=t.$lazyBundleId$;if(!tc||"string"===typeof o){var a=!Kl&&ld.get(o);return a?a[i]:n(4494)("./".concat(o,".entry.js").concat(Kl&&r?"?s-hmr="+r:"")).then((function(t){return Kl||ld.set(o,t),t[i]}),id)}ad("Trying to lazily load component <".concat(t.$tagName$,'> with style mode "').concat(e.$modeName$,'", but it does not exist.'))},ud=new Map,dd=[],fd=[],hd=[],pd=[],gd=function(t,e){return function(n){t.push(n),Sc||(Sc=!0,e&&4&Dc.$flags$?bd(yd):Dc.raf(yd))}},md=function(t){for(var e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){id(n)}t.length=0},vd=function(t,e){for(var n=0,r=0;n<t.length&&(r=performance.now())<e;)try{t[n++](r)}catch(i){id(i)}n===t.length?t.length=0:0!==n&&t.splice(0,n)},yd=function t(){if(xc&&Cc++,md(fd),xc){var e=2===(6&Dc.$flags$)?performance.now()+14*Math.ceil(.1*Cc):1/0;vd(hd,e),vd(pd,e),hd.length>0&&(pd.push.apply(pd,hd),hd.length=0),(Sc=fd.length+hd.length+pd.length>0)?Dc.raf(t):Cc=0}else md(hd),(Sc=fd.length>0)&&Dc.raf(t)},bd=function(t){return function(t){return Promise.resolve(t)}().then(t)},xd=gd(hd,!0),wd=!0,kd=function(){if("undefined"===typeof window)return new Map;if(!al){var t=window;t.Ionicons=t.Ionicons||{},al=t.Ionicons.map=t.Ionicons.map||new Map}return al},_d=function(t){var e=kd().get(t);return e||Qu("svg/".concat(t,".svg"))},Ad=function(t,e,n,r,i){return n="ios"===(n&&Cd(n))?"ios":"md",r&&"ios"===n?t=Cd(r):i&&"md"===n?t=Cd(i):(t||!e||Md(e)||(t=e),Ed(t)&&(t=Cd(t))),Ed(t)&&""!==t.trim()?""!==t.replace(/[a-z]|-|\d/gi,"")?null:t:null},Td=function(t){return Ed(t)&&(t=t.trim(),Md(t))?t:null},Md=function(t){return t.length>0&&/(\/|\.)/.test(t)},Ed=function(t){return"string"===typeof t},Cd=function(t){return t.toLowerCase()},Sd=function t(e){if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n].name;if(Ed(r)&&0===r.toLowerCase().indexOf("on"))return!1}for(var i=0;i<e.childNodes.length;i++)if(!t(e.childNodes[i]))return!1}return!0},Od=new Map,Ld=new Map,Pd=function(t,e){var n=Ld.get(t);if(!n){if("undefined"===typeof fetch||"undefined"===typeof document)return Od.set(t,""),Promise.resolve();n=fetch(t).then((function(n){if(n.ok)return n.text().then((function(n){n&&!1!==e&&(n=function(t){var e=document.createElement("div");e.innerHTML=t;for(var n=e.childNodes.length-1;n>=0;n--)"svg"!==e.childNodes[n].nodeName.toLowerCase()&&e.removeChild(e.childNodes[n]);var r=e.firstElementChild;if(r&&"svg"===r.nodeName.toLowerCase()){var i=r.getAttribute("class")||"";if(r.setAttribute("class",(i+" s-ion-icon").trim()),Sd(r))return e.innerHTML}return""}(n)),Od.set(t,n||"")}));Od.set(t,"")})),Ld.set(t,n)}return n},Dd=Ku(function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){var t;return(0,ht.Z)(this,n),(t=e.call(this)).__registerHost(),t.__attachShadow(),t.iconName=null,t.inheritedAttributes={},t.isVisible=!1,t.mode=Rd(),t.lazy=!1,t.sanitize=!0,t.hasAriaHidden=function(){var e=(0,ut.Z)(t).el;return e.hasAttribute("aria-hidden")&&"true"===e.getAttribute("aria-hidden")},t}return(0,pt.Z)(n,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=function(t){var e={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){t.hasAttribute(n)&&(null!==t.getAttribute(n)&&(e[n]=t.getAttribute(n)),t.removeAttribute(n))})),e}(this.el,["aria-label"])}},{key:"connectedCallback",value:function(){var t=this;this.waitUntilVisible(this.el,"50px",(function(){t.isVisible=!0,t.loadIcon()}))}},{key:"disconnectedCallback",value:function(){this.io&&(this.io.disconnect(),this.io=void 0)}},{key:"waitUntilVisible",value:function(t,e,n){var r=this;if(wd&&this.lazy&&"undefined"!==typeof window&&window.IntersectionObserver){var i=this.io=new window.IntersectionObserver((function(t){t[0].isIntersecting&&(i.disconnect(),r.io=void 0,n())}),{rootMargin:e});i.observe(t)}else n()}},{key:"loadIcon",value:function(){var t=this;if(wd&&this.isVisible){var e=function(t){var e=Td(t.src);if(e)return e;if(e=Ad(t.name,t.icon,t.mode,t.ios,t.md))return _d(e);if(t.icon){if(e=Td(t.icon))return e;if(e=Td(t.icon[t.mode]))return e}return null}(this);e&&(Od.has(e)?this.svgContent=Od.get(e):Pd(e,this.sanitize).then((function(){return t.svgContent=Od.get(e)})))}var n=this.iconName=Ad(this.name,this.icon,this.mode,this.ios,this.md);n&&(this.ariaLabel=n.replace(/\-/g," "))}},{key:"render",value:function(){var t,e=this.iconName,n=this.ariaLabel,r=this.inheritedAttributes,i=this.mode||"md",o=this.flipRtl||e&&(e.indexOf("arrow")>-1||e.indexOf("chevron")>-1)&&!1!==this.flipRtl;return eu(ru,Object.assign({"aria-label":void 0===n||this.hasAriaHidden()?null:n,role:"img",class:Object.assign(Object.assign((0,st.Z)({},i,!0),Id(this.color)),(t={},(0,st.Z)(t,"icon-".concat(this.size),!!this.size),(0,st.Z)(t,"flip-rtl",!!o&&"rtl"===this.el.ownerDocument.dir),t))},r),wd&&this.svgContent?eu("div",{class:"icon-inner",innerHTML:this.svgContent}):eu("div",{class:"icon-inner"}))}},{key:"el",get:function(){return this}}],[{key:"assetsDirs",get:function(){return["svg"]}},{key:"watchers",get:function(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"]}}},{key:"style",get:function(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}}]),n}(Pc),[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32],ariaLabel:[32]}]),Rd=function(){return wd&&"undefined"!==typeof document&&document.documentElement.getAttribute("mode")||"md"},Id=function(t){return t?(0,st.Z)({"ion-color":!0},"ion-color-".concat(t),!0):null};var zd=function(){if("undefined"!==typeof customElements){["ion-icon"].forEach((function(t){if("ion-icon"===t)customElements.get(t)||customElements.define(t,Dd)}))}},Nd=e.createContext({onIonViewWillEnter:function(){},ionViewWillEnter:function(){},onIonViewDidEnter:function(){},ionViewDidEnter:function(){},onIonViewWillLeave:function(){},ionViewWillLeave:function(){},onIonViewDidLeave:function(){},ionViewDidLeave:function(){}}),Bd=function(){function t(){(0,ht.Z)(this,t),this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}return(0,pt.Z)(t,[{key:"onIonViewWillEnter",value:function(t){if(t.id){var e=this.ionViewWillEnterCallbacks.findIndex((function(e){return e.id===t.id}));e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}},{key:"ionViewWillEnter",value:function(){this.ionViewWillEnterCallbacks.forEach((function(t){return t()}))}},{key:"onIonViewDidEnter",value:function(t){if(t.id){var e=this.ionViewDidEnterCallbacks.findIndex((function(e){return e.id===t.id}));e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}},{key:"ionViewDidEnter",value:function(){this.ionViewDidEnterCallbacks.forEach((function(t){return t()}))}},{key:"onIonViewWillLeave",value:function(t){if(t.id){var e=this.ionViewWillLeaveCallbacks.findIndex((function(e){return e.id===t.id}));e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}},{key:"ionViewWillLeave",value:function(){this.ionViewWillLeaveCallbacks.forEach((function(t){return t()}))}},{key:"onIonViewDidLeave",value:function(t){if(t.id){var e=this.ionViewDidLeaveCallbacks.findIndex((function(e){return e.id===t.id}));e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}},{key:"ionViewDidLeave",value:function(){this.ionViewDidLeaveCallbacks.forEach((function(t){return t()})),this.componentCanBeDestroyed()}},{key:"onComponentCanBeDestroyed",value:function(t){this.componentCanBeDestroyedCallback=t}},{key:"componentCanBeDestroyed",value:function(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}}]),t}(),Fd=e.createContext({getIonRedirect:function(){},getIonRoute:function(){},getPageManager:function(){},getStackManager:function(){},goBack:function(t){"undefined"!==typeof window&&("string"===typeof t?window.location.pathname=t:window.history.back())},navigate:function(t){"undefined"!==typeof window&&(window.location.pathname=t)},hasIonicRouter:function(){return!1},routeInfo:void 0,setCurrentTab:function(){},changeTab:function(t,e){"undefined"!==typeof window&&(window.location.pathname=e)},resetTab:function(t,e){"undefined"!==typeof window&&(window.location.pathname=e)}}),jd=function(t){return t.toLowerCase().split("-").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join("")},$d=function(t){return t.replace(/([A-Z])/g,(function(t){return"-".concat(t[0].toLowerCase())}))},Zd=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Element){var r=Ud(t.classList,e,n);""!==r&&(t.className=r),Object.keys(e).forEach((function(n){if("children"!==n&&"style"!==n&&"ref"!==n&&"class"!==n&&"className"!==n&&"forwardedRef"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){var r=n.substring(2),i=r[0].toLowerCase()+r.substring(1);Hd(i)||Vd(t,i,e[n])}else{t[n]=e[n],"string"===typeof e[n]&&t.setAttribute($d(n),e[n])}}))}},Ud=function(t,e,n){var r=e.className||e.class,i=n.className||n.class,o=Wd(t),a=Wd(r?r.split(" "):[]),s=Wd(i?i.split(" "):[]),l=[];return o.forEach((function(t){a.has(t)?(l.push(t),a.delete(t)):s.has(t)||l.push(t)})),a.forEach((function(t){return l.push(t)})),l.join(" ")},Hd=function(t){if("undefined"===typeof document)return!0;var e="on"+t,n=e in document;if(!n){var r=document.createElement("div");r.setAttribute(e,"return;"),n="function"===typeof r[e]}return n},Vd=function(t,e,n){var r=t.__events||(t.__events={}),i=r[e];i&&t.removeEventListener(e,i),t.addEventListener(e,r[e]=function(t){n&&n.call(this,t)})},Wd=function(t){var e=new Map;return t.forEach((function(t){return e.set(t,t)})),e},Yd=function(t,e){"function"===typeof t?t(e):null!=t&&(t.current=e)},Gd=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.forEach((function(e){Yd(e,t)}))}},qd=function(t,n,r,i){void 0!==i&&i();var o=jd(t),a=function(n){(0,dt.Z)(a,n);var i=(0,ft.Z)(a);function a(t){var e;return(0,ht.Z)(this,a),(e=i.call(this,t)).setComponentElRef=function(t){e.componentEl=t},e}return(0,pt.Z)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(t){Zd(this.componentEl,this.props,t)}},{key:"render",value:function(){var n=this.props,i=n.children,o=n.forwardedRef,a=n.style,s=(n.className,n.ref,ge(n,["children","forwardedRef","style","className","ref"])),l=Object.keys(s).reduce((function(t,e){if(0===e.indexOf("on")&&e[2]===e[2].toUpperCase()){var n=e.substring(2).toLowerCase();"undefined"!==typeof document&&Hd(n)&&(t[e]=s[e])}else t[e]=s[e];return t}),{});r&&(l=r(this.props,l));var c=Object.assign(Object.assign({},l),{ref:Gd(o,this.setComponentElRef),style:a});return(0,e.createElement)(t,c,i)}}],[{key:"displayName",get:function(){return o}}]),a}(e.Component);return n&&(a.contextType=n),function(t,n){var r=function(n,r){return e.createElement(t,Object.assign({},n,{forwardedRef:r}))};return r.displayName=n,e.forwardRef(r)}(a,o)},Xd=qd("ion-buttons",void 0,void 0,Ge),Jd=qd("ion-chip",void 0,void 0,on),Kd=qd("ion-col",void 0,void 0,fn),Qd=qd("ion-content",void 0,void 0,vn),tf=qd("ion-footer",void 0,void 0,si),ef=qd("ion-grid",void 0,void 0,ci),nf=qd("ion-header",void 0,void 0,xi),rf=qd("ion-label",void 0,void 0,Bi),of=qd("ion-list",void 0,void 0,$i),af=qd("ion-progress-bar",void 0,void 0,mo),sf=qd("ion-range",void 0,void 0,Co),lf=qd("ion-row",void 0,void 0,Vo),cf=qd("ion-segment",void 0,void 0,Yo),uf=qd("ion-segment-button",void 0,void 0,Xo),df=qd("ion-select",void 0,void 0,Ea),ff=qd("ion-select-option",void 0,void 0,Oa),hf=qd("ion-title",void 0,void 0,Ba),pf=qd("ion-toggle",void 0,void 0,Za),gf=qd("ion-toolbar",void 0,void 0,Ha),mf=function(t,n){var r=function(n,r){return e.createElement(t,Object.assign({},n,{forwardedRef:r}))};return r.displayName=n,e.forwardRef(r)},vf=function(){if("undefined"!==typeof window){var t=window.Ionic;if(t&&t.config)return t.config}return null},yf=function(t,n){!function(t,e){void 0===e||"undefined"===typeof customElements||customElements.get(t)||customElements.define(t,e)}(t,n);var r=jd(t),i=function(n){(0,dt.Z)(o,n);var i=(0,ft.Z)(o);function o(t){var n;return(0,ht.Z)(this,o),(n=i.call(this,t)).handleClick=function(t){var e=n.props,r=e.routerLink,i=e.routerDirection,o=e.routerOptions,a=e.routerAnimation;void 0!==r&&(t.preventDefault(),n.context.navigate(r,i,void 0,a,o))},n.ref=e.createRef(),n.stableMergedRefs=Gd(n.ref,n.props.forwardedRef),n}return(0,pt.Z)(o,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.ref.current;Zd(e,this.props,t)}},{key:"render",value:function(){var n=this,r=this.props,i=r.children,o=(r.forwardedRef,r.style),a=(r.className,r.ref,ge(r,["children","forwardedRef","style","className","ref"])),s=Object.keys(a).reduce((function(t,e){if(0===e.indexOf("on")&&e[2]===e[2].toUpperCase()){var n=e.substring(2).toLowerCase();Hd(n)&&(t[e]=a[e])}else["string","boolean","number"].includes(typeof a[e])&&(t[$d(e)]=a[e]);return t}),{}),l=Object.assign(Object.assign({},s),{ref:this.stableMergedRefs,style:o});if(this.props.routerLink&&!this.props.href&&(l.href=this.props.routerLink),l.onClick){var c=l.onClick;l.onClick=function(t){c(t),t.defaultPrevented||n.handleClick(t)}}else l.onClick=this.handleClick;return(0,e.createElement)(t,l,i)}}],[{key:"displayName",get:function(){return r}},{key:"contextType",get:function(){return Fd}}]),o}(e.Component);return mf(i,r)},bf=yf("ion-button",ns),xf=yf("ion-item",rs),wf=function(t,n,r){r&&r();var i=jd(t),o="on".concat(i,"DidDismiss"),a="on".concat(i,"DidPresent"),s="on".concat(i,"WillDismiss"),l="on".concat(i,"WillPresent"),c=function(t){(0,dt.Z)(r,t);var e=(0,ft.Z)(r);function r(t){var n;return(0,ht.Z)(this,r),(n=e.call(this,t)).willUnmount=!1,n.handleDismiss=n.handleDismiss.bind((0,ut.Z)(n)),n}return(0,pt.Z)(r,[{key:"componentDidMount",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.willUnmount=!1,this.props.isOpen&&this.present();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.willUnmount=!0,this.overlay&&this.overlay.dismiss()}},{key:"componentDidUpdate",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isOpen!==this.props.isOpen&&!0===this.props.isOpen&&this.present(e),!this.overlay||e.isOpen===this.props.isOpen||!1!==this.props.isOpen){t.next=4;break}return t.next=4,this.overlay.dismiss();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleDismiss",value:function(t){this.props.onDidDismiss&&this.props.onDidDismiss(t),Yd(this.props.forwardedRef,null)}},{key:"present",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var r,i,c,u=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.props,c=ge(i,["isOpen","onDidDismiss","onDidPresent","onWillDismiss","onWillPresent"]),this.overlay&&this.overlay.remove(),t.next=4,n.create(Object.assign({},c));case 4:if(this.overlay=t.sent,Zd(this.overlay,(r={},(0,st.Z)(r,o,this.handleDismiss),(0,st.Z)(r,a,(function(t){return u.props.onDidPresent&&u.props.onDidPresent(t)})),(0,st.Z)(r,s,(function(t){return u.props.onWillDismiss&&u.props.onWillDismiss(t)})),(0,st.Z)(r,l,(function(t){return u.props.onWillPresent&&u.props.onWillPresent(t)})),r),e),!0!==this.props.isOpen||!1!==this.willUnmount){t.next=10;break}return Yd(this.props.forwardedRef,this.overlay),t.next=10,this.overlay.present();case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return null}}],[{key:"displayName",get:function(){return i}}]),r}(e.Component);return e.forwardRef((function(t,n){return e.createElement(c,Object.assign({},t,{forwardedRef:n}))}))},kf=wf("ion-loading",Vt,cs),_f={create:function(t){return Yt.create(t)},dismiss:function(t,e,n){return Yt.dismiss(t,e,n)},getTop:function(){return Yt.getTop()}},Af=wf("ion-toast",_f,ms),Tf=function(t,n){n&&n();var r=jd(t),i=function(n){(0,dt.Z)(o,n);var i=(0,ft.Z)(o);function o(t){var n;return(0,ht.Z)(this,o),(n=i.call(this,t)).ref=e.createRef(),n.stableMergedRefs=Gd(n.ref,n.props.forwardedRef),n.state={isOpen:!1},n.wrapperRef=e.createRef(),n}return(0,pt.Z)(o,[{key:"componentDidMount",value:function(){var t,e,n=this;this.componentDidUpdate(this.props),null===(t=this.ref.current)||void 0===t||t.addEventListener("willPresent",(function(t){n.setState({isOpen:!0}),n.props.onWillPresent&&n.props.onWillPresent(t)})),null===(e=this.ref.current)||void 0===e||e.addEventListener("didDismiss",(function(t){var e=n.wrapperRef.current,r=n.ref.current;e&&r&&(r.append(e),n.setState({isOpen:!1})),n.props.onDidDismiss&&n.props.onDidDismiss(t)}))}},{key:"componentDidUpdate",value:function(t){var e=this.ref.current;Zd(e,this.props,t)}},{key:"render",value:function(){var n=this.props,r=n.children,i=(n.forwardedRef,n.style),o=(n.className,n.ref,ge(n,["children","forwardedRef","style","className","ref"])),a=Object.keys(o).reduce((function(t,e){if(0===e.indexOf("on")&&e[2]===e[2].toUpperCase()){var n=e.substring(2).toLowerCase();Hd(n)&&(t[e]=o[e])}else["string","boolean","number"].includes(typeof o[e])&&(t[$d(e)]=o[e]);return t}),{}),s=Object.assign(Object.assign({},a),{ref:this.stableMergedRefs,style:i});return(0,e.createElement)(t,s,this.state.isOpen||this.props.keepContentsMounted?(0,e.createElement)("div",{id:"ion-react-wrapper",ref:this.wrapperRef,style:{display:"flex",flexDirection:"column",height:"100%"}},r):null)}}],[{key:"displayName",get:function(){return r}}]),o}(e.Component);return mf(i,r)},Mf=Tf("ion-modal",Ws),Ef=e.createContext({addOverlay:function(){},removeOverlay:function(){}}),Cf=function(t){var n=t.onAddOverlay,i=t.onRemoveOverlay,o=(0,e.useState)({}),a=(0,at.Z)(o,2),s=a[0],l=a[1],c=(0,e.useRef)({});c.current=s,(0,e.useEffect)((function(){n(u),i(d)}),[]);var u=function(t,e,n){var r=Object.assign({},c.current);r[t]={component:e,containerElement:n},l(r)},d=function(t){var e=Object.assign({},c.current);delete e[t],l(e)},f=Object.keys(s);return e.createElement(e.Fragment,null,f.map((function(t){var e=s[t];return r.createPortal(e.component,e.containerElement,"overlay-".concat(t))})))},Sf=qd("ion-tab-button",void 0,void 0,sl),Of=qd("ion-tab-bar",void 0,void 0,tl),Lf=qd("ion-router-outlet",void 0,void 0,Ks),Pf=qd("ion-app",void 0,void 0,Xs),Df=qd("ion-icon",void 0,void 0,zd),Rf=function(){return function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;return(0,ht.Z)(this,r),(e=n.call(this,t)).ionContext={addOverlay:function(t,n,r){e.addOverlayCallback&&e.addOverlayCallback(t,n,r)},removeOverlay:function(t){e.removeOverlayCallback&&e.removeOverlayCallback(t)}},e}return(0,pt.Z)(r,[{key:"render",value:function(){var t=this;return e.createElement(Ef.Provider,{value:this.ionContext},e.createElement(Pf,Object.assign({},this.props),this.props.children),e.createElement(Cf,{onAddOverlay:function(e){t.addOverlayCallback=e},onRemoveOverlay:function(e){t.removeOverlayCallback=e}}))}}],[{key:"displayName",get:function(){return"IonApp"}}]),r}(e.Component)}(),If=e.createContext({registerIonPage:function(){},isInOutlet:function(){return!1}}),zf=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var i;return(0,ht.Z)(this,r),(i=n.call(this,t)).ionPageElementRef=e.createRef(),i.stableMergedRefs=Gd(i.ionPageElementRef,i.props.forwardedRef),i}return(0,pt.Z)(r,[{key:"componentDidMount",value:function(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"componentWillUnmount",value:function(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"ionViewWillEnterHandler",value:function(){this.ionLifeCycleContext.ionViewWillEnter()}},{key:"ionViewDidEnterHandler",value:function(){this.ionLifeCycleContext.ionViewDidEnter()}},{key:"ionViewWillLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewWillLeave()}},{key:"ionViewDidLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewDidLeave()}},{key:"render",value:function(){var t=this,n=this.props,r=n.className,i=n.children,o=(n.routeInfo,n.forwardedRef,ge(n,["className","children","routeInfo","forwardedRef"]));return e.createElement(Nd.Consumer,null,(function(n){return t.ionLifeCycleContext=n,e.createElement("div",Object.assign({className:r?"".concat(r," ion-page"):"ion-page",ref:t.stableMergedRefs},o),i)}))}}],[{key:"contextType",get:function(){return If}}]),r}(e.PureComponent),Nf=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){return(0,ht.Z)(this,r),n.call(this,t)}return(0,pt.Z)(r,[{key:"render",value:function(){var t=this.props,n=t.className,r=t.children,i=t.forwardedRef,o=ge(t,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?e.createElement(zf,Object.assign({className:n?"".concat(n):"",routeInfo:this.context.routeInfo,forwardedRef:i},o),r):e.createElement("div",Object.assign({className:n?"ion-page ".concat(n):"ion-page",ref:i},o),r)}}],[{key:"displayName",get:function(){return"IonPage"}},{key:"contextType",get:function(){return Fd}}]),r}(e.Component),Bf=mf(Nf,"IonPage"),Ff=qd("ion-nav",void 0,void 0,fo),jf=(mf((function(t){t.children;var n=t.forwardedRef,i=ge(t,["children","forwardedRef"]),o=(0,e.useState)([]),a=(0,at.Z)(o,2),s=a[0],l=a[1],c=function(t,e){var n=new WeakMap,i=function(){var e=(0,ct.Z)((0,lt.Z)().mark((function e(i,o,a,s){var l,c,u,d;return(0,lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=document.createElement("div"),s&&(l=c.classList).add.apply(l,(0,ot.Z)(s)),i.appendChild(c),u=o(a),d=(0,r.createPortal)(u,c),n.set(o,d),t(d),e.abrupt("return",Promise.resolve(c));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();return{attachViewToDom:i,removeViewFromDom:function(t,r){var i=n.get(r);return i&&e(i),Promise.resolve()}}}((function(t){return l([].concat((0,ot.Z)(s),[t]))}),(function(t){return l(s.filter((function(e){return e!==t})))}));return e.createElement(Ff,Object.assign({delegate:c,ref:n},i),s)}),"IonNav"),e.createContext({activeTab:void 0,selectTab:function(){return!1}}),"undefined"!==typeof HTMLElement?HTMLElement:function(){return(0,pt.Z)((function t(){(0,ht.Z)(this,t)}))}()),$f=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;return(0,ht.Z)(this,r),(e=n.call(this,t)).outletIsReady=!1,e}return(0,pt.Z)(r,[{key:"componentDidMount",value:function(){var t=this;this.ionRouterOutlet&&(this.outletIsReady||(0,Ft.c)(this.ionRouterOutlet,(function(){t.outletIsReady=!0,t.context.registerIonPage(t.ionRouterOutlet,t.props.routeInfo)})),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"componentWillUnmount",value:function(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"ionViewWillEnterHandler",value:function(){this.ionLifeCycleContext.ionViewWillEnter()}},{key:"ionViewDidEnterHandler",value:function(){this.ionLifeCycleContext.ionViewDidEnter()}},{key:"ionViewWillLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewWillLeave()}},{key:"ionViewDidLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewDidLeave()}},{key:"render",value:function(){var t=this,n=this.props,r=n.StackManager,i=n.children,o=n.routeInfo,a=ge(n,["StackManager","children","routeInfo"]);return e.createElement(Nd.Consumer,null,(function(n){return t.ionLifeCycleContext=n,e.createElement(r,{routeInfo:o},e.createElement(Lf,Object.assign({setRef:function(e){return t.ionRouterOutlet=e}},a),i))}))}}],[{key:"contextType",get:function(){return If}}]),r}(e.Component),Zf=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){return(0,ht.Z)(this,r),n.call(this,t)}return(0,pt.Z)(r,[{key:"render",value:function(){var t=this.context.getStackManager(),n=this.props,r=n.children,i=n.forwardedRef,o=ge(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?o.ionPage?e.createElement($f,Object.assign({StackManager:t,routeInfo:this.context.routeInfo},o),r):e.createElement(t,{routeInfo:this.context.routeInfo},e.createElement(Lf,Object.assign({},o,{forwardedRef:i}),r)):e.createElement(Lf,Object.assign({ref:i},this.props),this.props.children)}}],[{key:"contextType",get:function(){return Fd}}]),r}(e.Component),Uf=mf(Zf,"IonRouterOutlet"),Hf=function(){return function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;return(0,ht.Z)(this,r),(e=n.call(this,t)).handleIonTabButtonClick=e.handleIonTabButtonClick.bind((0,ut.Z)(e)),e}return(0,pt.Z)(r,[{key:"handleIonTabButtonClick",value:function(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}},{key:"render",value:function(){var t=ge(this.props,["onClick"]);return e.createElement(Sf,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},t))}}],[{key:"displayName",get:function(){return"IonTabButton"}}]),r}(e.Component)}(),Vf=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var i;(0,ht.Z)(this,r),(i=n.call(this,t)).setActiveTabOnContext=function(t){};var o={};return e.Children.forEach(t.children,(function(e){var n,r,i,a;null!=e&&"object"===typeof e&&e.props&&(e.type===Hf||e.type.isTabButton)&&(o[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,originalRouteOptions:e.props.href===(null===(n=t.routeInfo)||void 0===n?void 0:n.pathname)?null===(r=t.routeInfo)||void 0===r?void 0:r.routeOptions:void 0,currentRouteOptions:e.props.href===(null===(i=t.routeInfo)||void 0===i?void 0:i.pathname)?null===(a=t.routeInfo)||void 0===a?void 0:a.routeOptions:void 0})})),i.state={tabs:o},i.onTabButtonClick=i.onTabButtonClick.bind((0,ut.Z)(i)),i.renderTabButton=i.renderTabButton.bind((0,ut.Z)(i)),i.setActiveTabOnContext=i.setActiveTabOnContext.bind((0,ut.Z)(i)),i.selectTab=i.selectTab.bind((0,ut.Z)(i)),i}return(0,pt.Z)(r,[{key:"componentDidMount",value:function(){var t=this,e=this.state.tabs,n=Object.keys(e).find((function(n){var r=e[n].originalHref;return t.props.routeInfo.pathname.startsWith(r)}));n&&this.setState({activeTab:n})}},{key:"componentDidUpdate",value:function(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}},{key:"selectTab",value:function(t){var e=this.state.tabs[t];return!!e&&(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:e.currentHref,tab:t,selected:t===this.state.activeTab,routeOptions:void 0}})),!0)}},{key:"onTabButtonClick",value:function(t,e){var n=this.state.tabs[t.detail.tab],r=n.originalHref,i=t.detail.href,o=this.state.activeTab;e&&e(t),o===t.detail.tab?r!==i&&this.context.resetTab(t.detail.tab,r,n.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:t.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:t.detail.tab}})),this.setActiveTabOnContext(t.detail.tab),this.context.changeTab(t.detail.tab,i,t.detail.routeOptions))}},{key:"renderTabButton",value:function(t){var n=this;return function(r){var i,o;if(null!=r&&r.props&&(r.type===Hf||r.type.isTabButton)){var a=r.props.tab===t?null===(i=n.props.routeInfo)||void 0===i?void 0:i.pathname:n.state.tabs[r.props.tab].currentHref,s=r.props.tab===t?null===(o=n.props.routeInfo)||void 0===o?void 0:o.routeOptions:n.state.tabs[r.props.tab].currentRouteOptions;return e.cloneElement(r,{href:a,routeOptions:s,onClick:function(t){return n.onTabButtonClick(t,r.props.onClick)}})}return null}}},{key:"render",value:function(){var t=this.state.activeTab;return e.createElement(Of,Object.assign({},this.props,{selectedTab:t}),e.Children.map(this.props.children,this.renderTabButton(t)))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r,i,o,a=Object.assign({},n.tabs),s=Object.keys(n.tabs).find((function(e){var r=n.tabs[e].originalHref;return t.routeInfo.pathname.startsWith(r)}));e.Children.forEach(t.children,(function(t){if(null!=t&&"object"===typeof t&&t.props&&(t.type===Hf||t.type.isTabButton)){var e=a[t.props.tab];e&&e.originalHref===t.props.href||(a[t.props.tab]={originalHref:t.props.href,currentHref:t.props.href,originalRouteOptions:t.props.routeOptions,currentRouteOptions:t.props.routeOptions})}}));var l=n.activeTab;if(s&&l){var c=n.tabs[l].currentHref,u=n.tabs[l].currentRouteOptions;s===l&&c===(null===(r=t.routeInfo)||void 0===r?void 0:r.pathname)&&u===(null===(i=t.routeInfo)||void 0===i?void 0:i.routeOptions)||(a[s]={originalHref:a[s].originalHref,currentHref:t.routeInfo.pathname+(t.routeInfo.search||""),originalRouteOptions:a[s].originalRouteOptions,currentRouteOptions:null===(o=t.routeInfo)||void 0===o?void 0:o.routeOptions},"pop"===t.routeInfo.routeAction&&s!==l&&(a[l]={originalHref:a[l].originalHref,currentHref:a[l].originalHref,originalRouteOptions:a[l].originalRouteOptions,currentRouteOptions:a[l].currentRouteOptions}))}return s&&t.onSetCurrentTab(s,t.routeInfo),{activeTab:s,tabs:a}}},{key:"contextType",get:function(){return Fd}}]),r}(e.PureComponent),Wf=e.memo((function(t){var n=t.forwardedRef,r=ge(t,["forwardedRef"]),i=(0,e.useContext)(Fd);return e.createElement(Vf,Object.assign({ref:n},r,{routeInfo:r.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),r.children)})),Yf=(mf(Wf,"IonTabBar"),function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(){return(0,ht.Z)(this,n),e.call(this)}return(0,pt.Z)(n)}(jf));"undefined"!==typeof window&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",Yf));var Gf=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;return(0,ht.Z)(this,r),(e=n.call(this,t)).props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.'),e}return(0,pt.Z)(r,[{key:"render",value:function(){var t,n,r,i=this.props,o=i.icon,a=i.ios,s=i.md,l=ge(i,["icon","ios","md"]);return r=a||s?At(window,"ios")?null!==(t=null!==a&&void 0!==a?a:s)&&void 0!==t?t:o:null!==(n=null!==s&&void 0!==s?s:a)&&void 0!==n?n:o:o,e.createElement(Df,Object.assign({ref:this.props.forwardedRef,icon:r},l),this.props.children)}}],[{key:"contextType",get:function(){return Fd}}]),r}(e.PureComponent),qf=mf(Gf,"IonIcon"),Xf=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(){return(0,ht.Z)(this,r),n.apply(this,arguments)}return(0,pt.Z)(r,[{key:"render",value:function(){var t=this.context.getIonRoute();return this.context.hasIonicRouter()&&r?e.createElement(t,Object.assign({},this.props)):(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null)}}],[{key:"contextType",get:function(){return Fd}}]),r}(e.PureComponent),Jf=(e.PureComponent,e.createContext({routeInfo:void 0,push:function(){throw new Error("An Ionic Router is required for IonRouterContext")},back:function(){throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:function(){throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:function(){throw new Error("An Ionic Router is required for IonRouterContext")}}));e.PureComponent;var Kf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(var i in e)e.hasOwnProperty(i)&&!r.includes(i)&&e[i]!==n[i]&&t[i](e[i]);var o=e.from;if(o&&o!==n.from){var a=Array.isArray(o)?o:[o];a.forEach((function(e){return t.from(e.property,e.value)}))}var s=e.to;if(s&&s!==n.to){var l=Array.isArray(s)?s:[s];l.forEach((function(e){return t.to(e.property,e.value)}))}var c=e.fromTo;if(c&&c!==n.fromTo){var u=Array.isArray(c)?c:[c];u.forEach((function(e){return t.fromTo(e.property,e.fromValue,e.toValue)}))}var d=e.onFinish;if(d&&d!==n.onFinish){var f=Array.isArray(d)?d:[d];f.forEach((function(e){return t.onFinish(e.callback,e.opts)}))}},Qf=function(t){var e,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=a.progressStart,c=a.progressStep,u=a.progressEnd;!l||(null===(e=s.progressStart)||void 0===e?void 0:e.forceLinearEasing)===(null===l||void 0===l?void 0:l.forceLinearEasing)&&(null===(n=s.progressStart)||void 0===n?void 0:n.step)===(null===l||void 0===l?void 0:l.step)||t.progressStart(l.forceLinearEasing,l.step),c&&(null===(r=s.progressStep)||void 0===r?void 0:r.step)!==(null===c||void 0===c?void 0:c.step)&&t.progressStep(c.step),!u||(null===(i=s.progressEnd)||void 0===i?void 0:i.playTo)===(null===u||void 0===u?void 0:u.playTo)&&(null===(o=s.progressEnd)||void 0===o?void 0:o.step)===(null===u||void 0===u?void 0:u.step)&&(null===s||void 0===s?void 0:s.dur)===(null===u||void 0===u?void 0:u.dur)||t.progressEnd(u.playTo,u.step,u.dur)},th=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()};var eh={main:0},nh=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",n=(null!==(t=eh[e])&&void 0!==t?t:0)+1;return eh[e]=n,n.toString()};var rh=e.createContext({addViewItem:function(){},canGoBack:function(){},clearOutlet:function(){},createViewItem:function(){},findViewItemByPathname:function(){},findLeavingViewItemByRouteInfo:function(){},findViewItemByRouteInfo:function(){},getChildrenToRender:function(){},goBack:function(){},unMountViewItem:function(){}}),ih=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;return(0,ht.Z)(this,r),(e=n.call(this,t)).ionLifeCycleContext=new Bd,e._isMounted=!1,e.ionLifeCycleContext.onComponentCanBeDestroyed((function(){e.props.mount||e._isMounted&&e.setState({show:!1},(function(){return e.props.removeView()}))})),e.state={show:!0},e}return(0,pt.Z)(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=this.state.show;return e.createElement(Nd.Provider,{value:this.ionLifeCycleContext},t&&this.props.children)}}]),r}(e.Component),oh=function(){function t(){(0,ht.Z)(this,t),this.locationHistory=[],this.tabHistory={}}return(0,pt.Z)(t,[{key:"add",value:function(t){"push"===t.routeAction||null==t.routeAction?this._add(t):"pop"===t.routeAction?this._pop(t):"replace"===t.routeAction&&this._replace(t),"root"===t.routeDirection&&(this._clear(),this._add(t))}},{key:"clearTabStack",value:function(t){var e=this,n=this._getRouteInfosByKey(t);n&&(n.forEach((function(t){e.locationHistory=e.locationHistory.filter((function(e){return e.id!==t.id}))})),this.tabHistory[t]=[])}},{key:"update",value:function(t){var e=this.locationHistory.findIndex((function(e){return e.id===t.id}));e>-1&&this.locationHistory.splice(e,1,t);var n=this.tabHistory[t.tab||""];if(n){var r=n.findIndex((function(e){return e.id===t.id}));r>-1?n.splice(r,1,t):n.push(t)}else t.tab&&(this.tabHistory[t.tab]=[t])}},{key:"_add",value:function(t){var e=this._getRouteInfosByKey(t.tab);e&&(this._areRoutesEqual(e[e.length-1],t)&&e.pop(),e.push(t)),this.locationHistory.push(t)}},{key:"_areRoutesEqual",value:function(t,e){return!(!t||!e)&&(t.pathname===e.pathname&&t.search===e.search)}},{key:"_pop",value:function(t){var e=this._getRouteInfosByKey(t.tab);e&&(e.pop(),e.pop(),e.push(t)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(t)}},{key:"_replace",value:function(t){var e=this._getRouteInfosByKey(t.tab);e&&e.pop(),this.locationHistory.pop(),this._add(t)}},{key:"_clear",value:function(){var t=this;Object.keys(this.tabHistory).forEach((function(e){return t.tabHistory[e]=[]})),this.locationHistory=[]}},{key:"_getRouteInfosByKey",value:function(t){var e;return t&&((e=this.tabHistory[t])||(e=this.tabHistory[t]=[])),e}},{key:"getFirstRouteInfoForTab",value:function(t){var e=this._getRouteInfosByKey(t);if(e)return e[0]}},{key:"getCurrentRouteInfoForTab",value:function(t){var e=this._getRouteInfosByKey(t);if(e)return e[e.length-1]}},{key:"findLastLocation",value:function(t){var e=this._getRouteInfosByKey(t.tab);if(e)for(var n=e.length-2;n>=0;n--){var r=e[n];if(r&&r.pathname===t.pushedByRoute)return r}for(var i=this.locationHistory.length-2;i>=0;i--){var o=this.locationHistory[i];if(o&&o.pathname===t.pushedByRoute)return o}}},{key:"previous",value:function(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}},{key:"current",value:function(){return this.locationHistory[this.locationHistory.length-1]}},{key:"canGoBack",value:function(){return this.locationHistory.length>1}}]),t}(),ah=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;return(0,ht.Z)(this,r),(e=n.call(this,t))._isMounted=!1,e.ionRouterContextValue={push:function(t,n,r,i,o){e.navigate(t,n,r,o,i)},back:function(t){e.goBack(void 0,t)},canGoBack:function(){return e.props.locationHistory.canGoBack()},nativeBack:function(){return e.props.onNativeBack()},routeInfo:e.props.routeInfo},e.state={goBack:e.goBack.bind((0,ut.Z)(e)),hasIonicRouter:function(){return!0},navigate:e.navigate.bind((0,ut.Z)(e)),getIonRedirect:e.getIonRedirect.bind((0,ut.Z)(e)),getIonRoute:e.getIonRoute.bind((0,ut.Z)(e)),getStackManager:e.getStackManager.bind((0,ut.Z)(e)),getPageManager:e.getPageManager.bind((0,ut.Z)(e)),routeInfo:e.props.routeInfo,setCurrentTab:e.props.onSetCurrentTab,changeTab:e.props.onChangeTab,resetTab:e.props.onResetTab},"undefined"!==typeof document&&(e.handleHardwareBackButton=e.handleHardwareBackButton.bind((0,ut.Z)(e)),document.addEventListener("ionBackButton",e.handleHardwareBackButton)),e}return(0,pt.Z)(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof document&&(document.removeEventListener("ionBackButton",this.handleHardwareBackButton),this._isMounted=!1)}},{key:"handleHardwareBackButton",value:function(t){var e=this;t.detail.register(0,(function(t){e._isMounted&&(e.nativeGoBack(),t())}))}},{key:"goBack",value:function(t,e){this.props.onNavigateBack(t,e)}},{key:"nativeGoBack",value:function(){this.props.onNativeBack()}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"forward",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"push",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;this.props.onNavigate(t,n,e,r,i,o)}},{key:"getPageManager",value:function(){return zf}},{key:"getIonRedirect",value:function(){return this.props.ionRedirect}},{key:"getIonRoute",value:function(){return this.props.ionRoute}},{key:"getStackManager",value:function(){return this.props.stackManager}},{key:"render",value:function(){return e.createElement(Fd.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},e.createElement(Jf.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}]),r}(e.PureComponent),sh=function(){function t(){(0,ht.Z)(this,t),this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}return(0,pt.Z)(t,[{key:"add",value:function(t){var e=t.outletId;this.viewStacks[e]?this.viewStacks[e].push(t):this.viewStacks[e]=[t]}},{key:"clear",value:function(t){var e=this;return setTimeout((function(){delete e.viewStacks[t]}),500)}},{key:"getViewItemsForOutlet",value:function(t){return this.viewStacks[t]||[]}},{key:"remove",value:function(t){var e=t.outletId,n=this.viewStacks[e];if(n){var r=n.find((function(e){return e.id===t.id}));r&&(r.mount=!1,this.viewStacks[e]=n.filter((function(t){return t.id!==r.id})))}}},{key:"getStackIds",value:function(){return Object.keys(this.viewStacks)}},{key:"getAllViewItems",value:function(){var t=this,e=this.getStackIds(),n=[];return e.forEach((function(e){n.push.apply(n,(0,ot.Z)(t.viewStacks[e]))})),n}}]),t}(),lh=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(){return(0,ht.Z)(this,r),n.apply(this,arguments)}return(0,pt.Z)(r,[{key:"render",value:function(){return e.createElement(K,{path:this.props.path,exact:this.props.exact,render:this.props.render,computedMatch:this.props.computedMatch})}}]),r}(e.PureComponent),ch=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(){var t;return(0,ht.Z)(this,r),(t=n.call(this)).createViewItem=t.createViewItem.bind((0,ut.Z)(t)),t.findViewItemByRouteInfo=t.findViewItemByRouteInfo.bind((0,ut.Z)(t)),t.findLeavingViewItemByRouteInfo=t.findLeavingViewItemByRouteInfo.bind((0,ut.Z)(t)),t.getChildrenToRender=t.getChildrenToRender.bind((0,ut.Z)(t)),t.findViewItemByPathname=t.findViewItemByPathname.bind((0,ut.Z)(t)),t}return(0,pt.Z)(r,[{key:"createViewItem",value:function(t,e,n,r){var i={id:nh("viewItem"),outletId:t,ionPageElement:r,reactElement:e,mount:!0,ionRoute:!1},o={exact:e.props.exact,path:e.props.path||e.props.from,component:e.props.component},a=J(n.pathname,o);return e.type===Xf&&(i.ionRoute=!0,i.disableIonPageManagement=e.props.disableIonPageManagement),i.routeData={match:a,childProps:e.props},i}},{key:"getChildrenToRender",value:function(t,n,r){var i=this,o=this.getViewItemsForOutlet(t);return e.Children.forEach(n.props.children,(function(t){var e=o.find((function(e){return uh(t,e.routeData.childProps.path||e.routeData.childProps.from)}));e&&(e.reactElement=t)})),o.map((function(t){var n;if(t.ionRoute&&!t.disableIonPageManagement)n=e.createElement(ih,{key:"view-".concat(t.id),mount:t.mount,removeView:function(){return i.remove(t)}},e.cloneElement(t.reactElement,{computedMatch:t.routeData.match}));else{var o=uh(t.reactElement,r.pathname);n=e.createElement(ih,{key:"view-".concat(t.id),mount:t.mount,removeView:function(){return i.remove(t)}},e.cloneElement(t.reactElement,{computedMatch:t.routeData.match})),!o&&t.routeData.match&&(t.routeData.match=void 0,t.mount=!1)}return n}))}},{key:"findViewItemByRouteInfo",value:function(t,e,n){var r=this.findViewItemByPath(t.pathname,e),i=r.viewItem,o=r.match;return(void 0===n||!0===n)&&i&&o&&(i.routeData.match=o),i}},{key:"findLeavingViewItemByRouteInfo",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.findViewItemByPath(t.lastPathname,e,!1,n),i=r.viewItem;return i}},{key:"findViewItemByPathname",value:function(t,e){return this.findViewItemByPath(t,e).viewItem}},{key:"findViewItemByPath",value:function(t,e,n,r){var i,o,a;if(e)(a=this.getViewItemsForOutlet(e)).some(l),i||a.some(c);else{var s=this.getAllViewItems();s.some(l),i||s.some(c)}return{viewItem:i,match:o};function l(e){if(r&&!e.ionRoute)return!1;var a={exact:!!n||e.routeData.childProps.exact,path:e.routeData.childProps.path||e.routeData.childProps.from,component:e.routeData.childProps.component},s=J(t,a);return!!s&&(i=e,o=s,!0)}function c(e){return!e.routeData.childProps.path&&!e.routeData.childProps.from&&(o={path:t,url:t,isExact:!0,params:{}},i=e,!0)}}}]),r}(sh);function uh(t,e,n){return J(e,{exact:!!n||t.props.exact,path:t.props.path||t.props.from,component:t.props.component})}function dh(t){var e;if(e="string"===typeof t?t:t.outerHTML,document){var n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";var r=n.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),n.firstChild}}var fh=function(t){return!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden")},hh=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;return(0,ht.Z)(this,r),(e=n.call(this,t)).stackContextValue={registerIonPage:e.registerIonPage.bind((0,ut.Z)(e)),isInOutlet:function(){return!0}},e.pendingPageTransition=!1,e.registerIonPage=e.registerIonPage.bind((0,ut.Z)(e)),e.transitionPage=e.transitionPage.bind((0,ut.Z)(e)),e.handlePageTransition=e.handlePageTransition.bind((0,ut.Z)(e)),e.id=nh("routerOutlet"),e.prevProps=void 0,e.skipTransition=!1,e}return(0,pt.Z)(r,[{key:"componentDidMount",value:function(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}},{key:"componentDidUpdate",value:function(t){this.props.routeInfo.pathname!==t.routeInfo.pathname?(this.prevProps=t,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}},{key:"componentWillUnmount",value:function(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}},{key:"handlePageTransition",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r,i,o,a;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.routerOutletElement&&this.routerOutletElement.commit){t.next=4;break}this.pendingPageTransition=!0,t.next=22;break;case 4:if(i=this.context.findViewItemByRouteInfo(e,this.id),!(o=this.context.findLeavingViewItemByRouteInfo(e,this.id))&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&("replace"===e.routeAction?o.mount=!1:"push"!==e.routeAction||"forward"!==e.routeDirection?"none"!==e.routeDirection&&i!==o&&(o.mount=!1):(null===(n=e.routeOptions)||void 0===n?void 0:n.unmount)&&(o.mount=!1)),a=ph(null===(r=this.ionRouterOutlet)||void 0===r?void 0:r.props.children,e),i?i.reactElement=a:a&&(i=this.context.createViewItem(this.id,a,e),this.context.addViewItem(i)),!i||!i.ionPageElement){t.next=20;break}if(i!==o){t.next=14;break}if(i.routeData.match.url===e.pathname){t.next=14;break}return t.abrupt("return");case 14:if(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),!fh(i.ionPageElement)||void 0===o||fh(o.ionPageElement)){t.next=17;break}return t.abrupt("return");case 17:this.transitionPage(e,i,o),t.next=21;break;case 20:!o||a||i||o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));case 21:this.forceUpdate();case 22:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"registerIonPage",value:function(t,e){var n=this.context.findViewItemByRouteInfo(e,this.id);if(n){var r=n.ionPageElement;if(n.ionPageElement=t,n.ionRoute=!0,r===t)return}this.handlePageTransition(e)}},{key:"setupRouterOutlet",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e){var n,r,i,o=this;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(){var t=vf();if(!(t&&t.get("swipeBackEnabled","ios"===e.mode)))return!1;var n=o.props.routeInfo,r=o.prevProps&&o.prevProps.routeInfo.pathname===n.pushedByRoute?o.prevProps.routeInfo:{pathname:n.pushedByRoute||""},i=o.context.findViewItemByRouteInfo(r,o.id,!1);return!!i&&i.mount&&i.routeData.match.path!==n.pathname},r=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(){var e,n,r,i;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.props.routeInfo,n=o.prevProps&&o.prevProps.routeInfo.pathname===e.pushedByRoute?o.prevProps.routeInfo:{pathname:e.pushedByRoute||""},r=o.context.findViewItemByRouteInfo(n,o.id,!1),i=o.context.findViewItemByRouteInfo(e,o.id,!1),!r||!i){t.next=7;break}return t.next=7,o.transitionPage(e,r,i,"back",!0);case 7:return t.abrupt("return",Promise.resolve());case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(t){if(t)o.skipTransition=!0,o.context.goBack();else{var e=o.props.routeInfo,n=o.prevProps&&o.prevProps.routeInfo.pathname===e.pushedByRoute?o.prevProps.routeInfo:{pathname:e.pushedByRoute||""},r=o.context.findViewItemByRouteInfo(n,o.id,!1);if(r!==o.context.findViewItemByRouteInfo(e,o.id,!1)&&void 0!==(null===r||void 0===r?void 0:r.ionPageElement)){var i=r.ionPageElement;i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden")}}},e.swipeHandler={canStart:n,onStart:r,onEnd:i};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"transitionPage",value:function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(e,n,r,i){var o,a,s,l,c,u,d=this,f=arguments;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=f.length>4&&void 0!==f[4]&&f[4],a=function(){var t=(0,ct.Z)((0,lt.Z)().mark((function t(n,r){var i;return(0,lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=d.skipTransition)?d.skipTransition=!1:(n.classList.add("ion-page"),n.classList.add("ion-page-invisible")),t.next=4,s.commit(n,r,{deepWait:!0,duration:i||void 0===c?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),s=this.routerOutletElement,l="none"===e.routeDirection||"root"===e.routeDirection?void 0:e.routeDirection,c=null!==i&&void 0!==i?i:l,!(n&&n.ionPageElement&&this.routerOutletElement)){t.next=24;break}if(!r||!r.ionPageElement||n!==r){t.next=21;break}if(!gh(r.reactElement,e.pathname,!0)){t.next=17;break}if(!(u=dh(r.ionPageElement.outerHTML))){t.next=15;break}return this.routerOutletElement.appendChild(u),t.next=14,a(n.ionPageElement,u);case 14:this.routerOutletElement.removeChild(u);case 15:t.next=19;break;case 17:return t.next=19,a(n.ionPageElement,void 0);case 19:t.next=24;break;case 21:return t.next=23,a(n.ionPageElement,null===r||void 0===r?void 0:r.ionPageElement);case 23:r&&r.ionPageElement&&!o&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"));case 24:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,n=this.props.children,r=e.Children.only(n);this.ionRouterOutlet=r;var i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,(function(){t.forceUpdate()}));return e.createElement(If.Provider,{value:this.stackContextValue},e.cloneElement(r,{ref:function(e){r.props.setRef&&r.props.setRef(e),r.props.forwardedRef&&(r.props.forwardedRef.current=e),t.routerOutletElement=e;var n=r.ref;"function"===typeof n&&n(e)}},i))}}],[{key:"contextType",get:function(){return rh}}]),r}(e.PureComponent);function ph(t,n){var r;return e.Children.forEach(t,(function(t){var e={exact:t.props.exact,path:t.props.path||t.props.from,component:t.props.component};J(n.pathname,e)&&(r=t)})),r||(e.Children.forEach(t,(function(t){t.props.path||t.props.from||(r=t)})),r)}function gh(t,e,n){return J(e,{exact:!!n||t.props.exact,path:t.props.path||t.props.from,component:t.props.component})}var mh=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;(0,ht.Z)(this,r),(e=n.call(this,t)).exitViewFromOtherOutletHandlers=[],e.locationHistory=new oh,e.viewStack=new ch,e.routeMangerContextState={canGoBack:function(){return e.locationHistory.canGoBack()},clearOutlet:e.viewStack.clear,findViewItemByPathname:e.viewStack.findViewItemByPathname,getChildrenToRender:e.viewStack.getChildrenToRender,goBack:function(){return e.handleNavigateBack()},createViewItem:e.viewStack.createViewItem,findViewItemByRouteInfo:e.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:e.viewStack.findLeavingViewItemByRouteInfo,addViewItem:e.viewStack.add,unMountViewItem:e.viewStack.remove};var i={id:nh("routeInfo"),pathname:e.props.location.pathname,search:e.props.location.search};return e.locationHistory.add(i),e.handleChangeTab=e.handleChangeTab.bind((0,ut.Z)(e)),e.handleResetTab=e.handleResetTab.bind((0,ut.Z)(e)),e.handleNativeBack=e.handleNativeBack.bind((0,ut.Z)(e)),e.handleNavigate=e.handleNavigate.bind((0,ut.Z)(e)),e.handleNavigateBack=e.handleNavigateBack.bind((0,ut.Z)(e)),e.props.registerHistoryListener(e.handleHistoryChange.bind((0,ut.Z)(e))),e.handleSetCurrentTab=e.handleSetCurrentTab.bind((0,ut.Z)(e)),e.state={routeInfo:i},e}return(0,pt.Z)(r,[{key:"handleChangeTab",value:function(t,e,n){if(e){var r=this.locationHistory.getCurrentRouteInfoForTab(t),i=e.split("?"),o=(0,at.Z)(i,2),a=o[0],s=o[1];r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===a?(this.incomingRouteParams.routeOptions=n,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=a,this.incomingRouteParams.search=s?"?"+s:void 0,this.incomingRouteParams.routeOptions=n,this.props.history.push(a+(s?"?"+s:"")))):this.handleNavigate(a,"push","none",void 0,n,t)}}},{key:"handleHistoryChange",value:function(t,e){var n,r,i,o;if((o=this.incomingRouteParams&&"replace"===this.incomingRouteParams.routeAction?this.locationHistory.previous():this.locationHistory.current()).pathname+o.search!==t.pathname){if(!this.incomingRouteParams){if("REPLACE"===e&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),"POP"===e){var a=this.locationHistory.current();if(a&&a.pushedByRoute){var s=this.locationHistory.findLastLocation(a);this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:(null===(n=t.state)||void 0===n?void 0:n.direction)||"forward",routeOptions:null===(r=t.state)||void 0===r?void 0:r.routerOptions,tab:this.currentTab})}var l;if(null===(i=this.incomingRouteParams)||void 0===i?void 0:i.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(l);else{var c="push"===this.incomingRouteParams.routeAction&&"forward"===this.incomingRouteParams.routeDirection;if(l=Object.assign(Object.assign({id:nh("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:t.pathname,search:t.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),c)l.tab=o.tab,l.pushedByRoute=o.pathname;else if("pop"===l.routeAction){var u=this.locationHistory.findLastLocation(l);l.pushedByRoute=null===u||void 0===u?void 0:u.pushedByRoute}else if("push"===l.routeAction&&l.tab!==o.tab){var d=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=null===d||void 0===d?void 0:d.pushedByRoute}else if("replace"===l.routeAction){var f=this.locationHistory.current(),h=null===f||void 0===f?void 0:f.pushedByRoute,p=void 0!==h&&h!==l.pathname?h:l.pushedByRoute;l.lastPathname=(null===f||void 0===f?void 0:f.pathname)||l.lastPathname,l.prevRouteLastPathname=null===f||void 0===f?void 0:f.lastPathname,l.pushedByRoute=p,l.routeDirection=(null===f||void 0===f?void 0:f.routeDirection)||l.routeDirection,l.routeAnimation=(null===f||void 0===f?void 0:f.routeAnimation)||l.routeAnimation}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}},{key:"handleNativeBack",value:function(){var t=this.props.history;(t.goBack||t.back)()}},{key:"handleNavigate",value:function(t,e,n,r,i,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:e,routeDirection:n,routeOptions:i,routeAnimation:r,tab:o}),"push"===e?this.props.history.push(t):this.props.history.replace(t)}},{key:"handleNavigateBack",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1?arguments[1]:void 0,n=vf();t=t||n&&n.get("backButtonDefaultHref");var r=this.locationHistory.current();if(r&&r.pushedByRoute){var i=this.locationHistory.findLastLocation(r);if(i)if(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"pop",routeDirection:"back",routeAnimation:e||r.routeAnimation}),r.lastPathname===r.pushedByRoute||i.pathname===r.pushedByRoute&&""===r.tab&&""===i.tab){var o=this.props.history,a=o.goBack||o.back;a()}else this.handleNavigate(i.pathname+(i.search||""),"pop","back");else this.handleNavigate(t,"pop","back")}else this.handleNavigate(t,"pop","back")}},{key:"handleResetTab",value:function(t,e,n){var r=this.locationHistory.getFirstRouteInfoForTab(t);if(r){var i=Object.assign({},r);i.pathname=e,i.routeOptions=n,this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(i.pathname+(i.search||""))}}},{key:"handleSetCurrentTab",value:function(t){this.currentTab=t;var e=Object.assign({},this.locationHistory.current());e.tab!==t&&(e.tab=t,this.locationHistory.update(e))}},{key:"render",value:function(){return e.createElement(rh.Provider,{value:this.routeMangerContextState},e.createElement(ah,{ionRoute:lh,ionRedirect:{},stackManager:hh,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}]),r}(e.PureComponent),vh=function(t){var n="withRouter("+(t.displayName||t.name)+")",r=function(n){var r=n.wrappedComponentRef,i=Z(n,["wrappedComponentRef"]);return e.createElement(Y.Consumer,null,(function(n){return n||d(!1),e.createElement(t,a({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=t,H()(r,t)}(mh);vh.displayName="IonRouter";var yh=function(t){(0,dt.Z)(r,t);var n=(0,ft.Z)(r);function r(t){var e;(0,ht.Z)(this,r),e=n.call(this,t);var i=t.history,o=ge(t,["history"]);return e.history=i||A(o),e.history.listen(e.handleHistoryChange.bind((0,ut.Z)(e))),e.registerHistoryListener=e.registerHistoryListener.bind((0,ut.Z)(e)),e}return(0,pt.Z)(r,[{key:"handleHistoryChange",value:function(t,e){var n=t.location||t,r=t.action||e;this.historyListenHandler&&this.historyListenHandler(n,r)}},{key:"registerHistoryListener",value:function(t){this.historyListenHandler=t}},{key:"render",value:function(){var t=this.props,n=t.children,r=ge(t,["children"]);return e.createElement(G,Object.assign({history:this.history},r),e.createElement(vh,{registerHistoryListener:this.registerHistoryListener},n))}}]),r}(e.Component),bh=(e.Component,e.Component,Cesium);function xh(t,e){if(null==t)return{};var n,r,i=Z(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wh(Object(n),!0).forEach((function(e){(0,st.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _h=["renderContainer","noChildren","containerProps","defaultProps"],Ah=["onComplete","onCancel"],Th=["boundingSphere","onComplete","onCancel"],Mh=["data","onLoad"],Eh=["data","onLoad"],Ch=["data","onLoad"],Sh=["url","scene"],Oh=["imageryProvider"],Lh=(0,e.createContext)({}),Ph=(Lh.Provider,Lh.Consumer,function(){return(0,e.useContext)(Lh)||{}}),Dh=function(t,n){var r=function(t){var r=Ph(),i=(0,e.useRef)(),o=(0,e.useRef)(!1);return(0,e.useEffect)((function(){return function(){r.camera&&t.cancelFlightOnUnmount&&r.camera.cancelFlight()}}),[r.camera,t.cancelFlightOnUnmount]),(0,e.useEffect)((function(){r.camera&&r.scene&&!r.scene.isDestroyed()&&(!t.once||!o.current)&&(r.camera.cancelFlight(),n(r.camera,t,i.current),o.current=!0),i.current=t})),null};return r.displayName=t,r};function Rh(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function Ih(t,e){return!!t&&-1!==t.indexOf(e)}var zh="__RESIUM_EVENT_MANAGER",Nh=["onClick","onDoubleClick","onMouseDown","onMouseUp","onMiddleClick","onMiddleDown","onMiddleUp","onMouseMove","onPinchEnd","onPinchMove","onPinchStart","onRightClick","onRightDown","onRightUp","onWheel","onMouseEnter","onMouseLeave"],Bh=function(){function t(e){var n=this;(0,ht.Z)(this,t),this.events={onClick:new Map,onDoubleClick:new Map,onMouseDown:new Map,onMouseUp:new Map,onMiddleClick:new Map,onMiddleDown:new Map,onMiddleUp:new Map,onMouseMove:new Map,onPinchEnd:new Map,onPinchMove:new Map,onPinchStart:new Map,onRightClick:new Map,onRightDown:new Map,onRightUp:new Map,onWheel:new Map,onMouseEnter:new Map,onMouseLeave:new Map},this.hovered=void 0,this.onMouseMove=function(t){var e,r,i,o,a,s,l=n.pick(t.endPosition);n.hovered!==l&&(n.hovered&&(null==(e=n.getEventCallback("onMouseLeave",n.hovered))||e(t,n.hovered),null==(r=n.getEventCallback("onMouseLeave",null))||r(t,n.hovered)),l&&(null==(i=n.getEventCallback("onMouseEnter",l))||i(t,l),null==(o=n.getEventCallback("onMouseEnter",null))||o(t,l))),l&&(null==(a=n.getEventCallback("onMouseMove",l))||a(t,l)),null==(s=n.getEventCallback("onMouseMove",null))||s(t,l),n.hovered=l},this.eventCallback=function(t){return function(e){var r,i,o=n.pick(null==e?void 0:e.position);o&&(null==(r=n.getEventCallback(t,o))||r(e,o)),null==(i=n.getEventCallback(t,null))||i(e,o)}},this.scene=e,this.sshe=new bh.ScreenSpaceEventHandler(null==e?void 0:e.canvas)}return(0,pt.Z)(t,[{key:"destroy",value:function(){this.hovered=void 0,this.sshe.isDestroyed()||this.sshe.destroy()}},{key:"isDestroyed",value:function(){return this.sshe.isDestroyed()}},{key:"on",value:function(t,e,n){t&&"onWheel"===e||this.events[e].set(t,n)}},{key:"off",value:function(t,e){this.events[e].delete(t),this.hovered===t&&(this.hovered=void 0)}},{key:"setEvents",value:function(t,e){var n=this;Rh(e).forEach((function(e){var r=(0,at.Z)(e,2),i=r[0],o=r[1],a=i;Ih(Nh,a)&&(o?n.on(t,a,o):n.off(t,a))})),this.commit()}},{key:"clearEvents",value:function(t){var e=this;this.hovered=void 0,Nh.forEach((function(n){e.off(t,n)})),this.commit()}},{key:"commit",value:function(){var e=this,n=this.sshe,r=this.sshe.isDestroyed();r||(0===this.events.onMouseEnter.size&&0===this.events.onMouseLeave.size&&0===this.events.onMouseMove.size?this.sshe.removeInputAction(bh.ScreenSpaceEventType.MOUSE_MOVE):this.sshe.getInputAction(bh.ScreenSpaceEventType.MOUSE_MOVE)||this.sshe.setInputAction(this.onMouseMove,bh.ScreenSpaceEventType.MOUSE_MOVE)),Rh(this.events).forEach((function(i){var o=(0,at.Z)(i,2),a=o[0],s=o[1];if("onMouseEnter"!==a&&"onMouseLeave"!==a&&"onMouseMove"!==a){var l=t.eventTypeMap[a];r||(0===s.size?n.removeInputAction(l):n.getInputAction(l)||n.setInputAction(e.eventCallback(a),l))}}))}},{key:"getScreenSpaceEventHandler",value:function(){return this.sshe}},{key:"getEventCallback",value:function(t,e){var n,r;return null===e?this.events[t].get(null):this.events[t].get(e.id)||this.events[t].get(null==(r=null==(n=e.id)?void 0:n.entityCollection)?void 0:r.owner)||this.events[t].get(e.primitive)||this.events[t].get(e.tileset)}},{key:"pick",value:function(t){var e;if(t)return null==(e=this.scene)?void 0:e.pick(t)}}]),t}(),Fh=Bh;Fh.eventTypeMap={onClick:bh.ScreenSpaceEventType.LEFT_CLICK,onDoubleClick:bh.ScreenSpaceEventType.LEFT_DOUBLE_CLICK,onMouseDown:bh.ScreenSpaceEventType.LEFT_DOWN,onMouseUp:bh.ScreenSpaceEventType.LEFT_UP,onMiddleClick:bh.ScreenSpaceEventType.MIDDLE_CLICK,onMiddleDown:bh.ScreenSpaceEventType.MIDDLE_DOWN,onMiddleUp:bh.ScreenSpaceEventType.MIDDLE_UP,onMouseMove:bh.ScreenSpaceEventType.MOUSE_MOVE,onPinchEnd:bh.ScreenSpaceEventType.PINCH_END,onPinchMove:bh.ScreenSpaceEventType.PINCH_MOVE,onPinchStart:bh.ScreenSpaceEventType.PINCH_START,onRightClick:bh.ScreenSpaceEventType.RIGHT_CLICK,onRightDown:bh.ScreenSpaceEventType.RIGHT_DOWN,onRightUp:bh.ScreenSpaceEventType.RIGHT_UP,onWheel:bh.ScreenSpaceEventType.WHEEL,onMouseEnter:bh.ScreenSpaceEventType.MOUSE_MOVE,onMouseLeave:bh.ScreenSpaceEventType.MOUSE_MOVE};var jh=function(t,n,r){t.name;var i=t.create,o=t.destroy,a=t.provide,s=t.update,l=t.cesiumReadonlyProps,c=t.cesiumEventProps,u=t.otherProps,d=t.setCesiumPropsAfterCreate,f=t.useCommonEvent,h=t.useRootEvent,p=(0,e.useRef)(),g=Ph(),m=(0,e.useRef)(a?{}:void 0),v=(0,e.useRef)({}),y=(0,e.useRef)(n),b=(0,e.useRef)({}),x=(0,e.useState)(!1),w=(0,at.Z)(x,2),k=w[0],_=w[1],A=(0,e.useRef)(!1),T=(0,e.useRef)(null),M=(0,e.useRef)(),E=null==g?void 0:g[zh],C=(0,e.useCallback)((function(t){var e;if(p.current){var n,r=p.current,i=Object.keys(t),o=Object.keys(c||[]),a=i.concat(Object.keys(b.current).filter((function(t){return!i.includes(t)}))).filter((function(e){return b.current[e]!==t[e]})).map((function(e){return[e,b.current[e],t[e]]})),d=[],x=(0,Ne.Z)(a);try{for(x.s();!(n=x.n()).done;){var w=(0,at.Z)(n.value,3),k=w[0],_=w[1],T=w[2];if(null!=l&&l.includes(k))d.push(k);else if(Ih(o,k)){var M=null==c?void 0:c[k],C=r[M];C instanceof bh.Event&&(typeof _>"u"?(C.addEventListener(T),v.current[M]=T):typeof T>"u"?(C.removeEventListener(_),delete v.current[M]):(C.removeEventListener(_),C.addEventListener(T)))}else"children"!==k&&!Nh.includes(k)&&(null==u||!u.includes(k))&&(r[k]=T)}}catch(P){x.e(P)}finally{x.f()}var L=h?null==(e=m.current)?void 0:e[zh]:E;f&&L&&p.current&&L.setEvents(h?null:p.current,t),s&&A.current&&s(p.current,t,b.current,g),b.current=t,y.current=t,A.current&&d.length>0&&(O(),S())}}),[]),S=(0,e.useCallback)((function(){var t,e=null==i?void 0:i(g,y.current,T.current);if(Array.isArray(e)?(p.current=e[0],M.current=e[1]):p.current=e,d)C(y.current);else{if(p.current&&c)for(var n=p.current,r=0,o=Object.keys(y.current);r<o.length;r++){var s=o[r],l=c[s];if(l){var u=y.current[s],v=n[l];u&&v instanceof bh.Event&&v.addEventListener(u)}}b.current=y.current}a&&p.current&&(m.current=kh(kh({},g),a(p.current,g,M.current)));var x=h?null==(t=m.current)?void 0:t[zh]:E;f&&x&&p.current&&x.setEvents(h?null:p.current,y.current)}),[]),O=(0,e.useCallback)((function(){var t,e;p.current&&o&&o(p.current,g,T.current,M.current);var n=h?null==(t=m.current)?void 0:t[zh]:E;if(f&&n&&p.current&&n.clearEvents(h?null:p.current),p.current&&!function(t){return function(t){return t&&"function"==typeof t.isDestroyed&&"function"==typeof t.destroy}(t)&&t.isDestroyed()}(p.current))for(var r=0,i=Object.keys(v.current);r<i.length;r++){var a=i[r],s=p.current[a];null==(e=null==s?void 0:s.removeEventListener)||e.call(s,v.current[a])}v.current={},m.current=void 0,M.current=void 0,p.current=void 0,_(!1),A.current=!1}),[]);return(0,e.useLayoutEffect)((function(){return S(),function(){return O()}}),[]),(0,e.useEffect)((function(){k?function(t,e){return!!t&&!!e&&[].concat((0,ot.Z)(Object.keys(t)),(0,ot.Z)(Object.keys(e))).every((function(n){return t[n]===e[n]}))}(n,b.current)||C(n):(b.current=n,y.current=n,_(!0),A.current=!0)}),[k,n,C]),(0,e.useImperativeHandle)(r,(function(){return{cesiumElement:p.current}})),[m.current,k,T]},$h=function(t){var n=t.renderContainer,r=t.noChildren,i=t.containerProps,o=t.defaultProps,a=xh(t,_h),s=function(t,s){var l=kh(kh({},o),t),c=jh(a,l,s),u=(0,at.Z)(c,3),d=u[0],f=u[1],h=u[2];if(r)return null;var p=f&&"children"in l?l.children:null,g=n?e.createElement("div",kh({"data-testid":"resium-container",ref:h},"function"==typeof i?i(l):function(t,e){return e?Rh(t).reduce((function(t,n){var r=(0,at.Z)(n,2),i=r[0],o=r[1];return Ih(e,i)&&(t[i]=o),t}),{}):{}}(l,i)),p):p?e.createElement(e.Fragment,null,p):null;return d?e.createElement(Lh.Provider,{value:d},g):g};return s.displayName=a.name,(0,e.forwardRef)(s)},Zh=["enabled","selected"],Uh=function(t){return $h({name:t.name,create:function(e,n){if(e.scene){var r=t.create(n,e.scene.postProcessStages);return"boolean"==typeof n.enabled&&(r.enabled=n.enabled),n.selected&&"selected"in r&&(r.selected=n.selected),t.props.forEach((function(e){!Ih(t.readonlyProps,e)&&typeof n[e]<"u"&&(r.uniforms[e]=n[e])})),!t.noMount&&e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.add(r),r}},destroy:function(e,n){t.noMount?e.enabled=!1:(n.scene&&!n.scene.isDestroyed()&&n.scene.postProcessStages.remove(e),e.isDestroyed()||e.destroy())},update:function(e,n,r){t.props.forEach((function(i){!Ih(t.readonlyProps,i)&&n[i]!==r[i]&&(e.uniforms[i]=n[i])}))},cesiumProps:Zh,cesiumReadonlyProps:t.readonlyProps,defaultProps:{enabled:!0}})},Hh=($h({name:"Billboard",create:function(t,e){var n;return null==(n=t.billboardCollection)?void 0:n.add(e)},destroy:function(t,e){e.billboardCollection&&!e.billboardCollection.isDestroyed()&&e.billboardCollection.remove(t)},cesiumProps:["alignedAxis","color","disableDepthTestDistance","distanceDisplayCondition","eyeOffset","height","heightReference","horizontalOrigin","image","pixelOffset","pixelOffsetScaleByDistance","position","rotation","scale","scaleByDistance","show","sizeInMeters","translucencyByDistance","verticalOrigin","width"],useCommonEvent:!0}),$h({name:"BillboardCollection",create:function(t,e){if(t.primitiveCollection){var n=new bh.BillboardCollection({modelMatrix:e.modelMatrix,debugShowBoundingVolume:e.debugShowBoundingVolume,scene:t.scene,blendOption:e.blendOption});return t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide:function(t){return{billboardCollection:t}},cesiumProps:["blendOption","debugShowBoundingVolume","debugShowTextureAtlas","modelMatrix","show"]}),$h({name:"BillboardGraphics",create:function(t,e){if(t.entity){var n=new bh.BillboardGraphics(e);return t.entity.billboard=n,n}},destroy:function(t,e){e.entity&&(e.entity.billboard=void 0)},cesiumProps:["image","show","scale","horizontalOrigin","verticalOrigin","eyeOffset","pixelOffset","rotation","alignedAxis","width","height","color","scaleByDistance","translucencyByDistance","pixelOffsetScaleByDistance","imageSubRegion","sizeInMeters","heightReference","distanceDisplayCondition","disableDepthTestDistance"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"BoxGraphics",create:function(t,e){if(t.entity){var n=new bh.BoxGraphics(e);return t.entity.box=n,n}},destroy:function(t,e){e.entity&&(e.entity.box=void 0)},cesiumProps:["heightReference","dimensions","show","fill","material","outline","outlineColor","outlineWidth","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"Camera",create:function(t){var e;return null==(e=t.scene)?void 0:e.camera},cesiumProps:["position","direction","up","right","frustum","defaultMoveAmount","defaultLookAmount","defaultRotateAmount","defaultZoomAmount","constrainedAxis","maximumZoomFactor","percentageChanged"],cesiumEventProps:{onChange:"changed",onMoveEnd:"moveEnd",onMoveStart:"moveStart"},setCesiumPropsAfterCreate:!0})),Vh=(Dh("CameraFlyHome",(function(t,e){var n=e.duration;t.flyHome(n)})),Dh("CameraFlyTo",(function(t,e){var n=e.onComplete,r=e.onCancel,i=xh(e,Ah);t.flyTo(kh(kh({},i),{},{complete:n,cancel:r}))})),Dh("CameraLookAt",(function(t,e){var n=e.target,r=e.offset;t.lookAt(n,r)})),Dh("CameraFlyToBoundingSphere",(function(t,e){var n=e.boundingSphere,r=e.onComplete,i=e.onCancel,o=xh(e,Th);t.flyToBoundingSphere(n,kh(kh({},o),{},{complete:r,cancel:i}))})),$h({name:"Cesium3DTileset",create:function(t,e){if(t.primitiveCollection){var n=new bh.Cesium3DTileset(e);return e.colorBlendAmount&&(n.colorBlendAmount=e.colorBlendAmount),e.colorBlendMode&&(n.colorBlendMode=e.colorBlendMode),e.style&&(n.style=e.style),e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["show","modelMatrix","shadows","maximumScreenSpaceError","maximumMemoryUsage","cullRequestsWhileMoving","cullRequestsWhileMovingMultiplier","preloadWhenHidden","preloadFlightDestinations","preferLeaves","progressiveResolutionHeightFraction","foveatedScreenSpaceError","foveatedConeSize","foveatedMinimumScreenSpaceErrorRelaxation","foveatedInterpolationCallback","foveatedTimeDelay","dynamicScreenSpaceError","dynamicScreenSpaceErrorDensity","dynamicScreenSpaceErrorFactor","dynamicScreenSpaceErrorHeightFalloff","skipLevelOfDetail","baseScreenSpaceError","skipScreenSpaceErrorFactor","skipLevels","immediatelyLoadDesiredLevelOfDetail","loadSiblings","clippingPlanes","classificationType","ellipsoid","lightColor","colorBlendAmount","colorBlendMode","debugFreezeFrame","debugColorizeTiles","debugWireframe","debugShowBoundingVolume","debugShowContentBoundingVolume","debugShowViewerRequestVolume","debugShowGeometricError","debugShowRenderingStatistics","debugShowMemoryUsage","debugShowUrl","style","backFaceCulling","vectorClassificationOnly","vectorKeepDecodedPositions","splitDirection","customShader","imageBasedLighting","showCreditsOnScreen","featureIdLabel","instanceFeatureIdLabel","imageBasedLighting","outlineColor"],cesiumReadonlyProps:["url","showOutline","cullWithChildrenBounds","debugHeatmapTilePropertyName","enableDebugWireframe","modelUpAxis","modelForwardAxis","projectTo2D","enableShowOutline"],cesiumEventProps:{onAllTilesLoad:"allTilesLoaded",onInitialTilesLoad:"initialTilesLoaded",onLoadProgress:"loadProgress",onTileFailed:"tileFailed",onTileLoad:"tileLoad",onTileUnload:"tileUnload",onTileVisible:"tileVisible"},otherProps:["onReady"],useCommonEvent:!0})),Wh=($h({name:"Cesium3DTilesetGraphics",create:function(t,e){if(t.entity){var n=new bh.Cesium3DTilesetGraphics(e);return t.entity.tileset=n,n}},destroy:function(t,e){e.entity&&(e.entity.tileset=void 0)},cesiumProps:["show","uri","maximumScreenSpaceError"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"CesiumWidget",create:function(t,e,n){if(n){var r=new bh.CesiumWidget(n,e);if(r)return"number"==typeof e.resolutionScale&&(r.resolutionScale=e.resolutionScale),[r,new Fh(r.scene)]}},destroy:function(t,e,n,r){r&&!r.isDestroyed()&&r.destroy(),t.isDestroyed()||t.destroy()},provide:function(t,e,n){return(0,st.Z)({cesiumWidget:t,scene:t.scene,camera:t.scene.camera,imageryLayerCollection:t.scene.globe.imageryLayers,primitiveCollection:t.scene.primitives,globe:t.scene.globe},zh,n)},containerProps:function(t){var e=t.id,n=t.className,r=t.style,i=t.full,o=t.containerProps;return kh({className:n,id:e,style:kh(kh({},i?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{}),r)},o)},cesiumProps:["resolutionScale","useDefaultRenderLoop","targetFrameRate","useBrowserRecommendedResolution"],cesiumReadonlyProps:["clock","imageryProvider","terrainProvider","skyBox","skyAtmosphere","sceneMode","scene3DOnly","orderIndependentTranslucency","mapMode2D","mapProjection","globe","showRenderLoopErrors","contextOptions","creditContainer","creditViewport","shadows","terrainShadows","requestRenderMode","maximumRenderTimeChange","msaaSamples","blurActiveElementOnCanvasFocus"],otherProps:["className","id","style","full","containerProps"],renderContainer:!0,useCommonEvent:!0,useRootEvent:!0}),$h({name:"ClassificationPrimitive",create:function(t,e){if(t.primitiveCollection){var n=new bh.ClassificationPrimitive(e);return e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],cesiumReadonlyProps:["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize","appearance"],otherProps:["onReady"],useCommonEvent:!0}),$h({name:"Clock",create:function(t){var e;return null==(e=t.cesiumWidget)?void 0:e.clock},cesiumProps:["canAnimate","clockRange","clockStep","currentTime","multiplier","shouldAnimate","startTime","stopTime"],cesiumEventProps:{onStop:"onStop",onTick:"onTick"},setCesiumPropsAfterCreate:!0})),Yh=($h({name:"CloudCollection",create:function(t){if(t.primitiveCollection){var e=new bh.CloudCollection;return t.primitiveCollection.add(e),e}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide:function(t){return{cloudCollection:t}},cesiumProps:["noiseDetail","noiseOffset","show","debugBillboards","debugEllipsoids"],setCesiumPropsAfterCreate:!0}),$h({name:"CorridorGraphics",create:function(t,e){if(t.entity){var n=new bh.CorridorGraphics(e);return e.classificationType&&(n.classificationType=e.classificationType),t.entity.corridor=n,n}},destroy:function(t,e){e.entity&&(e.entity.corridor=void 0)},cesiumProps:["positions","width","cornerType","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition","zIndex","classificationType"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"CumulusCloud",create:function(t,e){var n;return null==(n=t.cloudCollection)?void 0:n.add(e)},destroy:function(t,e){e.cloudCollection&&!e.cloudCollection.isDestroyed()&&e.cloudCollection.remove(t)},cesiumProps:["show","position","scale","maximumSize","slice","brightness","color"]}),$h({name:"CustomDataSource",create:function(t,e){if(t.dataSourceCollection){var n=new bh.CustomDataSource(e.name);return e.clustering&&(n.clustering=e.clustering),"boolean"==typeof e.show&&(n.show=e.show),typeof e.clock<"u"&&(n.clock=e.clock),t.dataSourceCollection.add(n),n}},destroy:function(t,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(t)},provide:function(t){return{entityCollection:t.entities,dataSource:t}},cesiumProps:["clustering","name","show","clock","isLoading"],cesiumEventProps:{onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"},useCommonEvent:!0}),$h({name:"CylinderGraphics",create:function(t,e){if(t.entity){var n=new bh.CylinderGraphics(e);return t.entity.cylinder=n,n}},destroy:function(t,e){e.entity&&(e.entity.cylinder=void 0)},cesiumProps:["heightReference","length","topRadius","bottomRadius","show","fill","material","outline","outlineColor","outlineWidth","numberOfVerticalLines","slices","distanceDisplayCondition","shadows"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),function(t,e){var n=e.data,r=e.onLoad,i=xh(e,Mh);!n||t.load(n,i).then((function(t){r&&r(t)}))}),Gh=($h({name:"CzmlDataSource",create:function(t,e){if(t.dataSourceCollection){var n=new bh.CzmlDataSource(e.name);return e.clustering&&(n.clustering=e.clustering),"boolean"==typeof e.show&&(n.show=e.show),t.dataSourceCollection.add(n),e.data&&Yh(n,e),n}},update:function(t,e,n){e.data?n.show!==e.show&&(t.show="boolean"!=typeof e.show||e.show):t.show=!1,e.data&&(n.data!==e.data||n.sourceUri!==e.sourceUri||n.credit!==e.credit)&&Yh(t,e)},destroy:function(t,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(t)},provide:function(t){return{dataSource:t}},cesiumProps:["clustering","show"],cesiumReadonlyProps:["name","sourceUri","credit"],cesiumEventProps:{onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"},otherProps:["onLoad","data"],useCommonEvent:!0}),$h({name:"EllipseGraphics",create:function(t,e){if(t.entity){var n=new bh.EllipseGraphics(e);return t.entity.ellipse=n,n}},destroy:function(t,e){e.entity&&(e.entity.ellipse=void 0)},cesiumProps:["semiMajorAxis","semiMinorAxis","height","heightReference","extrudedHeight","show","fill","material","outline","outlineColor","outlineWidth","numberOfVerticalLines","rotation","stRotation","granularity","shadows","distanceDisplayCondition","zIndex","classificationType","extrudedHeightReference"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"EllipsoidGraphics",create:function(t,e){if(t.entity){var n=new bh.EllipsoidGraphics(e);return t.entity.ellipsoid=n,n}},destroy:function(t,e){e.entity&&(e.entity.ellipsoid=void 0)},cesiumProps:["heightReference","radii","show","fill","innerRadii","material","maximumClock","maximumCone","minimumClock","minimumCone","outline","outlineColor","outlineWidth","subdivisions","stackPartitions","slicePartitions","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"Entity",create:function(t,e){if(t.entityCollection){var n=new bh.Entity(e);return t.viewer&&e.selected&&(t.viewer.selectedEntity=n),t.viewer&&e.tracked&&(t.viewer.trackedEntity=n),t.entityCollection.add(n),n}},destroy:function(t,e){e.entityCollection&&e.entityCollection.remove(t)},update:function(t,e,n,r){r.viewer&&(e.selected!==n.selected&&(e.selected?r.viewer.selectedEntity=t:r.viewer.selectedEntity===t&&(r.viewer.selectedEntity=void 0)),e.tracked!==n.tracked&&(e.tracked?r.viewer.trackedEntity=t:r.viewer.trackedEntity===t&&(r.viewer.trackedEntity=void 0)))},provide:function(t){return{entity:t}},cesiumProps:["availability","billboard","box","corridor","cylinder","description","ellipse","ellipsoid","entityCollection","label","model","name","orientation","path","plane","parent","point","polygon","polyline","polylineVolume","position","properties","rectangle","show","tileset","viewFrom","wall"],cesiumReadonlyProps:["id"],cesiumEventProps:{onDefinitionChange:"definitionChanged"},otherProps:["selected","tracked"],useCommonEvent:!0}),$h({name:"Fog",create:function(t){if(t.scene){var e=new bh.Fog;return t.scene.fog=e,e}},destroy:function(t,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.fog=new bh.Fog)},cesiumProps:["density","enabled","minimumBrightness","screenSpaceErrorFactor","renderable"],setCesiumPropsAfterCreate:!0}),function(t,e){var n=e.data,r=e.onLoad,i=xh(e,Eh);!n||t.load(n,i).then((function(t){r&&r(t)}))}),qh=($h({name:"GeoJsonDataSource",create:function(t,e){if(t.dataSourceCollection){var n=new bh.GeoJsonDataSource(e.name);return e.clustering&&(n.clustering=e.clustering),"boolean"==typeof e.show&&(n.show=e.show),t.dataSourceCollection.add(n),e.data&&Gh(n,e),n}},update:function(t,e,n){e.data?n.show!==e.show&&(t.show="boolean"!=typeof e.show||e.show):t.show=!1,e.data&&(n.data!==e.data||n.clampToGround!==e.clampToGround||n.sourceUri!==e.sourceUri||n.credit!==e.credit||n.markerSize!==e.markerSize||n.markerSymbol!==e.markerSymbol||n.markerColor!==e.markerColor||n.stroke!==e.stroke||n.strokeWidth!==e.strokeWidth||n.fill!==e.fill)&&Gh(t,e)},destroy:function(t,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(t)},provide:function(t){return{dataSource:t}},cesiumProps:["clustering","name","show"],cesiumReadonlyProps:["clampToGround","sourceUri","credit","markerSize","markerSymbol","markerColor","stroke","strokeWidth","fill","describe"],cesiumEventProps:{onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"},otherProps:["onLoad","data"],useCommonEvent:!0}),$h({name:"Globe",create:function(t){var e;return null==(e=t.scene)?void 0:e.globe},cesiumProps:["atmosphereBrightnessShift","atmosphereHueShift","atmosphereSaturationShift","backFaceCulling","baseColor","clippingPlanes","depthTestAgainstTerrain","enableLighting","lightingFadeInDistance","lightingFadeOutDistance","material","maximumScreenSpaceError","nightFadeInDistance","nightFadeOutDistance","oceanNormalMapUrl","shadows","show","showGroundAtmosphere","showWaterEffect","terrainProvider","tileCacheSize","loadingDescendantLimit","preloadAncestors","preloadSiblings","fillHighlightColor","dynamicAtmosphereLighting","dynamicAtmosphereLightingFromSun","showSkirts","cartographicLimitRectangle","translucency","undergroundColor","undergroundColorAlphaByDistance","terrainExaggeration","terrainExaggerationRelativeHeight","lambertDiffuseMultiplier","atmosphereLightIntensity","atmosphereRayleighCoefficient","atmosphereMieCoefficient","atmosphereRayleighScaleHeight","atmosphereMieScaleHeight","atmosphereMieAnisotropy"],cesiumEventProps:{onImageryLayersUpdate:"imageryLayersUpdatedEvent",onTerrainProviderChange:"terrainProviderChanged",onTileLoadProgress:"tileLoadProgressEvent"},setCesiumPropsAfterCreate:!0})),Xh=($h({name:"GroundPolylinePrimitive",create:function(t,e){if(t.primitiveCollection){var n=new bh.GroundPolylinePrimitive(e);return e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["appearance","classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],cesiumReadonlyProps:["allowPicking","asynchronous","geometryInstances","interleave","releaseGeometryInstances"],otherProps:["onReady"],useCommonEvent:!0}),$h({name:"GroundPrimitive",create:function(t,e){if(t.primitiveCollection){var n=new bh.GroundPrimitive(e);return e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["appearance","classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],cesiumReadonlyProps:["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize"],otherProps:["onReady"],useCommonEvent:!0}),$h({name:"GroundPrimitiveCollection",create:function(t){var e;return null==(e=t.scene)?void 0:e.groundPrimitives},provide:function(t){return{primitiveCollection:t}},cesiumProps:["show","destroyPrimitives"],setCesiumPropsAfterCreate:!0}),$h({name:"ImageryLayer",create:function(t,e){if(t.imageryLayerCollection){var n=new bh.ImageryLayer(e.imageryProvider,e);return t.imageryLayerCollection.add(n),n}},destroy:function(t,e){e.imageryLayerCollection&&e.imageryLayerCollection.remove(t)},cesiumProps:["alpha","brightness","contrast","hue","saturation","gamma","splitDirection","minificationFilter","magnificationFilter","cutoutRectangle","show","nightAlpha","dayAlpha","colorToAlpha","colorToAlphaThreshold"],cesiumReadonlyProps:["imageryProvider","rectangle","maximumAnisotropy","minimumTerrainLevel","maximumTerrainLevel"]})),Jh=($h({name:"ImageryLayerCollection",create:function(t){var e;return null==(e=t.globe)?void 0:e.imageryLayers},cesiumEventProps:{onLayerAdd:"layerAdded",onLayerMove:"layerMoved",onLayerRemove:"layerRemoved",onLayerShowOrHide:"layerShownOrHidden"}}),function(t,e){var n=e.data,r=e.onLoad,i=xh(e,Ch);!n||t.load(n,i).then((function(t){r&&r(t)}))}),Kh=($h({name:"KmlDataSource",create:function(t,e){if(t.scene&&t.dataSourceCollection&&t.scene){var n=new bh.KmlDataSource({camera:e.camera||t.scene.camera,canvas:e.canvas||t.scene.canvas,ellipsoid:e.ellipsoid,credit:e.credit});return e.clustering&&(n.clustering=e.clustering),"boolean"==typeof e.show&&(n.show=e.show),typeof e.name<"u"&&(n.name=e.name),t.dataSourceCollection.add(n),e.data&&Jh(n,e),n}},update:function(t,e,n){e.data?n.show!==e.show&&(t.show="boolean"!=typeof e.show||e.show):t.show=!1,e.data&&(n.data!==e.data||n.clampToGround!==e.clampToGround||n.ellipsoid!==e.ellipsoid||n.sourceUri!==e.sourceUri||n.credit!==e.credit)&&Jh(t,e)},destroy:function(t,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(t)},provide:function(t){return{dataSource:t}},cesiumProps:["clustering","name","show"],cesiumReadonlyProps:["canvas","camera","ellipsoid","clampToGround","sourceUri","credit","screenOverlayContainer"],cesiumEventProps:{onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent",onRefresh:"refreshEvent",onUnsupportedNode:"unsupportedNodeEvent"},otherProps:["onLoad","data"],useCommonEvent:!0}),$h({name:"Label",create:function(t,e){var n;return null==(n=t.labelCollection)?void 0:n.add(e)},destroy:function(t,e){e.labelCollection&&!e.labelCollection.isDestroyed()&&e.labelCollection.remove(t)},cesiumProps:["backgroundColor","backgroundPadding","disableDepthTestDistance","distanceDisplayCondition","eyeOffset","fillColor","font","heightReference","horizontalOrigin","outlineColor","outlineWidth","pixelOffset","pixelOffsetScaleByDistance","position","scale","scaleByDistance","show","showBackground","style","text","translucencyByDistance","verticalOrigin"],useCommonEvent:!0}),$h({name:"LabelCollection",create:function(t,e){if(t.scene&&t.primitiveCollection){var n=new bh.LabelCollection({scene:t.scene,modelMatrix:e.modelMatrix,blendOption:e.blendOption,debugShowBoundingVolume:e.debugShowBoundingVolume});return t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide:function(t){return{labelCollection:t}},cesiumProps:["blendOption","debugShowBoundingVolume","modelMatrix","show"]}),$h({name:"LabelGraphics",create:function(t,e){if(t.entity){var n=new bh.LabelGraphics(e);return t.entity.label=n,n}},destroy:function(t,e){e.entity&&(e.entity.label=void 0)},cesiumProps:["text","font","style","fillColor","outlineColor","outlineWidth","show","showBackground","backgroundColor","backgroundPadding","scale","horizontalOrigin","verticalOrigin","eyeOffset","pixelOffset","translucencyByDistance","pixelOffsetScaleByDistance","scaleByDistance","heightReference","distanceDisplayCondition","disableDepthTestDistance"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"Model",create:function(t,e){var n=e.url,r=e.scene,i=xh(e,Sh);if(t.scene&&t.primitiveCollection){var o=n?bh.Model.fromGltf(kh(kh({},i),{},{scene:r||t.scene,url:n})):new bh.Model(kh(kh({},i),{},{scene:r||t.scene}));return i.onReady&&o.readyPromise.then(i.onReady),t.primitiveCollection.add(o),o}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["basePath","clampAnimations","clippingPlanes","color","colorBlendAmount","colorBlendMode","debugShowBoundingVolume","debugWireframe","distanceDisplayCondition","id","imageBasedLighting","lightColor","maximumScale","minimumPixelSize","modelMatrix","scale","shadows","show","silhouetteColor","silhouetteSize","backFaceCulling","splitDirection","imageBasedLighting","showCreditsOnScreen","activeAnimations"],cesiumReadonlyProps:["allowPicking","asynchronous","credit","dequantizeInShader","gltf","heightReference","incrementallyLoadTextures","scene","url","showOutline"],otherProps:["onReady"],useCommonEvent:!0}),$h({name:"ModelGraphics",create:function(t,e){if(t.entity){var n=new bh.ModelGraphics(e);return t.entity.model=n,n}},destroy:function(t,e){e.entity&&(e.entity.model=void 0)},cesiumProps:["uri","show","scale","minimumPixelSize","maximumScale","incrementallyLoadTextures","runAnimations","clampAnimations","nodeTransformations","shadows","heightReference","distanceDisplayCondition","silhouetteColor","silhouetteSize","color","colorBlendMode","colorBlendAmount","clippingPlanes","imageBasedLightingFactor","lightColor","articulations"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"Moon",create:function(t,e){if(t.scene){var n=new bh.Moon(e);return t.scene.moon=n,n}},destroy:function(t,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.moon=new bh.Moon)},cesiumProps:["onlySunLighting","show","textureUrl"],cesiumReadonlyProps:["ellipsoid"]}),$h({name:"ParticleSystem",create:function(t,e){if(t.primitiveCollection){var n=new bh.ParticleSystem(kh(kh({},e),{},{updateCallback:e.onUpdate}));return t.primitiveCollection.add(n),n}},update:function(t,e,n){e.onUpdate!==n.onUpdate&&(t.updateCallback=e.onUpdate)},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t)},cesiumProps:["show","emitter","modelMatrix","emitterModelMatrix","emissionRate","bursts","loop","startScale","endScale","startColor","endColor","image","imageSize","minimumImageSize","maximumImageSize","speed","minimumSpeed","maximumSpeed","lifetime","particleLife","minimumParticleLife","maximumParticleLife","mass","minimumMass","maximumMass","sizeInMeters"],cesiumEventProps:{onComplete:"complete",onUpdate:"updateCallback"}}),$h({name:"PathGraphics",create:function(t,e){if(t.entity){var n=new bh.PathGraphics(e);return t.entity.path=n,n}},destroy:function(t,e){e.entity&&(e.entity.path=void 0)},cesiumProps:["leadTime","trailTime","show","width","material","resolution","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"PlaneGraphics",create:function(t,e){if(t.entity){var n=new bh.PlaneGraphics(e);return t.entity.plane=n,n}},destroy:function(t,e){e.entity&&(e.entity.plane=void 0)},cesiumProps:["plane","dimensions","show","fill","material","outline","outlineColor","outlineWidth","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"PointGraphics",create:function(t,e){if(t.entity){var n=new bh.PointGraphics(e);return t.entity.point=n,n}},destroy:function(t,e){e.entity&&(e.entity.point=void 0)},cesiumProps:["color","pixelSize","outlineColor","outlineWidth","show","scaleByDistance","translucencyByDistance","heightReference","distanceDisplayCondition","disableDepthTestDistance"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"PointPrimitive",create:function(t,e){var n;return null==(n=t.pointPrimitiveCollection)?void 0:n.add(e)},destroy:function(t,e){e.pointPrimitiveCollection&&!e.pointPrimitiveCollection.isDestroyed()&&e.pointPrimitiveCollection.remove(t)},cesiumProps:["color","disableDepthTestDistance","distanceDisplayCondition","id","outlineColor","outlineWidth","pixelSize","position","scaleByDistance","show","translucencyByDistance"],useCommonEvent:!0}),$h({name:"PointPrimitveCollection",create:function(t,e){if(t.primitiveCollection){var n=new bh.PointPrimitiveCollection(e);return t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide:function(t){return{pointPrimitiveCollection:t}},cesiumProps:["blendOption","debugShowBoundingVolume","modelMatrix","show"]}),$h({name:"PolygonGraphics",create:function(t,e){if(t.entity){var n=new bh.PolygonGraphics(e);return t.entity.polygon=n,n}},destroy:function(t,e){e.entity&&(e.entity.polygon=void 0)},cesiumProps:["arcType","hierarchy","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","stRotation","granularity","perPositionHeight","closeTop","closeBottom","shadows","distanceDisplayCondition","zIndex","classificationType","textureCoordinates"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"Polyline",create:function(t,e){var n;return null==(n=t.polylineCollection)?void 0:n.add(e)},destroy:function(t,e){e.polylineCollection&&!e.polylineCollection.isDestroyed()&&e.polylineCollection.remove(t)},cesiumProps:["distanceDisplayCondition","id","loop","material","positions","show","width"],useCommonEvent:!0}),$h({name:"PolylineCollection",create:function(t,e){if(t.primitiveCollection){var n=new bh.PolylineCollection({modelMatrix:e.modelMatrix,debugShowBoundingVolume:e.debugShowBoundingVolume,length:e.length,scene:t.scene});return t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide:function(t){return{polylineCollection:t}},cesiumProps:["debugShowBoundingVolume","length","modelMatrix","show"]}),$h({name:"PolylineGraphics",create:function(t,e){if(t.entity){var n=new bh.PolylineGraphics(e);return t.entity.polyline=n,n}},destroy:function(t,e){e.entity&&(e.entity.polyline=void 0)},cesiumProps:["arcType","classificationType","positions","clampToGround","width","show","material","depthFailMaterial","granularity","shadows","distanceDisplayCondition","zIndex"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"PolylineVolumeGraphics",create:function(t,e){if(t.entity){var n=new bh.PolylineVolumeGraphics(e);return t.entity.polylineVolume=n,n}},destroy:function(t,e){e.entity&&(e.entity.polylineVolume=void 0)},cesiumProps:["positions","shape","cornerType","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$h({name:"PostProcessStage",create:function(t,e){if(t.scene){var n=new bh.PostProcessStage(e);return"boolean"==typeof e.enabled&&(n.enabled=e.enabled),e.selected&&(n.selected=e.selected),t.scene.postProcessStages.add(n),n}},destroy:function(t,e){e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["enabled","selected"],cesiumReadonlyProps:["clearColor","forcePowerOfTwo","fragmentShader","name","pixelDatatype","pixelFormat","sampleMode","scissorRectangle","textureScale","uniforms"]}),Uh({name:"BlackAndWhiteStage",props:["gradations"],create:function(){return bh.PostProcessStageLibrary.createBlackAndWhiteStage()}}),Uh({name:"BrightnessStage",props:["brightness"],create:function(){return bh.PostProcessStageLibrary.createBrightnessStage()}}),Uh({name:"LensFlareStage",props:["dirtTexture","starTexture","intensity","distortion","ghostDispersal","haloWidth","earthRadius"],create:function(){return bh.PostProcessStageLibrary.createLensFlareStage()}}),Uh({name:"Fxaa",create:function(t,e){return e.fxaa},props:[]}),Uh({name:"NightVisionStage",props:[],create:function(){return bh.PostProcessStageLibrary.createNightVisionStage()}}),$h({name:"PostProcessStageComposite",create:function(t,e){if(t.scene){var n=new bh.PostProcessStageComposite(e);return"boolean"==typeof e.enabled&&(n.enabled=e.enabled),e.selected&&(n.selected=e.selected),t.scene.postProcessStages.add(n),n}},destroy:function(t,e){e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["enabled","selected"],cesiumReadonlyProps:["inputPreviousStageTexture","name","stages","uniforms"]}),Uh({name:"AmbientOcclusion",create:function(t,e){return e.ambientOcclusion},props:["ambientOcclusionOnly","bias","delta","frustumLength","intensity","lengthCap","sigma","stepSize"],noMount:!0}),Uh({name:"Bloom",create:function(t,e){return e.bloom},props:["brightness","contrast","delta","glowOnly","sigma","stepSize"],noMount:!0}),Uh({name:"BlurStage",props:["delta","sigma","stepSize"],create:function(){return bh.PostProcessStageLibrary.createBlurStage()}}),Uh({name:"DepthOfFieldStage",props:["delta","focalDistance","sigma","stepSize"],create:function(){return bh.PostProcessStageLibrary.createDepthOfFieldStage()}}),Uh({name:"EdgeDetectionStage",props:["color","length"],create:function(){return bh.PostProcessStageLibrary.createEdgeDetectionStage()}}),Uh({name:"SilhouetteStage",props:["color","length"],create:function(){return bh.PostProcessStageLibrary.createSilhouetteStage()}}),$h({name:"Primitive",create:function(t,e){if(t.primitiveCollection){var n=new bh.Primitive(e);return e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["appearance","cull","debugShowBoundingVolume","depthFailAppearance","modelMatrix","shadows","show"],cesiumReadonlyProps:["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize"],otherProps:["onReady"],useCommonEvent:!0}),$h({name:"RectangleGraphics",create:function(t,e){if(t.entity){var n=new bh.RectangleGraphics(e);return t.entity.rectangle=n,n}},destroy:function(t,e){e.entity&&(e.entity.rectangle=void 0)},cesiumProps:["classificationType","coordinates","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","rotation","stRotation","granularity","shadows","distanceDisplayCondition","zIndex"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),function(t,e,n){switch(e){case bh.SceneMode.SCENE2D:t.morphTo2D(n);break;case bh.SceneMode.COLUMBUS_VIEW:t.morphToColumbusView(n);break;case bh.SceneMode.SCENE3D:t.morphTo3D(n)}}),Qh=$h({name:"Scene",create:function(t,e){return t.scene&&e.mode&&Kh(t.scene,e.mode,e.morphDuration),t.scene},update:function(t,e,n){e.mode!==n.mode&&e.mode&&Kh(t,e.mode,e.morphDuration)},cesiumProps:["backgroundColor","completeMorphOnUserInput","debugCommandFilter","debugShowCommands","debugShowDepthFrustum","debugShowFramesPerSecond","debugShowFrustumPlanes","debugShowFrustums","eyeSeparation","farToNearRatio","focalLength","fog","gamma","globe","highDynamicRange","invertClassification","invertClassificationColor","light","logarithmicDepthBuffer","logarithmicDepthFarToNearRatio","maximumRenderTimeChange","minimumDisableDepthTestDistance","moon","morphTime","nearToFarDistance2D","pickTranslucentDepth","requestRenderMode","rethrowRenderErrors","shadowMap","skyAtmosphere","skyBox","specularEnvironmentMaps","sphericalHarmonicCoefficients","sun","sunBloom","terrainProvider","useDepthPicking","useWebVR","postProcessStages","msaaSamples","splitPosition","debugCommandFilter"],cesiumEventProps:{onMorphComplete:"morphComplete",onMorphStart:"morphStart",onPostRender:"postRender",onPreRender:"preRender",onPreUpdate:"preUpdate",onPostUpdate:"postUpdate",onRenderError:"renderError",onTerrainProviderChange:"terrainProviderChanged"},otherProps:["mode","morphDuration"],setCesiumPropsAfterCreate:!0}),tp=($h({name:"ScreenSpaceCameraController",create:function(t){var e;return null==(e=t.scene)?void 0:e.screenSpaceCameraController},cesiumProps:["bounceAnimationTime","enableCollisionDetection","enableInputs","enableLook","enableRotate","enableTilt","enableTranslate","enableZoom","inertiaSpin","inertiaTranslate","inertiaZoom","lookEventTypes","maximumMovementRatio","maximumZoomDistance","minimumCollisionTerrainHeight","minimumPickingTerrainHeight","minimumTrackBallHeight","minimumZoomDistance","rotateEventTypes","tiltEventTypes","translateEventTypes","zoomEventTypes"],setCesiumPropsAfterCreate:!0}),$h({name:"ScreenSpaceEventHandler",create:function(t,e){var n;return e.useDefault?null==(n=t.cesiumWidget)?void 0:n.screenSpaceEventHandler:t.scene?new bh.ScreenSpaceEventHandler(t.scene.canvas):void 0},destroy:function(t){t.isDestroyed()||t.destroy()},provide:function(t){return{screenSpaceEventHandler:t}}}),$h({name:"ShadowMap",create:function(t){var e;return null==(e=t.scene)?void 0:e.shadowMap},cesiumProps:["darkness","enabled","maximumDistance","normalOffset","size","softShadows","fadingEnabled"],cesiumReadonlyProps:["lightCamera","isPointLight","pointLightRadius","cascadesEnabled","numberOfCascades"]}),$h({name:"SkyAtmosphere",create:function(t){var e;return null==(e=t.scene)?void 0:e.skyAtmosphere},cesiumProps:["brightnessShift","hueShift","saturationShift","show","perFragmentAtmosphere","atmosphereLightIntensity","atmosphereRayleighCoefficient","atmosphereMieCoefficient","atmosphereRayleighScaleHeight","atmosphereMieScaleHeight","atmosphereMieAnisotropy"],setCesiumPropsAfterCreate:!0}),$h({name:"SkyBox",create:function(t){var e;return null==(e=t.scene)?void 0:e.skyBox},cesiumProps:["sources","show"],setCesiumPropsAfterCreate:!0}),$h({name:"Sun",create:function(t){if(t.scene){var e=new bh.Sun;return t.scene.sun=e,e}},destroy:function(t,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.sun=new bh.Sun)},cesiumProps:["glowFactor","show"],setCesiumPropsAfterCreate:!0}),$h({name:"TimeDynamicPointCloud",create:function(t,e){var n,r;if(t.cesiumWidget&&t.primitiveCollection&&null!=(n=t.cesiumWidget)&&n.clock){var i=new bh.TimeDynamicPointCloud(kh(kh({},e),{},{clock:null!=(r=e.clock)?r:t.cesiumWidget.clock}));return e.onReady&&i.readyPromise.then(e.onReady),t.primitiveCollection.add(i),i}},destroy:function(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:["clippingPlanes","maximumMemoryUsage","modelMatrix","shadows","show","style","intervals"],cesiumReadonlyProps:["clock","shading"],cesiumEventProps:{onFrameChange:"frameChanged"},otherProps:["onReady"],useCommonEvent:!0}),$h({name:"Viewer",create:function(t,e,n){var r=e.imageryProvider,i=xh(e,Oh);if(n){var o=new bh.Viewer(n,kh(kh({},i),{},{imageryProvider:!1===r?void 0:r}));if(o){!1===r&&o.imageryLayers.removeAll(),o&&i.extend&&(Array.isArray(i.extend)?i.extend.forEach((function(t){o.extend(t,{})})):o.extend(i.extend,{}));var a=new Fh(o.scene);return[o,a]}}},destroy:function(t,e,n,r){r&&!r.isDestroyed()&&r.destroy(),t.isDestroyed()||t.destroy()},provide:function(t,e,n){return(0,st.Z)({viewer:t,cesiumWidget:t.cesiumWidget,dataSourceCollection:t.dataSources,entityCollection:t.entities,scene:t.scene,camera:t.scene.camera,imageryLayerCollection:t.scene.globe.imageryLayers,primitiveCollection:t.scene.primitives,globe:t.scene.globe},zh,n)},containerProps:function(t){var e=t.id,n=t.className,r=t.style,i=t.full,o=t.containerProps;return kh({className:n,id:e,style:kh(kh({},i?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{}),r)},o)},cesiumProps:["terrainProvider","terrainShadows","clockTrackedDataSource","targetFrameRate","useDefaultRenderLoop","resolutionScale","allowDataSourcesToSuspendAnimation","trackedEntity","selectedEntity","shadows","useBrowserRecommendedResolution"],cesiumReadonlyProps:["animation","baseLayerPicker","fullscreenButton","vrButton","geocoder","homeButton","infoBox","sceneModePicker","selectionIndicator","timeline","navigationHelpButton","navigationInstructionsInitiallyVisible","scene3DOnly","shouldAnimate","clockViewModel","selectedImageryProviderViewModel","imageryProviderViewModels","selectedTerrainProviderViewModel","terrainProviderViewModels","imageryProvider","skyBox","skyAtmosphere","fullscreenElement","showRenderLoopErrors","automaticallyTrackDataSourceClocks","contextOptions","sceneMode","mapProjection","globe","orderIndependentTranslucency","creditContainer","creditViewport","dataSources","mapMode2D","projectionPicker","requestRenderMode","maximumRenderTimeChange","depthPlaneEllipsoidOffset","msaaSamples","blurActiveElementOnCanvasFocus"],cesiumEventProps:{onSelectedEntityChange:"selectedEntityChanged",onTrackedEntityChange:"trackedEntityChanged"},otherProps:["className","id","style","full","containerProps","extend"],renderContainer:!0,useCommonEvent:!0,useRootEvent:!0})),ep=($h({name:"WallGraphics",create:function(t,e){if(t.entity){var n=new bh.WallGraphics(e);return t.entity.wall=n,n}},destroy:function(t,e){e.entity&&(e.entity.wall=void 0)},cesiumProps:["positions","maximumHeights","minimumHeights","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),n(3034)),np=n.n(ep),rp=n(2067),ip="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Folder</title><path d='M496 152a56 56 0 00-56-56H220.11a23.89 23.89 0 01-13.31-4L179 73.41A55.77 55.77 0 00147.89 64H72a56 56 0 00-56 56v48a8 8 0 008 8h464a8 8 0 008-8zM16 392a56 56 0 0056 56h368a56 56 0 0056-56V216a8 8 0 00-8-8H24a8 8 0 00-8 8z'/></svg>",op=n(1120);function ap(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,op.Z)(t)););return t}function sp(){return sp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ap(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},sp.apply(this,arguments)}var lp=n(8814);function cp(t,e,n){return cp=(0,lp.Z)()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&(0,i.Z)(o,n.prototype),o},cp.apply(null,arguments)}function up(t){var e="function"===typeof Map?new Map:void 0;return up=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return cp(t,arguments,(0,op.Z)(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(n,t)},up(t)}var dp=Object.create(null);dp.open="0",dp.close="1",dp.ping="2",dp.pong="3",dp.message="4",dp.upgrade="5",dp.noop="6";var fp=Object.create(null);Object.keys(dp).forEach((function(t){fp[dp[t]]=t}));for(var hp={type:"error",data:"parser error"},pp="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),gp="function"===typeof ArrayBuffer,mp=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)},vp=function(t,e,n){var r,i=t.type,o=t.data;return pp&&o instanceof Blob?e?n(o):mp(o,n):gp&&(o instanceof ArrayBuffer||(r=o,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?e?n(o):mp(new Blob([o]),n):n(dp[i]+(o||""))},yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bp="undefined"===typeof Uint8Array?[]:new Uint8Array(256),xp=0;xp<yp.length;xp++)bp[yp.charCodeAt(xp)]=xp;var wp="function"===typeof ArrayBuffer,kp=function(t,e){if(wp){var n=function(t){var e,n,r,i,o,a=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(e=0;e<s;e+=4)n=bp[t.charCodeAt(e)],r=bp[t.charCodeAt(e+1)],i=bp[t.charCodeAt(e+2)],o=bp[t.charCodeAt(e+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}(t);return _p(n,e)}return{base64:!0,data:t}},_p=function(t,e){return"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t},Ap=function(t,e){if("string"!==typeof t)return{type:"message",data:_p(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:kp(t.substring(1),e)}:fp[n]?t.length>1?{type:fp[n],data:t.substring(1)}:{type:fp[n]}:hp},Tp=String.fromCharCode(30);function Mp(t){if(t)return function(t){for(var e in Mp.prototype)t[e]=Mp.prototype[e];return t}(t)}Mp.prototype.on=Mp.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Mp.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},Mp.prototype.off=Mp.prototype.removeListener=Mp.prototype.removeAllListeners=Mp.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},Mp.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},Mp.prototype.emitReserved=Mp.prototype.emit,Mp.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Mp.prototype.hasListeners=function(t){return!!this.listeners(t).length};var Ep="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Cp(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}var Sp=setTimeout,Op=clearTimeout;function Lp(t,e){e.useNativeTimers?(t.setTimeoutFn=Sp.bind(Ep),t.clearTimeoutFn=Op.bind(Ep)):(t.setTimeoutFn=setTimeout.bind(Ep),t.clearTimeoutFn=clearTimeout.bind(Ep))}var Pp,Dp=function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(t,r,i){var o;return(0,ht.Z)(this,n),(o=e.call(this,t)).description=r,o.context=i,o.type="TransportError",o}return(0,pt.Z)(n)}(up(Error)),Rp=function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(t){var r;return(0,ht.Z)(this,n),(r=e.call(this)).writable=!1,Lp((0,ut.Z)(r),t),r.opts=t,r.query=t.query,r.readyState="",r.socket=t.socket,r}return(0,pt.Z)(n,[{key:"onError",value:function(t,e,r){return sp((0,op.Z)(n.prototype),"emitReserved",this).call(this,"error",new Dp(t,e,r)),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){"open"===this.readyState&&this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,sp((0,op.Z)(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(t){var e=Ap(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(t){sp((0,op.Z)(n.prototype),"emitReserved",this).call(this,"packet",t)}},{key:"onClose",value:function(t){this.readyState="closed",sp((0,op.Z)(n.prototype),"emitReserved",this).call(this,"close",t)}}]),n}(Mp),Ip="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),zp={},Np=0,Bp=0;function Fp(t){var e="";do{e=Ip[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function jp(){var t=Fp(+new Date);return t!==Pp?(Np=0,Pp=t):t+"."+Fp(Np++)}for(;Bp<64;Bp++)zp[Ip[Bp]]=Bp;function $p(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Zp(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Up=!1;try{Up="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Wg){}var Hp=Up;function Vp(t){var e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||Hp))return new XMLHttpRequest}catch(n){}if(!e)try{return new(Ep[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function Wp(){}var Yp=null!=new Vp({xdomain:!1}).responseType,Gp=function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(t){var r;if((0,ht.Z)(this,n),(r=e.call(this,t)).polling=!1,"undefined"!==typeof location){var i="https:"===location.protocol,o=location.port;o||(o=i?"443":"80"),r.xd="undefined"!==typeof location&&t.hostname!==location.hostname||o!==t.port,r.xs=t.secure!==i}var a=t&&t.forceBase64;return r.supportsBinary=Yp&&!a,r}return(0,pt.Z)(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;this.readyState="pausing";var n=function(){e.readyState="paused",t()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(t){var e=this;(function(t,e){for(var n=t.split(Tp),r=[],i=0;i<n.length;i++){var o=Ap(n[i],e);if(r.push(o),"error"===o.type)break}return r})(t,this.socket.binaryType).forEach((function(t){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose({description:"transport closed by the server"}),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this,e=function(){t.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,function(t,e){var n=t.length,r=new Array(n),i=0;t.forEach((function(t,o){vp(t,!1,(function(t){r[o]=t,++i===n&&e(r.join(Tp))}))}))}(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emitReserved("drain")}))}))}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=jp()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=$p(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new qp(this.uri(),t)}},{key:"doWrite",value:function(t,e){var n=this,r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",(function(t,e){n.onError("xhr post error",t,e)}))}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(function(e,n){t.onError("xhr poll error",e,n)})),this.pollXhr=e}}]),n}(Rp),qp=function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(t,r){var i;return(0,ht.Z)(this,n),i=e.call(this),Lp((0,ut.Z)(i),r),i.opts=r,i.method=r.method||"GET",i.uri=t,i.async=!1!==r.async,i.data=void 0!==r.data?r.data:null,i.create(),i}return(0,pt.Z)(n,[{key:"create",value:function(){var t=this,e=Cp(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;var r=this.xhr=new Vp(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}catch(o){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{r.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?t.onLoad():t.setTimeoutFn((function(){t.onError("number"===typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(o){return void this.setTimeoutFn((function(){t.onError(o)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Wp,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(Mp);if(qp.requestsCount=0,qp.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Xp);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Ep?"pagehide":"unload",Xp,!1)}function Xp(){for(var t in qp.requests)qp.requests.hasOwnProperty(t)&&qp.requests[t].abort()}var Jp="function"===typeof Promise&&"function"===typeof Promise.resolve?function(t){return Promise.resolve().then(t)}:function(t,e){return e(t,0)},Kp=Ep.WebSocket||Ep.MozWebSocket,Qp="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),tg=function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(t){var r;return(0,ht.Z)(this,n),(r=e.call(this,t)).supportsBinary=!t.forceBase64,r}return(0,pt.Z)(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,n=Qp?{}:Cp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Qp?new Kp(t,e,n):e?new Kp(t,e):new Kp(t)}catch(Wg){return this.emitReserved("error",Wg)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=function(e){return t.onClose({description:"websocket connection closed",context:e})},this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var n=function(n){var r=t[n],i=n===t.length-1;vp(r,e.supportsBinary,(function(t){try{e.ws.send(t)}catch(n){}i&&Jp((function(){e.writable=!0,e.emitReserved("drain")}),e.setTimeoutFn)}))},r=0;r<t.length;r++)n(r)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=jp()),this.supportsBinary||(t.b64=1);var r=$p(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!Kp}}]),n}(Rp),eg={websocket:tg,polling:Gp},ng=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rg=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ig(t){var e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var i=ng.exec(t||""),o={},a=14;a--;)o[rg[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){var n=/\/{2,9}/g,r=e.replace(n,"/").split("/");"/"!=e.substr(0,1)&&0!==e.length||r.splice(0,1);"/"==e.substr(e.length-1,1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,o.query),o}var og=function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,ht.Z)(this,n),r=e.call(this),t&&"object"===typeof t&&(i=t,t=null),t?(t=ig(t),i.hostname=t.host,i.secure="https"===t.protocol||"wss"===t.protocol,i.port=t.port,t.query&&(i.query=t.query)):i.host&&(i.hostname=ig(i.host).host),Lp((0,ut.Z)(r),i),r.secure=null!=i.secure?i.secure:"undefined"!==typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=r.secure?"443":"80"),r.hostname=i.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=i.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=i.transports||["polling","websocket"],r.readyState="",r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),r.opts.path=r.opts.path.replace(/\/$/,"")+"/","string"===typeof r.opts.query&&(r.opts.query=Zp(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())}),!1),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return(0,pt.Z)(n,[{key:"createTransport",value:function(t){var e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);var n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new eg[t](n)}},{key:"open",value:function(){var t,e=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(t){return e.onClose("transport close",t)}))}},{key:"probe",value:function(t){var e=this,r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;var o=function(){i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(t){if(!i)if("pong"===t.type&&"probe"===t.data){if(e.upgrading=!0,e.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,e.transport.pause((function(){i||"closed"!==e.readyState&&(d(),e.setTransport(r),r.send([{type:"upgrade"}]),e.emitReserved("upgrade",r),r=null,e.upgrading=!1,e.flush())}))}else{var o=new Error("probe error");o.transport=r.name,e.emitReserved("upgradeError",o)}})))};function a(){i||(i=!0,d(),r.close(),r=null)}var s=function(t){var n=new Error("probe error: "+t);n.transport=r.name,a(),e.emitReserved("upgradeError",n)};function l(){s("transport closed")}function c(){s("socket closed")}function u(t){r&&t.name!==r.name&&a()}var d=function(){r.removeListener("open",o),r.removeListener("error",s),r.removeListener("close",l),e.off("close",c),e.off("upgrading",u)};r.once("open",o),r.once("error",s),r.once("close",l),this.once("close",c),this.once("upgrading",u),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}},{key:"onHandshake",value:function(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){t.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var t,e=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(t){for(var e=0,n=0,r=0,i=t.length;r<i;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}},{key:"write",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"send",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"sendPacket",value:function(t,e,n,r){if("function"===typeof e&&(r=e,e=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var t=this,e=function(){t.onClose("forced close"),t.transport.close()},n=function n(){t.off("upgrade",n),t.off("upgradeError",n),e()},r=function(){t.once("upgrade",n),t.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){t.upgrading?r():e()})):this.upgrading?r():e()),this}},{key:"onError",value:function(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}]),n}(Mp);og.protocol=4;og.protocol;var ag="function"===typeof ArrayBuffer,sg=Object.prototype.toString,lg="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===sg.call(Blob),cg="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===sg.call(File);function ug(t){return ag&&(t instanceof ArrayBuffer||function(t){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))||lg&&t instanceof Blob||cg&&t instanceof File}function dg(t,e){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(dg(t[n]))return!0;return!1}if(ug(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return dg(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&dg(t[i]))return!0;return!1}function fg(t){var e=[],n=t.data,r=t;return r.data=hg(n,e),r.attachments=e.length,{packet:r,buffers:e}}function hg(t,e){if(!t)return t;if(ug(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=hg(t[i],e);return r}if("object"===typeof t&&!(t instanceof Date)){var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(o[a]=hg(t[a],e));return o}return t}function pg(t,e){return t.data=gg(t.data,e),t.attachments=void 0,t}function gg(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"===typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=gg(t[n],e);else if("object"===typeof t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=gg(t[r],e));return t}var mg,vg=5;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(mg||(mg={}));var yg=function(){function t(e){(0,ht.Z)(this,t),this.replacer=e}return(0,pt.Z)(t,[{key:"encode",value:function(t){return t.type!==mg.EVENT&&t.type!==mg.ACK||!dg(t)?[this.encodeAsString(t)]:(t.type=t.type===mg.EVENT?mg.BINARY_EVENT:mg.BINARY_ACK,this.encodeAsBinary(t))}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==mg.BINARY_EVENT&&t.type!==mg.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}},{key:"encodeAsBinary",value:function(t){var e=fg(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}]),t}(),bg=function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(t){var r;return(0,ht.Z)(this,n),(r=e.call(this)).reviver=t,r}return(0,pt.Z)(n,[{key:"add",value:function(t){var e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");(e=this.decodeString(t)).type===mg.BINARY_EVENT||e.type===mg.BINARY_ACK?(this.reconstructor=new xg(e),0===e.attachments&&sp((0,op.Z)(n.prototype),"emitReserved",this).call(this,"decoded",e)):sp((0,op.Z)(n.prototype),"emitReserved",this).call(this,"decoded",e)}else{if(!ug(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,sp((0,op.Z)(n.prototype),"emitReserved",this).call(this,"decoded",e))}}},{key:"decodeString",value:function(t){var e=0,r={type:Number(t.charAt(0))};if(void 0===mg[r.type])throw new Error("unknown packet type "+r.type);if(r.type===mg.BINARY_EVENT||r.type===mg.BINARY_ACK){for(var i=e+1;"-"!==t.charAt(++e)&&e!=t.length;);var o=t.substring(i,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(e+1)){for(var a=e+1;++e;){if(","===t.charAt(e))break;if(e===t.length)break}r.nsp=t.substring(a,e)}else r.nsp="/";var s=t.charAt(e+1);if(""!==s&&Number(s)==s){for(var l=e+1;++e;){var c=t.charAt(e);if(null==c||Number(c)!=c){--e;break}if(e===t.length)break}r.id=Number(t.substring(l,e+1))}if(t.charAt(++e)){var u=this.tryParse(t.substr(e));if(!n.isPayloadValid(r.type,u))throw new Error("invalid payload");r.data=u}return r}},{key:"tryParse",value:function(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(t,e){switch(t){case mg.CONNECT:return"object"===typeof e;case mg.DISCONNECT:return void 0===e;case mg.CONNECT_ERROR:return"string"===typeof e||"object"===typeof e;case mg.EVENT:case mg.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case mg.ACK:case mg.BINARY_ACK:return Array.isArray(e)}}}]),n}(Mp),xg=function(){function t(e){(0,ht.Z)(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return(0,pt.Z)(t,[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=pg(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}();function wg(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var kg=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),_g=function(t){(0,dt.Z)(n,t);var e=(0,ft.Z)(n);function n(t,r,i){var o;return(0,ht.Z)(this,n),(o=e.call(this)).connected=!1,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=t,o.nsp=r,i&&i.auth&&(o.auth=i.auth),o.io._autoConnect&&o.open(),o}return(0,pt.Z)(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[wg(t,"open",this.onopen.bind(this)),wg(t,"packet",this.onpacket.bind(this)),wg(t,"error",this.onerror.bind(this)),wg(t,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(kg.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.unshift(t);var i={type:mg.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var o=this.ids++,a=n.pop();this._registerAckCallback(o,a),i.id=o}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,l=this.flags.volatile&&(!s||!this.connected);return l||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}},{key:"_registerAckCallback",value:function(t,e){var n=this,r=this.flags.timeout;if(void 0!==r){var i=this.io.setTimeoutFn((function(){delete n.acks[t];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===t&&n.sendBuffer.splice(r,1);e.call(n,new Error("operation has timed out"))}),r);this.acks[t]=function(){n.io.clearTimeoutFn(i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e.apply(n,[null].concat(r))}}else this.acks[t]=e}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth((function(e){t.packet({type:mg.CONNECT,data:e})})):this.packet({type:mg.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case mg.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mg.EVENT:case mg.BINARY_EVENT:this.onevent(t);break;case mg.ACK:case mg.BINARY_ACK:this.onack(t);break;case mg.DISCONNECT:this.ondisconnect();break;case mg.CONNECT_ERROR:this.destroy();var n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var e,r=this._anyListeners.slice(),i=(0,Ne.Z)(r);try{for(i.s();!(e=i.n()).done;){e.value.apply(this,t)}}catch(Wg){i.e(Wg)}finally{i.f()}}sp((0,op.Z)(n.prototype),"emit",this).apply(this,t)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e.packet({type:mg.ACK,id:t,data:i})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"===typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){t.notifyOutgoingListeners(e),t.packet(e)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:mg.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(t){return this.flags.timeout=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}},{key:"prependAnyOutgoing",value:function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}},{key:"offAnyOutgoing",value:function(t){if(!this._anyOutgoingListeners)return this;if(t){for(var e=this._anyOutgoingListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var e,n=this._anyOutgoingListeners.slice(),r=(0,Ne.Z)(n);try{for(r.s();!(e=r.n()).done;){e.value.apply(this,t.data)}}catch(Wg){r.e(Wg)}finally{r.f()}}}}]),n}(Mp);function Ag(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ag.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Ag.prototype.reset=function(){this.attempts=0},Ag.prototype.setMin=function(t){this.ms=t},Ag.prototype.setMax=function(t){this.max=t},Ag.prototype.setJitter=function(t){this.jitter=t};var Tg=function(e){(0,dt.Z)(r,e);var n=(0,ft.Z)(r);function r(e,i){var o,a;(0,ht.Z)(this,r),(o=n.call(this)).nsps={},o.subs=[],e&&"object"===typeof e&&(i=e,e=void 0),(i=i||{}).path=i.path||"/socket.io",o.opts=i,Lp((0,ut.Z)(o),i),o.reconnection(!1!==i.reconnection),o.reconnectionAttempts(i.reconnectionAttempts||1/0),o.reconnectionDelay(i.reconnectionDelay||1e3),o.reconnectionDelayMax(i.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(a=i.randomizationFactor)&&void 0!==a?a:.5),o.backoff=new Ag({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==i.timeout?2e4:i.timeout),o._readyState="closed",o.uri=e;var s=i.parser||t;return o.encoder=new s.Encoder,o.decoder=new s.Decoder,o._autoConnect=!1!==i.autoConnect,o._autoConnect&&o.open(),o}return(0,pt.Z)(r,[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=new og(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=wg(n,"open",(function(){r.onopen(),t&&t()})),o=wg(n,"error",(function(n){r.cleanup(),r._readyState="closed",e.emitReserved("error",n),t?t(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;0===a&&i();var s=this.setTimeoutFn((function(){i(),n.close(),n.emit("error",new Error("timeout"))}),a);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(i),this.subs.push(o),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(wg(t,"ping",this.onping.bind(this)),wg(t,"data",this.ondata.bind(this)),wg(t,"error",this.onerror.bind(this)),wg(t,"close",this.onclose.bind(this)),wg(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error")}}},{key:"ondecoded",value:function(t){this.emitReserved("packet",t)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new _g(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var r=n[e];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}]),r}(Mp),Mg={};function Eg(t,e){"object"===typeof t&&(e=t,t=void 0);var n,r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),r=ig(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),i=r.source,o=r.id,a=r.path,s=Mg[o]&&a in Mg[o].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||s?n=new Tg(i,e):(Mg[o]||(Mg[o]=new Tg(i,e)),n=Mg[o]),r.query&&!e.query&&(e.query=r.queryKey),n.socket(r.path,e)}Object.assign(Eg,{Manager:Tg,Socket:_g,io:Eg,connect:Eg});var Cg=Eg("http://localhost:6111"),Sg=n(184),Og=(0,rp.Z)(np());bh.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMjAzMDBmMy1jYmVhLTRjMDktYTI0ZS04YjBhNmE5ZDk3NDkiLCJpZCI6ODY1MDMsImlhdCI6MTY0Nzg0OTkzNH0.KnR-hZNOzExVg9z9I3To053eJgRWPHuPYfjcsqpPrrA";var Lg=(0,bh.createWorldTerrain)(),Pg=bh.IonResource.fromAssetId(96188),Dg=new bh.Cesium3DTileStyle({color:'color("grey")'}),Rg=(0,bh.createWorldImagery)(),Ig=(new bh.OpenStreetMapImageryProvider({url:"https://stamen-tiles.a.ssl.fastly.net/toner-background/"}),new bh.MapboxStyleImageryProvider({styleId:"dark-v10",accessToken:"pk.eyJ1Ijoib2N0YWRsYWIiLCJhIjoiY2wzY2VybWY2MDFoMTNrcGIybWlyOXQzOCJ9.FmY2p0UMr8AG1xtSS71qYQ"})),zg=new bh.CzmlDataSource,Ng=new bh.CzmlDataSource,Bg=new bh.CzmlDataSource,Fg=new bh.CzmlDataSource,jg=new bh.CzmlDataSource,$g=new bh.CzmlDataSource,Zg=new bh.HeadingPitchRange(0,-90,5e5),Ug=(new bh.WebMapServiceImageryProvider({url:"https://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi?",layers:"nexrad-n0r",credit:"Radar data courtesy Iowa Environmental Mesonet",parameters:{transparent:"true",format:"image/png"}}),function(){var t=(0,e.useRef)(null),n=(0,e.useState)(0),r=(0,at.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(1),s=(0,at.Z)(a,2),l=s[0],c=s[1],u=(0,e.useState)(),d=(0,at.Z)(u,2),f=d[0],h=d[1],p=(0,e.useState)(100),g=(0,at.Z)(p,2),m=g[0],v=g[1],y=(0,e.useState)(""),b=(0,at.Z)(y,2),x=b[0],w=b[1],k=(0,e.useState)(0),_=(0,at.Z)(k,2),A=_[0],T=_[1],M=(0,e.useState)(!1),E=(0,at.Z)(M,2),C=E[0],S=E[1],O=(0,e.useState)(),L=(0,at.Z)(O,2),P=L[0],D=L[1],R=(0,e.useState)(""),I=(0,at.Z)(R,2),z=I[0],N=I[1],B=(0,e.useState)(!1),F=(0,at.Z)(B,2),j=F[0],$=F[1],Z=(0,e.useState)(!1),U=(0,at.Z)(Z,2),H=U[0],V=U[1],W=(0,e.useState)(!1),Y=(0,at.Z)(W,2),G=Y[0],q=Y[1],X=(0,e.useState)(!1),J=(0,at.Z)(X,2),K=J[0],Q=J[1],tt=(0,e.useState)(!1),et=(0,at.Z)(tt,2),nt=et[0],rt=et[1],it=(0,e.useState)(0),ot=(0,at.Z)(it,2),st=ot[0],lt=ot[1],ct=(0,e.useState)("None"),ut=(0,at.Z)(ct,2),dt=ut[0],ft=ut[1],ht=(0,e.useState)(["None"]),pt=(0,at.Z)(ht,2),gt=pt[0],mt=pt[1],vt=(0,e.useState)([]),yt=(0,at.Z)(vt,2),bt=yt[0],xt=yt[1],wt=(0,e.useState)(),kt=(0,at.Z)(wt,2),_t=kt[0],At=kt[1],Tt=(0,e.useState)("historic"),Mt=(0,at.Z)(Tt,2),Et=Mt[0],Ct=Mt[1],St=(0,e.useState)(""),Ot=(0,at.Z)(St,2),Lt=Ot[0],Pt=Ot[1],Dt=(0,e.useState)(),Rt=(0,at.Z)(Dt,2),It=Rt[0],zt=Rt[1],Nt=(0,e.useState)(""),Bt=(0,at.Z)(Nt,2),Ft=Bt[0],jt=Bt[1],$t=(0,e.useState)(!1),Zt=(0,at.Z)($t,2),Ut=Zt[0],Ht=Zt[1],Vt=(0,e.useState)(!1),Wt=(0,at.Z)(Vt,2),Yt=Wt[0],Gt=Wt[1],qt=(0,e.useState)(!1),Xt=(0,at.Z)(qt,2),Jt=Xt[0],Kt=Xt[1],Qt=(0,e.useState)(!1),te=(0,at.Z)(Qt,2),ee=te[0],ne=te[1],re=(0,e.useState)(!1),ie=(0,at.Z)(re,2),oe=ie[0],ae=ie[1];function se(e){var n;ft("None"),Cg.emit("getReplayCZML",Et,e,(function(e){zg.load(e).then((function(e){var n;if(null!==(n=t.current)&&void 0!==n&&n.cesiumElement){v(bh.JulianDate.secondsDifference(e.clock.stopTime,e.clock.startTime)),h(e.clock.startTime);var r=t.current.cesiumElement;r.clockTrackedDataSource=e,r.zoomTo(e,Zg)}})),Ht(!1)})),n=e,Cg.emit("getGraphHeader",z,Et,n,(function(t){mt(t)}))}function le(){zg.entities.removeAll(),Ng.entities.removeAll()}function ce(e,n){var r;if((e?n:oe)&&null!==(r=t.current)&&void 0!==r&&r.cesiumElement){var i=t.current.cesiumElement,o=i.camera.getMagnitude(),a=i.camera.computeViewRectangle();o<68e5?Cg.emit("getNav",a.south/Math.PI*180,a.west/Math.PI*180,a.north/Math.PI*180,a.east/Math.PI*180,(function(t){Bg.load(t)})):Bg.entities.removeAll()}else Bg.entities.removeAll()}function ue(e,n){var r;if((e?n:G)&&null!==(r=t.current)&&void 0!==r&&r.cesiumElement){var i=t.current.cesiumElement,o=i.camera.getMagnitude(),a=i.camera.computeViewRectangle();o<1e7?Cg.emit("getEra5Wind",a.south/Math.PI*180,a.west/Math.PI*180,a.north/Math.PI*180,a.east/Math.PI*180,"replay"===z?Lt:Ft,(function(t){Fg.process(t)})):Fg.entities.removeAll()}else Fg.entities.removeAll()}function de(e,n){var r;if((e?n:K)&&null!==(r=t.current)&&void 0!==r&&r.cesiumElement){var i=t.current.cesiumElement,o=i.camera.getMagnitude(),a=i.camera.computeViewRectangle();o<4e7?Cg.emit("getEra5Rain",a.south/Math.PI*180,a.west/Math.PI*180,a.north/Math.PI*180,a.east/Math.PI*180,"replay"===z?Lt:Ft,(function(t){jg.process(t)})):jg.entities.removeAll()}else jg.entities.removeAll()}return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,e.useContext)(Nd),i=(0,e.useRef)();i.current=i.current||Math.floor(1e6*Math.random()),(0,e.useEffect)((function(){t.id=i.current,r.onIonViewDidEnter(t)}),n)}((function(){var e;if(null!==(e=t.current)&&void 0!==e&&e.cesiumElement){var n=t.current.cesiumElement;n.dataSources.add(zg),n.dataSources.add(Ng),n.dataSources.add(Bg),n.dataSources.add(Fg),n.dataSources.add(jg),n.dataSources.add($g),h(n.clock.startTime)}$(Cg.connected),Cg.on("connect",(function(){$(Cg.connected)})),Cg.on("disconnect",(function(){$(Cg.connected)})),Cg.on("simulationData",(function(e){var n;if(Ng.process(e.czml).then((function(e){var n;null!==(n=t.current)&&void 0!==n&&n.cesiumElement&&(v(bh.JulianDate.secondsDifference(e.clock.stopTime,e.clock.startTime)),h(e.clock.startTime))})),0===e.packet_id&&null!==(n=t.current)&&void 0!==n&&n.cesiumElement){var r=t.current.cesiumElement;r.clockTrackedDataSource=Ng,r.zoomTo(Ng,Zg)}Ht(!1),xt(e.graph),1===e.progress?lt(0):lt(e.progress)})),Cg.on("simulationEnvironment",(function(t){mt(t.header),jt(t.file)}))})),(0,Sg.jsxs)(Bf,{children:[(0,Sg.jsx)(Qd,{scrollY:!1,children:(0,Sg.jsxs)(tp,{ref:t,style:{height:"100%"},animation:!1,timeline:!1,selectionIndicator:!1,imageryProvider:!1,homeButton:!1,baseLayerPicker:!1,sceneModePicker:!1,fullscreenButton:!1,navigationHelpButton:!1,geocoder:!1,children:[(0,Sg.jsx)(Qh,{debugShowFramesPerSecond:!0}),(0,Sg.jsx)(qh,{baseColor:bh.Color.fromCssColorString("#000000"),terrainProvider:bh.Ion.defaultAccessToken?Lg:void 0,showGroundAtmosphere:!1}),(0,Sg.jsx)(Xh,{imageryProvider:Rg,show:H}),(0,Sg.jsx)(Xh,{imageryProvider:Ig,show:!H}),bh.Ion.defaultAccessToken&&(0,Sg.jsx)(Vh,{url:Pg,style:Dg}),(0,Sg.jsx)(Wh,{shouldAnimate:0!==i,multiplier:l*i,currentTime:P,onTick:function(t){T(bh.JulianDate.secondsDifference(t.currentTime,t.startTime)),w(bh.JulianDate.toIso8601(t.currentTime,0).replace("T","\n"))}}),(0,Sg.jsx)(Hh,{onMoveEnd:function(){ce(!1,!1),ue(!1,!1),de(!1,!1)}})]})}),(0,Sg.jsx)(kf,{isOpen:Ut,spinner:"crescent",message:"Loading..."}),(0,Sg.jsx)(Af,{isOpen:!j,message:"Connecting. Please refresh.",position:"top",color:"light"}),(0,Sg.jsxs)(tf,{children:[st>0&&(0,Sg.jsx)(af,{value:st,color:"dark"}),(0,Sg.jsx)(gf,{children:(0,Sg.jsx)(ef,{fixed:!0,style:{"--ion-grid-padding":"0px","--ion-grid-column-padding":"0px","--ion-grid-width-xl":"90%","--ion-grid-width-lg":"100%","--ion-grid-width-md":"100%","--ion-grid-width-sm":"100%","--ion-grid-width-xs":"100%"},children:(0,Sg.jsxs)(lf,{class:"ion-align-items-center ion-justify-content-center",children:[(0,Sg.jsx)(Kd,{size:"auto",children:(0,Sg.jsx)(xf,{class:"ion-no-padding",lines:"none",style:{width:"150px",height:"100%","--inner-padding-end":"0px","--background":"transparent"},href:"https://github.com/HKUST-OCTAD-LAB/AirTrafficSim",target:"_blank",children:(0,Sg.jsx)(hf,{children:"AirTrafficSim"})})}),(0,Sg.jsxs)(Kd,{size:"auto",children:[(0,Sg.jsxs)(xf,{class:"ion-nowrap ion-no-padding",lines:"none",style:{width:"200px","--inner-padding-end":"0px","--background":"transparent"},children:[(0,Sg.jsx)(Jd,{outline:"replay"!==z,color:"dark",onClick:function(){N("replay"),Cg.emit("getReplayDir",(function(t){At(t)})),Gt(!0),le()},children:(0,Sg.jsx)(rf,{children:"Replay"})}),(0,Sg.jsx)(Jd,{outline:"simulation"!==z,color:"dark",onClick:function(){N("simulation"),Cg.emit("getSimulationFile",(function(t){zt(t)})),Kt(!0),le()},children:(0,Sg.jsx)(rf,{children:"Simulation"})})]}),(0,Sg.jsxs)(Mf,{isOpen:Yt,onDidDismiss:function(){return Gt(!1)},children:[(0,Sg.jsxs)(nf,{translucent:!0,children:[(0,Sg.jsx)(gf,{children:(0,Sg.jsx)(hf,{size:"large",children:"Select replay files"})}),(0,Sg.jsx)(gf,{children:(0,Sg.jsxs)(cf,{color:"dark",value:Et,onIonChange:function(t){return Ct(t.detail.value)},children:[(0,Sg.jsx)(uf,{value:"historic",children:(0,Sg.jsx)(rf,{children:"Historic"})}),(0,Sg.jsx)(uf,{value:"simulation",children:(0,Sg.jsx)(rf,{children:"Simulation"})})]})})]}),(0,Sg.jsx)(Qd,{fullscreen:!0,children:_t&&(0,Sg.jsx)(of,{children:_t[Et].map((function(t){return(0,Sg.jsxs)(xf,{button:"historic"===Et,onClick:function(){"historic"===Et&&(Gt(!1),Ht(!0),Pt(t),se(t))},children:[(0,Sg.jsx)(qf,{icon:ip,slot:"start"}),(0,Sg.jsx)(rf,{children:t}),"simulation"===Et&&(0,Sg.jsx)(df,{color:"dark",interface:"alert",onIonChange:function(e){Gt(!1),Ht(!0),Pt(t+"/"+e.detail.value),se(t+"/"+e.detail.value)},children:_t.simulation_files[t].map((function(t){return(0,Sg.jsx)(ff,{value:t,children:t},t)}))})]},t)}))})})]}),(0,Sg.jsxs)(Mf,{isOpen:Jt,onDidDismiss:function(){return Kt(!1)},children:[(0,Sg.jsx)(nf,{translucent:!0,children:(0,Sg.jsx)(gf,{children:(0,Sg.jsx)(hf,{size:"large",children:"Select simulation environment"})})}),(0,Sg.jsx)(Qd,{fullscreen:!0,children:It&&(0,Sg.jsx)(of,{children:It.map((function(t){return(0,Sg.jsxs)(xf,{button:!0,onClick:function(){Kt(!1),function(t){ft("None"),Ht(!0),Cg.emit("runSimulation",t)}(t)},children:[(0,Sg.jsx)(qf,{icon:ip,slot:"start"}),(0,Sg.jsx)(rf,{children:t})]},t)}))})})]})]}),(0,Sg.jsxs)(Kd,{size:"auto",children:[(0,Sg.jsxs)(xf,{class:"ion-no-padding",lines:"none",style:{width:"100px","--inner-padding-end":"0px","--background":"transparent"},button:!0,onClick:function(){return ne(!0)},children:[(0,Sg.jsx)(qf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Settings</title><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>"}),(0,Sg.jsx)(rf,{class:"ion-text-center",children:"Settings"})]}),(0,Sg.jsx)(Mf,{isOpen:ee,onDidDismiss:function(){return ne(!1)},style:{"--width":"300px","--height":"300px"},children:(0,Sg.jsxs)(Qd,{children:[(0,Sg.jsx)(nf,{translucent:!0,children:(0,Sg.jsx)(gf,{children:(0,Sg.jsx)(hf,{size:"large",children:"Settings"})})}),(0,Sg.jsxs)(xf,{children:[(0,Sg.jsx)(pf,{color:"medium",checked:H,onIonChange:function(t){return V(t.detail.checked)}}),(0,Sg.jsx)(rf,{children:"Statelite imagery"})]}),(0,Sg.jsxs)(xf,{children:[(0,Sg.jsx)(pf,{color:"medium",checked:oe,onIonChange:function(t){ae(t.detail.checked),ce(!0,t.detail.checked)}}),(0,Sg.jsx)(rf,{children:"Navigation Data"})]}),(0,Sg.jsxs)(xf,{children:[(0,Sg.jsx)(pf,{color:"medium",disabled:""===z,checked:G,onIonChange:function(t){q(t.detail.checked),ue(!0,t.detail.checked)}}),(0,Sg.jsx)(rf,{children:"ERA5 Wind"})]}),(0,Sg.jsxs)(xf,{children:[(0,Sg.jsx)(pf,{color:"medium",disabled:""===z,checked:K,onIonChange:function(t){Q(t.detail.checked),de(!0,t.detail.checked)}}),(0,Sg.jsx)(rf,{children:"ERA5 Rain"})]}),(0,Sg.jsxs)(xf,{children:[(0,Sg.jsx)(pf,{color:"medium",disabled:""===z,checked:nt,onIonChange:function(e){rt(e.detail.checked),function(e,n){var r;if((e?n:nt)&&null!==(r=t.current)&&void 0!==r&&r.cesiumElement){var i=t.current.cesiumElement,o=(i.camera.getMagnitude(),i.camera.computeViewRectangle());Cg.emit("getRadarImage",o.south/Math.PI*180,o.west/Math.PI*180,o.north/Math.PI*180,o.east/Math.PI*180,"replay"===z?Lt:Ft,(function(t){console.log(t),$g.process(t)}))}else $g.entities.removeAll()}(!0,e.detail.checked)}}),(0,Sg.jsx)(rf,{children:"Radar Image"})]})]})})]}),(0,Sg.jsx)(Kd,{size:"auto",children:(0,Sg.jsxs)(xf,{lines:"none",style:{width:"150px","--background":"transparent"},children:[(0,Sg.jsx)(rf,{position:"stacked",children:"Show graph"}),(0,Sg.jsx)(df,{color:"dark",interface:"alert",placeholder:"type",value:dt,onIonChange:function(t){var e;e=t.detail.value,0===st&&Cg.emit("getGraphData",z,Et,Lt,Ft,e,(function(t){xt(t)})),ft(t.detail.value),"simulation"===z&&Cg.emit("setSimulationGraphType",t.detail.value)},children:gt.map((function(t){return(0,Sg.jsx)(ff,{value:t,children:t},t)}))})]})}),(0,Sg.jsx)(Kd,{size:"auto",children:(0,Sg.jsxs)(Xd,{style:{width:"220px"},children:[(0,Sg.jsx)(bf,{onClick:function(){return o(-1)},children:i<0?(0,Sg.jsx)(qf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Play Back</title><path d='M30.71 229.47l188.87-113a30.54 30.54 0 0131.09-.39 33.74 33.74 0 0116.76 29.47v79.05l180.72-108.16a30.54 30.54 0 0131.09-.39A33.74 33.74 0 01496 145.52v221A33.73 33.73 0 01479.24 396a30.54 30.54 0 01-31.09-.39L267.43 287.4v79.08A33.73 33.73 0 01250.67 396a30.54 30.54 0 01-31.09-.39l-188.87-113a31.27 31.27 0 010-53z'/></svg>",slot:"icon-only"}):(0,Sg.jsx)(qf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Play Back</title><path d='M480 145.52v221c0 13.28-13 21.72-23.63 15.35L267.5 268.8c-9.24-5.53-9.24-20.07 0-25.6l188.87-113C467 123.8 480 132.24 480 145.52zM251.43 145.52v221c0 13.28-13 21.72-23.63 15.35L38.93 268.8c-9.24-5.53-9.24-20.07 0-25.6l188.87-113c10.64-6.4 23.63 2.04 23.63 15.32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"icon-only"})}),(0,Sg.jsx)(bf,{onClick:function(){return o(0)},children:0===i?(0,Sg.jsx)(qf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Stop</title><path d='M392 432H120a40 40 0 01-40-40V120a40 40 0 0140-40h272a40 40 0 0140 40v272a40 40 0 01-40 40z'/></svg>",slot:"icon-only"}):(0,Sg.jsx)(qf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Stop</title><rect x='96' y='96' width='320' height='320' rx='24' ry='24' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"icon-only"})}),(0,Sg.jsx)(bf,{onClick:function(){return o(1)},children:i>0?(0,Sg.jsx)(qf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Play Forward</title><path d='M481.29 229.47l-188.87-113a30.54 30.54 0 00-31.09-.39 33.74 33.74 0 00-16.76 29.47v79.05L63.85 116.44a30.54 30.54 0 00-31.09-.39A33.74 33.74 0 0016 145.52v221A33.74 33.74 0 0032.76 396a30.54 30.54 0 0031.09-.39L244.57 287.4v79.08A33.74 33.74 0 00261.33 396a30.54 30.54 0 0031.09-.39l188.87-113a31.27 31.27 0 000-53z'/></svg>",slot:"icon-only"}):(0,Sg.jsx)(qf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Play Forward</title><path d='M32 145.52v221c0 13.28 13 21.72 23.63 15.35l188.87-113c9.24-5.53 9.24-20.07 0-25.6l-188.87-113C45 123.8 32 132.24 32 145.52zM260.57 145.52v221c0 13.28 13 21.72 23.63 15.35l188.87-113c9.24-5.53 9.24-20.07 0-25.6l-188.87-113c-10.64-6.47-23.63 1.97-23.63 15.25z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"icon-only"})}),(0,Sg.jsxs)(df,{color:"dark",interface:"popover",value:l,onIonChange:function(t){return c(t.detail.value)},children:[(0,Sg.jsx)(ff,{value:1,children:"  1X"}),(0,Sg.jsx)(ff,{value:2,children:"  2X"}),(0,Sg.jsx)(ff,{value:5,children:"  5X"}),(0,Sg.jsx)(ff,{value:10,children:" 10X"}),(0,Sg.jsx)(ff,{value:20,children:" 20X"}),(0,Sg.jsx)(ff,{value:50,children:" 50X"}),(0,Sg.jsx)(ff,{value:100,children:"100X"})]})]})}),(0,Sg.jsx)(Kd,{size:"auto",children:(0,Sg.jsx)(xf,{lines:"none",style:{width:"100px","--inner-padding-end":"0px","--background":"transparent"},children:(0,Sg.jsx)(rf,{style:{whiteSpace:"pre-line"},class:"ion-text-center",children:x})})}),(0,Sg.jsx)(Kd,{children:(0,Sg.jsx)(xf,{lines:"none",style:{"--background":"transparent"},children:(0,Sg.jsx)(sf,{min:0,max:m,value:A,color:"dark",onIonChange:function(t){if(C){var e=t.detail.value;T(e),D(bh.JulianDate.addSeconds(f,e,bh.JulianDate.clone(f)))}},onIonFocus:function(){o(0),S(!0)},onIonBlur:function(){S(!1)},children:(0,Sg.jsx)(rf,{slot:"start",children:Math.trunc(A)+"s"})})})})]})})}),"None"!==dt&&(0,Sg.jsx)(xf,{lines:"none",children:(0,Sg.jsx)("div",{style:{height:"200px",width:"100%"},children:(0,Sg.jsx)(Og,{data:bt,layout:{autosize:!0,paper_bgcolor:"transparent",plot_bgcolor:"transparent",margin:{b:35,t:5,l:30,r:30},legend:{orientation:"v",x:1,y:.5},yaxis:{showgrid:!1,showline:!0,zeroline:!1},xaxis:{showgrid:!1,showline:!0,title:{text:"time (s)"}},shapes:[{type:"line",yref:"paper",y0:0,y1:1,xref:"x",x0:Math.trunc(A),x1:Math.trunc(A),line:{color:"red",width:1}}],hovermode:"x",modebar:{bgcolor:"transparent"},dragmode:"pan"},config:{displaylogo:!1,scrollZoom:!0,showTips:!1},style:{width:"100%",height:"100%"},useResizeHandler:!0})})})]})]})});!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"undefined"!==typeof document&&document.documentElement.classList.add("ion-ce"),Nt(Object.assign({},t))}();var Hg=function(){return(0,Sg.jsx)(Rf,{children:(0,Sg.jsx)(yh,{children:(0,Sg.jsx)(Uf,{children:(0,Sg.jsx)(K,{exact:!0,path:"/",children:(0,Sg.jsx)(Ug,{})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vg=function(t){t&&t instanceof Function&&n.e(377).then(n.bind(n,9377)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),o(t),a(t)}))};r.render((0,Sg.jsx)(e.StrictMode,{children:(0,Sg.jsx)(Hg,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),Vg()}()}();
//# sourceMappingURL=main.d8b5a839.js.map